package dev.vfyjxf.taffy.generated.flex;

import dev.vfyjxf.taffy.geometry.*;
import dev.vfyjxf.taffy.style.*;
import dev.vfyjxf.taffy.tree.*;
import dev.vfyjxf.taffy.util.MeasureFunc;
import org.junit.jupiter.api.Test;
import org.junit.jupiter.api.DisplayName;
import static org.junit.jupiter.api.Assertions.*;

/**
 * Generated tests for flex layout fixtures.
 */
public class FlexTest {

    private static final float EPSILON = 0.1f;

    private static MeasureFunc ahemTextMeasure(String text, boolean vertical) {
        final String trimmed = text == null ? "" : text.trim();
        return (knownDimensions, availableSpace) -> {
            if (!Float.isNaN(knownDimensions.width) && !Float.isNaN(knownDimensions.height)) {
                return new FloatSize(knownDimensions.width, knownDimensions.height);
            }

            final char ZWS = '\u200B';
            final float H_WIDTH = 10.0f;
            final float H_HEIGHT = 10.0f;

            String[] parts = trimmed.isEmpty() ? new String[0] : trimmed.split(String.valueOf(ZWS), -1);
            if (parts.length == 0) {
                float w = !Float.isNaN(knownDimensions.width) ? knownDimensions.width : 0.0f;
                float h = !Float.isNaN(knownDimensions.height) ? knownDimensions.height : 0.0f;
                return new FloatSize(w, h);
            }

            int minLineLength = 0;
            int maxLineLength = 0;
            for (String p : parts) {
                int len = p.length();
                if (len > minLineLength) minLineLength = len;
                maxLineLength += len;
            }

            float knownInline = vertical ? knownDimensions.height : knownDimensions.width;
            float knownBlock = vertical ? knownDimensions.width : knownDimensions.height;
            AvailableSpace availInline = vertical ? availableSpace.height : availableSpace.width;

            float inlineSize;
            if (!Float.isNaN(knownInline)) {
                inlineSize = knownInline;
            } else if (availInline != null && availInline.isMinContent()) {
                inlineSize = minLineLength * H_WIDTH;
            } else if (availInline != null && availInline.isMaxContent()) {
                inlineSize = maxLineLength * H_WIDTH;
            } else if (availInline != null && availInline.isDefinite()) {
                inlineSize = Math.min(availInline.getValue(), maxLineLength * H_WIDTH);
            } else {
                inlineSize = maxLineLength * H_WIDTH;
            }
            inlineSize = Math.max(inlineSize, minLineLength * H_WIDTH);

            float blockSize;
            if (!Float.isNaN(knownBlock)) {
                blockSize = knownBlock;
            } else {
                int inlineLineLength = (int) Math.floor(inlineSize / H_WIDTH);
                int lineCount = 1;
                int currentLineLength = 0;
                for (String p : parts) {
                    int len = p.length();
                    if (currentLineLength + len > inlineLineLength) {
                        if (currentLineLength > 0) {
                            lineCount += 1;
                        }
                        currentLineLength = len;
                    } else {
                        currentLineLength += len;
                    }
                }
                blockSize = lineCount * H_HEIGHT;
            }

            FloatSize computed = vertical
                ? new FloatSize(blockSize, inlineSize)
                : new FloatSize(inlineSize, blockSize);

            float outW = !Float.isNaN(knownDimensions.width) ? knownDimensions.width : computed.width;
            float outH = !Float.isNaN(knownDimensions.height) ? knownDimensions.height : computed.height;
            return new FloatSize(outW, outH);
        };
    }

    @Test
    @DisplayName("absolute_aspect_ratio_aspect_ratio_overrides_height_of_full_inset__border_box")
    void absoluteAspectRatioAspectRatioOverridesHeightOfFullInsetBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.position = Position.ABSOLUTE;
        node0Style.aspectRatio = 3.0f;
        node0Style.inset = new Rect<>(LengthPercentageAuto.percent(0.05f), LengthPercentageAuto.percent(0.05f), LengthPercentageAuto.percent(0.05f), LengthPercentageAuto.percent(0.05f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.size = new Size<>(Dimension.length(400.0f), Dimension.length(300.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(400.0f, nodeLayout.size().width, "width of node");
        assertEquals(300.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(360.0f, node0Layout.size().width, "width of node0");
        assertEquals(120.0f, node0Layout.size().height, "height of node0");
        assertEquals(20.0f, node0Layout.location().x, "x of node0");
        assertEquals(15.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("absolute_aspect_ratio_aspect_ratio_overrides_height_of_full_inset__content_box")
    void absoluteAspectRatioAspectRatioOverridesHeightOfFullInsetContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.position = Position.ABSOLUTE;
        node0Style.aspectRatio = 3.0f;
        node0Style.inset = new Rect<>(LengthPercentageAuto.percent(0.05f), LengthPercentageAuto.percent(0.05f), LengthPercentageAuto.percent(0.05f), LengthPercentageAuto.percent(0.05f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.size = new Size<>(Dimension.length(400.0f), Dimension.length(300.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(400.0f, nodeLayout.size().width, "width of node");
        assertEquals(300.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(360.0f, node0Layout.size().width, "width of node0");
        assertEquals(120.0f, node0Layout.size().height, "height of node0");
        assertEquals(20.0f, node0Layout.location().x, "x of node0");
        assertEquals(15.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("absolute_aspect_ratio_fill_height__border_box")
    void absoluteAspectRatioFillHeightBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.position = Position.ABSOLUTE;
        node0Style.size = new Size<>(Dimension.percent(0.5f), Dimension.AUTO);
        node0Style.aspectRatio = 3.0f;
        node0Style.inset = new Rect<>(LengthPercentageAuto.percent(0.05f), LengthPercentageAuto.AUTO, LengthPercentageAuto.percent(0.05f), LengthPercentageAuto.AUTO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.size = new Size<>(Dimension.length(400.0f), Dimension.length(300.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(400.0f, nodeLayout.size().width, "width of node");
        assertEquals(300.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(200.0f, node0Layout.size().width, "width of node0");
        assertEquals(67.0f, node0Layout.size().height, "height of node0");
        assertEquals(20.0f, node0Layout.location().x, "x of node0");
        assertEquals(15.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("absolute_aspect_ratio_fill_height__content_box")
    void absoluteAspectRatioFillHeightContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.position = Position.ABSOLUTE;
        node0Style.size = new Size<>(Dimension.percent(0.5f), Dimension.AUTO);
        node0Style.aspectRatio = 3.0f;
        node0Style.inset = new Rect<>(LengthPercentageAuto.percent(0.05f), LengthPercentageAuto.AUTO, LengthPercentageAuto.percent(0.05f), LengthPercentageAuto.AUTO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.size = new Size<>(Dimension.length(400.0f), Dimension.length(300.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(400.0f, nodeLayout.size().width, "width of node");
        assertEquals(300.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(200.0f, node0Layout.size().width, "width of node0");
        assertEquals(67.0f, node0Layout.size().height, "height of node0");
        assertEquals(20.0f, node0Layout.location().x, "x of node0");
        assertEquals(15.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("absolute_aspect_ratio_fill_height_from_inset__border_box")
    void absoluteAspectRatioFillHeightFromInsetBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.position = Position.ABSOLUTE;
        node0Style.aspectRatio = 3.0f;
        node0Style.inset = new Rect<>(LengthPercentageAuto.percent(0.1f), LengthPercentageAuto.percent(0.1f), LengthPercentageAuto.percent(0.05f), LengthPercentageAuto.AUTO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.size = new Size<>(Dimension.length(400.0f), Dimension.length(300.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(400.0f, nodeLayout.size().width, "width of node");
        assertEquals(300.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(320.0f, node0Layout.size().width, "width of node0");
        assertEquals(107.0f, node0Layout.size().height, "height of node0");
        assertEquals(40.0f, node0Layout.location().x, "x of node0");
        assertEquals(15.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("absolute_aspect_ratio_fill_height_from_inset__content_box")
    void absoluteAspectRatioFillHeightFromInsetContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.position = Position.ABSOLUTE;
        node0Style.aspectRatio = 3.0f;
        node0Style.inset = new Rect<>(LengthPercentageAuto.percent(0.1f), LengthPercentageAuto.percent(0.1f), LengthPercentageAuto.percent(0.05f), LengthPercentageAuto.AUTO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.size = new Size<>(Dimension.length(400.0f), Dimension.length(300.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(400.0f, nodeLayout.size().width, "width of node");
        assertEquals(300.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(320.0f, node0Layout.size().width, "width of node0");
        assertEquals(107.0f, node0Layout.size().height, "height of node0");
        assertEquals(40.0f, node0Layout.location().x, "x of node0");
        assertEquals(15.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("absolute_aspect_ratio_fill_max_height__border_box")
    void absoluteAspectRatioFillMaxHeightBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.position = Position.ABSOLUTE;
        node0Style.maxSize = new Size<>(Dimension.length(50.0f), Dimension.AUTO);
        node0Style.aspectRatio = 3.0f;
        MeasureFunc node0Measure = ahemTextMeasure("HHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH", false);
        NodeId node0 = tree.newLeafWithMeasure(node0Style, node0Measure);

        Style nodeStyle = new Style();
        nodeStyle.size = new Size<>(Dimension.length(400.0f), Dimension.length(300.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(400.0f, nodeLayout.size().width, "width of node");
        assertEquals(300.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(50.0f, node0Layout.size().width, "width of node0");
        assertEquals(17.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("absolute_aspect_ratio_fill_max_height__content_box")
    void absoluteAspectRatioFillMaxHeightContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.position = Position.ABSOLUTE;
        node0Style.maxSize = new Size<>(Dimension.length(50.0f), Dimension.AUTO);
        node0Style.aspectRatio = 3.0f;
        MeasureFunc node0Measure = ahemTextMeasure("HHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH", false);
        NodeId node0 = tree.newLeafWithMeasure(node0Style, node0Measure);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.size = new Size<>(Dimension.length(400.0f), Dimension.length(300.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(400.0f, nodeLayout.size().width, "width of node");
        assertEquals(300.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(50.0f, node0Layout.size().width, "width of node0");
        assertEquals(17.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("absolute_aspect_ratio_fill_max_width__border_box")
    void absoluteAspectRatioFillMaxWidthBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.position = Position.ABSOLUTE;
        node0Style.maxSize = new Size<>(Dimension.AUTO, Dimension.length(50.0f));
        node0Style.aspectRatio = 0.5f;
        MeasureFunc node0Measure = ahemTextMeasure("HHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH", false);
        NodeId node0 = tree.newLeafWithMeasure(node0Style, node0Measure);

        Style nodeStyle = new Style();
        nodeStyle.size = new Size<>(Dimension.length(400.0f), Dimension.length(300.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(400.0f, nodeLayout.size().width, "width of node");
        assertEquals(300.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(25.0f, node0Layout.size().width, "width of node0");
        assertEquals(50.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("absolute_aspect_ratio_fill_max_width__content_box")
    void absoluteAspectRatioFillMaxWidthContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.position = Position.ABSOLUTE;
        node0Style.maxSize = new Size<>(Dimension.AUTO, Dimension.length(50.0f));
        node0Style.aspectRatio = 0.5f;
        MeasureFunc node0Measure = ahemTextMeasure("HHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH", false);
        NodeId node0 = tree.newLeafWithMeasure(node0Style, node0Measure);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.size = new Size<>(Dimension.length(400.0f), Dimension.length(300.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(400.0f, nodeLayout.size().width, "width of node");
        assertEquals(300.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(25.0f, node0Layout.size().width, "width of node0");
        assertEquals(50.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("absolute_aspect_ratio_fill_min_height__border_box")
    void absoluteAspectRatioFillMinHeightBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.position = Position.ABSOLUTE;
        node0Style.minSize = new Size<>(Dimension.length(50.0f), Dimension.AUTO);
        node0Style.aspectRatio = 3.0f;
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.size = new Size<>(Dimension.length(400.0f), Dimension.length(300.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(400.0f, nodeLayout.size().width, "width of node");
        assertEquals(300.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(50.0f, node0Layout.size().width, "width of node0");
        assertEquals(17.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("absolute_aspect_ratio_fill_min_height__content_box")
    void absoluteAspectRatioFillMinHeightContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.position = Position.ABSOLUTE;
        node0Style.minSize = new Size<>(Dimension.length(50.0f), Dimension.AUTO);
        node0Style.aspectRatio = 3.0f;
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.size = new Size<>(Dimension.length(400.0f), Dimension.length(300.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(400.0f, nodeLayout.size().width, "width of node");
        assertEquals(300.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(50.0f, node0Layout.size().width, "width of node0");
        assertEquals(17.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("absolute_aspect_ratio_fill_min_width__border_box")
    void absoluteAspectRatioFillMinWidthBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.position = Position.ABSOLUTE;
        node0Style.minSize = new Size<>(Dimension.AUTO, Dimension.length(50.0f));
        node0Style.aspectRatio = 0.5f;
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.size = new Size<>(Dimension.length(400.0f), Dimension.length(300.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(400.0f, nodeLayout.size().width, "width of node");
        assertEquals(300.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(25.0f, node0Layout.size().width, "width of node0");
        assertEquals(50.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("absolute_aspect_ratio_fill_min_width__content_box")
    void absoluteAspectRatioFillMinWidthContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.position = Position.ABSOLUTE;
        node0Style.minSize = new Size<>(Dimension.AUTO, Dimension.length(50.0f));
        node0Style.aspectRatio = 0.5f;
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.size = new Size<>(Dimension.length(400.0f), Dimension.length(300.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(400.0f, nodeLayout.size().width, "width of node");
        assertEquals(300.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(25.0f, node0Layout.size().width, "width of node0");
        assertEquals(50.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("absolute_aspect_ratio_fill_width__border_box")
    void absoluteAspectRatioFillWidthBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.position = Position.ABSOLUTE;
        node0Style.size = new Size<>(Dimension.AUTO, Dimension.percent(0.2f));
        node0Style.aspectRatio = 3.0f;
        node0Style.inset = new Rect<>(LengthPercentageAuto.percent(0.05f), LengthPercentageAuto.AUTO, LengthPercentageAuto.percent(0.05f), LengthPercentageAuto.AUTO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.size = new Size<>(Dimension.length(400.0f), Dimension.length(300.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(400.0f, nodeLayout.size().width, "width of node");
        assertEquals(300.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(180.0f, node0Layout.size().width, "width of node0");
        assertEquals(60.0f, node0Layout.size().height, "height of node0");
        assertEquals(20.0f, node0Layout.location().x, "x of node0");
        assertEquals(15.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("absolute_aspect_ratio_fill_width__content_box")
    void absoluteAspectRatioFillWidthContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.position = Position.ABSOLUTE;
        node0Style.size = new Size<>(Dimension.AUTO, Dimension.percent(0.2f));
        node0Style.aspectRatio = 3.0f;
        node0Style.inset = new Rect<>(LengthPercentageAuto.percent(0.05f), LengthPercentageAuto.AUTO, LengthPercentageAuto.percent(0.05f), LengthPercentageAuto.AUTO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.size = new Size<>(Dimension.length(400.0f), Dimension.length(300.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(400.0f, nodeLayout.size().width, "width of node");
        assertEquals(300.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(180.0f, node0Layout.size().width, "width of node0");
        assertEquals(60.0f, node0Layout.size().height, "height of node0");
        assertEquals(20.0f, node0Layout.location().x, "x of node0");
        assertEquals(15.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("absolute_aspect_ratio_fill_width_from_inset__border_box")
    void absoluteAspectRatioFillWidthFromInsetBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.position = Position.ABSOLUTE;
        node0Style.aspectRatio = 3.0f;
        node0Style.inset = new Rect<>(LengthPercentageAuto.AUTO, LengthPercentageAuto.AUTO, LengthPercentageAuto.percent(0.3f), LengthPercentageAuto.percent(0.5f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.size = new Size<>(Dimension.length(400.0f), Dimension.length(300.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(400.0f, nodeLayout.size().width, "width of node");
        assertEquals(300.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(180.0f, node0Layout.size().width, "width of node0");
        assertEquals(60.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(90.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("absolute_aspect_ratio_fill_width_from_inset__content_box")
    void absoluteAspectRatioFillWidthFromInsetContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.position = Position.ABSOLUTE;
        node0Style.aspectRatio = 3.0f;
        node0Style.inset = new Rect<>(LengthPercentageAuto.AUTO, LengthPercentageAuto.AUTO, LengthPercentageAuto.percent(0.3f), LengthPercentageAuto.percent(0.5f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.size = new Size<>(Dimension.length(400.0f), Dimension.length(300.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(400.0f, nodeLayout.size().width, "width of node");
        assertEquals(300.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(180.0f, node0Layout.size().width, "width of node0");
        assertEquals(60.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(90.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("absolute_aspect_ratio_height_overrides_inset__border_box")
    void absoluteAspectRatioHeightOverridesInsetBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.position = Position.ABSOLUTE;
        node0Style.size = new Size<>(Dimension.AUTO, Dimension.percent(0.1f));
        node0Style.aspectRatio = 3.0f;
        node0Style.inset = new Rect<>(LengthPercentageAuto.AUTO, LengthPercentageAuto.AUTO, LengthPercentageAuto.percent(0.3f), LengthPercentageAuto.percent(0.5f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.size = new Size<>(Dimension.length(400.0f), Dimension.length(300.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(400.0f, nodeLayout.size().width, "width of node");
        assertEquals(300.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(90.0f, node0Layout.size().width, "width of node0");
        assertEquals(30.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(90.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("absolute_aspect_ratio_height_overrides_inset__content_box")
    void absoluteAspectRatioHeightOverridesInsetContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.position = Position.ABSOLUTE;
        node0Style.size = new Size<>(Dimension.AUTO, Dimension.percent(0.1f));
        node0Style.aspectRatio = 3.0f;
        node0Style.inset = new Rect<>(LengthPercentageAuto.AUTO, LengthPercentageAuto.AUTO, LengthPercentageAuto.percent(0.3f), LengthPercentageAuto.percent(0.5f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.size = new Size<>(Dimension.length(400.0f), Dimension.length(300.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(400.0f, nodeLayout.size().width, "width of node");
        assertEquals(300.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(90.0f, node0Layout.size().width, "width of node0");
        assertEquals(30.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(90.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("absolute_aspect_ratio_width_overrides_inset__border_box")
    void absoluteAspectRatioWidthOverridesInsetBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.position = Position.ABSOLUTE;
        node0Style.size = new Size<>(Dimension.percent(0.4f), Dimension.AUTO);
        node0Style.aspectRatio = 3.0f;
        node0Style.inset = new Rect<>(LengthPercentageAuto.percent(0.1f), LengthPercentageAuto.percent(0.1f), LengthPercentageAuto.percent(0.05f), LengthPercentageAuto.AUTO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.size = new Size<>(Dimension.length(400.0f), Dimension.length(300.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(400.0f, nodeLayout.size().width, "width of node");
        assertEquals(300.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(160.0f, node0Layout.size().width, "width of node0");
        assertEquals(53.0f, node0Layout.size().height, "height of node0");
        assertEquals(40.0f, node0Layout.location().x, "x of node0");
        assertEquals(15.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("absolute_aspect_ratio_width_overrides_inset__content_box")
    void absoluteAspectRatioWidthOverridesInsetContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.position = Position.ABSOLUTE;
        node0Style.size = new Size<>(Dimension.percent(0.4f), Dimension.AUTO);
        node0Style.aspectRatio = 3.0f;
        node0Style.inset = new Rect<>(LengthPercentageAuto.percent(0.1f), LengthPercentageAuto.percent(0.1f), LengthPercentageAuto.percent(0.05f), LengthPercentageAuto.AUTO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.size = new Size<>(Dimension.length(400.0f), Dimension.length(300.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(400.0f, nodeLayout.size().width, "width of node");
        assertEquals(300.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(160.0f, node0Layout.size().width, "width of node0");
        assertEquals(53.0f, node0Layout.size().height, "height of node0");
        assertEquals(40.0f, node0Layout.location().x, "x of node0");
        assertEquals(15.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("absolute_child_with_cross_margin__border_box")
    void absoluteChildWithCrossMarginBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.alignContent = AlignContent.STRETCH;
        node0Style.size = new Size<>(Dimension.length(28.0f), Dimension.length(27.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.position = Position.ABSOLUTE;
        node1Style.alignContent = AlignContent.STRETCH;
        node1Style.flexGrow = 0.0f;
        node1Style.flexShrink = 1.0f;
        node1Style.size = new Size<>(Dimension.percent(1.0f), Dimension.length(15.0f));
        node1Style.margin = new Rect<>(LengthPercentageAuto.ZERO, LengthPercentageAuto.ZERO, LengthPercentageAuto.length(4.0f), LengthPercentageAuto.ZERO);
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.alignContent = AlignContent.STRETCH;
        node2Style.size = new Size<>(Dimension.length(25.0f), Dimension.length(27.0f));
        NodeId node2 = tree.newLeaf(node2Style);

        Style nodeStyle = new Style();
        nodeStyle.justifyContent = AlignContent.SPACE_BETWEEN;
        nodeStyle.minSize = new Size<>(Dimension.length(311.0f), Dimension.length(0.0f));
        nodeStyle.maxSize = new Size<>(Dimension.length(311.0f), Dimension.length(3.68935E19f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(311.0f, nodeLayout.size().width, "width of node");
        assertEquals(27.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(28.0f, node0Layout.size().width, "width of node0");
        assertEquals(27.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(311.0f, node1Layout.size().width, "width of node1");
        assertEquals(15.0f, node1Layout.size().height, "height of node1");
        assertEquals(0.0f, node1Layout.location().x, "x of node1");
        assertEquals(4.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(25.0f, node2Layout.size().width, "width of node2");
        assertEquals(27.0f, node2Layout.size().height, "height of node2");
        assertEquals(286.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
    }

    @Test
    @DisplayName("absolute_child_with_cross_margin__content_box")
    void absoluteChildWithCrossMarginContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.alignContent = AlignContent.STRETCH;
        node0Style.size = new Size<>(Dimension.length(28.0f), Dimension.length(27.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.position = Position.ABSOLUTE;
        node1Style.alignContent = AlignContent.STRETCH;
        node1Style.flexGrow = 0.0f;
        node1Style.flexShrink = 1.0f;
        node1Style.size = new Size<>(Dimension.percent(1.0f), Dimension.length(15.0f));
        node1Style.margin = new Rect<>(LengthPercentageAuto.ZERO, LengthPercentageAuto.ZERO, LengthPercentageAuto.length(4.0f), LengthPercentageAuto.ZERO);
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        node2Style.alignContent = AlignContent.STRETCH;
        node2Style.size = new Size<>(Dimension.length(25.0f), Dimension.length(27.0f));
        NodeId node2 = tree.newLeaf(node2Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.justifyContent = AlignContent.SPACE_BETWEEN;
        nodeStyle.minSize = new Size<>(Dimension.length(311.0f), Dimension.length(0.0f));
        nodeStyle.maxSize = new Size<>(Dimension.length(311.0f), Dimension.length(3.68935E19f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(311.0f, nodeLayout.size().width, "width of node");
        assertEquals(27.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(28.0f, node0Layout.size().width, "width of node0");
        assertEquals(27.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(311.0f, node1Layout.size().width, "width of node1");
        assertEquals(15.0f, node1Layout.size().height, "height of node1");
        assertEquals(0.0f, node1Layout.location().x, "x of node1");
        assertEquals(4.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(25.0f, node2Layout.size().width, "width of node2");
        assertEquals(27.0f, node2Layout.size().height, "height of node2");
        assertEquals(286.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
    }

    @Test
    @DisplayName("absolute_child_with_main_margin__border_box")
    void absoluteChildWithMainMarginBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.position = Position.ABSOLUTE;
        node0Style.size = new Size<>(Dimension.length(9.0f), Dimension.length(9.0f));
        node0Style.margin = new Rect<>(LengthPercentageAuto.length(7.0f), LengthPercentageAuto.ZERO, LengthPercentageAuto.ZERO, LengthPercentageAuto.ZERO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.size = new Size<>(Dimension.length(20.0f), Dimension.length(37.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(20.0f, nodeLayout.size().width, "width of node");
        assertEquals(37.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(9.0f, node0Layout.size().width, "width of node0");
        assertEquals(9.0f, node0Layout.size().height, "height of node0");
        assertEquals(7.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("absolute_child_with_main_margin__content_box")
    void absoluteChildWithMainMarginContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.position = Position.ABSOLUTE;
        node0Style.size = new Size<>(Dimension.length(9.0f), Dimension.length(9.0f));
        node0Style.margin = new Rect<>(LengthPercentageAuto.length(7.0f), LengthPercentageAuto.ZERO, LengthPercentageAuto.ZERO, LengthPercentageAuto.ZERO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.size = new Size<>(Dimension.length(20.0f), Dimension.length(37.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(20.0f, nodeLayout.size().width, "width of node");
        assertEquals(37.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(9.0f, node0Layout.size().width, "width of node0");
        assertEquals(9.0f, node0Layout.size().height, "height of node0");
        assertEquals(7.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("absolute_child_with_max_height__border_box")
    void absoluteChildWithMaxHeightBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.size = new Size<>(Dimension.length(100.0f), Dimension.length(30.0f));
        NodeId node00 = tree.newLeaf(node00Style);

        Style node0Style = new Style();
        node0Style.position = Position.ABSOLUTE;
        node0Style.flexDirection = FlexDirection.COLUMN;
        node0Style.maxSize = new Size<>(Dimension.AUTO, Dimension.length(100.0f));
        node0Style.inset = new Rect<>(LengthPercentageAuto.AUTO, LengthPercentageAuto.AUTO, LengthPercentageAuto.AUTO, LengthPercentageAuto.length(20.0f));
        NodeId node0 = tree.newWithChildren(node0Style, node00);

        Style nodeStyle = new Style();
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(200.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(200.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(100.0f, node0Layout.size().width, "width of node0");
        assertEquals(30.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(150.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(100.0f, node00Layout.size().width, "width of node00");
        assertEquals(30.0f, node00Layout.size().height, "height of node00");
        assertEquals(0.0f, node00Layout.location().x, "x of node00");
        assertEquals(0.0f, node00Layout.location().y, "y of node00");
    }

    @Test
    @DisplayName("absolute_child_with_max_height__content_box")
    void absoluteChildWithMaxHeightContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.boxSizing = BoxSizing.CONTENT_BOX;
        node00Style.size = new Size<>(Dimension.length(100.0f), Dimension.length(30.0f));
        NodeId node00 = tree.newLeaf(node00Style);

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.position = Position.ABSOLUTE;
        node0Style.flexDirection = FlexDirection.COLUMN;
        node0Style.maxSize = new Size<>(Dimension.AUTO, Dimension.length(100.0f));
        node0Style.inset = new Rect<>(LengthPercentageAuto.AUTO, LengthPercentageAuto.AUTO, LengthPercentageAuto.AUTO, LengthPercentageAuto.length(20.0f));
        NodeId node0 = tree.newWithChildren(node0Style, node00);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(200.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(200.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(100.0f, node0Layout.size().width, "width of node0");
        assertEquals(30.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(150.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(100.0f, node00Layout.size().width, "width of node00");
        assertEquals(30.0f, node00Layout.size().height, "height of node00");
        assertEquals(0.0f, node00Layout.location().x, "x of node00");
        assertEquals(0.0f, node00Layout.location().y, "y of node00");
    }

    @Test
    @DisplayName("absolute_child_with_max_height_larger_shrinkable_grandchild__border_box")
    void absoluteChildWithMaxHeightLargerShrinkableGrandchildBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.flexShrink = 1.0f;
        node00Style.flexBasis = Dimension.length(150.0f);
        node00Style.size = new Size<>(Dimension.length(100.0f), Dimension.AUTO);
        NodeId node00 = tree.newLeaf(node00Style);

        Style node0Style = new Style();
        node0Style.position = Position.ABSOLUTE;
        node0Style.flexDirection = FlexDirection.COLUMN;
        node0Style.maxSize = new Size<>(Dimension.AUTO, Dimension.length(100.0f));
        node0Style.inset = new Rect<>(LengthPercentageAuto.AUTO, LengthPercentageAuto.AUTO, LengthPercentageAuto.AUTO, LengthPercentageAuto.length(20.0f));
        NodeId node0 = tree.newWithChildren(node0Style, node00);

        Style nodeStyle = new Style();
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(200.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(200.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(100.0f, node0Layout.size().width, "width of node0");
        assertEquals(100.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(80.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(100.0f, node00Layout.size().width, "width of node00");
        assertEquals(100.0f, node00Layout.size().height, "height of node00");
        assertEquals(0.0f, node00Layout.location().x, "x of node00");
        assertEquals(0.0f, node00Layout.location().y, "y of node00");
    }

    @Test
    @DisplayName("absolute_child_with_max_height_larger_shrinkable_grandchild__content_box")
    void absoluteChildWithMaxHeightLargerShrinkableGrandchildContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.boxSizing = BoxSizing.CONTENT_BOX;
        node00Style.flexShrink = 1.0f;
        node00Style.flexBasis = Dimension.length(150.0f);
        node00Style.size = new Size<>(Dimension.length(100.0f), Dimension.AUTO);
        NodeId node00 = tree.newLeaf(node00Style);

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.position = Position.ABSOLUTE;
        node0Style.flexDirection = FlexDirection.COLUMN;
        node0Style.maxSize = new Size<>(Dimension.AUTO, Dimension.length(100.0f));
        node0Style.inset = new Rect<>(LengthPercentageAuto.AUTO, LengthPercentageAuto.AUTO, LengthPercentageAuto.AUTO, LengthPercentageAuto.length(20.0f));
        NodeId node0 = tree.newWithChildren(node0Style, node00);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(200.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(200.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(100.0f, node0Layout.size().width, "width of node0");
        assertEquals(100.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(80.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(100.0f, node00Layout.size().width, "width of node00");
        assertEquals(100.0f, node00Layout.size().height, "height of node00");
        assertEquals(0.0f, node00Layout.location().x, "x of node00");
        assertEquals(0.0f, node00Layout.location().y, "y of node00");
    }

    @Test
    @DisplayName("absolute_correct_cross_child_size_with_percentage__border_box")
    void absoluteCorrectCrossChildSizeWithPercentageBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.size = new Size<>(Dimension.length(200.0f), Dimension.length(10.0f));
        NodeId node00 = tree.newLeaf(node00Style);

        Style node01Style = new Style();
        node01Style.size = new Size<>(Dimension.percent(1.0f), Dimension.length(10.0f));
        NodeId node01 = tree.newLeaf(node01Style);

        Style node020Style = new Style();
        node020Style.size = new Size<>(Dimension.length(10.0f), Dimension.length(10.0f));
        NodeId node020 = tree.newLeaf(node020Style);

        Style node02Style = new Style();
        node02Style.size = new Size<>(Dimension.percent(1.0f), Dimension.length(10.0f));
        NodeId node02 = tree.newWithChildren(node02Style, node020);

        Style node0Style = new Style();
        node0Style.position = Position.ABSOLUTE;
        node0Style.flexDirection = FlexDirection.COLUMN;
        node0Style.inset = new Rect<>(LengthPercentageAuto.length(50.0f), LengthPercentageAuto.AUTO, LengthPercentageAuto.length(40.0f), LengthPercentageAuto.AUTO);
        NodeId node0 = tree.newWithChildren(node0Style, node00, node01, node02);

        Style nodeStyle = new Style();
        nodeStyle.size = new Size<>(Dimension.length(300.0f), Dimension.length(110.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(300.0f, nodeLayout.size().width, "width of node");
        assertEquals(110.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(200.0f, node0Layout.size().width, "width of node0");
        assertEquals(30.0f, node0Layout.size().height, "height of node0");
        assertEquals(50.0f, node0Layout.location().x, "x of node0");
        assertEquals(40.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(200.0f, node00Layout.size().width, "width of node00");
        assertEquals(10.0f, node00Layout.size().height, "height of node00");
        assertEquals(0.0f, node00Layout.location().x, "x of node00");
        assertEquals(0.0f, node00Layout.location().y, "y of node00");
        Layout node01Layout = tree.getLayout(node01);
        assertEquals(200.0f, node01Layout.size().width, "width of node01");
        assertEquals(10.0f, node01Layout.size().height, "height of node01");
        assertEquals(0.0f, node01Layout.location().x, "x of node01");
        assertEquals(10.0f, node01Layout.location().y, "y of node01");
        Layout node02Layout = tree.getLayout(node02);
        assertEquals(200.0f, node02Layout.size().width, "width of node02");
        assertEquals(10.0f, node02Layout.size().height, "height of node02");
        assertEquals(0.0f, node02Layout.location().x, "x of node02");
        assertEquals(20.0f, node02Layout.location().y, "y of node02");
        Layout node020Layout = tree.getLayout(node020);
        assertEquals(10.0f, node020Layout.size().width, "width of node020");
        assertEquals(10.0f, node020Layout.size().height, "height of node020");
        assertEquals(0.0f, node020Layout.location().x, "x of node020");
        assertEquals(0.0f, node020Layout.location().y, "y of node020");
    }

    @Test
    @DisplayName("absolute_correct_cross_child_size_with_percentage__content_box")
    void absoluteCorrectCrossChildSizeWithPercentageContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.boxSizing = BoxSizing.CONTENT_BOX;
        node00Style.size = new Size<>(Dimension.length(200.0f), Dimension.length(10.0f));
        NodeId node00 = tree.newLeaf(node00Style);

        Style node01Style = new Style();
        node01Style.boxSizing = BoxSizing.CONTENT_BOX;
        node01Style.size = new Size<>(Dimension.percent(1.0f), Dimension.length(10.0f));
        NodeId node01 = tree.newLeaf(node01Style);

        Style node020Style = new Style();
        node020Style.boxSizing = BoxSizing.CONTENT_BOX;
        node020Style.size = new Size<>(Dimension.length(10.0f), Dimension.length(10.0f));
        NodeId node020 = tree.newLeaf(node020Style);

        Style node02Style = new Style();
        node02Style.boxSizing = BoxSizing.CONTENT_BOX;
        node02Style.size = new Size<>(Dimension.percent(1.0f), Dimension.length(10.0f));
        NodeId node02 = tree.newWithChildren(node02Style, node020);

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.position = Position.ABSOLUTE;
        node0Style.flexDirection = FlexDirection.COLUMN;
        node0Style.inset = new Rect<>(LengthPercentageAuto.length(50.0f), LengthPercentageAuto.AUTO, LengthPercentageAuto.length(40.0f), LengthPercentageAuto.AUTO);
        NodeId node0 = tree.newWithChildren(node0Style, node00, node01, node02);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.size = new Size<>(Dimension.length(300.0f), Dimension.length(110.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(300.0f, nodeLayout.size().width, "width of node");
        assertEquals(110.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(200.0f, node0Layout.size().width, "width of node0");
        assertEquals(30.0f, node0Layout.size().height, "height of node0");
        assertEquals(50.0f, node0Layout.location().x, "x of node0");
        assertEquals(40.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(200.0f, node00Layout.size().width, "width of node00");
        assertEquals(10.0f, node00Layout.size().height, "height of node00");
        assertEquals(0.0f, node00Layout.location().x, "x of node00");
        assertEquals(0.0f, node00Layout.location().y, "y of node00");
        Layout node01Layout = tree.getLayout(node01);
        assertEquals(200.0f, node01Layout.size().width, "width of node01");
        assertEquals(10.0f, node01Layout.size().height, "height of node01");
        assertEquals(0.0f, node01Layout.location().x, "x of node01");
        assertEquals(10.0f, node01Layout.location().y, "y of node01");
        Layout node02Layout = tree.getLayout(node02);
        assertEquals(200.0f, node02Layout.size().width, "width of node02");
        assertEquals(10.0f, node02Layout.size().height, "height of node02");
        assertEquals(0.0f, node02Layout.location().x, "x of node02");
        assertEquals(20.0f, node02Layout.location().y, "y of node02");
        Layout node020Layout = tree.getLayout(node020);
        assertEquals(10.0f, node020Layout.size().width, "width of node020");
        assertEquals(10.0f, node020Layout.size().height, "height of node020");
        assertEquals(0.0f, node020Layout.location().x, "x of node020");
        assertEquals(0.0f, node020Layout.location().y, "y of node020");
    }

    @Test
    @DisplayName("absolute_layout_align_items_and_justify_content_center__border_box")
    void absoluteLayoutAlignItemsAndJustifyContentCenterBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.position = Position.ABSOLUTE;
        node0Style.size = new Size<>(Dimension.length(60.0f), Dimension.length(40.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.alignItems = AlignItems.CENTER;
        nodeStyle.justifyContent = AlignContent.CENTER;
        nodeStyle.size = new Size<>(Dimension.length(110.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(110.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(60.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(25.0f, node0Layout.location().x, "x of node0");
        assertEquals(30.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("absolute_layout_align_items_and_justify_content_center__content_box")
    void absoluteLayoutAlignItemsAndJustifyContentCenterContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.position = Position.ABSOLUTE;
        node0Style.size = new Size<>(Dimension.length(60.0f), Dimension.length(40.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.alignItems = AlignItems.CENTER;
        nodeStyle.justifyContent = AlignContent.CENTER;
        nodeStyle.size = new Size<>(Dimension.length(110.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(110.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(60.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(25.0f, node0Layout.location().x, "x of node0");
        assertEquals(30.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("absolute_layout_align_items_and_justify_content_center_and_bottom_position__border_box")
    void absoluteLayoutAlignItemsAndJustifyContentCenterAndBottomPositionBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.position = Position.ABSOLUTE;
        node0Style.size = new Size<>(Dimension.length(60.0f), Dimension.length(40.0f));
        node0Style.inset = new Rect<>(LengthPercentageAuto.AUTO, LengthPercentageAuto.AUTO, LengthPercentageAuto.AUTO, LengthPercentageAuto.length(10.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.alignItems = AlignItems.CENTER;
        nodeStyle.justifyContent = AlignContent.CENTER;
        nodeStyle.size = new Size<>(Dimension.length(110.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(110.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(60.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(25.0f, node0Layout.location().x, "x of node0");
        assertEquals(50.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("absolute_layout_align_items_and_justify_content_center_and_bottom_position__content_box")
    void absoluteLayoutAlignItemsAndJustifyContentCenterAndBottomPositionContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.position = Position.ABSOLUTE;
        node0Style.size = new Size<>(Dimension.length(60.0f), Dimension.length(40.0f));
        node0Style.inset = new Rect<>(LengthPercentageAuto.AUTO, LengthPercentageAuto.AUTO, LengthPercentageAuto.AUTO, LengthPercentageAuto.length(10.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.alignItems = AlignItems.CENTER;
        nodeStyle.justifyContent = AlignContent.CENTER;
        nodeStyle.size = new Size<>(Dimension.length(110.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(110.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(60.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(25.0f, node0Layout.location().x, "x of node0");
        assertEquals(50.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("absolute_layout_align_items_and_justify_content_center_and_left_position__border_box")
    void absoluteLayoutAlignItemsAndJustifyContentCenterAndLeftPositionBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.position = Position.ABSOLUTE;
        node0Style.size = new Size<>(Dimension.length(60.0f), Dimension.length(40.0f));
        node0Style.inset = new Rect<>(LengthPercentageAuto.length(5.0f), LengthPercentageAuto.AUTO, LengthPercentageAuto.AUTO, LengthPercentageAuto.AUTO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.alignItems = AlignItems.CENTER;
        nodeStyle.justifyContent = AlignContent.CENTER;
        nodeStyle.size = new Size<>(Dimension.length(110.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(110.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(60.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(5.0f, node0Layout.location().x, "x of node0");
        assertEquals(30.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("absolute_layout_align_items_and_justify_content_center_and_left_position__content_box")
    void absoluteLayoutAlignItemsAndJustifyContentCenterAndLeftPositionContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.position = Position.ABSOLUTE;
        node0Style.size = new Size<>(Dimension.length(60.0f), Dimension.length(40.0f));
        node0Style.inset = new Rect<>(LengthPercentageAuto.length(5.0f), LengthPercentageAuto.AUTO, LengthPercentageAuto.AUTO, LengthPercentageAuto.AUTO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.alignItems = AlignItems.CENTER;
        nodeStyle.justifyContent = AlignContent.CENTER;
        nodeStyle.size = new Size<>(Dimension.length(110.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(110.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(60.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(5.0f, node0Layout.location().x, "x of node0");
        assertEquals(30.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("absolute_layout_align_items_and_justify_content_center_and_right_position__border_box")
    void absoluteLayoutAlignItemsAndJustifyContentCenterAndRightPositionBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.position = Position.ABSOLUTE;
        node0Style.size = new Size<>(Dimension.length(60.0f), Dimension.length(40.0f));
        node0Style.inset = new Rect<>(LengthPercentageAuto.AUTO, LengthPercentageAuto.length(5.0f), LengthPercentageAuto.AUTO, LengthPercentageAuto.AUTO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.alignItems = AlignItems.CENTER;
        nodeStyle.justifyContent = AlignContent.CENTER;
        nodeStyle.size = new Size<>(Dimension.length(110.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(110.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(60.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(45.0f, node0Layout.location().x, "x of node0");
        assertEquals(30.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("absolute_layout_align_items_and_justify_content_center_and_right_position__content_box")
    void absoluteLayoutAlignItemsAndJustifyContentCenterAndRightPositionContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.position = Position.ABSOLUTE;
        node0Style.size = new Size<>(Dimension.length(60.0f), Dimension.length(40.0f));
        node0Style.inset = new Rect<>(LengthPercentageAuto.AUTO, LengthPercentageAuto.length(5.0f), LengthPercentageAuto.AUTO, LengthPercentageAuto.AUTO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.alignItems = AlignItems.CENTER;
        nodeStyle.justifyContent = AlignContent.CENTER;
        nodeStyle.size = new Size<>(Dimension.length(110.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(110.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(60.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(45.0f, node0Layout.location().x, "x of node0");
        assertEquals(30.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("absolute_layout_align_items_and_justify_content_center_and_top_position__border_box")
    void absoluteLayoutAlignItemsAndJustifyContentCenterAndTopPositionBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.position = Position.ABSOLUTE;
        node0Style.size = new Size<>(Dimension.length(60.0f), Dimension.length(40.0f));
        node0Style.inset = new Rect<>(LengthPercentageAuto.AUTO, LengthPercentageAuto.AUTO, LengthPercentageAuto.length(10.0f), LengthPercentageAuto.AUTO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.alignItems = AlignItems.CENTER;
        nodeStyle.justifyContent = AlignContent.CENTER;
        nodeStyle.size = new Size<>(Dimension.length(110.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(110.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(60.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(25.0f, node0Layout.location().x, "x of node0");
        assertEquals(10.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("absolute_layout_align_items_and_justify_content_center_and_top_position__content_box")
    void absoluteLayoutAlignItemsAndJustifyContentCenterAndTopPositionContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.position = Position.ABSOLUTE;
        node0Style.size = new Size<>(Dimension.length(60.0f), Dimension.length(40.0f));
        node0Style.inset = new Rect<>(LengthPercentageAuto.AUTO, LengthPercentageAuto.AUTO, LengthPercentageAuto.length(10.0f), LengthPercentageAuto.AUTO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.alignItems = AlignItems.CENTER;
        nodeStyle.justifyContent = AlignContent.CENTER;
        nodeStyle.size = new Size<>(Dimension.length(110.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(110.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(60.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(25.0f, node0Layout.location().x, "x of node0");
        assertEquals(10.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("absolute_layout_align_items_and_justify_content_flex_end__border_box")
    void absoluteLayoutAlignItemsAndJustifyContentFlexEndBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.position = Position.ABSOLUTE;
        node0Style.size = new Size<>(Dimension.length(60.0f), Dimension.length(40.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.alignItems = AlignItems.FLEX_END;
        nodeStyle.justifyContent = AlignContent.FLEX_END;
        nodeStyle.size = new Size<>(Dimension.length(110.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(110.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(60.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(50.0f, node0Layout.location().x, "x of node0");
        assertEquals(60.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("absolute_layout_align_items_and_justify_content_flex_end__content_box")
    void absoluteLayoutAlignItemsAndJustifyContentFlexEndContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.position = Position.ABSOLUTE;
        node0Style.size = new Size<>(Dimension.length(60.0f), Dimension.length(40.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.alignItems = AlignItems.FLEX_END;
        nodeStyle.justifyContent = AlignContent.FLEX_END;
        nodeStyle.size = new Size<>(Dimension.length(110.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(110.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(60.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(50.0f, node0Layout.location().x, "x of node0");
        assertEquals(60.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("absolute_layout_align_items_center__border_box")
    void absoluteLayoutAlignItemsCenterBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.position = Position.ABSOLUTE;
        node0Style.size = new Size<>(Dimension.length(60.0f), Dimension.length(40.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.alignItems = AlignItems.CENTER;
        nodeStyle.size = new Size<>(Dimension.length(110.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(110.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(60.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(30.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("absolute_layout_align_items_center__content_box")
    void absoluteLayoutAlignItemsCenterContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.position = Position.ABSOLUTE;
        node0Style.size = new Size<>(Dimension.length(60.0f), Dimension.length(40.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.alignItems = AlignItems.CENTER;
        nodeStyle.size = new Size<>(Dimension.length(110.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(110.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(60.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(30.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("absolute_layout_align_items_center_on_child_only__border_box")
    void absoluteLayoutAlignItemsCenterOnChildOnlyBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.position = Position.ABSOLUTE;
        node0Style.alignSelf = AlignItems.CENTER;
        node0Style.size = new Size<>(Dimension.length(60.0f), Dimension.length(40.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.size = new Size<>(Dimension.length(110.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(110.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(60.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(30.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("absolute_layout_align_items_center_on_child_only__content_box")
    void absoluteLayoutAlignItemsCenterOnChildOnlyContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.position = Position.ABSOLUTE;
        node0Style.alignSelf = AlignItems.CENTER;
        node0Style.size = new Size<>(Dimension.length(60.0f), Dimension.length(40.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.size = new Size<>(Dimension.length(110.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(110.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(60.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(30.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("absolute_layout_child_order__border_box")
    void absoluteLayoutChildOrderBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.length(60.0f), Dimension.length(40.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.position = Position.ABSOLUTE;
        node1Style.size = new Size<>(Dimension.length(60.0f), Dimension.length(40.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.size = new Size<>(Dimension.length(60.0f), Dimension.length(40.0f));
        NodeId node2 = tree.newLeaf(node2Style);

        Style nodeStyle = new Style();
        nodeStyle.alignItems = AlignItems.CENTER;
        nodeStyle.justifyContent = AlignContent.CENTER;
        nodeStyle.size = new Size<>(Dimension.length(110.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(110.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(55.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(30.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(60.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(25.0f, node1Layout.location().x, "x of node1");
        assertEquals(30.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(55.0f, node2Layout.size().width, "width of node2");
        assertEquals(40.0f, node2Layout.size().height, "height of node2");
        assertEquals(55.0f, node2Layout.location().x, "x of node2");
        assertEquals(30.0f, node2Layout.location().y, "y of node2");
    }

    @Test
    @DisplayName("absolute_layout_child_order__content_box")
    void absoluteLayoutChildOrderContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.length(60.0f), Dimension.length(40.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.position = Position.ABSOLUTE;
        node1Style.size = new Size<>(Dimension.length(60.0f), Dimension.length(40.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        node2Style.size = new Size<>(Dimension.length(60.0f), Dimension.length(40.0f));
        NodeId node2 = tree.newLeaf(node2Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.alignItems = AlignItems.CENTER;
        nodeStyle.justifyContent = AlignContent.CENTER;
        nodeStyle.size = new Size<>(Dimension.length(110.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(110.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(55.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(30.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(60.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(25.0f, node1Layout.location().x, "x of node1");
        assertEquals(30.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(55.0f, node2Layout.size().width, "width of node2");
        assertEquals(40.0f, node2Layout.size().height, "height of node2");
        assertEquals(55.0f, node2Layout.location().x, "x of node2");
        assertEquals(30.0f, node2Layout.location().y, "y of node2");
    }

    @Test
    @DisplayName("absolute_layout_in_wrap_reverse_column_container__border_box")
    void absoluteLayoutInWrapReverseColumnContainerBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.position = Position.ABSOLUTE;
        node0Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.flexWrap = FlexWrap.WRAP_REVERSE;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(20.0f, node0Layout.size().width, "width of node0");
        assertEquals(20.0f, node0Layout.size().height, "height of node0");
        assertEquals(80.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("absolute_layout_in_wrap_reverse_column_container__content_box")
    void absoluteLayoutInWrapReverseColumnContainerContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.position = Position.ABSOLUTE;
        node0Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.flexWrap = FlexWrap.WRAP_REVERSE;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(20.0f, node0Layout.size().width, "width of node0");
        assertEquals(20.0f, node0Layout.size().height, "height of node0");
        assertEquals(80.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("absolute_layout_in_wrap_reverse_column_container_flex_end__border_box")
    void absoluteLayoutInWrapReverseColumnContainerFlexEndBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.position = Position.ABSOLUTE;
        node0Style.alignSelf = AlignItems.FLEX_END;
        node0Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.flexWrap = FlexWrap.WRAP_REVERSE;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(20.0f, node0Layout.size().width, "width of node0");
        assertEquals(20.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("absolute_layout_in_wrap_reverse_column_container_flex_end__content_box")
    void absoluteLayoutInWrapReverseColumnContainerFlexEndContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.position = Position.ABSOLUTE;
        node0Style.alignSelf = AlignItems.FLEX_END;
        node0Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.flexWrap = FlexWrap.WRAP_REVERSE;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(20.0f, node0Layout.size().width, "width of node0");
        assertEquals(20.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("absolute_layout_in_wrap_reverse_row_container__border_box")
    void absoluteLayoutInWrapReverseRowContainerBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.position = Position.ABSOLUTE;
        node0Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.flexWrap = FlexWrap.WRAP_REVERSE;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(20.0f, node0Layout.size().width, "width of node0");
        assertEquals(20.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(80.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("absolute_layout_in_wrap_reverse_row_container__content_box")
    void absoluteLayoutInWrapReverseRowContainerContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.position = Position.ABSOLUTE;
        node0Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexWrap = FlexWrap.WRAP_REVERSE;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(20.0f, node0Layout.size().width, "width of node0");
        assertEquals(20.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(80.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("absolute_layout_in_wrap_reverse_row_container_flex_end__border_box")
    void absoluteLayoutInWrapReverseRowContainerFlexEndBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.position = Position.ABSOLUTE;
        node0Style.alignSelf = AlignItems.FLEX_END;
        node0Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.flexWrap = FlexWrap.WRAP_REVERSE;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(20.0f, node0Layout.size().width, "width of node0");
        assertEquals(20.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("absolute_layout_in_wrap_reverse_row_container_flex_end__content_box")
    void absoluteLayoutInWrapReverseRowContainerFlexEndContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.position = Position.ABSOLUTE;
        node0Style.alignSelf = AlignItems.FLEX_END;
        node0Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexWrap = FlexWrap.WRAP_REVERSE;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(20.0f, node0Layout.size().width, "width of node0");
        assertEquals(20.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("absolute_layout_justify_content_center__border_box")
    void absoluteLayoutJustifyContentCenterBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.position = Position.ABSOLUTE;
        node0Style.size = new Size<>(Dimension.length(60.0f), Dimension.length(40.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.justifyContent = AlignContent.CENTER;
        nodeStyle.size = new Size<>(Dimension.length(110.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(110.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(60.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(25.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("absolute_layout_justify_content_center__content_box")
    void absoluteLayoutJustifyContentCenterContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.position = Position.ABSOLUTE;
        node0Style.size = new Size<>(Dimension.length(60.0f), Dimension.length(40.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.justifyContent = AlignContent.CENTER;
        nodeStyle.size = new Size<>(Dimension.length(110.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(110.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(60.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(25.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("absolute_layout_no_size__border_box")
    void absoluteLayoutNoSizeBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.position = Position.ABSOLUTE;
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(0.0f, node0Layout.size().width, "width of node0");
        assertEquals(0.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("absolute_layout_no_size__content_box")
    void absoluteLayoutNoSizeContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.position = Position.ABSOLUTE;
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(0.0f, node0Layout.size().width, "width of node0");
        assertEquals(0.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("absolute_layout_percentage_bottom_based_on_parent_height__border_box")
    void absoluteLayoutPercentageBottomBasedOnParentHeightBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.position = Position.ABSOLUTE;
        node0Style.size = new Size<>(Dimension.length(10.0f), Dimension.length(10.0f));
        node0Style.inset = new Rect<>(LengthPercentageAuto.AUTO, LengthPercentageAuto.AUTO, LengthPercentageAuto.percent(0.5f), LengthPercentageAuto.AUTO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.position = Position.ABSOLUTE;
        node1Style.size = new Size<>(Dimension.length(10.0f), Dimension.length(10.0f));
        node1Style.inset = new Rect<>(LengthPercentageAuto.AUTO, LengthPercentageAuto.AUTO, LengthPercentageAuto.AUTO, LengthPercentageAuto.percent(0.5f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.position = Position.ABSOLUTE;
        node2Style.size = new Size<>(Dimension.length(10.0f), Dimension.AUTO);
        node2Style.inset = new Rect<>(LengthPercentageAuto.AUTO, LengthPercentageAuto.AUTO, LengthPercentageAuto.percent(0.1f), LengthPercentageAuto.percent(0.1f));
        NodeId node2 = tree.newLeaf(node2Style);

        Style nodeStyle = new Style();
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(200.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(200.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(10.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(100.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(10.0f, node1Layout.size().width, "width of node1");
        assertEquals(10.0f, node1Layout.size().height, "height of node1");
        assertEquals(0.0f, node1Layout.location().x, "x of node1");
        assertEquals(90.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(10.0f, node2Layout.size().width, "width of node2");
        assertEquals(160.0f, node2Layout.size().height, "height of node2");
        assertEquals(0.0f, node2Layout.location().x, "x of node2");
        assertEquals(20.0f, node2Layout.location().y, "y of node2");
    }

    @Test
    @DisplayName("absolute_layout_percentage_bottom_based_on_parent_height__content_box")
    void absoluteLayoutPercentageBottomBasedOnParentHeightContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.position = Position.ABSOLUTE;
        node0Style.size = new Size<>(Dimension.length(10.0f), Dimension.length(10.0f));
        node0Style.inset = new Rect<>(LengthPercentageAuto.AUTO, LengthPercentageAuto.AUTO, LengthPercentageAuto.percent(0.5f), LengthPercentageAuto.AUTO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.position = Position.ABSOLUTE;
        node1Style.size = new Size<>(Dimension.length(10.0f), Dimension.length(10.0f));
        node1Style.inset = new Rect<>(LengthPercentageAuto.AUTO, LengthPercentageAuto.AUTO, LengthPercentageAuto.AUTO, LengthPercentageAuto.percent(0.5f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        node2Style.position = Position.ABSOLUTE;
        node2Style.size = new Size<>(Dimension.length(10.0f), Dimension.AUTO);
        node2Style.inset = new Rect<>(LengthPercentageAuto.AUTO, LengthPercentageAuto.AUTO, LengthPercentageAuto.percent(0.1f), LengthPercentageAuto.percent(0.1f));
        NodeId node2 = tree.newLeaf(node2Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(200.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(200.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(10.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(100.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(10.0f, node1Layout.size().width, "width of node1");
        assertEquals(10.0f, node1Layout.size().height, "height of node1");
        assertEquals(0.0f, node1Layout.location().x, "x of node1");
        assertEquals(90.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(10.0f, node2Layout.size().width, "width of node2");
        assertEquals(160.0f, node2Layout.size().height, "height of node2");
        assertEquals(0.0f, node2Layout.location().x, "x of node2");
        assertEquals(20.0f, node2Layout.location().y, "y of node2");
    }

    @Test
    @DisplayName("absolute_layout_percentage_height__border_box")
    void absoluteLayoutPercentageHeightBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.position = Position.ABSOLUTE;
        node0Style.size = new Size<>(Dimension.length(10.0f), Dimension.percent(0.5f));
        node0Style.inset = new Rect<>(LengthPercentageAuto.length(10.0f), LengthPercentageAuto.AUTO, LengthPercentageAuto.length(10.0f), LengthPercentageAuto.AUTO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.size = new Size<>(Dimension.length(200.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(200.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(10.0f, node0Layout.size().width, "width of node0");
        assertEquals(50.0f, node0Layout.size().height, "height of node0");
        assertEquals(10.0f, node0Layout.location().x, "x of node0");
        assertEquals(10.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("absolute_layout_percentage_height__content_box")
    void absoluteLayoutPercentageHeightContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.position = Position.ABSOLUTE;
        node0Style.size = new Size<>(Dimension.length(10.0f), Dimension.percent(0.5f));
        node0Style.inset = new Rect<>(LengthPercentageAuto.length(10.0f), LengthPercentageAuto.AUTO, LengthPercentageAuto.length(10.0f), LengthPercentageAuto.AUTO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.size = new Size<>(Dimension.length(200.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(200.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(10.0f, node0Layout.size().width, "width of node0");
        assertEquals(50.0f, node0Layout.size().height, "height of node0");
        assertEquals(10.0f, node0Layout.location().x, "x of node0");
        assertEquals(10.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("absolute_layout_row_width_height_end_bottom__border_box")
    void absoluteLayoutRowWidthHeightEndBottomBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.position = Position.ABSOLUTE;
        node0Style.size = new Size<>(Dimension.length(10.0f), Dimension.length(10.0f));
        node0Style.inset = new Rect<>(LengthPercentageAuto.AUTO, LengthPercentageAuto.length(10.0f), LengthPercentageAuto.AUTO, LengthPercentageAuto.length(10.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(10.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(80.0f, node0Layout.location().x, "x of node0");
        assertEquals(80.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("absolute_layout_row_width_height_end_bottom__content_box")
    void absoluteLayoutRowWidthHeightEndBottomContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.position = Position.ABSOLUTE;
        node0Style.size = new Size<>(Dimension.length(10.0f), Dimension.length(10.0f));
        node0Style.inset = new Rect<>(LengthPercentageAuto.AUTO, LengthPercentageAuto.length(10.0f), LengthPercentageAuto.AUTO, LengthPercentageAuto.length(10.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(10.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(80.0f, node0Layout.location().x, "x of node0");
        assertEquals(80.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("absolute_layout_start_top_end_bottom__border_box")
    void absoluteLayoutStartTopEndBottomBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.position = Position.ABSOLUTE;
        node0Style.inset = new Rect<>(LengthPercentageAuto.length(10.0f), LengthPercentageAuto.length(10.0f), LengthPercentageAuto.length(10.0f), LengthPercentageAuto.length(10.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(80.0f, node0Layout.size().width, "width of node0");
        assertEquals(80.0f, node0Layout.size().height, "height of node0");
        assertEquals(10.0f, node0Layout.location().x, "x of node0");
        assertEquals(10.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("absolute_layout_start_top_end_bottom__content_box")
    void absoluteLayoutStartTopEndBottomContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.position = Position.ABSOLUTE;
        node0Style.inset = new Rect<>(LengthPercentageAuto.length(10.0f), LengthPercentageAuto.length(10.0f), LengthPercentageAuto.length(10.0f), LengthPercentageAuto.length(10.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(80.0f, node0Layout.size().width, "width of node0");
        assertEquals(80.0f, node0Layout.size().height, "height of node0");
        assertEquals(10.0f, node0Layout.location().x, "x of node0");
        assertEquals(10.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("absolute_layout_width_height_end_bottom__border_box")
    void absoluteLayoutWidthHeightEndBottomBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.position = Position.ABSOLUTE;
        node0Style.size = new Size<>(Dimension.length(10.0f), Dimension.length(10.0f));
        node0Style.inset = new Rect<>(LengthPercentageAuto.AUTO, LengthPercentageAuto.length(10.0f), LengthPercentageAuto.AUTO, LengthPercentageAuto.length(10.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(10.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(80.0f, node0Layout.location().x, "x of node0");
        assertEquals(80.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("absolute_layout_width_height_end_bottom__content_box")
    void absoluteLayoutWidthHeightEndBottomContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.position = Position.ABSOLUTE;
        node0Style.size = new Size<>(Dimension.length(10.0f), Dimension.length(10.0f));
        node0Style.inset = new Rect<>(LengthPercentageAuto.AUTO, LengthPercentageAuto.length(10.0f), LengthPercentageAuto.AUTO, LengthPercentageAuto.length(10.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(10.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(80.0f, node0Layout.location().x, "x of node0");
        assertEquals(80.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("absolute_layout_width_height_start_top__border_box")
    void absoluteLayoutWidthHeightStartTopBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.position = Position.ABSOLUTE;
        node0Style.size = new Size<>(Dimension.length(10.0f), Dimension.length(10.0f));
        node0Style.inset = new Rect<>(LengthPercentageAuto.length(10.0f), LengthPercentageAuto.AUTO, LengthPercentageAuto.length(10.0f), LengthPercentageAuto.AUTO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(10.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(10.0f, node0Layout.location().x, "x of node0");
        assertEquals(10.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("absolute_layout_width_height_start_top__content_box")
    void absoluteLayoutWidthHeightStartTopContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.position = Position.ABSOLUTE;
        node0Style.size = new Size<>(Dimension.length(10.0f), Dimension.length(10.0f));
        node0Style.inset = new Rect<>(LengthPercentageAuto.length(10.0f), LengthPercentageAuto.AUTO, LengthPercentageAuto.length(10.0f), LengthPercentageAuto.AUTO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(10.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(10.0f, node0Layout.location().x, "x of node0");
        assertEquals(10.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("absolute_layout_width_height_start_top_end_bottom__border_box")
    void absoluteLayoutWidthHeightStartTopEndBottomBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.position = Position.ABSOLUTE;
        node0Style.size = new Size<>(Dimension.length(10.0f), Dimension.length(10.0f));
        node0Style.inset = new Rect<>(LengthPercentageAuto.length(10.0f), LengthPercentageAuto.length(10.0f), LengthPercentageAuto.length(10.0f), LengthPercentageAuto.length(10.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(10.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(10.0f, node0Layout.location().x, "x of node0");
        assertEquals(10.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("absolute_layout_width_height_start_top_end_bottom__content_box")
    void absoluteLayoutWidthHeightStartTopEndBottomContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.position = Position.ABSOLUTE;
        node0Style.size = new Size<>(Dimension.length(10.0f), Dimension.length(10.0f));
        node0Style.inset = new Rect<>(LengthPercentageAuto.length(10.0f), LengthPercentageAuto.length(10.0f), LengthPercentageAuto.length(10.0f), LengthPercentageAuto.length(10.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(10.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(10.0f, node0Layout.location().x, "x of node0");
        assertEquals(10.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("absolute_layout_within_border__border_box")
    void absoluteLayoutWithinBorderBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.position = Position.ABSOLUTE;
        node0Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        node0Style.inset = new Rect<>(LengthPercentageAuto.length(0.0f), LengthPercentageAuto.AUTO, LengthPercentageAuto.length(0.0f), LengthPercentageAuto.AUTO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.position = Position.ABSOLUTE;
        node1Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        node1Style.inset = new Rect<>(LengthPercentageAuto.AUTO, LengthPercentageAuto.length(0.0f), LengthPercentageAuto.AUTO, LengthPercentageAuto.length(0.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.position = Position.ABSOLUTE;
        node2Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        node2Style.margin = new Rect<>(LengthPercentageAuto.length(10.0f), LengthPercentageAuto.length(10.0f), LengthPercentageAuto.length(10.0f), LengthPercentageAuto.length(10.0f));
        node2Style.inset = new Rect<>(LengthPercentageAuto.length(0.0f), LengthPercentageAuto.AUTO, LengthPercentageAuto.length(0.0f), LengthPercentageAuto.AUTO);
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        node3Style.position = Position.ABSOLUTE;
        node3Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        node3Style.margin = new Rect<>(LengthPercentageAuto.length(10.0f), LengthPercentageAuto.length(10.0f), LengthPercentageAuto.length(10.0f), LengthPercentageAuto.length(10.0f));
        node3Style.inset = new Rect<>(LengthPercentageAuto.AUTO, LengthPercentageAuto.length(0.0f), LengthPercentageAuto.AUTO, LengthPercentageAuto.length(0.0f));
        NodeId node3 = tree.newLeaf(node3Style);

        Style nodeStyle = new Style();
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        nodeStyle.padding = new Rect<>(LengthPercentage.length(10.0f), LengthPercentage.length(10.0f), LengthPercentage.length(10.0f), LengthPercentage.length(10.0f));
        nodeStyle.border = new Rect<>(LengthPercentage.length(10.0f), LengthPercentage.length(10.0f), LengthPercentage.length(10.0f), LengthPercentage.length(10.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(50.0f, node0Layout.size().width, "width of node0");
        assertEquals(50.0f, node0Layout.size().height, "height of node0");
        assertEquals(10.0f, node0Layout.location().x, "x of node0");
        assertEquals(10.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(50.0f, node1Layout.size().width, "width of node1");
        assertEquals(50.0f, node1Layout.size().height, "height of node1");
        assertEquals(40.0f, node1Layout.location().x, "x of node1");
        assertEquals(40.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(50.0f, node2Layout.size().width, "width of node2");
        assertEquals(50.0f, node2Layout.size().height, "height of node2");
        assertEquals(20.0f, node2Layout.location().x, "x of node2");
        assertEquals(20.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(50.0f, node3Layout.size().width, "width of node3");
        assertEquals(50.0f, node3Layout.size().height, "height of node3");
        assertEquals(30.0f, node3Layout.location().x, "x of node3");
        assertEquals(30.0f, node3Layout.location().y, "y of node3");
    }

    @Test
    @DisplayName("absolute_layout_within_border__content_box")
    void absoluteLayoutWithinBorderContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.position = Position.ABSOLUTE;
        node0Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        node0Style.inset = new Rect<>(LengthPercentageAuto.length(0.0f), LengthPercentageAuto.AUTO, LengthPercentageAuto.length(0.0f), LengthPercentageAuto.AUTO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.position = Position.ABSOLUTE;
        node1Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        node1Style.inset = new Rect<>(LengthPercentageAuto.AUTO, LengthPercentageAuto.length(0.0f), LengthPercentageAuto.AUTO, LengthPercentageAuto.length(0.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        node2Style.position = Position.ABSOLUTE;
        node2Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        node2Style.margin = new Rect<>(LengthPercentageAuto.length(10.0f), LengthPercentageAuto.length(10.0f), LengthPercentageAuto.length(10.0f), LengthPercentageAuto.length(10.0f));
        node2Style.inset = new Rect<>(LengthPercentageAuto.length(0.0f), LengthPercentageAuto.AUTO, LengthPercentageAuto.length(0.0f), LengthPercentageAuto.AUTO);
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        node3Style.boxSizing = BoxSizing.CONTENT_BOX;
        node3Style.position = Position.ABSOLUTE;
        node3Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        node3Style.margin = new Rect<>(LengthPercentageAuto.length(10.0f), LengthPercentageAuto.length(10.0f), LengthPercentageAuto.length(10.0f), LengthPercentageAuto.length(10.0f));
        node3Style.inset = new Rect<>(LengthPercentageAuto.AUTO, LengthPercentageAuto.length(0.0f), LengthPercentageAuto.AUTO, LengthPercentageAuto.length(0.0f));
        NodeId node3 = tree.newLeaf(node3Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        nodeStyle.padding = new Rect<>(LengthPercentage.length(10.0f), LengthPercentage.length(10.0f), LengthPercentage.length(10.0f), LengthPercentage.length(10.0f));
        nodeStyle.border = new Rect<>(LengthPercentage.length(10.0f), LengthPercentage.length(10.0f), LengthPercentage.length(10.0f), LengthPercentage.length(10.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(140.0f, nodeLayout.size().width, "width of node");
        assertEquals(140.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(50.0f, node0Layout.size().width, "width of node0");
        assertEquals(50.0f, node0Layout.size().height, "height of node0");
        assertEquals(10.0f, node0Layout.location().x, "x of node0");
        assertEquals(10.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(50.0f, node1Layout.size().width, "width of node1");
        assertEquals(50.0f, node1Layout.size().height, "height of node1");
        assertEquals(80.0f, node1Layout.location().x, "x of node1");
        assertEquals(80.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(50.0f, node2Layout.size().width, "width of node2");
        assertEquals(50.0f, node2Layout.size().height, "height of node2");
        assertEquals(20.0f, node2Layout.location().x, "x of node2");
        assertEquals(20.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(50.0f, node3Layout.size().width, "width of node3");
        assertEquals(50.0f, node3Layout.size().height, "height of node3");
        assertEquals(70.0f, node3Layout.location().x, "x of node3");
        assertEquals(70.0f, node3Layout.location().y, "y of node3");
    }

    @Test
    @DisplayName("absolute_margin_bottom_left__border_box")
    void absoluteMarginBottomLeftBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.position = Position.ABSOLUTE;
        node0Style.size = new Size<>(Dimension.length(10.0f), Dimension.length(10.0f));
        node0Style.margin = new Rect<>(LengthPercentageAuto.length(10.0f), LengthPercentageAuto.ZERO, LengthPercentageAuto.ZERO, LengthPercentageAuto.length(10.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.justifyContent = AlignContent.FLEX_END;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(10.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(10.0f, node0Layout.location().x, "x of node0");
        assertEquals(80.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("absolute_margin_bottom_left__content_box")
    void absoluteMarginBottomLeftContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.position = Position.ABSOLUTE;
        node0Style.size = new Size<>(Dimension.length(10.0f), Dimension.length(10.0f));
        node0Style.margin = new Rect<>(LengthPercentageAuto.length(10.0f), LengthPercentageAuto.ZERO, LengthPercentageAuto.ZERO, LengthPercentageAuto.length(10.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.justifyContent = AlignContent.FLEX_END;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(10.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(10.0f, node0Layout.location().x, "x of node0");
        assertEquals(80.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("absolute_minmax_bottom_right_max__border_box")
    void absoluteMinmaxBottomRightMaxBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.position = Position.ABSOLUTE;
        node0Style.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        node0Style.maxSize = new Size<>(Dimension.length(40.0f), Dimension.length(30.0f));
        node0Style.inset = new Rect<>(LengthPercentageAuto.AUTO, LengthPercentageAuto.length(10.0f), LengthPercentageAuto.AUTO, LengthPercentageAuto.length(10.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(30.0f, node0Layout.size().height, "height of node0");
        assertEquals(50.0f, node0Layout.location().x, "x of node0");
        assertEquals(60.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("absolute_minmax_bottom_right_max__content_box")
    void absoluteMinmaxBottomRightMaxContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.position = Position.ABSOLUTE;
        node0Style.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        node0Style.maxSize = new Size<>(Dimension.length(40.0f), Dimension.length(30.0f));
        node0Style.inset = new Rect<>(LengthPercentageAuto.AUTO, LengthPercentageAuto.length(10.0f), LengthPercentageAuto.AUTO, LengthPercentageAuto.length(10.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(30.0f, node0Layout.size().height, "height of node0");
        assertEquals(50.0f, node0Layout.location().x, "x of node0");
        assertEquals(60.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("absolute_minmax_bottom_right_min_max__border_box")
    void absoluteMinmaxBottomRightMinMaxBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.position = Position.ABSOLUTE;
        node0Style.minSize = new Size<>(Dimension.length(50.0f), Dimension.length(60.0f));
        node0Style.maxSize = new Size<>(Dimension.length(40.0f), Dimension.length(30.0f));
        node0Style.inset = new Rect<>(LengthPercentageAuto.AUTO, LengthPercentageAuto.length(10.0f), LengthPercentageAuto.AUTO, LengthPercentageAuto.length(10.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(50.0f, node0Layout.size().width, "width of node0");
        assertEquals(60.0f, node0Layout.size().height, "height of node0");
        assertEquals(40.0f, node0Layout.location().x, "x of node0");
        assertEquals(30.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("absolute_minmax_bottom_right_min_max__content_box")
    void absoluteMinmaxBottomRightMinMaxContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.position = Position.ABSOLUTE;
        node0Style.minSize = new Size<>(Dimension.length(50.0f), Dimension.length(60.0f));
        node0Style.maxSize = new Size<>(Dimension.length(40.0f), Dimension.length(30.0f));
        node0Style.inset = new Rect<>(LengthPercentageAuto.AUTO, LengthPercentageAuto.length(10.0f), LengthPercentageAuto.AUTO, LengthPercentageAuto.length(10.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(50.0f, node0Layout.size().width, "width of node0");
        assertEquals(60.0f, node0Layout.size().height, "height of node0");
        assertEquals(40.0f, node0Layout.location().x, "x of node0");
        assertEquals(30.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("absolute_minmax_bottom_right_min_max_preferred__border_box")
    void absoluteMinmaxBottomRightMinMaxPreferredBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.position = Position.ABSOLUTE;
        node0Style.size = new Size<>(Dimension.length(200.0f), Dimension.length(200.0f));
        node0Style.minSize = new Size<>(Dimension.length(50.0f), Dimension.length(60.0f));
        node0Style.maxSize = new Size<>(Dimension.length(40.0f), Dimension.length(30.0f));
        node0Style.inset = new Rect<>(LengthPercentageAuto.AUTO, LengthPercentageAuto.length(10.0f), LengthPercentageAuto.AUTO, LengthPercentageAuto.length(10.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(50.0f, node0Layout.size().width, "width of node0");
        assertEquals(60.0f, node0Layout.size().height, "height of node0");
        assertEquals(40.0f, node0Layout.location().x, "x of node0");
        assertEquals(30.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("absolute_minmax_bottom_right_min_max_preferred__content_box")
    void absoluteMinmaxBottomRightMinMaxPreferredContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.position = Position.ABSOLUTE;
        node0Style.size = new Size<>(Dimension.length(200.0f), Dimension.length(200.0f));
        node0Style.minSize = new Size<>(Dimension.length(50.0f), Dimension.length(60.0f));
        node0Style.maxSize = new Size<>(Dimension.length(40.0f), Dimension.length(30.0f));
        node0Style.inset = new Rect<>(LengthPercentageAuto.AUTO, LengthPercentageAuto.length(10.0f), LengthPercentageAuto.AUTO, LengthPercentageAuto.length(10.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(50.0f, node0Layout.size().width, "width of node0");
        assertEquals(60.0f, node0Layout.size().height, "height of node0");
        assertEquals(40.0f, node0Layout.location().x, "x of node0");
        assertEquals(30.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("absolute_minmax_top_left_bottom_right_max__border_box")
    void absoluteMinmaxTopLeftBottomRightMaxBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.position = Position.ABSOLUTE;
        node0Style.maxSize = new Size<>(Dimension.length(40.0f), Dimension.length(30.0f));
        node0Style.inset = new Rect<>(LengthPercentageAuto.length(10.0f), LengthPercentageAuto.length(10.0f), LengthPercentageAuto.length(10.0f), LengthPercentageAuto.length(10.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(30.0f, node0Layout.size().height, "height of node0");
        assertEquals(10.0f, node0Layout.location().x, "x of node0");
        assertEquals(10.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("absolute_minmax_top_left_bottom_right_max__content_box")
    void absoluteMinmaxTopLeftBottomRightMaxContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.position = Position.ABSOLUTE;
        node0Style.maxSize = new Size<>(Dimension.length(40.0f), Dimension.length(30.0f));
        node0Style.inset = new Rect<>(LengthPercentageAuto.length(10.0f), LengthPercentageAuto.length(10.0f), LengthPercentageAuto.length(10.0f), LengthPercentageAuto.length(10.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(30.0f, node0Layout.size().height, "height of node0");
        assertEquals(10.0f, node0Layout.location().x, "x of node0");
        assertEquals(10.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("absolute_minmax_top_left_bottom_right_min_max__border_box")
    void absoluteMinmaxTopLeftBottomRightMinMaxBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.position = Position.ABSOLUTE;
        node0Style.minSize = new Size<>(Dimension.length(50.0f), Dimension.length(60.0f));
        node0Style.maxSize = new Size<>(Dimension.length(40.0f), Dimension.length(30.0f));
        node0Style.inset = new Rect<>(LengthPercentageAuto.length(10.0f), LengthPercentageAuto.length(10.0f), LengthPercentageAuto.length(10.0f), LengthPercentageAuto.length(10.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(50.0f, node0Layout.size().width, "width of node0");
        assertEquals(60.0f, node0Layout.size().height, "height of node0");
        assertEquals(10.0f, node0Layout.location().x, "x of node0");
        assertEquals(10.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("absolute_minmax_top_left_bottom_right_min_max__content_box")
    void absoluteMinmaxTopLeftBottomRightMinMaxContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.position = Position.ABSOLUTE;
        node0Style.minSize = new Size<>(Dimension.length(50.0f), Dimension.length(60.0f));
        node0Style.maxSize = new Size<>(Dimension.length(40.0f), Dimension.length(30.0f));
        node0Style.inset = new Rect<>(LengthPercentageAuto.length(10.0f), LengthPercentageAuto.length(10.0f), LengthPercentageAuto.length(10.0f), LengthPercentageAuto.length(10.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(50.0f, node0Layout.size().width, "width of node0");
        assertEquals(60.0f, node0Layout.size().height, "height of node0");
        assertEquals(10.0f, node0Layout.location().x, "x of node0");
        assertEquals(10.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("absolute_padding_border_overrides_max_size__border_box")
    void absolutePaddingBorderOverridesMaxSizeBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.position = Position.ABSOLUTE;
        node0Style.maxSize = new Size<>(Dimension.length(12.0f), Dimension.length(12.0f));
        node0Style.padding = new Rect<>(LengthPercentage.length(8.0f), LengthPercentage.length(4.0f), LengthPercentage.length(2.0f), LengthPercentage.length(6.0f));
        node0Style.border = new Rect<>(LengthPercentage.length(7.0f), LengthPercentage.length(3.0f), LengthPercentage.length(1.0f), LengthPercentage.length(5.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(0.0f, nodeLayout.size().width, "width of node");
        assertEquals(0.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(22.0f, node0Layout.size().width, "width of node0");
        assertEquals(14.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("absolute_padding_border_overrides_max_size__content_box")
    void absolutePaddingBorderOverridesMaxSizeContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.position = Position.ABSOLUTE;
        node0Style.maxSize = new Size<>(Dimension.length(12.0f), Dimension.length(12.0f));
        node0Style.padding = new Rect<>(LengthPercentage.length(8.0f), LengthPercentage.length(4.0f), LengthPercentage.length(2.0f), LengthPercentage.length(6.0f));
        node0Style.border = new Rect<>(LengthPercentage.length(7.0f), LengthPercentage.length(3.0f), LengthPercentage.length(1.0f), LengthPercentage.length(5.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(0.0f, nodeLayout.size().width, "width of node");
        assertEquals(0.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(22.0f, node0Layout.size().width, "width of node0");
        assertEquals(14.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("absolute_padding_border_overrides_size__border_box")
    void absolutePaddingBorderOverridesSizeBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.position = Position.ABSOLUTE;
        node0Style.size = new Size<>(Dimension.length(12.0f), Dimension.length(12.0f));
        node0Style.padding = new Rect<>(LengthPercentage.length(8.0f), LengthPercentage.length(4.0f), LengthPercentage.length(2.0f), LengthPercentage.length(6.0f));
        node0Style.border = new Rect<>(LengthPercentage.length(7.0f), LengthPercentage.length(3.0f), LengthPercentage.length(1.0f), LengthPercentage.length(5.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(0.0f, nodeLayout.size().width, "width of node");
        assertEquals(0.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(22.0f, node0Layout.size().width, "width of node0");
        assertEquals(14.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("absolute_padding_border_overrides_size__content_box")
    void absolutePaddingBorderOverridesSizeContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.position = Position.ABSOLUTE;
        node0Style.size = new Size<>(Dimension.length(12.0f), Dimension.length(12.0f));
        node0Style.padding = new Rect<>(LengthPercentage.length(8.0f), LengthPercentage.length(4.0f), LengthPercentage.length(2.0f), LengthPercentage.length(6.0f));
        node0Style.border = new Rect<>(LengthPercentage.length(7.0f), LengthPercentage.length(3.0f), LengthPercentage.length(1.0f), LengthPercentage.length(5.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(0.0f, nodeLayout.size().width, "width of node");
        assertEquals(0.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(34.0f, node0Layout.size().width, "width of node0");
        assertEquals(26.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("absolute_resolved_insets__border_box")
    void absoluteResolvedInsetsBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.position = Position.ABSOLUTE;
        node00Style.inset = new Rect<>(LengthPercentageAuto.AUTO, LengthPercentageAuto.AUTO, LengthPercentageAuto.AUTO, LengthPercentageAuto.AUTO);
        NodeId node00 = tree.newLeaf(node00Style);

        Style node01Style = new Style();
        node01Style.position = Position.ABSOLUTE;
        node01Style.inset = new Rect<>(LengthPercentageAuto.length(0.0f), LengthPercentageAuto.AUTO, LengthPercentageAuto.length(0.0f), LengthPercentageAuto.AUTO);
        NodeId node01 = tree.newLeaf(node01Style);

        Style node02Style = new Style();
        node02Style.position = Position.ABSOLUTE;
        node02Style.inset = new Rect<>(LengthPercentageAuto.percent(1.0f), LengthPercentageAuto.AUTO, LengthPercentageAuto.percent(1.0f), LengthPercentageAuto.AUTO);
        NodeId node02 = tree.newLeaf(node02Style);

        Style node03Style = new Style();
        node03Style.position = Position.ABSOLUTE;
        node03Style.inset = new Rect<>(LengthPercentageAuto.AUTO, LengthPercentageAuto.percent(1.0f), LengthPercentageAuto.AUTO, LengthPercentageAuto.percent(1.0f));
        NodeId node03 = tree.newLeaf(node03Style);

        Style node04Style = new Style();
        node04Style.position = Position.ABSOLUTE;
        node04Style.inset = new Rect<>(LengthPercentageAuto.length(30.0f), LengthPercentageAuto.AUTO, LengthPercentageAuto.length(30.0f), LengthPercentageAuto.AUTO);
        NodeId node04 = tree.newLeaf(node04Style);

        Style node05Style = new Style();
        node05Style.position = Position.ABSOLUTE;
        node05Style.size = new Size<>(Dimension.percent(1.0f), Dimension.percent(1.0f));
        node05Style.inset = new Rect<>(LengthPercentageAuto.length(0.0f), LengthPercentageAuto.AUTO, LengthPercentageAuto.length(0.0f), LengthPercentageAuto.AUTO);
        NodeId node05 = tree.newLeaf(node05Style);

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.length(200.0f), Dimension.length(200.0f));
        node0Style.padding = new Rect<>(LengthPercentage.length(15.0f), LengthPercentage.length(15.0f), LengthPercentage.length(15.0f), LengthPercentage.length(15.0f));
        node0Style.border = new Rect<>(LengthPercentage.length(20.0f), LengthPercentage.length(20.0f), LengthPercentage.length(20.0f), LengthPercentage.length(20.0f));
        NodeId node0 = tree.newWithChildren(node0Style, node00, node01, node02, node03, node04, node05);

        Style node10Style = new Style();
        node10Style.position = Position.ABSOLUTE;
        node10Style.inset = new Rect<>(LengthPercentageAuto.AUTO, LengthPercentageAuto.AUTO, LengthPercentageAuto.AUTO, LengthPercentageAuto.AUTO);
        NodeId node10 = tree.newLeaf(node10Style);

        Style node11Style = new Style();
        node11Style.position = Position.ABSOLUTE;
        node11Style.inset = new Rect<>(LengthPercentageAuto.length(0.0f), LengthPercentageAuto.AUTO, LengthPercentageAuto.length(0.0f), LengthPercentageAuto.AUTO);
        NodeId node11 = tree.newLeaf(node11Style);

        Style node12Style = new Style();
        node12Style.position = Position.ABSOLUTE;
        node12Style.inset = new Rect<>(LengthPercentageAuto.percent(1.0f), LengthPercentageAuto.AUTO, LengthPercentageAuto.percent(1.0f), LengthPercentageAuto.AUTO);
        NodeId node12 = tree.newLeaf(node12Style);

        Style node13Style = new Style();
        node13Style.position = Position.ABSOLUTE;
        node13Style.inset = new Rect<>(LengthPercentageAuto.AUTO, LengthPercentageAuto.percent(1.0f), LengthPercentageAuto.AUTO, LengthPercentageAuto.percent(1.0f));
        NodeId node13 = tree.newLeaf(node13Style);

        Style node14Style = new Style();
        node14Style.position = Position.ABSOLUTE;
        node14Style.inset = new Rect<>(LengthPercentageAuto.length(30.0f), LengthPercentageAuto.AUTO, LengthPercentageAuto.length(30.0f), LengthPercentageAuto.AUTO);
        NodeId node14 = tree.newLeaf(node14Style);

        Style node15Style = new Style();
        node15Style.position = Position.ABSOLUTE;
        node15Style.size = new Size<>(Dimension.percent(1.0f), Dimension.percent(1.0f));
        node15Style.inset = new Rect<>(LengthPercentageAuto.length(0.0f), LengthPercentageAuto.AUTO, LengthPercentageAuto.length(0.0f), LengthPercentageAuto.AUTO);
        NodeId node15 = tree.newLeaf(node15Style);

        Style node1Style = new Style();
        node1Style.size = new Size<>(Dimension.length(200.0f), Dimension.length(200.0f));
        node1Style.padding = new Rect<>(LengthPercentage.length(15.0f), LengthPercentage.length(15.0f), LengthPercentage.length(15.0f), LengthPercentage.length(15.0f));
        node1Style.border = new Rect<>(LengthPercentage.length(20.0f), LengthPercentage.length(20.0f), LengthPercentage.length(20.0f), LengthPercentage.length(20.0f));
        node1Style.overflow = new Point<>(Overflow.SCROLL, Overflow.SCROLL);
        node1Style.scrollbarWidth = 15.0f;
        NodeId node1 = tree.newWithChildren(node1Style, node10, node11, node12, node13, node14, node15);

        Style nodeStyle = new Style();
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(400.0f, nodeLayout.size().width, "width of node");
        assertEquals(200.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(200.0f, node0Layout.size().width, "width of node0");
        assertEquals(200.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(0.0f, node00Layout.size().width, "width of node00");
        assertEquals(0.0f, node00Layout.size().height, "height of node00");
        assertEquals(35.0f, node00Layout.location().x, "x of node00");
        assertEquals(35.0f, node00Layout.location().y, "y of node00");
        Layout node01Layout = tree.getLayout(node01);
        assertEquals(0.0f, node01Layout.size().width, "width of node01");
        assertEquals(0.0f, node01Layout.size().height, "height of node01");
        assertEquals(20.0f, node01Layout.location().x, "x of node01");
        assertEquals(20.0f, node01Layout.location().y, "y of node01");
        Layout node02Layout = tree.getLayout(node02);
        assertEquals(0.0f, node02Layout.size().width, "width of node02");
        assertEquals(0.0f, node02Layout.size().height, "height of node02");
        assertEquals(180.0f, node02Layout.location().x, "x of node02");
        assertEquals(180.0f, node02Layout.location().y, "y of node02");
        Layout node03Layout = tree.getLayout(node03);
        assertEquals(0.0f, node03Layout.size().width, "width of node03");
        assertEquals(0.0f, node03Layout.size().height, "height of node03");
        assertEquals(20.0f, node03Layout.location().x, "x of node03");
        assertEquals(20.0f, node03Layout.location().y, "y of node03");
        Layout node04Layout = tree.getLayout(node04);
        assertEquals(0.0f, node04Layout.size().width, "width of node04");
        assertEquals(0.0f, node04Layout.size().height, "height of node04");
        assertEquals(50.0f, node04Layout.location().x, "x of node04");
        assertEquals(50.0f, node04Layout.location().y, "y of node04");
        Layout node05Layout = tree.getLayout(node05);
        assertEquals(160.0f, node05Layout.size().width, "width of node05");
        assertEquals(160.0f, node05Layout.size().height, "height of node05");
        assertEquals(20.0f, node05Layout.location().x, "x of node05");
        assertEquals(20.0f, node05Layout.location().y, "y of node05");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(200.0f, node1Layout.size().width, "width of node1");
        assertEquals(200.0f, node1Layout.size().height, "height of node1");
        assertEquals(200.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node10Layout = tree.getLayout(node10);
        assertEquals(0.0f, node10Layout.size().width, "width of node10");
        assertEquals(0.0f, node10Layout.size().height, "height of node10");
        assertEquals(35.0f, node10Layout.location().x, "x of node10");
        assertEquals(35.0f, node10Layout.location().y, "y of node10");
        Layout node11Layout = tree.getLayout(node11);
        assertEquals(0.0f, node11Layout.size().width, "width of node11");
        assertEquals(0.0f, node11Layout.size().height, "height of node11");
        assertEquals(20.0f, node11Layout.location().x, "x of node11");
        assertEquals(20.0f, node11Layout.location().y, "y of node11");
        Layout node12Layout = tree.getLayout(node12);
        assertEquals(0.0f, node12Layout.size().width, "width of node12");
        assertEquals(0.0f, node12Layout.size().height, "height of node12");
        assertEquals(165.0f, node12Layout.location().x, "x of node12");
        assertEquals(165.0f, node12Layout.location().y, "y of node12");
        Layout node13Layout = tree.getLayout(node13);
        assertEquals(0.0f, node13Layout.size().width, "width of node13");
        assertEquals(0.0f, node13Layout.size().height, "height of node13");
        assertEquals(20.0f, node13Layout.location().x, "x of node13");
        assertEquals(20.0f, node13Layout.location().y, "y of node13");
        Layout node14Layout = tree.getLayout(node14);
        assertEquals(0.0f, node14Layout.size().width, "width of node14");
        assertEquals(0.0f, node14Layout.size().height, "height of node14");
        assertEquals(50.0f, node14Layout.location().x, "x of node14");
        assertEquals(50.0f, node14Layout.location().y, "y of node14");
        Layout node15Layout = tree.getLayout(node15);
        assertEquals(145.0f, node15Layout.size().width, "width of node15");
        assertEquals(145.0f, node15Layout.size().height, "height of node15");
        assertEquals(20.0f, node15Layout.location().x, "x of node15");
        assertEquals(20.0f, node15Layout.location().y, "y of node15");
    }

    @Test
    @DisplayName("absolute_resolved_insets__content_box")
    void absoluteResolvedInsetsContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.boxSizing = BoxSizing.CONTENT_BOX;
        node00Style.position = Position.ABSOLUTE;
        node00Style.inset = new Rect<>(LengthPercentageAuto.AUTO, LengthPercentageAuto.AUTO, LengthPercentageAuto.AUTO, LengthPercentageAuto.AUTO);
        NodeId node00 = tree.newLeaf(node00Style);

        Style node01Style = new Style();
        node01Style.boxSizing = BoxSizing.CONTENT_BOX;
        node01Style.position = Position.ABSOLUTE;
        node01Style.inset = new Rect<>(LengthPercentageAuto.length(0.0f), LengthPercentageAuto.AUTO, LengthPercentageAuto.length(0.0f), LengthPercentageAuto.AUTO);
        NodeId node01 = tree.newLeaf(node01Style);

        Style node02Style = new Style();
        node02Style.boxSizing = BoxSizing.CONTENT_BOX;
        node02Style.position = Position.ABSOLUTE;
        node02Style.inset = new Rect<>(LengthPercentageAuto.percent(1.0f), LengthPercentageAuto.AUTO, LengthPercentageAuto.percent(1.0f), LengthPercentageAuto.AUTO);
        NodeId node02 = tree.newLeaf(node02Style);

        Style node03Style = new Style();
        node03Style.boxSizing = BoxSizing.CONTENT_BOX;
        node03Style.position = Position.ABSOLUTE;
        node03Style.inset = new Rect<>(LengthPercentageAuto.AUTO, LengthPercentageAuto.percent(1.0f), LengthPercentageAuto.AUTO, LengthPercentageAuto.percent(1.0f));
        NodeId node03 = tree.newLeaf(node03Style);

        Style node04Style = new Style();
        node04Style.boxSizing = BoxSizing.CONTENT_BOX;
        node04Style.position = Position.ABSOLUTE;
        node04Style.inset = new Rect<>(LengthPercentageAuto.length(30.0f), LengthPercentageAuto.AUTO, LengthPercentageAuto.length(30.0f), LengthPercentageAuto.AUTO);
        NodeId node04 = tree.newLeaf(node04Style);

        Style node05Style = new Style();
        node05Style.boxSizing = BoxSizing.CONTENT_BOX;
        node05Style.position = Position.ABSOLUTE;
        node05Style.size = new Size<>(Dimension.percent(1.0f), Dimension.percent(1.0f));
        node05Style.inset = new Rect<>(LengthPercentageAuto.length(0.0f), LengthPercentageAuto.AUTO, LengthPercentageAuto.length(0.0f), LengthPercentageAuto.AUTO);
        NodeId node05 = tree.newLeaf(node05Style);

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.length(200.0f), Dimension.length(200.0f));
        node0Style.padding = new Rect<>(LengthPercentage.length(15.0f), LengthPercentage.length(15.0f), LengthPercentage.length(15.0f), LengthPercentage.length(15.0f));
        node0Style.border = new Rect<>(LengthPercentage.length(20.0f), LengthPercentage.length(20.0f), LengthPercentage.length(20.0f), LengthPercentage.length(20.0f));
        NodeId node0 = tree.newWithChildren(node0Style, node00, node01, node02, node03, node04, node05);

        Style node10Style = new Style();
        node10Style.boxSizing = BoxSizing.CONTENT_BOX;
        node10Style.position = Position.ABSOLUTE;
        node10Style.inset = new Rect<>(LengthPercentageAuto.AUTO, LengthPercentageAuto.AUTO, LengthPercentageAuto.AUTO, LengthPercentageAuto.AUTO);
        NodeId node10 = tree.newLeaf(node10Style);

        Style node11Style = new Style();
        node11Style.boxSizing = BoxSizing.CONTENT_BOX;
        node11Style.position = Position.ABSOLUTE;
        node11Style.inset = new Rect<>(LengthPercentageAuto.length(0.0f), LengthPercentageAuto.AUTO, LengthPercentageAuto.length(0.0f), LengthPercentageAuto.AUTO);
        NodeId node11 = tree.newLeaf(node11Style);

        Style node12Style = new Style();
        node12Style.boxSizing = BoxSizing.CONTENT_BOX;
        node12Style.position = Position.ABSOLUTE;
        node12Style.inset = new Rect<>(LengthPercentageAuto.percent(1.0f), LengthPercentageAuto.AUTO, LengthPercentageAuto.percent(1.0f), LengthPercentageAuto.AUTO);
        NodeId node12 = tree.newLeaf(node12Style);

        Style node13Style = new Style();
        node13Style.boxSizing = BoxSizing.CONTENT_BOX;
        node13Style.position = Position.ABSOLUTE;
        node13Style.inset = new Rect<>(LengthPercentageAuto.AUTO, LengthPercentageAuto.percent(1.0f), LengthPercentageAuto.AUTO, LengthPercentageAuto.percent(1.0f));
        NodeId node13 = tree.newLeaf(node13Style);

        Style node14Style = new Style();
        node14Style.boxSizing = BoxSizing.CONTENT_BOX;
        node14Style.position = Position.ABSOLUTE;
        node14Style.inset = new Rect<>(LengthPercentageAuto.length(30.0f), LengthPercentageAuto.AUTO, LengthPercentageAuto.length(30.0f), LengthPercentageAuto.AUTO);
        NodeId node14 = tree.newLeaf(node14Style);

        Style node15Style = new Style();
        node15Style.boxSizing = BoxSizing.CONTENT_BOX;
        node15Style.position = Position.ABSOLUTE;
        node15Style.size = new Size<>(Dimension.percent(1.0f), Dimension.percent(1.0f));
        node15Style.inset = new Rect<>(LengthPercentageAuto.length(0.0f), LengthPercentageAuto.AUTO, LengthPercentageAuto.length(0.0f), LengthPercentageAuto.AUTO);
        NodeId node15 = tree.newLeaf(node15Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.size = new Size<>(Dimension.length(200.0f), Dimension.length(200.0f));
        node1Style.padding = new Rect<>(LengthPercentage.length(15.0f), LengthPercentage.length(15.0f), LengthPercentage.length(15.0f), LengthPercentage.length(15.0f));
        node1Style.border = new Rect<>(LengthPercentage.length(20.0f), LengthPercentage.length(20.0f), LengthPercentage.length(20.0f), LengthPercentage.length(20.0f));
        node1Style.overflow = new Point<>(Overflow.SCROLL, Overflow.SCROLL);
        node1Style.scrollbarWidth = 15.0f;
        NodeId node1 = tree.newWithChildren(node1Style, node10, node11, node12, node13, node14, node15);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(540.0f, nodeLayout.size().width, "width of node");
        assertEquals(270.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(270.0f, node0Layout.size().width, "width of node0");
        assertEquals(270.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(0.0f, node00Layout.size().width, "width of node00");
        assertEquals(0.0f, node00Layout.size().height, "height of node00");
        assertEquals(35.0f, node00Layout.location().x, "x of node00");
        assertEquals(35.0f, node00Layout.location().y, "y of node00");
        Layout node01Layout = tree.getLayout(node01);
        assertEquals(0.0f, node01Layout.size().width, "width of node01");
        assertEquals(0.0f, node01Layout.size().height, "height of node01");
        assertEquals(20.0f, node01Layout.location().x, "x of node01");
        assertEquals(20.0f, node01Layout.location().y, "y of node01");
        Layout node02Layout = tree.getLayout(node02);
        assertEquals(0.0f, node02Layout.size().width, "width of node02");
        assertEquals(0.0f, node02Layout.size().height, "height of node02");
        assertEquals(250.0f, node02Layout.location().x, "x of node02");
        assertEquals(250.0f, node02Layout.location().y, "y of node02");
        Layout node03Layout = tree.getLayout(node03);
        assertEquals(0.0f, node03Layout.size().width, "width of node03");
        assertEquals(0.0f, node03Layout.size().height, "height of node03");
        assertEquals(20.0f, node03Layout.location().x, "x of node03");
        assertEquals(20.0f, node03Layout.location().y, "y of node03");
        Layout node04Layout = tree.getLayout(node04);
        assertEquals(0.0f, node04Layout.size().width, "width of node04");
        assertEquals(0.0f, node04Layout.size().height, "height of node04");
        assertEquals(50.0f, node04Layout.location().x, "x of node04");
        assertEquals(50.0f, node04Layout.location().y, "y of node04");
        Layout node05Layout = tree.getLayout(node05);
        assertEquals(230.0f, node05Layout.size().width, "width of node05");
        assertEquals(230.0f, node05Layout.size().height, "height of node05");
        assertEquals(20.0f, node05Layout.location().x, "x of node05");
        assertEquals(20.0f, node05Layout.location().y, "y of node05");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(270.0f, node1Layout.size().width, "width of node1");
        assertEquals(270.0f, node1Layout.size().height, "height of node1");
        assertEquals(270.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node10Layout = tree.getLayout(node10);
        assertEquals(0.0f, node10Layout.size().width, "width of node10");
        assertEquals(0.0f, node10Layout.size().height, "height of node10");
        assertEquals(35.0f, node10Layout.location().x, "x of node10");
        assertEquals(35.0f, node10Layout.location().y, "y of node10");
        Layout node11Layout = tree.getLayout(node11);
        assertEquals(0.0f, node11Layout.size().width, "width of node11");
        assertEquals(0.0f, node11Layout.size().height, "height of node11");
        assertEquals(20.0f, node11Layout.location().x, "x of node11");
        assertEquals(20.0f, node11Layout.location().y, "y of node11");
        Layout node12Layout = tree.getLayout(node12);
        assertEquals(0.0f, node12Layout.size().width, "width of node12");
        assertEquals(0.0f, node12Layout.size().height, "height of node12");
        assertEquals(235.0f, node12Layout.location().x, "x of node12");
        assertEquals(235.0f, node12Layout.location().y, "y of node12");
        Layout node13Layout = tree.getLayout(node13);
        assertEquals(0.0f, node13Layout.size().width, "width of node13");
        assertEquals(0.0f, node13Layout.size().height, "height of node13");
        assertEquals(20.0f, node13Layout.location().x, "x of node13");
        assertEquals(20.0f, node13Layout.location().y, "y of node13");
        Layout node14Layout = tree.getLayout(node14);
        assertEquals(0.0f, node14Layout.size().width, "width of node14");
        assertEquals(0.0f, node14Layout.size().height, "height of node14");
        assertEquals(50.0f, node14Layout.location().x, "x of node14");
        assertEquals(50.0f, node14Layout.location().y, "y of node14");
        Layout node15Layout = tree.getLayout(node15);
        assertEquals(215.0f, node15Layout.size().width, "width of node15");
        assertEquals(215.0f, node15Layout.size().height, "height of node15");
        assertEquals(20.0f, node15Layout.location().x, "x of node15");
        assertEquals(20.0f, node15Layout.location().y, "y of node15");
    }

    @Test
    @DisplayName("align_baseline__border_box")
    void alignBaselineBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(20.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style nodeStyle = new Style();
        nodeStyle.alignItems = AlignItems.BASELINE;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(50.0f, node0Layout.size().width, "width of node0");
        assertEquals(50.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(50.0f, node1Layout.size().width, "width of node1");
        assertEquals(20.0f, node1Layout.size().height, "height of node1");
        assertEquals(50.0f, node1Layout.location().x, "x of node1");
        assertEquals(30.0f, node1Layout.location().y, "y of node1");
    }

    @Test
    @DisplayName("align_baseline__content_box")
    void alignBaselineContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(20.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.alignItems = AlignItems.BASELINE;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(50.0f, node0Layout.size().width, "width of node0");
        assertEquals(50.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(50.0f, node1Layout.size().width, "width of node1");
        assertEquals(20.0f, node1Layout.size().height, "height of node1");
        assertEquals(50.0f, node1Layout.location().x, "x of node1");
        assertEquals(30.0f, node1Layout.location().y, "y of node1");
    }

    @Test
    @DisplayName("align_baseline_child__border_box")
    void alignBaselineChildBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node10Style = new Style();
        node10Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(10.0f));
        NodeId node10 = tree.newLeaf(node10Style);

        Style node1Style = new Style();
        node1Style.flexDirection = FlexDirection.COLUMN;
        node1Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(20.0f));
        NodeId node1 = tree.newWithChildren(node1Style, node10);

        Style nodeStyle = new Style();
        nodeStyle.alignItems = AlignItems.BASELINE;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(50.0f, node0Layout.size().width, "width of node0");
        assertEquals(50.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(50.0f, node1Layout.size().width, "width of node1");
        assertEquals(20.0f, node1Layout.size().height, "height of node1");
        assertEquals(50.0f, node1Layout.location().x, "x of node1");
        assertEquals(40.0f, node1Layout.location().y, "y of node1");
        Layout node10Layout = tree.getLayout(node10);
        assertEquals(50.0f, node10Layout.size().width, "width of node10");
        assertEquals(10.0f, node10Layout.size().height, "height of node10");
        assertEquals(0.0f, node10Layout.location().x, "x of node10");
        assertEquals(0.0f, node10Layout.location().y, "y of node10");
    }

    @Test
    @DisplayName("align_baseline_child__content_box")
    void alignBaselineChildContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node10Style = new Style();
        node10Style.boxSizing = BoxSizing.CONTENT_BOX;
        node10Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(10.0f));
        NodeId node10 = tree.newLeaf(node10Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.flexDirection = FlexDirection.COLUMN;
        node1Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(20.0f));
        NodeId node1 = tree.newWithChildren(node1Style, node10);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.alignItems = AlignItems.BASELINE;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(50.0f, node0Layout.size().width, "width of node0");
        assertEquals(50.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(50.0f, node1Layout.size().width, "width of node1");
        assertEquals(20.0f, node1Layout.size().height, "height of node1");
        assertEquals(50.0f, node1Layout.location().x, "x of node1");
        assertEquals(40.0f, node1Layout.location().y, "y of node1");
        Layout node10Layout = tree.getLayout(node10);
        assertEquals(50.0f, node10Layout.size().width, "width of node10");
        assertEquals(10.0f, node10Layout.size().height, "height of node10");
        assertEquals(0.0f, node10Layout.location().x, "x of node10");
        assertEquals(0.0f, node10Layout.location().y, "y of node10");
    }

    @Test
    @DisplayName("align_baseline_child_margin__border_box")
    void alignBaselineChildMarginBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        node0Style.margin = new Rect<>(LengthPercentageAuto.length(5.0f), LengthPercentageAuto.length(5.0f), LengthPercentageAuto.length(5.0f), LengthPercentageAuto.length(5.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node10Style = new Style();
        node10Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(10.0f));
        node10Style.margin = new Rect<>(LengthPercentageAuto.length(5.0f), LengthPercentageAuto.length(5.0f), LengthPercentageAuto.length(5.0f), LengthPercentageAuto.length(5.0f));
        NodeId node10 = tree.newLeaf(node10Style);

        Style node1Style = new Style();
        node1Style.flexDirection = FlexDirection.COLUMN;
        node1Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(20.0f));
        NodeId node1 = tree.newWithChildren(node1Style, node10);

        Style nodeStyle = new Style();
        nodeStyle.alignItems = AlignItems.BASELINE;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(50.0f, node0Layout.size().height, "height of node0");
        assertEquals(5.0f, node0Layout.location().x, "x of node0");
        assertEquals(5.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(50.0f, node1Layout.size().width, "width of node1");
        assertEquals(20.0f, node1Layout.size().height, "height of node1");
        assertEquals(50.0f, node1Layout.location().x, "x of node1");
        assertEquals(40.0f, node1Layout.location().y, "y of node1");
        Layout node10Layout = tree.getLayout(node10);
        assertEquals(50.0f, node10Layout.size().width, "width of node10");
        assertEquals(10.0f, node10Layout.size().height, "height of node10");
        assertEquals(5.0f, node10Layout.location().x, "x of node10");
        assertEquals(5.0f, node10Layout.location().y, "y of node10");
    }

    @Test
    @DisplayName("align_baseline_child_margin__content_box")
    void alignBaselineChildMarginContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        node0Style.margin = new Rect<>(LengthPercentageAuto.length(5.0f), LengthPercentageAuto.length(5.0f), LengthPercentageAuto.length(5.0f), LengthPercentageAuto.length(5.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node10Style = new Style();
        node10Style.boxSizing = BoxSizing.CONTENT_BOX;
        node10Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(10.0f));
        node10Style.margin = new Rect<>(LengthPercentageAuto.length(5.0f), LengthPercentageAuto.length(5.0f), LengthPercentageAuto.length(5.0f), LengthPercentageAuto.length(5.0f));
        NodeId node10 = tree.newLeaf(node10Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.flexDirection = FlexDirection.COLUMN;
        node1Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(20.0f));
        NodeId node1 = tree.newWithChildren(node1Style, node10);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.alignItems = AlignItems.BASELINE;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(50.0f, node0Layout.size().height, "height of node0");
        assertEquals(5.0f, node0Layout.location().x, "x of node0");
        assertEquals(5.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(50.0f, node1Layout.size().width, "width of node1");
        assertEquals(20.0f, node1Layout.size().height, "height of node1");
        assertEquals(50.0f, node1Layout.location().x, "x of node1");
        assertEquals(40.0f, node1Layout.location().y, "y of node1");
        Layout node10Layout = tree.getLayout(node10);
        assertEquals(50.0f, node10Layout.size().width, "width of node10");
        assertEquals(10.0f, node10Layout.size().height, "height of node10");
        assertEquals(5.0f, node10Layout.location().x, "x of node10");
        assertEquals(5.0f, node10Layout.location().y, "y of node10");
    }

    @Test
    @DisplayName("align_baseline_child_margin_percent__border_box")
    void alignBaselineChildMarginPercentBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        node0Style.margin = new Rect<>(LengthPercentageAuto.percent(0.05f), LengthPercentageAuto.percent(0.05f), LengthPercentageAuto.percent(0.05f), LengthPercentageAuto.percent(0.05f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node10Style = new Style();
        node10Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(10.0f));
        node10Style.margin = new Rect<>(LengthPercentageAuto.percent(0.01f), LengthPercentageAuto.percent(0.01f), LengthPercentageAuto.percent(0.01f), LengthPercentageAuto.percent(0.01f));
        NodeId node10 = tree.newLeaf(node10Style);

        Style node1Style = new Style();
        node1Style.flexDirection = FlexDirection.COLUMN;
        node1Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(20.0f));
        NodeId node1 = tree.newWithChildren(node1Style, node10);

        Style nodeStyle = new Style();
        nodeStyle.alignItems = AlignItems.BASELINE;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(50.0f, node0Layout.size().height, "height of node0");
        assertEquals(5.0f, node0Layout.location().x, "x of node0");
        assertEquals(5.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(50.0f, node1Layout.size().width, "width of node1");
        assertEquals(20.0f, node1Layout.size().height, "height of node1");
        assertEquals(50.0f, node1Layout.location().x, "x of node1");
        assertEquals(45.0f, node1Layout.location().y, "y of node1");
        Layout node10Layout = tree.getLayout(node10);
        assertEquals(50.0f, node10Layout.size().width, "width of node10");
        assertEquals(10.0f, node10Layout.size().height, "height of node10");
        assertEquals(1.0f, node10Layout.location().x, "x of node10");
        assertEquals(1.0f, node10Layout.location().y, "y of node10");
    }

    @Test
    @DisplayName("align_baseline_child_margin_percent__content_box")
    void alignBaselineChildMarginPercentContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        node0Style.margin = new Rect<>(LengthPercentageAuto.percent(0.05f), LengthPercentageAuto.percent(0.05f), LengthPercentageAuto.percent(0.05f), LengthPercentageAuto.percent(0.05f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node10Style = new Style();
        node10Style.boxSizing = BoxSizing.CONTENT_BOX;
        node10Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(10.0f));
        node10Style.margin = new Rect<>(LengthPercentageAuto.percent(0.01f), LengthPercentageAuto.percent(0.01f), LengthPercentageAuto.percent(0.01f), LengthPercentageAuto.percent(0.01f));
        NodeId node10 = tree.newLeaf(node10Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.flexDirection = FlexDirection.COLUMN;
        node1Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(20.0f));
        NodeId node1 = tree.newWithChildren(node1Style, node10);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.alignItems = AlignItems.BASELINE;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(50.0f, node0Layout.size().height, "height of node0");
        assertEquals(5.0f, node0Layout.location().x, "x of node0");
        assertEquals(5.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(50.0f, node1Layout.size().width, "width of node1");
        assertEquals(20.0f, node1Layout.size().height, "height of node1");
        assertEquals(50.0f, node1Layout.location().x, "x of node1");
        assertEquals(45.0f, node1Layout.location().y, "y of node1");
        Layout node10Layout = tree.getLayout(node10);
        assertEquals(50.0f, node10Layout.size().width, "width of node10");
        assertEquals(10.0f, node10Layout.size().height, "height of node10");
        assertEquals(1.0f, node10Layout.location().x, "x of node10");
        assertEquals(1.0f, node10Layout.location().y, "y of node10");
    }

    @Test
    @DisplayName("align_baseline_child_multiline__border_box")
    void alignBaselineChildMultilineBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(60.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node10Style = new Style();
        node10Style.size = new Size<>(Dimension.length(25.0f), Dimension.length(20.0f));
        NodeId node10 = tree.newLeaf(node10Style);

        Style node11Style = new Style();
        node11Style.size = new Size<>(Dimension.length(25.0f), Dimension.length(10.0f));
        NodeId node11 = tree.newLeaf(node11Style);

        Style node12Style = new Style();
        node12Style.size = new Size<>(Dimension.length(25.0f), Dimension.length(20.0f));
        NodeId node12 = tree.newLeaf(node12Style);

        Style node13Style = new Style();
        node13Style.size = new Size<>(Dimension.length(25.0f), Dimension.length(10.0f));
        NodeId node13 = tree.newLeaf(node13Style);

        Style node1Style = new Style();
        node1Style.flexWrap = FlexWrap.WRAP;
        node1Style.size = new Size<>(Dimension.length(50.0f), Dimension.AUTO);
        NodeId node1 = tree.newWithChildren(node1Style, node10, node11, node12, node13);

        Style nodeStyle = new Style();
        nodeStyle.alignItems = AlignItems.BASELINE;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.AUTO);
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(80.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(50.0f, node0Layout.size().width, "width of node0");
        assertEquals(60.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(50.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(50.0f, node1Layout.location().x, "x of node1");
        assertEquals(40.0f, node1Layout.location().y, "y of node1");
        Layout node10Layout = tree.getLayout(node10);
        assertEquals(25.0f, node10Layout.size().width, "width of node10");
        assertEquals(20.0f, node10Layout.size().height, "height of node10");
        assertEquals(0.0f, node10Layout.location().x, "x of node10");
        assertEquals(0.0f, node10Layout.location().y, "y of node10");
        Layout node11Layout = tree.getLayout(node11);
        assertEquals(25.0f, node11Layout.size().width, "width of node11");
        assertEquals(10.0f, node11Layout.size().height, "height of node11");
        assertEquals(25.0f, node11Layout.location().x, "x of node11");
        assertEquals(0.0f, node11Layout.location().y, "y of node11");
        Layout node12Layout = tree.getLayout(node12);
        assertEquals(25.0f, node12Layout.size().width, "width of node12");
        assertEquals(20.0f, node12Layout.size().height, "height of node12");
        assertEquals(0.0f, node12Layout.location().x, "x of node12");
        assertEquals(20.0f, node12Layout.location().y, "y of node12");
        Layout node13Layout = tree.getLayout(node13);
        assertEquals(25.0f, node13Layout.size().width, "width of node13");
        assertEquals(10.0f, node13Layout.size().height, "height of node13");
        assertEquals(25.0f, node13Layout.location().x, "x of node13");
        assertEquals(20.0f, node13Layout.location().y, "y of node13");
    }

    @Test
    @DisplayName("align_baseline_child_multiline__content_box")
    void alignBaselineChildMultilineContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(60.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node10Style = new Style();
        node10Style.boxSizing = BoxSizing.CONTENT_BOX;
        node10Style.size = new Size<>(Dimension.length(25.0f), Dimension.length(20.0f));
        NodeId node10 = tree.newLeaf(node10Style);

        Style node11Style = new Style();
        node11Style.boxSizing = BoxSizing.CONTENT_BOX;
        node11Style.size = new Size<>(Dimension.length(25.0f), Dimension.length(10.0f));
        NodeId node11 = tree.newLeaf(node11Style);

        Style node12Style = new Style();
        node12Style.boxSizing = BoxSizing.CONTENT_BOX;
        node12Style.size = new Size<>(Dimension.length(25.0f), Dimension.length(20.0f));
        NodeId node12 = tree.newLeaf(node12Style);

        Style node13Style = new Style();
        node13Style.boxSizing = BoxSizing.CONTENT_BOX;
        node13Style.size = new Size<>(Dimension.length(25.0f), Dimension.length(10.0f));
        NodeId node13 = tree.newLeaf(node13Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.flexWrap = FlexWrap.WRAP;
        node1Style.size = new Size<>(Dimension.length(50.0f), Dimension.AUTO);
        NodeId node1 = tree.newWithChildren(node1Style, node10, node11, node12, node13);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.alignItems = AlignItems.BASELINE;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.AUTO);
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(80.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(50.0f, node0Layout.size().width, "width of node0");
        assertEquals(60.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(50.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(50.0f, node1Layout.location().x, "x of node1");
        assertEquals(40.0f, node1Layout.location().y, "y of node1");
        Layout node10Layout = tree.getLayout(node10);
        assertEquals(25.0f, node10Layout.size().width, "width of node10");
        assertEquals(20.0f, node10Layout.size().height, "height of node10");
        assertEquals(0.0f, node10Layout.location().x, "x of node10");
        assertEquals(0.0f, node10Layout.location().y, "y of node10");
        Layout node11Layout = tree.getLayout(node11);
        assertEquals(25.0f, node11Layout.size().width, "width of node11");
        assertEquals(10.0f, node11Layout.size().height, "height of node11");
        assertEquals(25.0f, node11Layout.location().x, "x of node11");
        assertEquals(0.0f, node11Layout.location().y, "y of node11");
        Layout node12Layout = tree.getLayout(node12);
        assertEquals(25.0f, node12Layout.size().width, "width of node12");
        assertEquals(20.0f, node12Layout.size().height, "height of node12");
        assertEquals(0.0f, node12Layout.location().x, "x of node12");
        assertEquals(20.0f, node12Layout.location().y, "y of node12");
        Layout node13Layout = tree.getLayout(node13);
        assertEquals(25.0f, node13Layout.size().width, "width of node13");
        assertEquals(10.0f, node13Layout.size().height, "height of node13");
        assertEquals(25.0f, node13Layout.location().x, "x of node13");
        assertEquals(20.0f, node13Layout.location().y, "y of node13");
    }

    @Test
    @DisplayName("align_baseline_child_multiline_no_override_on_secondline__border_box")
    void alignBaselineChildMultilineNoOverrideOnSecondlineBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(60.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node10Style = new Style();
        node10Style.size = new Size<>(Dimension.length(25.0f), Dimension.length(20.0f));
        NodeId node10 = tree.newLeaf(node10Style);

        Style node11Style = new Style();
        node11Style.size = new Size<>(Dimension.length(25.0f), Dimension.length(10.0f));
        NodeId node11 = tree.newLeaf(node11Style);

        Style node12Style = new Style();
        node12Style.size = new Size<>(Dimension.length(25.0f), Dimension.length(20.0f));
        NodeId node12 = tree.newLeaf(node12Style);

        Style node13Style = new Style();
        node13Style.alignSelf = AlignItems.BASELINE;
        node13Style.size = new Size<>(Dimension.length(25.0f), Dimension.length(10.0f));
        NodeId node13 = tree.newLeaf(node13Style);

        Style node1Style = new Style();
        node1Style.flexWrap = FlexWrap.WRAP;
        node1Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(25.0f));
        NodeId node1 = tree.newWithChildren(node1Style, node10, node11, node12, node13);

        Style nodeStyle = new Style();
        nodeStyle.alignItems = AlignItems.BASELINE;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(50.0f, node0Layout.size().width, "width of node0");
        assertEquals(60.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(50.0f, node1Layout.size().width, "width of node1");
        assertEquals(25.0f, node1Layout.size().height, "height of node1");
        assertEquals(50.0f, node1Layout.location().x, "x of node1");
        assertEquals(40.0f, node1Layout.location().y, "y of node1");
        Layout node10Layout = tree.getLayout(node10);
        assertEquals(25.0f, node10Layout.size().width, "width of node10");
        assertEquals(20.0f, node10Layout.size().height, "height of node10");
        assertEquals(0.0f, node10Layout.location().x, "x of node10");
        assertEquals(0.0f, node10Layout.location().y, "y of node10");
        Layout node11Layout = tree.getLayout(node11);
        assertEquals(25.0f, node11Layout.size().width, "width of node11");
        assertEquals(10.0f, node11Layout.size().height, "height of node11");
        assertEquals(25.0f, node11Layout.location().x, "x of node11");
        assertEquals(0.0f, node11Layout.location().y, "y of node11");
        Layout node12Layout = tree.getLayout(node12);
        assertEquals(25.0f, node12Layout.size().width, "width of node12");
        assertEquals(20.0f, node12Layout.size().height, "height of node12");
        assertEquals(0.0f, node12Layout.location().x, "x of node12");
        assertEquals(20.0f, node12Layout.location().y, "y of node12");
        Layout node13Layout = tree.getLayout(node13);
        assertEquals(25.0f, node13Layout.size().width, "width of node13");
        assertEquals(10.0f, node13Layout.size().height, "height of node13");
        assertEquals(25.0f, node13Layout.location().x, "x of node13");
        assertEquals(20.0f, node13Layout.location().y, "y of node13");
    }

    @Test
    @DisplayName("align_baseline_child_multiline_no_override_on_secondline__content_box")
    void alignBaselineChildMultilineNoOverrideOnSecondlineContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(60.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node10Style = new Style();
        node10Style.boxSizing = BoxSizing.CONTENT_BOX;
        node10Style.size = new Size<>(Dimension.length(25.0f), Dimension.length(20.0f));
        NodeId node10 = tree.newLeaf(node10Style);

        Style node11Style = new Style();
        node11Style.boxSizing = BoxSizing.CONTENT_BOX;
        node11Style.size = new Size<>(Dimension.length(25.0f), Dimension.length(10.0f));
        NodeId node11 = tree.newLeaf(node11Style);

        Style node12Style = new Style();
        node12Style.boxSizing = BoxSizing.CONTENT_BOX;
        node12Style.size = new Size<>(Dimension.length(25.0f), Dimension.length(20.0f));
        NodeId node12 = tree.newLeaf(node12Style);

        Style node13Style = new Style();
        node13Style.boxSizing = BoxSizing.CONTENT_BOX;
        node13Style.alignSelf = AlignItems.BASELINE;
        node13Style.size = new Size<>(Dimension.length(25.0f), Dimension.length(10.0f));
        NodeId node13 = tree.newLeaf(node13Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.flexWrap = FlexWrap.WRAP;
        node1Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(25.0f));
        NodeId node1 = tree.newWithChildren(node1Style, node10, node11, node12, node13);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.alignItems = AlignItems.BASELINE;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(50.0f, node0Layout.size().width, "width of node0");
        assertEquals(60.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(50.0f, node1Layout.size().width, "width of node1");
        assertEquals(25.0f, node1Layout.size().height, "height of node1");
        assertEquals(50.0f, node1Layout.location().x, "x of node1");
        assertEquals(40.0f, node1Layout.location().y, "y of node1");
        Layout node10Layout = tree.getLayout(node10);
        assertEquals(25.0f, node10Layout.size().width, "width of node10");
        assertEquals(20.0f, node10Layout.size().height, "height of node10");
        assertEquals(0.0f, node10Layout.location().x, "x of node10");
        assertEquals(0.0f, node10Layout.location().y, "y of node10");
        Layout node11Layout = tree.getLayout(node11);
        assertEquals(25.0f, node11Layout.size().width, "width of node11");
        assertEquals(10.0f, node11Layout.size().height, "height of node11");
        assertEquals(25.0f, node11Layout.location().x, "x of node11");
        assertEquals(0.0f, node11Layout.location().y, "y of node11");
        Layout node12Layout = tree.getLayout(node12);
        assertEquals(25.0f, node12Layout.size().width, "width of node12");
        assertEquals(20.0f, node12Layout.size().height, "height of node12");
        assertEquals(0.0f, node12Layout.location().x, "x of node12");
        assertEquals(20.0f, node12Layout.location().y, "y of node12");
        Layout node13Layout = tree.getLayout(node13);
        assertEquals(25.0f, node13Layout.size().width, "width of node13");
        assertEquals(10.0f, node13Layout.size().height, "height of node13");
        assertEquals(25.0f, node13Layout.location().x, "x of node13");
        assertEquals(20.0f, node13Layout.location().y, "y of node13");
    }

    @Test
    @DisplayName("align_baseline_child_multiline_override__border_box")
    void alignBaselineChildMultilineOverrideBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(60.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node10Style = new Style();
        node10Style.size = new Size<>(Dimension.length(25.0f), Dimension.length(20.0f));
        NodeId node10 = tree.newLeaf(node10Style);

        Style node11Style = new Style();
        node11Style.alignSelf = AlignItems.BASELINE;
        node11Style.size = new Size<>(Dimension.length(25.0f), Dimension.length(10.0f));
        NodeId node11 = tree.newLeaf(node11Style);

        Style node12Style = new Style();
        node12Style.size = new Size<>(Dimension.length(25.0f), Dimension.length(20.0f));
        NodeId node12 = tree.newLeaf(node12Style);

        Style node13Style = new Style();
        node13Style.alignSelf = AlignItems.BASELINE;
        node13Style.size = new Size<>(Dimension.length(25.0f), Dimension.length(10.0f));
        NodeId node13 = tree.newLeaf(node13Style);

        Style node1Style = new Style();
        node1Style.flexWrap = FlexWrap.WRAP;
        node1Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(25.0f));
        NodeId node1 = tree.newWithChildren(node1Style, node10, node11, node12, node13);

        Style nodeStyle = new Style();
        nodeStyle.alignItems = AlignItems.BASELINE;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(50.0f, node0Layout.size().width, "width of node0");
        assertEquals(60.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(50.0f, node1Layout.size().width, "width of node1");
        assertEquals(25.0f, node1Layout.size().height, "height of node1");
        assertEquals(50.0f, node1Layout.location().x, "x of node1");
        assertEquals(50.0f, node1Layout.location().y, "y of node1");
        Layout node10Layout = tree.getLayout(node10);
        assertEquals(25.0f, node10Layout.size().width, "width of node10");
        assertEquals(20.0f, node10Layout.size().height, "height of node10");
        assertEquals(0.0f, node10Layout.location().x, "x of node10");
        assertEquals(0.0f, node10Layout.location().y, "y of node10");
        Layout node11Layout = tree.getLayout(node11);
        assertEquals(25.0f, node11Layout.size().width, "width of node11");
        assertEquals(10.0f, node11Layout.size().height, "height of node11");
        assertEquals(25.0f, node11Layout.location().x, "x of node11");
        assertEquals(0.0f, node11Layout.location().y, "y of node11");
        Layout node12Layout = tree.getLayout(node12);
        assertEquals(25.0f, node12Layout.size().width, "width of node12");
        assertEquals(20.0f, node12Layout.size().height, "height of node12");
        assertEquals(0.0f, node12Layout.location().x, "x of node12");
        assertEquals(20.0f, node12Layout.location().y, "y of node12");
        Layout node13Layout = tree.getLayout(node13);
        assertEquals(25.0f, node13Layout.size().width, "width of node13");
        assertEquals(10.0f, node13Layout.size().height, "height of node13");
        assertEquals(25.0f, node13Layout.location().x, "x of node13");
        assertEquals(20.0f, node13Layout.location().y, "y of node13");
    }

    @Test
    @DisplayName("align_baseline_child_multiline_override__content_box")
    void alignBaselineChildMultilineOverrideContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(60.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node10Style = new Style();
        node10Style.boxSizing = BoxSizing.CONTENT_BOX;
        node10Style.size = new Size<>(Dimension.length(25.0f), Dimension.length(20.0f));
        NodeId node10 = tree.newLeaf(node10Style);

        Style node11Style = new Style();
        node11Style.boxSizing = BoxSizing.CONTENT_BOX;
        node11Style.alignSelf = AlignItems.BASELINE;
        node11Style.size = new Size<>(Dimension.length(25.0f), Dimension.length(10.0f));
        NodeId node11 = tree.newLeaf(node11Style);

        Style node12Style = new Style();
        node12Style.boxSizing = BoxSizing.CONTENT_BOX;
        node12Style.size = new Size<>(Dimension.length(25.0f), Dimension.length(20.0f));
        NodeId node12 = tree.newLeaf(node12Style);

        Style node13Style = new Style();
        node13Style.boxSizing = BoxSizing.CONTENT_BOX;
        node13Style.alignSelf = AlignItems.BASELINE;
        node13Style.size = new Size<>(Dimension.length(25.0f), Dimension.length(10.0f));
        NodeId node13 = tree.newLeaf(node13Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.flexWrap = FlexWrap.WRAP;
        node1Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(25.0f));
        NodeId node1 = tree.newWithChildren(node1Style, node10, node11, node12, node13);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.alignItems = AlignItems.BASELINE;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(50.0f, node0Layout.size().width, "width of node0");
        assertEquals(60.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(50.0f, node1Layout.size().width, "width of node1");
        assertEquals(25.0f, node1Layout.size().height, "height of node1");
        assertEquals(50.0f, node1Layout.location().x, "x of node1");
        assertEquals(50.0f, node1Layout.location().y, "y of node1");
        Layout node10Layout = tree.getLayout(node10);
        assertEquals(25.0f, node10Layout.size().width, "width of node10");
        assertEquals(20.0f, node10Layout.size().height, "height of node10");
        assertEquals(0.0f, node10Layout.location().x, "x of node10");
        assertEquals(0.0f, node10Layout.location().y, "y of node10");
        Layout node11Layout = tree.getLayout(node11);
        assertEquals(25.0f, node11Layout.size().width, "width of node11");
        assertEquals(10.0f, node11Layout.size().height, "height of node11");
        assertEquals(25.0f, node11Layout.location().x, "x of node11");
        assertEquals(0.0f, node11Layout.location().y, "y of node11");
        Layout node12Layout = tree.getLayout(node12);
        assertEquals(25.0f, node12Layout.size().width, "width of node12");
        assertEquals(20.0f, node12Layout.size().height, "height of node12");
        assertEquals(0.0f, node12Layout.location().x, "x of node12");
        assertEquals(20.0f, node12Layout.location().y, "y of node12");
        Layout node13Layout = tree.getLayout(node13);
        assertEquals(25.0f, node13Layout.size().width, "width of node13");
        assertEquals(10.0f, node13Layout.size().height, "height of node13");
        assertEquals(25.0f, node13Layout.location().x, "x of node13");
        assertEquals(20.0f, node13Layout.location().y, "y of node13");
    }

    @Test
    @DisplayName("align_baseline_child_padding__border_box")
    void alignBaselineChildPaddingBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node10Style = new Style();
        node10Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(10.0f));
        NodeId node10 = tree.newLeaf(node10Style);

        Style node1Style = new Style();
        node1Style.flexDirection = FlexDirection.COLUMN;
        node1Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(20.0f));
        node1Style.padding = new Rect<>(LengthPercentage.length(5.0f), LengthPercentage.length(5.0f), LengthPercentage.length(5.0f), LengthPercentage.length(5.0f));
        NodeId node1 = tree.newWithChildren(node1Style, node10);

        Style nodeStyle = new Style();
        nodeStyle.alignItems = AlignItems.BASELINE;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        nodeStyle.padding = new Rect<>(LengthPercentage.length(5.0f), LengthPercentage.length(5.0f), LengthPercentage.length(5.0f), LengthPercentage.length(5.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(50.0f, node0Layout.size().height, "height of node0");
        assertEquals(5.0f, node0Layout.location().x, "x of node0");
        assertEquals(5.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(50.0f, node1Layout.size().width, "width of node1");
        assertEquals(20.0f, node1Layout.size().height, "height of node1");
        assertEquals(45.0f, node1Layout.location().x, "x of node1");
        assertEquals(40.0f, node1Layout.location().y, "y of node1");
        Layout node10Layout = tree.getLayout(node10);
        assertEquals(50.0f, node10Layout.size().width, "width of node10");
        assertEquals(10.0f, node10Layout.size().height, "height of node10");
        assertEquals(5.0f, node10Layout.location().x, "x of node10");
        assertEquals(5.0f, node10Layout.location().y, "y of node10");
    }

    @Test
    @DisplayName("align_baseline_child_padding__content_box")
    void alignBaselineChildPaddingContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node10Style = new Style();
        node10Style.boxSizing = BoxSizing.CONTENT_BOX;
        node10Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(10.0f));
        NodeId node10 = tree.newLeaf(node10Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.flexDirection = FlexDirection.COLUMN;
        node1Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(20.0f));
        node1Style.padding = new Rect<>(LengthPercentage.length(5.0f), LengthPercentage.length(5.0f), LengthPercentage.length(5.0f), LengthPercentage.length(5.0f));
        NodeId node1 = tree.newWithChildren(node1Style, node10);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.alignItems = AlignItems.BASELINE;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        nodeStyle.padding = new Rect<>(LengthPercentage.length(5.0f), LengthPercentage.length(5.0f), LengthPercentage.length(5.0f), LengthPercentage.length(5.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(110.0f, nodeLayout.size().width, "width of node");
        assertEquals(110.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(50.0f, node0Layout.size().height, "height of node0");
        assertEquals(5.0f, node0Layout.location().x, "x of node0");
        assertEquals(5.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(60.0f, node1Layout.size().width, "width of node1");
        assertEquals(30.0f, node1Layout.size().height, "height of node1");
        assertEquals(45.0f, node1Layout.location().x, "x of node1");
        assertEquals(40.0f, node1Layout.location().y, "y of node1");
        Layout node10Layout = tree.getLayout(node10);
        assertEquals(50.0f, node10Layout.size().width, "width of node10");
        assertEquals(10.0f, node10Layout.size().height, "height of node10");
        assertEquals(5.0f, node10Layout.location().x, "x of node10");
        assertEquals(5.0f, node10Layout.location().y, "y of node10");
    }

    @Test
    @DisplayName("align_baseline_child_top__border_box")
    void alignBaselineChildTopBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        node0Style.inset = new Rect<>(LengthPercentageAuto.AUTO, LengthPercentageAuto.AUTO, LengthPercentageAuto.length(10.0f), LengthPercentageAuto.AUTO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style node10Style = new Style();
        node10Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(10.0f));
        NodeId node10 = tree.newLeaf(node10Style);

        Style node1Style = new Style();
        node1Style.flexDirection = FlexDirection.COLUMN;
        node1Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(20.0f));
        NodeId node1 = tree.newWithChildren(node1Style, node10);

        Style nodeStyle = new Style();
        nodeStyle.alignItems = AlignItems.BASELINE;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(50.0f, node0Layout.size().width, "width of node0");
        assertEquals(50.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(10.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(50.0f, node1Layout.size().width, "width of node1");
        assertEquals(20.0f, node1Layout.size().height, "height of node1");
        assertEquals(50.0f, node1Layout.location().x, "x of node1");
        assertEquals(40.0f, node1Layout.location().y, "y of node1");
        Layout node10Layout = tree.getLayout(node10);
        assertEquals(50.0f, node10Layout.size().width, "width of node10");
        assertEquals(10.0f, node10Layout.size().height, "height of node10");
        assertEquals(0.0f, node10Layout.location().x, "x of node10");
        assertEquals(0.0f, node10Layout.location().y, "y of node10");
    }

    @Test
    @DisplayName("align_baseline_child_top__content_box")
    void alignBaselineChildTopContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        node0Style.inset = new Rect<>(LengthPercentageAuto.AUTO, LengthPercentageAuto.AUTO, LengthPercentageAuto.length(10.0f), LengthPercentageAuto.AUTO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style node10Style = new Style();
        node10Style.boxSizing = BoxSizing.CONTENT_BOX;
        node10Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(10.0f));
        NodeId node10 = tree.newLeaf(node10Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.flexDirection = FlexDirection.COLUMN;
        node1Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(20.0f));
        NodeId node1 = tree.newWithChildren(node1Style, node10);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.alignItems = AlignItems.BASELINE;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(50.0f, node0Layout.size().width, "width of node0");
        assertEquals(50.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(10.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(50.0f, node1Layout.size().width, "width of node1");
        assertEquals(20.0f, node1Layout.size().height, "height of node1");
        assertEquals(50.0f, node1Layout.location().x, "x of node1");
        assertEquals(40.0f, node1Layout.location().y, "y of node1");
        Layout node10Layout = tree.getLayout(node10);
        assertEquals(50.0f, node10Layout.size().width, "width of node10");
        assertEquals(10.0f, node10Layout.size().height, "height of node10");
        assertEquals(0.0f, node10Layout.location().x, "x of node10");
        assertEquals(0.0f, node10Layout.location().y, "y of node10");
    }

    @Test
    @DisplayName("align_baseline_child_top2__border_box")
    void alignBaselineChildTop2BorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node10Style = new Style();
        node10Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(10.0f));
        NodeId node10 = tree.newLeaf(node10Style);

        Style node1Style = new Style();
        node1Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(20.0f));
        node1Style.inset = new Rect<>(LengthPercentageAuto.AUTO, LengthPercentageAuto.AUTO, LengthPercentageAuto.length(5.0f), LengthPercentageAuto.AUTO);
        NodeId node1 = tree.newWithChildren(node1Style, node10);

        Style nodeStyle = new Style();
        nodeStyle.alignItems = AlignItems.BASELINE;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(50.0f, node0Layout.size().width, "width of node0");
        assertEquals(50.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(50.0f, node1Layout.size().width, "width of node1");
        assertEquals(20.0f, node1Layout.size().height, "height of node1");
        assertEquals(50.0f, node1Layout.location().x, "x of node1");
        assertEquals(45.0f, node1Layout.location().y, "y of node1");
        Layout node10Layout = tree.getLayout(node10);
        assertEquals(50.0f, node10Layout.size().width, "width of node10");
        assertEquals(10.0f, node10Layout.size().height, "height of node10");
        assertEquals(0.0f, node10Layout.location().x, "x of node10");
        assertEquals(0.0f, node10Layout.location().y, "y of node10");
    }

    @Test
    @DisplayName("align_baseline_child_top2__content_box")
    void alignBaselineChildTop2ContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node10Style = new Style();
        node10Style.boxSizing = BoxSizing.CONTENT_BOX;
        node10Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(10.0f));
        NodeId node10 = tree.newLeaf(node10Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(20.0f));
        node1Style.inset = new Rect<>(LengthPercentageAuto.AUTO, LengthPercentageAuto.AUTO, LengthPercentageAuto.length(5.0f), LengthPercentageAuto.AUTO);
        NodeId node1 = tree.newWithChildren(node1Style, node10);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.alignItems = AlignItems.BASELINE;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(50.0f, node0Layout.size().width, "width of node0");
        assertEquals(50.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(50.0f, node1Layout.size().width, "width of node1");
        assertEquals(20.0f, node1Layout.size().height, "height of node1");
        assertEquals(50.0f, node1Layout.location().x, "x of node1");
        assertEquals(45.0f, node1Layout.location().y, "y of node1");
        Layout node10Layout = tree.getLayout(node10);
        assertEquals(50.0f, node10Layout.size().width, "width of node10");
        assertEquals(10.0f, node10Layout.size().height, "height of node10");
        assertEquals(0.0f, node10Layout.location().x, "x of node10");
        assertEquals(0.0f, node10Layout.location().y, "y of node10");
    }

    @Test
    @DisplayName("align_baseline_column__border_box")
    void alignBaselineColumnBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(20.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style nodeStyle = new Style();
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.alignItems = AlignItems.BASELINE;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(50.0f, node0Layout.size().width, "width of node0");
        assertEquals(50.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(50.0f, node1Layout.size().width, "width of node1");
        assertEquals(20.0f, node1Layout.size().height, "height of node1");
        assertEquals(0.0f, node1Layout.location().x, "x of node1");
        assertEquals(50.0f, node1Layout.location().y, "y of node1");
    }

    @Test
    @DisplayName("align_baseline_column__content_box")
    void alignBaselineColumnContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(20.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.alignItems = AlignItems.BASELINE;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(50.0f, node0Layout.size().width, "width of node0");
        assertEquals(50.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(50.0f, node1Layout.size().width, "width of node1");
        assertEquals(20.0f, node1Layout.size().height, "height of node1");
        assertEquals(0.0f, node1Layout.location().x, "x of node1");
        assertEquals(50.0f, node1Layout.location().y, "y of node1");
    }

    @Test
    @DisplayName("align_baseline_double_nested_child__border_box")
    void alignBaselineDoubleNestedChildBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(20.0f));
        NodeId node00 = tree.newLeaf(node00Style);

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        NodeId node0 = tree.newWithChildren(node0Style, node00);

        Style node10Style = new Style();
        node10Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(15.0f));
        NodeId node10 = tree.newLeaf(node10Style);

        Style node1Style = new Style();
        node1Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(20.0f));
        NodeId node1 = tree.newWithChildren(node1Style, node10);

        Style nodeStyle = new Style();
        nodeStyle.alignItems = AlignItems.BASELINE;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(50.0f, node0Layout.size().width, "width of node0");
        assertEquals(50.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(50.0f, node00Layout.size().width, "width of node00");
        assertEquals(20.0f, node00Layout.size().height, "height of node00");
        assertEquals(0.0f, node00Layout.location().x, "x of node00");
        assertEquals(0.0f, node00Layout.location().y, "y of node00");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(50.0f, node1Layout.size().width, "width of node1");
        assertEquals(20.0f, node1Layout.size().height, "height of node1");
        assertEquals(50.0f, node1Layout.location().x, "x of node1");
        assertEquals(5.0f, node1Layout.location().y, "y of node1");
        Layout node10Layout = tree.getLayout(node10);
        assertEquals(50.0f, node10Layout.size().width, "width of node10");
        assertEquals(15.0f, node10Layout.size().height, "height of node10");
        assertEquals(0.0f, node10Layout.location().x, "x of node10");
        assertEquals(0.0f, node10Layout.location().y, "y of node10");
    }

    @Test
    @DisplayName("align_baseline_double_nested_child__content_box")
    void alignBaselineDoubleNestedChildContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.boxSizing = BoxSizing.CONTENT_BOX;
        node00Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(20.0f));
        NodeId node00 = tree.newLeaf(node00Style);

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        NodeId node0 = tree.newWithChildren(node0Style, node00);

        Style node10Style = new Style();
        node10Style.boxSizing = BoxSizing.CONTENT_BOX;
        node10Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(15.0f));
        NodeId node10 = tree.newLeaf(node10Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(20.0f));
        NodeId node1 = tree.newWithChildren(node1Style, node10);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.alignItems = AlignItems.BASELINE;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(50.0f, node0Layout.size().width, "width of node0");
        assertEquals(50.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(50.0f, node00Layout.size().width, "width of node00");
        assertEquals(20.0f, node00Layout.size().height, "height of node00");
        assertEquals(0.0f, node00Layout.location().x, "x of node00");
        assertEquals(0.0f, node00Layout.location().y, "y of node00");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(50.0f, node1Layout.size().width, "width of node1");
        assertEquals(20.0f, node1Layout.size().height, "height of node1");
        assertEquals(50.0f, node1Layout.location().x, "x of node1");
        assertEquals(5.0f, node1Layout.location().y, "y of node1");
        Layout node10Layout = tree.getLayout(node10);
        assertEquals(50.0f, node10Layout.size().width, "width of node10");
        assertEquals(15.0f, node10Layout.size().height, "height of node10");
        assertEquals(0.0f, node10Layout.location().x, "x of node10");
        assertEquals(0.0f, node10Layout.location().y, "y of node10");
    }

    @Test
    @DisplayName("align_baseline_multiline__border_box")
    void alignBaselineMultilineBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node10Style = new Style();
        node10Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(10.0f));
        NodeId node10 = tree.newLeaf(node10Style);

        Style node1Style = new Style();
        node1Style.flexDirection = FlexDirection.COLUMN;
        node1Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(20.0f));
        NodeId node1 = tree.newWithChildren(node1Style, node10);

        Style node20Style = new Style();
        node20Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(10.0f));
        NodeId node20 = tree.newLeaf(node20Style);

        Style node2Style = new Style();
        node2Style.flexDirection = FlexDirection.COLUMN;
        node2Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(20.0f));
        NodeId node2 = tree.newWithChildren(node2Style, node20);

        Style node3Style = new Style();
        node3Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        NodeId node3 = tree.newLeaf(node3Style);

        Style nodeStyle = new Style();
        nodeStyle.flexWrap = FlexWrap.WRAP;
        nodeStyle.alignItems = AlignItems.BASELINE;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(50.0f, node0Layout.size().width, "width of node0");
        assertEquals(50.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(50.0f, node1Layout.size().width, "width of node1");
        assertEquals(20.0f, node1Layout.size().height, "height of node1");
        assertEquals(50.0f, node1Layout.location().x, "x of node1");
        assertEquals(40.0f, node1Layout.location().y, "y of node1");
        Layout node10Layout = tree.getLayout(node10);
        assertEquals(50.0f, node10Layout.size().width, "width of node10");
        assertEquals(10.0f, node10Layout.size().height, "height of node10");
        assertEquals(0.0f, node10Layout.location().x, "x of node10");
        assertEquals(0.0f, node10Layout.location().y, "y of node10");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(50.0f, node2Layout.size().width, "width of node2");
        assertEquals(20.0f, node2Layout.size().height, "height of node2");
        assertEquals(0.0f, node2Layout.location().x, "x of node2");
        assertEquals(100.0f, node2Layout.location().y, "y of node2");
        Layout node20Layout = tree.getLayout(node20);
        assertEquals(50.0f, node20Layout.size().width, "width of node20");
        assertEquals(10.0f, node20Layout.size().height, "height of node20");
        assertEquals(0.0f, node20Layout.location().x, "x of node20");
        assertEquals(0.0f, node20Layout.location().y, "y of node20");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(50.0f, node3Layout.size().width, "width of node3");
        assertEquals(50.0f, node3Layout.size().height, "height of node3");
        assertEquals(50.0f, node3Layout.location().x, "x of node3");
        assertEquals(60.0f, node3Layout.location().y, "y of node3");
    }

    @Test
    @DisplayName("align_baseline_multiline__content_box")
    void alignBaselineMultilineContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node10Style = new Style();
        node10Style.boxSizing = BoxSizing.CONTENT_BOX;
        node10Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(10.0f));
        NodeId node10 = tree.newLeaf(node10Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.flexDirection = FlexDirection.COLUMN;
        node1Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(20.0f));
        NodeId node1 = tree.newWithChildren(node1Style, node10);

        Style node20Style = new Style();
        node20Style.boxSizing = BoxSizing.CONTENT_BOX;
        node20Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(10.0f));
        NodeId node20 = tree.newLeaf(node20Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        node2Style.flexDirection = FlexDirection.COLUMN;
        node2Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(20.0f));
        NodeId node2 = tree.newWithChildren(node2Style, node20);

        Style node3Style = new Style();
        node3Style.boxSizing = BoxSizing.CONTENT_BOX;
        node3Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        NodeId node3 = tree.newLeaf(node3Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexWrap = FlexWrap.WRAP;
        nodeStyle.alignItems = AlignItems.BASELINE;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(50.0f, node0Layout.size().width, "width of node0");
        assertEquals(50.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(50.0f, node1Layout.size().width, "width of node1");
        assertEquals(20.0f, node1Layout.size().height, "height of node1");
        assertEquals(50.0f, node1Layout.location().x, "x of node1");
        assertEquals(40.0f, node1Layout.location().y, "y of node1");
        Layout node10Layout = tree.getLayout(node10);
        assertEquals(50.0f, node10Layout.size().width, "width of node10");
        assertEquals(10.0f, node10Layout.size().height, "height of node10");
        assertEquals(0.0f, node10Layout.location().x, "x of node10");
        assertEquals(0.0f, node10Layout.location().y, "y of node10");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(50.0f, node2Layout.size().width, "width of node2");
        assertEquals(20.0f, node2Layout.size().height, "height of node2");
        assertEquals(0.0f, node2Layout.location().x, "x of node2");
        assertEquals(100.0f, node2Layout.location().y, "y of node2");
        Layout node20Layout = tree.getLayout(node20);
        assertEquals(50.0f, node20Layout.size().width, "width of node20");
        assertEquals(10.0f, node20Layout.size().height, "height of node20");
        assertEquals(0.0f, node20Layout.location().x, "x of node20");
        assertEquals(0.0f, node20Layout.location().y, "y of node20");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(50.0f, node3Layout.size().width, "width of node3");
        assertEquals(50.0f, node3Layout.size().height, "height of node3");
        assertEquals(50.0f, node3Layout.location().x, "x of node3");
        assertEquals(60.0f, node3Layout.location().y, "y of node3");
    }

    @Test
    @DisplayName("align_baseline_multiline_column__border_box")
    void alignBaselineMultilineColumnBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node10Style = new Style();
        node10Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        NodeId node10 = tree.newLeaf(node10Style);

        Style node1Style = new Style();
        node1Style.flexDirection = FlexDirection.COLUMN;
        node1Style.size = new Size<>(Dimension.length(30.0f), Dimension.length(50.0f));
        NodeId node1 = tree.newWithChildren(node1Style, node10);

        Style node20Style = new Style();
        node20Style.size = new Size<>(Dimension.length(10.0f), Dimension.length(10.0f));
        NodeId node20 = tree.newLeaf(node20Style);

        Style node2Style = new Style();
        node2Style.flexDirection = FlexDirection.COLUMN;
        node2Style.size = new Size<>(Dimension.length(40.0f), Dimension.length(70.0f));
        NodeId node2 = tree.newWithChildren(node2Style, node20);

        Style node3Style = new Style();
        node3Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(20.0f));
        NodeId node3 = tree.newLeaf(node3Style);

        Style nodeStyle = new Style();
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.flexWrap = FlexWrap.WRAP;
        nodeStyle.alignItems = AlignItems.BASELINE;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(50.0f, node0Layout.size().width, "width of node0");
        assertEquals(50.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(30.0f, node1Layout.size().width, "width of node1");
        assertEquals(50.0f, node1Layout.size().height, "height of node1");
        assertEquals(0.0f, node1Layout.location().x, "x of node1");
        assertEquals(50.0f, node1Layout.location().y, "y of node1");
        Layout node10Layout = tree.getLayout(node10);
        assertEquals(20.0f, node10Layout.size().width, "width of node10");
        assertEquals(20.0f, node10Layout.size().height, "height of node10");
        assertEquals(0.0f, node10Layout.location().x, "x of node10");
        assertEquals(0.0f, node10Layout.location().y, "y of node10");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(40.0f, node2Layout.size().width, "width of node2");
        assertEquals(70.0f, node2Layout.size().height, "height of node2");
        assertEquals(50.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
        Layout node20Layout = tree.getLayout(node20);
        assertEquals(10.0f, node20Layout.size().width, "width of node20");
        assertEquals(10.0f, node20Layout.size().height, "height of node20");
        assertEquals(0.0f, node20Layout.location().x, "x of node20");
        assertEquals(0.0f, node20Layout.location().y, "y of node20");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(50.0f, node3Layout.size().width, "width of node3");
        assertEquals(20.0f, node3Layout.size().height, "height of node3");
        assertEquals(50.0f, node3Layout.location().x, "x of node3");
        assertEquals(70.0f, node3Layout.location().y, "y of node3");
    }

    @Test
    @DisplayName("align_baseline_multiline_column__content_box")
    void alignBaselineMultilineColumnContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node10Style = new Style();
        node10Style.boxSizing = BoxSizing.CONTENT_BOX;
        node10Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        NodeId node10 = tree.newLeaf(node10Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.flexDirection = FlexDirection.COLUMN;
        node1Style.size = new Size<>(Dimension.length(30.0f), Dimension.length(50.0f));
        NodeId node1 = tree.newWithChildren(node1Style, node10);

        Style node20Style = new Style();
        node20Style.boxSizing = BoxSizing.CONTENT_BOX;
        node20Style.size = new Size<>(Dimension.length(10.0f), Dimension.length(10.0f));
        NodeId node20 = tree.newLeaf(node20Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        node2Style.flexDirection = FlexDirection.COLUMN;
        node2Style.size = new Size<>(Dimension.length(40.0f), Dimension.length(70.0f));
        NodeId node2 = tree.newWithChildren(node2Style, node20);

        Style node3Style = new Style();
        node3Style.boxSizing = BoxSizing.CONTENT_BOX;
        node3Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(20.0f));
        NodeId node3 = tree.newLeaf(node3Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.flexWrap = FlexWrap.WRAP;
        nodeStyle.alignItems = AlignItems.BASELINE;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(50.0f, node0Layout.size().width, "width of node0");
        assertEquals(50.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(30.0f, node1Layout.size().width, "width of node1");
        assertEquals(50.0f, node1Layout.size().height, "height of node1");
        assertEquals(0.0f, node1Layout.location().x, "x of node1");
        assertEquals(50.0f, node1Layout.location().y, "y of node1");
        Layout node10Layout = tree.getLayout(node10);
        assertEquals(20.0f, node10Layout.size().width, "width of node10");
        assertEquals(20.0f, node10Layout.size().height, "height of node10");
        assertEquals(0.0f, node10Layout.location().x, "x of node10");
        assertEquals(0.0f, node10Layout.location().y, "y of node10");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(40.0f, node2Layout.size().width, "width of node2");
        assertEquals(70.0f, node2Layout.size().height, "height of node2");
        assertEquals(50.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
        Layout node20Layout = tree.getLayout(node20);
        assertEquals(10.0f, node20Layout.size().width, "width of node20");
        assertEquals(10.0f, node20Layout.size().height, "height of node20");
        assertEquals(0.0f, node20Layout.location().x, "x of node20");
        assertEquals(0.0f, node20Layout.location().y, "y of node20");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(50.0f, node3Layout.size().width, "width of node3");
        assertEquals(20.0f, node3Layout.size().height, "height of node3");
        assertEquals(50.0f, node3Layout.location().x, "x of node3");
        assertEquals(70.0f, node3Layout.location().y, "y of node3");
    }

    @Test
    @DisplayName("align_baseline_multiline_column2__border_box")
    void alignBaselineMultilineColumn2BorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.flexDirection = FlexDirection.COLUMN;
        node0Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node10Style = new Style();
        node10Style.flexDirection = FlexDirection.COLUMN;
        node10Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        NodeId node10 = tree.newLeaf(node10Style);

        Style node1Style = new Style();
        node1Style.flexDirection = FlexDirection.COLUMN;
        node1Style.size = new Size<>(Dimension.length(30.0f), Dimension.length(50.0f));
        NodeId node1 = tree.newWithChildren(node1Style, node10);

        Style node20Style = new Style();
        node20Style.flexDirection = FlexDirection.COLUMN;
        node20Style.size = new Size<>(Dimension.length(10.0f), Dimension.length(10.0f));
        NodeId node20 = tree.newLeaf(node20Style);

        Style node2Style = new Style();
        node2Style.flexDirection = FlexDirection.COLUMN;
        node2Style.size = new Size<>(Dimension.length(40.0f), Dimension.length(70.0f));
        NodeId node2 = tree.newWithChildren(node2Style, node20);

        Style node3Style = new Style();
        node3Style.flexDirection = FlexDirection.COLUMN;
        node3Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(20.0f));
        NodeId node3 = tree.newLeaf(node3Style);

        Style nodeStyle = new Style();
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.flexWrap = FlexWrap.WRAP;
        nodeStyle.alignItems = AlignItems.BASELINE;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(50.0f, node0Layout.size().width, "width of node0");
        assertEquals(50.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(30.0f, node1Layout.size().width, "width of node1");
        assertEquals(50.0f, node1Layout.size().height, "height of node1");
        assertEquals(0.0f, node1Layout.location().x, "x of node1");
        assertEquals(50.0f, node1Layout.location().y, "y of node1");
        Layout node10Layout = tree.getLayout(node10);
        assertEquals(20.0f, node10Layout.size().width, "width of node10");
        assertEquals(20.0f, node10Layout.size().height, "height of node10");
        assertEquals(0.0f, node10Layout.location().x, "x of node10");
        assertEquals(0.0f, node10Layout.location().y, "y of node10");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(40.0f, node2Layout.size().width, "width of node2");
        assertEquals(70.0f, node2Layout.size().height, "height of node2");
        assertEquals(50.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
        Layout node20Layout = tree.getLayout(node20);
        assertEquals(10.0f, node20Layout.size().width, "width of node20");
        assertEquals(10.0f, node20Layout.size().height, "height of node20");
        assertEquals(0.0f, node20Layout.location().x, "x of node20");
        assertEquals(0.0f, node20Layout.location().y, "y of node20");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(50.0f, node3Layout.size().width, "width of node3");
        assertEquals(20.0f, node3Layout.size().height, "height of node3");
        assertEquals(50.0f, node3Layout.location().x, "x of node3");
        assertEquals(70.0f, node3Layout.location().y, "y of node3");
    }

    @Test
    @DisplayName("align_baseline_multiline_column2__content_box")
    void alignBaselineMultilineColumn2ContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.flexDirection = FlexDirection.COLUMN;
        node0Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node10Style = new Style();
        node10Style.boxSizing = BoxSizing.CONTENT_BOX;
        node10Style.flexDirection = FlexDirection.COLUMN;
        node10Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        NodeId node10 = tree.newLeaf(node10Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.flexDirection = FlexDirection.COLUMN;
        node1Style.size = new Size<>(Dimension.length(30.0f), Dimension.length(50.0f));
        NodeId node1 = tree.newWithChildren(node1Style, node10);

        Style node20Style = new Style();
        node20Style.boxSizing = BoxSizing.CONTENT_BOX;
        node20Style.flexDirection = FlexDirection.COLUMN;
        node20Style.size = new Size<>(Dimension.length(10.0f), Dimension.length(10.0f));
        NodeId node20 = tree.newLeaf(node20Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        node2Style.flexDirection = FlexDirection.COLUMN;
        node2Style.size = new Size<>(Dimension.length(40.0f), Dimension.length(70.0f));
        NodeId node2 = tree.newWithChildren(node2Style, node20);

        Style node3Style = new Style();
        node3Style.boxSizing = BoxSizing.CONTENT_BOX;
        node3Style.flexDirection = FlexDirection.COLUMN;
        node3Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(20.0f));
        NodeId node3 = tree.newLeaf(node3Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.flexWrap = FlexWrap.WRAP;
        nodeStyle.alignItems = AlignItems.BASELINE;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(50.0f, node0Layout.size().width, "width of node0");
        assertEquals(50.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(30.0f, node1Layout.size().width, "width of node1");
        assertEquals(50.0f, node1Layout.size().height, "height of node1");
        assertEquals(0.0f, node1Layout.location().x, "x of node1");
        assertEquals(50.0f, node1Layout.location().y, "y of node1");
        Layout node10Layout = tree.getLayout(node10);
        assertEquals(20.0f, node10Layout.size().width, "width of node10");
        assertEquals(20.0f, node10Layout.size().height, "height of node10");
        assertEquals(0.0f, node10Layout.location().x, "x of node10");
        assertEquals(0.0f, node10Layout.location().y, "y of node10");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(40.0f, node2Layout.size().width, "width of node2");
        assertEquals(70.0f, node2Layout.size().height, "height of node2");
        assertEquals(50.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
        Layout node20Layout = tree.getLayout(node20);
        assertEquals(10.0f, node20Layout.size().width, "width of node20");
        assertEquals(10.0f, node20Layout.size().height, "height of node20");
        assertEquals(0.0f, node20Layout.location().x, "x of node20");
        assertEquals(0.0f, node20Layout.location().y, "y of node20");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(50.0f, node3Layout.size().width, "width of node3");
        assertEquals(20.0f, node3Layout.size().height, "height of node3");
        assertEquals(50.0f, node3Layout.location().x, "x of node3");
        assertEquals(70.0f, node3Layout.location().y, "y of node3");
    }

    @Test
    @DisplayName("align_baseline_multiline_row_and_column__border_box")
    void alignBaselineMultilineRowAndColumnBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node10Style = new Style();
        node10Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(10.0f));
        NodeId node10 = tree.newLeaf(node10Style);

        Style node1Style = new Style();
        node1Style.flexDirection = FlexDirection.COLUMN;
        node1Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        NodeId node1 = tree.newWithChildren(node1Style, node10);

        Style node20Style = new Style();
        node20Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(10.0f));
        NodeId node20 = tree.newLeaf(node20Style);

        Style node2Style = new Style();
        node2Style.flexDirection = FlexDirection.COLUMN;
        node2Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(20.0f));
        NodeId node2 = tree.newWithChildren(node2Style, node20);

        Style node3Style = new Style();
        node3Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(20.0f));
        NodeId node3 = tree.newLeaf(node3Style);

        Style nodeStyle = new Style();
        nodeStyle.flexWrap = FlexWrap.WRAP;
        nodeStyle.alignItems = AlignItems.BASELINE;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(50.0f, node0Layout.size().width, "width of node0");
        assertEquals(50.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(50.0f, node1Layout.size().width, "width of node1");
        assertEquals(50.0f, node1Layout.size().height, "height of node1");
        assertEquals(50.0f, node1Layout.location().x, "x of node1");
        assertEquals(40.0f, node1Layout.location().y, "y of node1");
        Layout node10Layout = tree.getLayout(node10);
        assertEquals(50.0f, node10Layout.size().width, "width of node10");
        assertEquals(10.0f, node10Layout.size().height, "height of node10");
        assertEquals(0.0f, node10Layout.location().x, "x of node10");
        assertEquals(0.0f, node10Layout.location().y, "y of node10");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(50.0f, node2Layout.size().width, "width of node2");
        assertEquals(20.0f, node2Layout.size().height, "height of node2");
        assertEquals(0.0f, node2Layout.location().x, "x of node2");
        assertEquals(100.0f, node2Layout.location().y, "y of node2");
        Layout node20Layout = tree.getLayout(node20);
        assertEquals(50.0f, node20Layout.size().width, "width of node20");
        assertEquals(10.0f, node20Layout.size().height, "height of node20");
        assertEquals(0.0f, node20Layout.location().x, "x of node20");
        assertEquals(0.0f, node20Layout.location().y, "y of node20");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(50.0f, node3Layout.size().width, "width of node3");
        assertEquals(20.0f, node3Layout.size().height, "height of node3");
        assertEquals(50.0f, node3Layout.location().x, "x of node3");
        assertEquals(90.0f, node3Layout.location().y, "y of node3");
    }

    @Test
    @DisplayName("align_baseline_multiline_row_and_column__content_box")
    void alignBaselineMultilineRowAndColumnContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node10Style = new Style();
        node10Style.boxSizing = BoxSizing.CONTENT_BOX;
        node10Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(10.0f));
        NodeId node10 = tree.newLeaf(node10Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.flexDirection = FlexDirection.COLUMN;
        node1Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        NodeId node1 = tree.newWithChildren(node1Style, node10);

        Style node20Style = new Style();
        node20Style.boxSizing = BoxSizing.CONTENT_BOX;
        node20Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(10.0f));
        NodeId node20 = tree.newLeaf(node20Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        node2Style.flexDirection = FlexDirection.COLUMN;
        node2Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(20.0f));
        NodeId node2 = tree.newWithChildren(node2Style, node20);

        Style node3Style = new Style();
        node3Style.boxSizing = BoxSizing.CONTENT_BOX;
        node3Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(20.0f));
        NodeId node3 = tree.newLeaf(node3Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexWrap = FlexWrap.WRAP;
        nodeStyle.alignItems = AlignItems.BASELINE;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(50.0f, node0Layout.size().width, "width of node0");
        assertEquals(50.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(50.0f, node1Layout.size().width, "width of node1");
        assertEquals(50.0f, node1Layout.size().height, "height of node1");
        assertEquals(50.0f, node1Layout.location().x, "x of node1");
        assertEquals(40.0f, node1Layout.location().y, "y of node1");
        Layout node10Layout = tree.getLayout(node10);
        assertEquals(50.0f, node10Layout.size().width, "width of node10");
        assertEquals(10.0f, node10Layout.size().height, "height of node10");
        assertEquals(0.0f, node10Layout.location().x, "x of node10");
        assertEquals(0.0f, node10Layout.location().y, "y of node10");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(50.0f, node2Layout.size().width, "width of node2");
        assertEquals(20.0f, node2Layout.size().height, "height of node2");
        assertEquals(0.0f, node2Layout.location().x, "x of node2");
        assertEquals(100.0f, node2Layout.location().y, "y of node2");
        Layout node20Layout = tree.getLayout(node20);
        assertEquals(50.0f, node20Layout.size().width, "width of node20");
        assertEquals(10.0f, node20Layout.size().height, "height of node20");
        assertEquals(0.0f, node20Layout.location().x, "x of node20");
        assertEquals(0.0f, node20Layout.location().y, "y of node20");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(50.0f, node3Layout.size().width, "width of node3");
        assertEquals(20.0f, node3Layout.size().height, "height of node3");
        assertEquals(50.0f, node3Layout.location().x, "x of node3");
        assertEquals(90.0f, node3Layout.location().y, "y of node3");
    }

    @Test
    @DisplayName("align_baseline_nested_child__border_box")
    void alignBaselineNestedChildBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node10Style = new Style();
        node10Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(10.0f));
        NodeId node10 = tree.newLeaf(node10Style);

        Style node1Style = new Style();
        node1Style.flexDirection = FlexDirection.COLUMN;
        node1Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(20.0f));
        NodeId node1 = tree.newWithChildren(node1Style, node10);

        Style nodeStyle = new Style();
        nodeStyle.alignItems = AlignItems.BASELINE;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(50.0f, node0Layout.size().width, "width of node0");
        assertEquals(50.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(50.0f, node1Layout.size().width, "width of node1");
        assertEquals(20.0f, node1Layout.size().height, "height of node1");
        assertEquals(50.0f, node1Layout.location().x, "x of node1");
        assertEquals(40.0f, node1Layout.location().y, "y of node1");
        Layout node10Layout = tree.getLayout(node10);
        assertEquals(50.0f, node10Layout.size().width, "width of node10");
        assertEquals(10.0f, node10Layout.size().height, "height of node10");
        assertEquals(0.0f, node10Layout.location().x, "x of node10");
        assertEquals(0.0f, node10Layout.location().y, "y of node10");
    }

    @Test
    @DisplayName("align_baseline_nested_child__content_box")
    void alignBaselineNestedChildContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node10Style = new Style();
        node10Style.boxSizing = BoxSizing.CONTENT_BOX;
        node10Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(10.0f));
        NodeId node10 = tree.newLeaf(node10Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.flexDirection = FlexDirection.COLUMN;
        node1Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(20.0f));
        NodeId node1 = tree.newWithChildren(node1Style, node10);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.alignItems = AlignItems.BASELINE;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(50.0f, node0Layout.size().width, "width of node0");
        assertEquals(50.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(50.0f, node1Layout.size().width, "width of node1");
        assertEquals(20.0f, node1Layout.size().height, "height of node1");
        assertEquals(50.0f, node1Layout.location().x, "x of node1");
        assertEquals(40.0f, node1Layout.location().y, "y of node1");
        Layout node10Layout = tree.getLayout(node10);
        assertEquals(50.0f, node10Layout.size().width, "width of node10");
        assertEquals(10.0f, node10Layout.size().height, "height of node10");
        assertEquals(0.0f, node10Layout.location().x, "x of node10");
        assertEquals(0.0f, node10Layout.location().y, "y of node10");
    }

    @Test
    @DisplayName("align_baseline_nested_column__border_box")
    void alignBaselineNestedColumnBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(60.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node100Style = new Style();
        node100Style.flexDirection = FlexDirection.COLUMN;
        node100Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(30.0f));
        NodeId node100 = tree.newLeaf(node100Style);

        Style node101Style = new Style();
        node101Style.flexDirection = FlexDirection.COLUMN;
        node101Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(40.0f));
        NodeId node101 = tree.newLeaf(node101Style);

        Style node10Style = new Style();
        node10Style.flexDirection = FlexDirection.COLUMN;
        node10Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(80.0f));
        NodeId node10 = tree.newWithChildren(node10Style, node100, node101);

        Style node1Style = new Style();
        node1Style.flexDirection = FlexDirection.COLUMN;
        NodeId node1 = tree.newWithChildren(node1Style, node10);

        Style nodeStyle = new Style();
        nodeStyle.alignItems = AlignItems.BASELINE;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(50.0f, node0Layout.size().width, "width of node0");
        assertEquals(60.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(50.0f, node1Layout.size().width, "width of node1");
        assertEquals(80.0f, node1Layout.size().height, "height of node1");
        assertEquals(50.0f, node1Layout.location().x, "x of node1");
        assertEquals(30.0f, node1Layout.location().y, "y of node1");
        Layout node10Layout = tree.getLayout(node10);
        assertEquals(50.0f, node10Layout.size().width, "width of node10");
        assertEquals(80.0f, node10Layout.size().height, "height of node10");
        assertEquals(0.0f, node10Layout.location().x, "x of node10");
        assertEquals(0.0f, node10Layout.location().y, "y of node10");
        Layout node100Layout = tree.getLayout(node100);
        assertEquals(50.0f, node100Layout.size().width, "width of node100");
        assertEquals(30.0f, node100Layout.size().height, "height of node100");
        assertEquals(0.0f, node100Layout.location().x, "x of node100");
        assertEquals(0.0f, node100Layout.location().y, "y of node100");
        Layout node101Layout = tree.getLayout(node101);
        assertEquals(50.0f, node101Layout.size().width, "width of node101");
        assertEquals(40.0f, node101Layout.size().height, "height of node101");
        assertEquals(0.0f, node101Layout.location().x, "x of node101");
        assertEquals(30.0f, node101Layout.location().y, "y of node101");
    }

    @Test
    @DisplayName("align_baseline_nested_column__content_box")
    void alignBaselineNestedColumnContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(60.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node100Style = new Style();
        node100Style.boxSizing = BoxSizing.CONTENT_BOX;
        node100Style.flexDirection = FlexDirection.COLUMN;
        node100Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(30.0f));
        NodeId node100 = tree.newLeaf(node100Style);

        Style node101Style = new Style();
        node101Style.boxSizing = BoxSizing.CONTENT_BOX;
        node101Style.flexDirection = FlexDirection.COLUMN;
        node101Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(40.0f));
        NodeId node101 = tree.newLeaf(node101Style);

        Style node10Style = new Style();
        node10Style.boxSizing = BoxSizing.CONTENT_BOX;
        node10Style.flexDirection = FlexDirection.COLUMN;
        node10Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(80.0f));
        NodeId node10 = tree.newWithChildren(node10Style, node100, node101);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.flexDirection = FlexDirection.COLUMN;
        NodeId node1 = tree.newWithChildren(node1Style, node10);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.alignItems = AlignItems.BASELINE;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(50.0f, node0Layout.size().width, "width of node0");
        assertEquals(60.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(50.0f, node1Layout.size().width, "width of node1");
        assertEquals(80.0f, node1Layout.size().height, "height of node1");
        assertEquals(50.0f, node1Layout.location().x, "x of node1");
        assertEquals(30.0f, node1Layout.location().y, "y of node1");
        Layout node10Layout = tree.getLayout(node10);
        assertEquals(50.0f, node10Layout.size().width, "width of node10");
        assertEquals(80.0f, node10Layout.size().height, "height of node10");
        assertEquals(0.0f, node10Layout.location().x, "x of node10");
        assertEquals(0.0f, node10Layout.location().y, "y of node10");
        Layout node100Layout = tree.getLayout(node100);
        assertEquals(50.0f, node100Layout.size().width, "width of node100");
        assertEquals(30.0f, node100Layout.size().height, "height of node100");
        assertEquals(0.0f, node100Layout.location().x, "x of node100");
        assertEquals(0.0f, node100Layout.location().y, "y of node100");
        Layout node101Layout = tree.getLayout(node101);
        assertEquals(50.0f, node101Layout.size().width, "width of node101");
        assertEquals(40.0f, node101Layout.size().height, "height of node101");
        assertEquals(0.0f, node101Layout.location().x, "x of node101");
        assertEquals(30.0f, node101Layout.location().y, "y of node101");
    }

    @Test
    @DisplayName("align_center_should_size_based_on_content__border_box")
    void alignCenterShouldSizeBasedOnContentBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node000Style = new Style();
        node000Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        NodeId node000 = tree.newLeaf(node000Style);

        Style node00Style = new Style();
        node00Style.flexGrow = 1.0f;
        node00Style.flexShrink = 1.0f;
        NodeId node00 = tree.newWithChildren(node00Style, node000);

        Style node0Style = new Style();
        node0Style.justifyContent = AlignContent.CENTER;
        node0Style.flexGrow = 0.0f;
        node0Style.flexShrink = 1.0f;
        NodeId node0 = tree.newWithChildren(node0Style, node00);

        Style nodeStyle = new Style();
        nodeStyle.alignItems = AlignItems.CENTER;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(20.0f, node0Layout.size().width, "width of node0");
        assertEquals(20.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(40.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(20.0f, node00Layout.size().width, "width of node00");
        assertEquals(20.0f, node00Layout.size().height, "height of node00");
        assertEquals(0.0f, node00Layout.location().x, "x of node00");
        assertEquals(0.0f, node00Layout.location().y, "y of node00");
        Layout node000Layout = tree.getLayout(node000);
        assertEquals(20.0f, node000Layout.size().width, "width of node000");
        assertEquals(20.0f, node000Layout.size().height, "height of node000");
        assertEquals(0.0f, node000Layout.location().x, "x of node000");
        assertEquals(0.0f, node000Layout.location().y, "y of node000");
    }

    @Test
    @DisplayName("align_center_should_size_based_on_content__content_box")
    void alignCenterShouldSizeBasedOnContentContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node000Style = new Style();
        node000Style.boxSizing = BoxSizing.CONTENT_BOX;
        node000Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        NodeId node000 = tree.newLeaf(node000Style);

        Style node00Style = new Style();
        node00Style.boxSizing = BoxSizing.CONTENT_BOX;
        node00Style.flexGrow = 1.0f;
        node00Style.flexShrink = 1.0f;
        NodeId node00 = tree.newWithChildren(node00Style, node000);

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.justifyContent = AlignContent.CENTER;
        node0Style.flexGrow = 0.0f;
        node0Style.flexShrink = 1.0f;
        NodeId node0 = tree.newWithChildren(node0Style, node00);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.alignItems = AlignItems.CENTER;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(20.0f, node0Layout.size().width, "width of node0");
        assertEquals(20.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(40.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(20.0f, node00Layout.size().width, "width of node00");
        assertEquals(20.0f, node00Layout.size().height, "height of node00");
        assertEquals(0.0f, node00Layout.location().x, "x of node00");
        assertEquals(0.0f, node00Layout.location().y, "y of node00");
        Layout node000Layout = tree.getLayout(node000);
        assertEquals(20.0f, node000Layout.size().width, "width of node000");
        assertEquals(20.0f, node000Layout.size().height, "height of node000");
        assertEquals(0.0f, node000Layout.location().x, "x of node000");
        assertEquals(0.0f, node000Layout.location().y, "y of node000");
    }

    @Test
    @DisplayName("align_content_center_single_line__border_box")
    void alignContentCenterSingleLineBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(10.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(10.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(10.0f));
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        node3Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(10.0f));
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        node4Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(10.0f));
        NodeId node4 = tree.newLeaf(node4Style);

        Style node5Style = new Style();
        node5Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(10.0f));
        NodeId node5 = tree.newLeaf(node5Style);

        Style nodeStyle = new Style();
        nodeStyle.alignContent = AlignContent.CENTER;
        nodeStyle.size = new Size<>(Dimension.length(120.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(120.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(20.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(20.0f, node1Layout.size().width, "width of node1");
        assertEquals(10.0f, node1Layout.size().height, "height of node1");
        assertEquals(20.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(20.0f, node2Layout.size().width, "width of node2");
        assertEquals(10.0f, node2Layout.size().height, "height of node2");
        assertEquals(40.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(20.0f, node3Layout.size().width, "width of node3");
        assertEquals(10.0f, node3Layout.size().height, "height of node3");
        assertEquals(60.0f, node3Layout.location().x, "x of node3");
        assertEquals(0.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(20.0f, node4Layout.size().width, "width of node4");
        assertEquals(10.0f, node4Layout.size().height, "height of node4");
        assertEquals(80.0f, node4Layout.location().x, "x of node4");
        assertEquals(0.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(20.0f, node5Layout.size().width, "width of node5");
        assertEquals(10.0f, node5Layout.size().height, "height of node5");
        assertEquals(100.0f, node5Layout.location().x, "x of node5");
        assertEquals(0.0f, node5Layout.location().y, "y of node5");
    }

    @Test
    @DisplayName("align_content_center_single_line__content_box")
    void alignContentCenterSingleLineContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(10.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(10.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        node2Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(10.0f));
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        node3Style.boxSizing = BoxSizing.CONTENT_BOX;
        node3Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(10.0f));
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        node4Style.boxSizing = BoxSizing.CONTENT_BOX;
        node4Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(10.0f));
        NodeId node4 = tree.newLeaf(node4Style);

        Style node5Style = new Style();
        node5Style.boxSizing = BoxSizing.CONTENT_BOX;
        node5Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(10.0f));
        NodeId node5 = tree.newLeaf(node5Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.alignContent = AlignContent.CENTER;
        nodeStyle.size = new Size<>(Dimension.length(120.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(120.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(20.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(20.0f, node1Layout.size().width, "width of node1");
        assertEquals(10.0f, node1Layout.size().height, "height of node1");
        assertEquals(20.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(20.0f, node2Layout.size().width, "width of node2");
        assertEquals(10.0f, node2Layout.size().height, "height of node2");
        assertEquals(40.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(20.0f, node3Layout.size().width, "width of node3");
        assertEquals(10.0f, node3Layout.size().height, "height of node3");
        assertEquals(60.0f, node3Layout.location().x, "x of node3");
        assertEquals(0.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(20.0f, node4Layout.size().width, "width of node4");
        assertEquals(10.0f, node4Layout.size().height, "height of node4");
        assertEquals(80.0f, node4Layout.location().x, "x of node4");
        assertEquals(0.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(20.0f, node5Layout.size().width, "width of node5");
        assertEquals(10.0f, node5Layout.size().height, "height of node5");
        assertEquals(100.0f, node5Layout.location().x, "x of node5");
        assertEquals(0.0f, node5Layout.location().y, "y of node5");
    }

    @Test
    @DisplayName("align_content_center_single_line_negative_space__border_box")
    void alignContentCenterSingleLineNegativeSpaceBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.flexShrink = 0.0f;
        node00Style.size = new Size<>(Dimension.percent(0.8f), Dimension.length(60.0f));
        NodeId node00 = tree.newLeaf(node00Style);

        Style node0Style = new Style();
        node0Style.alignContent = AlignContent.CENTER;
        node0Style.justifyContent = AlignContent.CENTER;
        node0Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        NodeId node0 = tree.newWithChildren(node0Style, node00);

        Style nodeStyle = new Style();
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.size = new Size<>(Dimension.length(320.0f), Dimension.length(320.0f));
        nodeStyle.border = new Rect<>(LengthPercentage.length(60.0f), LengthPercentage.length(60.0f), LengthPercentage.length(60.0f), LengthPercentage.length(60.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(320.0f, nodeLayout.size().width, "width of node");
        assertEquals(320.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(200.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(60.0f, node0Layout.location().x, "x of node0");
        assertEquals(60.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(160.0f, node00Layout.size().width, "width of node00");
        assertEquals(60.0f, node00Layout.size().height, "height of node00");
        assertEquals(20.0f, node00Layout.location().x, "x of node00");
        assertEquals(0.0f, node00Layout.location().y, "y of node00");
    }

    @Test
    @DisplayName("align_content_center_single_line_negative_space__content_box")
    void alignContentCenterSingleLineNegativeSpaceContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.boxSizing = BoxSizing.CONTENT_BOX;
        node00Style.flexShrink = 0.0f;
        node00Style.size = new Size<>(Dimension.percent(0.8f), Dimension.length(60.0f));
        NodeId node00 = tree.newLeaf(node00Style);

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.alignContent = AlignContent.CENTER;
        node0Style.justifyContent = AlignContent.CENTER;
        node0Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        NodeId node0 = tree.newWithChildren(node0Style, node00);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.size = new Size<>(Dimension.length(320.0f), Dimension.length(320.0f));
        nodeStyle.border = new Rect<>(LengthPercentage.length(60.0f), LengthPercentage.length(60.0f), LengthPercentage.length(60.0f), LengthPercentage.length(60.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(440.0f, nodeLayout.size().width, "width of node");
        assertEquals(440.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(320.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(60.0f, node0Layout.location().x, "x of node0");
        assertEquals(60.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(256.0f, node00Layout.size().width, "width of node00");
        assertEquals(60.0f, node00Layout.size().height, "height of node00");
        assertEquals(32.0f, node00Layout.location().x, "x of node00");
        assertEquals(0.0f, node00Layout.location().y, "y of node00");
    }

    @Test
    @DisplayName("align_content_center_single_line_negative_space_gap__border_box")
    void alignContentCenterSingleLineNegativeSpaceGapBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.flexShrink = 0.0f;
        node00Style.size = new Size<>(Dimension.percent(0.8f), Dimension.length(60.0f));
        NodeId node00 = tree.newLeaf(node00Style);

        Style node0Style = new Style();
        node0Style.alignContent = AlignContent.CENTER;
        node0Style.justifyContent = AlignContent.CENTER;
        node0Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        node0Style.gap = new Size<>(LengthPercentage.length(10.0f), LengthPercentage.length(10.0f));
        NodeId node0 = tree.newWithChildren(node0Style, node00);

        Style nodeStyle = new Style();
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.size = new Size<>(Dimension.length(320.0f), Dimension.length(320.0f));
        nodeStyle.border = new Rect<>(LengthPercentage.length(60.0f), LengthPercentage.length(60.0f), LengthPercentage.length(60.0f), LengthPercentage.length(60.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(320.0f, nodeLayout.size().width, "width of node");
        assertEquals(320.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(200.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(60.0f, node0Layout.location().x, "x of node0");
        assertEquals(60.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(160.0f, node00Layout.size().width, "width of node00");
        assertEquals(60.0f, node00Layout.size().height, "height of node00");
        assertEquals(20.0f, node00Layout.location().x, "x of node00");
        assertEquals(0.0f, node00Layout.location().y, "y of node00");
    }

    @Test
    @DisplayName("align_content_center_single_line_negative_space_gap__content_box")
    void alignContentCenterSingleLineNegativeSpaceGapContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.boxSizing = BoxSizing.CONTENT_BOX;
        node00Style.flexShrink = 0.0f;
        node00Style.size = new Size<>(Dimension.percent(0.8f), Dimension.length(60.0f));
        NodeId node00 = tree.newLeaf(node00Style);

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.alignContent = AlignContent.CENTER;
        node0Style.justifyContent = AlignContent.CENTER;
        node0Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        node0Style.gap = new Size<>(LengthPercentage.length(10.0f), LengthPercentage.length(10.0f));
        NodeId node0 = tree.newWithChildren(node0Style, node00);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.size = new Size<>(Dimension.length(320.0f), Dimension.length(320.0f));
        nodeStyle.border = new Rect<>(LengthPercentage.length(60.0f), LengthPercentage.length(60.0f), LengthPercentage.length(60.0f), LengthPercentage.length(60.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(440.0f, nodeLayout.size().width, "width of node");
        assertEquals(440.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(320.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(60.0f, node0Layout.location().x, "x of node0");
        assertEquals(60.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(256.0f, node00Layout.size().width, "width of node00");
        assertEquals(60.0f, node00Layout.size().height, "height of node00");
        assertEquals(32.0f, node00Layout.location().x, "x of node00");
        assertEquals(0.0f, node00Layout.location().y, "y of node00");
    }

    @Test
    @DisplayName("align_content_center_wrapped__border_box")
    void alignContentCenterWrappedBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(10.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(10.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(10.0f));
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        node3Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(10.0f));
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        node4Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(10.0f));
        NodeId node4 = tree.newLeaf(node4Style);

        Style node5Style = new Style();
        node5Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(10.0f));
        NodeId node5 = tree.newLeaf(node5Style);

        Style nodeStyle = new Style();
        nodeStyle.flexWrap = FlexWrap.WRAP;
        nodeStyle.alignContent = AlignContent.CENTER;
        nodeStyle.size = new Size<>(Dimension.length(120.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(120.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(50.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(35.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(50.0f, node1Layout.size().width, "width of node1");
        assertEquals(10.0f, node1Layout.size().height, "height of node1");
        assertEquals(50.0f, node1Layout.location().x, "x of node1");
        assertEquals(35.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(50.0f, node2Layout.size().width, "width of node2");
        assertEquals(10.0f, node2Layout.size().height, "height of node2");
        assertEquals(0.0f, node2Layout.location().x, "x of node2");
        assertEquals(45.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(50.0f, node3Layout.size().width, "width of node3");
        assertEquals(10.0f, node3Layout.size().height, "height of node3");
        assertEquals(50.0f, node3Layout.location().x, "x of node3");
        assertEquals(45.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(50.0f, node4Layout.size().width, "width of node4");
        assertEquals(10.0f, node4Layout.size().height, "height of node4");
        assertEquals(0.0f, node4Layout.location().x, "x of node4");
        assertEquals(55.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(50.0f, node5Layout.size().width, "width of node5");
        assertEquals(10.0f, node5Layout.size().height, "height of node5");
        assertEquals(50.0f, node5Layout.location().x, "x of node5");
        assertEquals(55.0f, node5Layout.location().y, "y of node5");
    }

    @Test
    @DisplayName("align_content_center_wrapped__content_box")
    void alignContentCenterWrappedContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(10.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(10.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        node2Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(10.0f));
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        node3Style.boxSizing = BoxSizing.CONTENT_BOX;
        node3Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(10.0f));
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        node4Style.boxSizing = BoxSizing.CONTENT_BOX;
        node4Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(10.0f));
        NodeId node4 = tree.newLeaf(node4Style);

        Style node5Style = new Style();
        node5Style.boxSizing = BoxSizing.CONTENT_BOX;
        node5Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(10.0f));
        NodeId node5 = tree.newLeaf(node5Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexWrap = FlexWrap.WRAP;
        nodeStyle.alignContent = AlignContent.CENTER;
        nodeStyle.size = new Size<>(Dimension.length(120.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(120.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(50.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(35.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(50.0f, node1Layout.size().width, "width of node1");
        assertEquals(10.0f, node1Layout.size().height, "height of node1");
        assertEquals(50.0f, node1Layout.location().x, "x of node1");
        assertEquals(35.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(50.0f, node2Layout.size().width, "width of node2");
        assertEquals(10.0f, node2Layout.size().height, "height of node2");
        assertEquals(0.0f, node2Layout.location().x, "x of node2");
        assertEquals(45.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(50.0f, node3Layout.size().width, "width of node3");
        assertEquals(10.0f, node3Layout.size().height, "height of node3");
        assertEquals(50.0f, node3Layout.location().x, "x of node3");
        assertEquals(45.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(50.0f, node4Layout.size().width, "width of node4");
        assertEquals(10.0f, node4Layout.size().height, "height of node4");
        assertEquals(0.0f, node4Layout.location().x, "x of node4");
        assertEquals(55.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(50.0f, node5Layout.size().width, "width of node5");
        assertEquals(10.0f, node5Layout.size().height, "height of node5");
        assertEquals(50.0f, node5Layout.location().x, "x of node5");
        assertEquals(55.0f, node5Layout.location().y, "y of node5");
    }

    @Test
    @DisplayName("align_content_center_wrapped_negative_space__border_box")
    void alignContentCenterWrappedNegativeSpaceBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.flexShrink = 0.0f;
        node00Style.size = new Size<>(Dimension.percent(0.8f), Dimension.length(20.0f));
        NodeId node00 = tree.newLeaf(node00Style);

        Style node01Style = new Style();
        node01Style.flexShrink = 0.0f;
        node01Style.size = new Size<>(Dimension.percent(0.8f), Dimension.length(20.0f));
        NodeId node01 = tree.newLeaf(node01Style);

        Style node02Style = new Style();
        node02Style.flexShrink = 0.0f;
        node02Style.size = new Size<>(Dimension.percent(0.8f), Dimension.length(20.0f));
        NodeId node02 = tree.newLeaf(node02Style);

        Style node0Style = new Style();
        node0Style.flexWrap = FlexWrap.WRAP;
        node0Style.alignContent = AlignContent.CENTER;
        node0Style.justifyContent = AlignContent.CENTER;
        node0Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        NodeId node0 = tree.newWithChildren(node0Style, node00, node01, node02);

        Style nodeStyle = new Style();
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.size = new Size<>(Dimension.length(320.0f), Dimension.length(320.0f));
        nodeStyle.border = new Rect<>(LengthPercentage.length(60.0f), LengthPercentage.length(60.0f), LengthPercentage.length(60.0f), LengthPercentage.length(60.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(320.0f, nodeLayout.size().width, "width of node");
        assertEquals(320.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(200.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(60.0f, node0Layout.location().x, "x of node0");
        assertEquals(60.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(160.0f, node00Layout.size().width, "width of node00");
        assertEquals(20.0f, node00Layout.size().height, "height of node00");
        assertEquals(20.0f, node00Layout.location().x, "x of node00");
        assertEquals(-25.0f, node00Layout.location().y, "y of node00");
        Layout node01Layout = tree.getLayout(node01);
        assertEquals(160.0f, node01Layout.size().width, "width of node01");
        assertEquals(20.0f, node01Layout.size().height, "height of node01");
        assertEquals(20.0f, node01Layout.location().x, "x of node01");
        assertEquals(-5.0f, node01Layout.location().y, "y of node01");
        Layout node02Layout = tree.getLayout(node02);
        assertEquals(160.0f, node02Layout.size().width, "width of node02");
        assertEquals(20.0f, node02Layout.size().height, "height of node02");
        assertEquals(20.0f, node02Layout.location().x, "x of node02");
        assertEquals(15.0f, node02Layout.location().y, "y of node02");
    }

    @Test
    @DisplayName("align_content_center_wrapped_negative_space__content_box")
    void alignContentCenterWrappedNegativeSpaceContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.boxSizing = BoxSizing.CONTENT_BOX;
        node00Style.flexShrink = 0.0f;
        node00Style.size = new Size<>(Dimension.percent(0.8f), Dimension.length(20.0f));
        NodeId node00 = tree.newLeaf(node00Style);

        Style node01Style = new Style();
        node01Style.boxSizing = BoxSizing.CONTENT_BOX;
        node01Style.flexShrink = 0.0f;
        node01Style.size = new Size<>(Dimension.percent(0.8f), Dimension.length(20.0f));
        NodeId node01 = tree.newLeaf(node01Style);

        Style node02Style = new Style();
        node02Style.boxSizing = BoxSizing.CONTENT_BOX;
        node02Style.flexShrink = 0.0f;
        node02Style.size = new Size<>(Dimension.percent(0.8f), Dimension.length(20.0f));
        NodeId node02 = tree.newLeaf(node02Style);

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.flexWrap = FlexWrap.WRAP;
        node0Style.alignContent = AlignContent.CENTER;
        node0Style.justifyContent = AlignContent.CENTER;
        node0Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        NodeId node0 = tree.newWithChildren(node0Style, node00, node01, node02);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.size = new Size<>(Dimension.length(320.0f), Dimension.length(320.0f));
        nodeStyle.border = new Rect<>(LengthPercentage.length(60.0f), LengthPercentage.length(60.0f), LengthPercentage.length(60.0f), LengthPercentage.length(60.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(440.0f, nodeLayout.size().width, "width of node");
        assertEquals(440.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(320.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(60.0f, node0Layout.location().x, "x of node0");
        assertEquals(60.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(256.0f, node00Layout.size().width, "width of node00");
        assertEquals(20.0f, node00Layout.size().height, "height of node00");
        assertEquals(32.0f, node00Layout.location().x, "x of node00");
        assertEquals(-25.0f, node00Layout.location().y, "y of node00");
        Layout node01Layout = tree.getLayout(node01);
        assertEquals(256.0f, node01Layout.size().width, "width of node01");
        assertEquals(20.0f, node01Layout.size().height, "height of node01");
        assertEquals(32.0f, node01Layout.location().x, "x of node01");
        assertEquals(-5.0f, node01Layout.location().y, "y of node01");
        Layout node02Layout = tree.getLayout(node02);
        assertEquals(256.0f, node02Layout.size().width, "width of node02");
        assertEquals(20.0f, node02Layout.size().height, "height of node02");
        assertEquals(32.0f, node02Layout.location().x, "x of node02");
        assertEquals(15.0f, node02Layout.location().y, "y of node02");
    }

    @Test
    @DisplayName("align_content_center_wrapped_negative_space_gap__border_box")
    void alignContentCenterWrappedNegativeSpaceGapBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.flexShrink = 0.0f;
        node00Style.size = new Size<>(Dimension.percent(0.8f), Dimension.length(20.0f));
        NodeId node00 = tree.newLeaf(node00Style);

        Style node01Style = new Style();
        node01Style.flexShrink = 0.0f;
        node01Style.size = new Size<>(Dimension.percent(0.8f), Dimension.length(20.0f));
        NodeId node01 = tree.newLeaf(node01Style);

        Style node02Style = new Style();
        node02Style.flexShrink = 0.0f;
        node02Style.size = new Size<>(Dimension.percent(0.8f), Dimension.length(20.0f));
        NodeId node02 = tree.newLeaf(node02Style);

        Style node0Style = new Style();
        node0Style.flexWrap = FlexWrap.WRAP;
        node0Style.alignContent = AlignContent.CENTER;
        node0Style.justifyContent = AlignContent.CENTER;
        node0Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        node0Style.gap = new Size<>(LengthPercentage.length(10.0f), LengthPercentage.length(10.0f));
        NodeId node0 = tree.newWithChildren(node0Style, node00, node01, node02);

        Style nodeStyle = new Style();
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.size = new Size<>(Dimension.length(320.0f), Dimension.length(320.0f));
        nodeStyle.border = new Rect<>(LengthPercentage.length(60.0f), LengthPercentage.length(60.0f), LengthPercentage.length(60.0f), LengthPercentage.length(60.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(320.0f, nodeLayout.size().width, "width of node");
        assertEquals(320.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(200.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(60.0f, node0Layout.location().x, "x of node0");
        assertEquals(60.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(160.0f, node00Layout.size().width, "width of node00");
        assertEquals(20.0f, node00Layout.size().height, "height of node00");
        assertEquals(20.0f, node00Layout.location().x, "x of node00");
        assertEquals(-35.0f, node00Layout.location().y, "y of node00");
        Layout node01Layout = tree.getLayout(node01);
        assertEquals(160.0f, node01Layout.size().width, "width of node01");
        assertEquals(20.0f, node01Layout.size().height, "height of node01");
        assertEquals(20.0f, node01Layout.location().x, "x of node01");
        assertEquals(-5.0f, node01Layout.location().y, "y of node01");
        Layout node02Layout = tree.getLayout(node02);
        assertEquals(160.0f, node02Layout.size().width, "width of node02");
        assertEquals(20.0f, node02Layout.size().height, "height of node02");
        assertEquals(20.0f, node02Layout.location().x, "x of node02");
        assertEquals(25.0f, node02Layout.location().y, "y of node02");
    }

    @Test
    @DisplayName("align_content_center_wrapped_negative_space_gap__content_box")
    void alignContentCenterWrappedNegativeSpaceGapContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.boxSizing = BoxSizing.CONTENT_BOX;
        node00Style.flexShrink = 0.0f;
        node00Style.size = new Size<>(Dimension.percent(0.8f), Dimension.length(20.0f));
        NodeId node00 = tree.newLeaf(node00Style);

        Style node01Style = new Style();
        node01Style.boxSizing = BoxSizing.CONTENT_BOX;
        node01Style.flexShrink = 0.0f;
        node01Style.size = new Size<>(Dimension.percent(0.8f), Dimension.length(20.0f));
        NodeId node01 = tree.newLeaf(node01Style);

        Style node02Style = new Style();
        node02Style.boxSizing = BoxSizing.CONTENT_BOX;
        node02Style.flexShrink = 0.0f;
        node02Style.size = new Size<>(Dimension.percent(0.8f), Dimension.length(20.0f));
        NodeId node02 = tree.newLeaf(node02Style);

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.flexWrap = FlexWrap.WRAP;
        node0Style.alignContent = AlignContent.CENTER;
        node0Style.justifyContent = AlignContent.CENTER;
        node0Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        node0Style.gap = new Size<>(LengthPercentage.length(10.0f), LengthPercentage.length(10.0f));
        NodeId node0 = tree.newWithChildren(node0Style, node00, node01, node02);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.size = new Size<>(Dimension.length(320.0f), Dimension.length(320.0f));
        nodeStyle.border = new Rect<>(LengthPercentage.length(60.0f), LengthPercentage.length(60.0f), LengthPercentage.length(60.0f), LengthPercentage.length(60.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(440.0f, nodeLayout.size().width, "width of node");
        assertEquals(440.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(320.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(60.0f, node0Layout.location().x, "x of node0");
        assertEquals(60.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(256.0f, node00Layout.size().width, "width of node00");
        assertEquals(20.0f, node00Layout.size().height, "height of node00");
        assertEquals(32.0f, node00Layout.location().x, "x of node00");
        assertEquals(-35.0f, node00Layout.location().y, "y of node00");
        Layout node01Layout = tree.getLayout(node01);
        assertEquals(256.0f, node01Layout.size().width, "width of node01");
        assertEquals(20.0f, node01Layout.size().height, "height of node01");
        assertEquals(32.0f, node01Layout.location().x, "x of node01");
        assertEquals(-5.0f, node01Layout.location().y, "y of node01");
        Layout node02Layout = tree.getLayout(node02);
        assertEquals(256.0f, node02Layout.size().width, "width of node02");
        assertEquals(20.0f, node02Layout.size().height, "height of node02");
        assertEquals(32.0f, node02Layout.location().x, "x of node02");
        assertEquals(25.0f, node02Layout.location().y, "y of node02");
    }

    @Test
    @DisplayName("align_content_end__border_box")
    void alignContentEndBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(10.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(10.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(10.0f));
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        node3Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(10.0f));
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        node4Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(10.0f));
        NodeId node4 = tree.newLeaf(node4Style);

        Style nodeStyle = new Style();
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.flexWrap = FlexWrap.WRAP;
        nodeStyle.alignContent = AlignContent.END;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(50.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(50.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(50.0f, node1Layout.size().width, "width of node1");
        assertEquals(10.0f, node1Layout.size().height, "height of node1");
        assertEquals(50.0f, node1Layout.location().x, "x of node1");
        assertEquals(10.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(50.0f, node2Layout.size().width, "width of node2");
        assertEquals(10.0f, node2Layout.size().height, "height of node2");
        assertEquals(50.0f, node2Layout.location().x, "x of node2");
        assertEquals(20.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(50.0f, node3Layout.size().width, "width of node3");
        assertEquals(10.0f, node3Layout.size().height, "height of node3");
        assertEquals(50.0f, node3Layout.location().x, "x of node3");
        assertEquals(30.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(50.0f, node4Layout.size().width, "width of node4");
        assertEquals(10.0f, node4Layout.size().height, "height of node4");
        assertEquals(50.0f, node4Layout.location().x, "x of node4");
        assertEquals(40.0f, node4Layout.location().y, "y of node4");
    }

    @Test
    @DisplayName("align_content_end__content_box")
    void alignContentEndContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(10.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(10.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        node2Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(10.0f));
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        node3Style.boxSizing = BoxSizing.CONTENT_BOX;
        node3Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(10.0f));
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        node4Style.boxSizing = BoxSizing.CONTENT_BOX;
        node4Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(10.0f));
        NodeId node4 = tree.newLeaf(node4Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.flexWrap = FlexWrap.WRAP;
        nodeStyle.alignContent = AlignContent.END;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(50.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(50.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(50.0f, node1Layout.size().width, "width of node1");
        assertEquals(10.0f, node1Layout.size().height, "height of node1");
        assertEquals(50.0f, node1Layout.location().x, "x of node1");
        assertEquals(10.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(50.0f, node2Layout.size().width, "width of node2");
        assertEquals(10.0f, node2Layout.size().height, "height of node2");
        assertEquals(50.0f, node2Layout.location().x, "x of node2");
        assertEquals(20.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(50.0f, node3Layout.size().width, "width of node3");
        assertEquals(10.0f, node3Layout.size().height, "height of node3");
        assertEquals(50.0f, node3Layout.location().x, "x of node3");
        assertEquals(30.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(50.0f, node4Layout.size().width, "width of node4");
        assertEquals(10.0f, node4Layout.size().height, "height of node4");
        assertEquals(50.0f, node4Layout.location().x, "x of node4");
        assertEquals(40.0f, node4Layout.location().y, "y of node4");
    }

    @Test
    @DisplayName("align_content_end_single_line_negative_space__border_box")
    void alignContentEndSingleLineNegativeSpaceBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.flexShrink = 0.0f;
        node00Style.size = new Size<>(Dimension.percent(0.8f), Dimension.length(60.0f));
        NodeId node00 = tree.newLeaf(node00Style);

        Style node0Style = new Style();
        node0Style.alignContent = AlignContent.END;
        node0Style.justifyContent = AlignContent.CENTER;
        node0Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        NodeId node0 = tree.newWithChildren(node0Style, node00);

        Style nodeStyle = new Style();
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.size = new Size<>(Dimension.length(320.0f), Dimension.length(320.0f));
        nodeStyle.border = new Rect<>(LengthPercentage.length(60.0f), LengthPercentage.length(60.0f), LengthPercentage.length(60.0f), LengthPercentage.length(60.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(320.0f, nodeLayout.size().width, "width of node");
        assertEquals(320.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(200.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(60.0f, node0Layout.location().x, "x of node0");
        assertEquals(60.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(160.0f, node00Layout.size().width, "width of node00");
        assertEquals(60.0f, node00Layout.size().height, "height of node00");
        assertEquals(20.0f, node00Layout.location().x, "x of node00");
        assertEquals(0.0f, node00Layout.location().y, "y of node00");
    }

    @Test
    @DisplayName("align_content_end_single_line_negative_space__content_box")
    void alignContentEndSingleLineNegativeSpaceContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.boxSizing = BoxSizing.CONTENT_BOX;
        node00Style.flexShrink = 0.0f;
        node00Style.size = new Size<>(Dimension.percent(0.8f), Dimension.length(60.0f));
        NodeId node00 = tree.newLeaf(node00Style);

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.alignContent = AlignContent.END;
        node0Style.justifyContent = AlignContent.CENTER;
        node0Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        NodeId node0 = tree.newWithChildren(node0Style, node00);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.size = new Size<>(Dimension.length(320.0f), Dimension.length(320.0f));
        nodeStyle.border = new Rect<>(LengthPercentage.length(60.0f), LengthPercentage.length(60.0f), LengthPercentage.length(60.0f), LengthPercentage.length(60.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(440.0f, nodeLayout.size().width, "width of node");
        assertEquals(440.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(320.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(60.0f, node0Layout.location().x, "x of node0");
        assertEquals(60.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(256.0f, node00Layout.size().width, "width of node00");
        assertEquals(60.0f, node00Layout.size().height, "height of node00");
        assertEquals(32.0f, node00Layout.location().x, "x of node00");
        assertEquals(0.0f, node00Layout.location().y, "y of node00");
    }

    @Test
    @DisplayName("align_content_end_single_line_negative_space_gap__border_box")
    void alignContentEndSingleLineNegativeSpaceGapBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.flexShrink = 0.0f;
        node00Style.size = new Size<>(Dimension.percent(0.8f), Dimension.length(60.0f));
        NodeId node00 = tree.newLeaf(node00Style);

        Style node0Style = new Style();
        node0Style.alignContent = AlignContent.END;
        node0Style.justifyContent = AlignContent.CENTER;
        node0Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        node0Style.gap = new Size<>(LengthPercentage.length(10.0f), LengthPercentage.length(10.0f));
        NodeId node0 = tree.newWithChildren(node0Style, node00);

        Style nodeStyle = new Style();
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.size = new Size<>(Dimension.length(320.0f), Dimension.length(320.0f));
        nodeStyle.border = new Rect<>(LengthPercentage.length(60.0f), LengthPercentage.length(60.0f), LengthPercentage.length(60.0f), LengthPercentage.length(60.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(320.0f, nodeLayout.size().width, "width of node");
        assertEquals(320.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(200.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(60.0f, node0Layout.location().x, "x of node0");
        assertEquals(60.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(160.0f, node00Layout.size().width, "width of node00");
        assertEquals(60.0f, node00Layout.size().height, "height of node00");
        assertEquals(20.0f, node00Layout.location().x, "x of node00");
        assertEquals(0.0f, node00Layout.location().y, "y of node00");
    }

    @Test
    @DisplayName("align_content_end_single_line_negative_space_gap__content_box")
    void alignContentEndSingleLineNegativeSpaceGapContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.boxSizing = BoxSizing.CONTENT_BOX;
        node00Style.flexShrink = 0.0f;
        node00Style.size = new Size<>(Dimension.percent(0.8f), Dimension.length(60.0f));
        NodeId node00 = tree.newLeaf(node00Style);

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.alignContent = AlignContent.END;
        node0Style.justifyContent = AlignContent.CENTER;
        node0Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        node0Style.gap = new Size<>(LengthPercentage.length(10.0f), LengthPercentage.length(10.0f));
        NodeId node0 = tree.newWithChildren(node0Style, node00);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.size = new Size<>(Dimension.length(320.0f), Dimension.length(320.0f));
        nodeStyle.border = new Rect<>(LengthPercentage.length(60.0f), LengthPercentage.length(60.0f), LengthPercentage.length(60.0f), LengthPercentage.length(60.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(440.0f, nodeLayout.size().width, "width of node");
        assertEquals(440.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(320.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(60.0f, node0Layout.location().x, "x of node0");
        assertEquals(60.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(256.0f, node00Layout.size().width, "width of node00");
        assertEquals(60.0f, node00Layout.size().height, "height of node00");
        assertEquals(32.0f, node00Layout.location().x, "x of node00");
        assertEquals(0.0f, node00Layout.location().y, "y of node00");
    }

    @Test
    @DisplayName("align_content_end_wrapped_negative_space__border_box")
    void alignContentEndWrappedNegativeSpaceBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.flexShrink = 0.0f;
        node00Style.size = new Size<>(Dimension.percent(0.8f), Dimension.length(20.0f));
        NodeId node00 = tree.newLeaf(node00Style);

        Style node01Style = new Style();
        node01Style.flexShrink = 0.0f;
        node01Style.size = new Size<>(Dimension.percent(0.8f), Dimension.length(20.0f));
        NodeId node01 = tree.newLeaf(node01Style);

        Style node02Style = new Style();
        node02Style.flexShrink = 0.0f;
        node02Style.size = new Size<>(Dimension.percent(0.8f), Dimension.length(20.0f));
        NodeId node02 = tree.newLeaf(node02Style);

        Style node0Style = new Style();
        node0Style.flexWrap = FlexWrap.WRAP;
        node0Style.alignContent = AlignContent.END;
        node0Style.justifyContent = AlignContent.CENTER;
        node0Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        NodeId node0 = tree.newWithChildren(node0Style, node00, node01, node02);

        Style nodeStyle = new Style();
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.size = new Size<>(Dimension.length(320.0f), Dimension.length(320.0f));
        nodeStyle.border = new Rect<>(LengthPercentage.length(60.0f), LengthPercentage.length(60.0f), LengthPercentage.length(60.0f), LengthPercentage.length(60.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(320.0f, nodeLayout.size().width, "width of node");
        assertEquals(320.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(200.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(60.0f, node0Layout.location().x, "x of node0");
        assertEquals(60.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(160.0f, node00Layout.size().width, "width of node00");
        assertEquals(20.0f, node00Layout.size().height, "height of node00");
        assertEquals(20.0f, node00Layout.location().x, "x of node00");
        assertEquals(-50.0f, node00Layout.location().y, "y of node00");
        Layout node01Layout = tree.getLayout(node01);
        assertEquals(160.0f, node01Layout.size().width, "width of node01");
        assertEquals(20.0f, node01Layout.size().height, "height of node01");
        assertEquals(20.0f, node01Layout.location().x, "x of node01");
        assertEquals(-30.0f, node01Layout.location().y, "y of node01");
        Layout node02Layout = tree.getLayout(node02);
        assertEquals(160.0f, node02Layout.size().width, "width of node02");
        assertEquals(20.0f, node02Layout.size().height, "height of node02");
        assertEquals(20.0f, node02Layout.location().x, "x of node02");
        assertEquals(-10.0f, node02Layout.location().y, "y of node02");
    }

    @Test
    @DisplayName("align_content_end_wrapped_negative_space__content_box")
    void alignContentEndWrappedNegativeSpaceContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.boxSizing = BoxSizing.CONTENT_BOX;
        node00Style.flexShrink = 0.0f;
        node00Style.size = new Size<>(Dimension.percent(0.8f), Dimension.length(20.0f));
        NodeId node00 = tree.newLeaf(node00Style);

        Style node01Style = new Style();
        node01Style.boxSizing = BoxSizing.CONTENT_BOX;
        node01Style.flexShrink = 0.0f;
        node01Style.size = new Size<>(Dimension.percent(0.8f), Dimension.length(20.0f));
        NodeId node01 = tree.newLeaf(node01Style);

        Style node02Style = new Style();
        node02Style.boxSizing = BoxSizing.CONTENT_BOX;
        node02Style.flexShrink = 0.0f;
        node02Style.size = new Size<>(Dimension.percent(0.8f), Dimension.length(20.0f));
        NodeId node02 = tree.newLeaf(node02Style);

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.flexWrap = FlexWrap.WRAP;
        node0Style.alignContent = AlignContent.END;
        node0Style.justifyContent = AlignContent.CENTER;
        node0Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        NodeId node0 = tree.newWithChildren(node0Style, node00, node01, node02);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.size = new Size<>(Dimension.length(320.0f), Dimension.length(320.0f));
        nodeStyle.border = new Rect<>(LengthPercentage.length(60.0f), LengthPercentage.length(60.0f), LengthPercentage.length(60.0f), LengthPercentage.length(60.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(440.0f, nodeLayout.size().width, "width of node");
        assertEquals(440.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(320.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(60.0f, node0Layout.location().x, "x of node0");
        assertEquals(60.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(256.0f, node00Layout.size().width, "width of node00");
        assertEquals(20.0f, node00Layout.size().height, "height of node00");
        assertEquals(32.0f, node00Layout.location().x, "x of node00");
        assertEquals(-50.0f, node00Layout.location().y, "y of node00");
        Layout node01Layout = tree.getLayout(node01);
        assertEquals(256.0f, node01Layout.size().width, "width of node01");
        assertEquals(20.0f, node01Layout.size().height, "height of node01");
        assertEquals(32.0f, node01Layout.location().x, "x of node01");
        assertEquals(-30.0f, node01Layout.location().y, "y of node01");
        Layout node02Layout = tree.getLayout(node02);
        assertEquals(256.0f, node02Layout.size().width, "width of node02");
        assertEquals(20.0f, node02Layout.size().height, "height of node02");
        assertEquals(32.0f, node02Layout.location().x, "x of node02");
        assertEquals(-10.0f, node02Layout.location().y, "y of node02");
    }

    @Test
    @DisplayName("align_content_end_wrapped_negative_space_gap__border_box")
    void alignContentEndWrappedNegativeSpaceGapBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.flexShrink = 0.0f;
        node00Style.size = new Size<>(Dimension.percent(0.8f), Dimension.length(20.0f));
        NodeId node00 = tree.newLeaf(node00Style);

        Style node01Style = new Style();
        node01Style.flexShrink = 0.0f;
        node01Style.size = new Size<>(Dimension.percent(0.8f), Dimension.length(20.0f));
        NodeId node01 = tree.newLeaf(node01Style);

        Style node02Style = new Style();
        node02Style.flexShrink = 0.0f;
        node02Style.size = new Size<>(Dimension.percent(0.8f), Dimension.length(20.0f));
        NodeId node02 = tree.newLeaf(node02Style);

        Style node0Style = new Style();
        node0Style.flexWrap = FlexWrap.WRAP;
        node0Style.alignContent = AlignContent.END;
        node0Style.justifyContent = AlignContent.CENTER;
        node0Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        node0Style.gap = new Size<>(LengthPercentage.length(10.0f), LengthPercentage.length(10.0f));
        NodeId node0 = tree.newWithChildren(node0Style, node00, node01, node02);

        Style nodeStyle = new Style();
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.size = new Size<>(Dimension.length(320.0f), Dimension.length(320.0f));
        nodeStyle.border = new Rect<>(LengthPercentage.length(60.0f), LengthPercentage.length(60.0f), LengthPercentage.length(60.0f), LengthPercentage.length(60.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(320.0f, nodeLayout.size().width, "width of node");
        assertEquals(320.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(200.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(60.0f, node0Layout.location().x, "x of node0");
        assertEquals(60.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(160.0f, node00Layout.size().width, "width of node00");
        assertEquals(20.0f, node00Layout.size().height, "height of node00");
        assertEquals(20.0f, node00Layout.location().x, "x of node00");
        assertEquals(-70.0f, node00Layout.location().y, "y of node00");
        Layout node01Layout = tree.getLayout(node01);
        assertEquals(160.0f, node01Layout.size().width, "width of node01");
        assertEquals(20.0f, node01Layout.size().height, "height of node01");
        assertEquals(20.0f, node01Layout.location().x, "x of node01");
        assertEquals(-40.0f, node01Layout.location().y, "y of node01");
        Layout node02Layout = tree.getLayout(node02);
        assertEquals(160.0f, node02Layout.size().width, "width of node02");
        assertEquals(20.0f, node02Layout.size().height, "height of node02");
        assertEquals(20.0f, node02Layout.location().x, "x of node02");
        assertEquals(-10.0f, node02Layout.location().y, "y of node02");
    }

    @Test
    @DisplayName("align_content_end_wrapped_negative_space_gap__content_box")
    void alignContentEndWrappedNegativeSpaceGapContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.boxSizing = BoxSizing.CONTENT_BOX;
        node00Style.flexShrink = 0.0f;
        node00Style.size = new Size<>(Dimension.percent(0.8f), Dimension.length(20.0f));
        NodeId node00 = tree.newLeaf(node00Style);

        Style node01Style = new Style();
        node01Style.boxSizing = BoxSizing.CONTENT_BOX;
        node01Style.flexShrink = 0.0f;
        node01Style.size = new Size<>(Dimension.percent(0.8f), Dimension.length(20.0f));
        NodeId node01 = tree.newLeaf(node01Style);

        Style node02Style = new Style();
        node02Style.boxSizing = BoxSizing.CONTENT_BOX;
        node02Style.flexShrink = 0.0f;
        node02Style.size = new Size<>(Dimension.percent(0.8f), Dimension.length(20.0f));
        NodeId node02 = tree.newLeaf(node02Style);

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.flexWrap = FlexWrap.WRAP;
        node0Style.alignContent = AlignContent.END;
        node0Style.justifyContent = AlignContent.CENTER;
        node0Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        node0Style.gap = new Size<>(LengthPercentage.length(10.0f), LengthPercentage.length(10.0f));
        NodeId node0 = tree.newWithChildren(node0Style, node00, node01, node02);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.size = new Size<>(Dimension.length(320.0f), Dimension.length(320.0f));
        nodeStyle.border = new Rect<>(LengthPercentage.length(60.0f), LengthPercentage.length(60.0f), LengthPercentage.length(60.0f), LengthPercentage.length(60.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(440.0f, nodeLayout.size().width, "width of node");
        assertEquals(440.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(320.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(60.0f, node0Layout.location().x, "x of node0");
        assertEquals(60.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(256.0f, node00Layout.size().width, "width of node00");
        assertEquals(20.0f, node00Layout.size().height, "height of node00");
        assertEquals(32.0f, node00Layout.location().x, "x of node00");
        assertEquals(-70.0f, node00Layout.location().y, "y of node00");
        Layout node01Layout = tree.getLayout(node01);
        assertEquals(256.0f, node01Layout.size().width, "width of node01");
        assertEquals(20.0f, node01Layout.size().height, "height of node01");
        assertEquals(32.0f, node01Layout.location().x, "x of node01");
        assertEquals(-40.0f, node01Layout.location().y, "y of node01");
        Layout node02Layout = tree.getLayout(node02);
        assertEquals(256.0f, node02Layout.size().width, "width of node02");
        assertEquals(20.0f, node02Layout.size().height, "height of node02");
        assertEquals(32.0f, node02Layout.location().x, "x of node02");
        assertEquals(-10.0f, node02Layout.location().y, "y of node02");
    }

    @Test
    @DisplayName("align_content_flex_end__border_box")
    void alignContentFlexEndBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(10.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(10.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(10.0f));
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        node3Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(10.0f));
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        node4Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(10.0f));
        NodeId node4 = tree.newLeaf(node4Style);

        Style nodeStyle = new Style();
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.flexWrap = FlexWrap.WRAP;
        nodeStyle.alignContent = AlignContent.FLEX_END;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(50.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(50.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(50.0f, node1Layout.size().width, "width of node1");
        assertEquals(10.0f, node1Layout.size().height, "height of node1");
        assertEquals(50.0f, node1Layout.location().x, "x of node1");
        assertEquals(10.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(50.0f, node2Layout.size().width, "width of node2");
        assertEquals(10.0f, node2Layout.size().height, "height of node2");
        assertEquals(50.0f, node2Layout.location().x, "x of node2");
        assertEquals(20.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(50.0f, node3Layout.size().width, "width of node3");
        assertEquals(10.0f, node3Layout.size().height, "height of node3");
        assertEquals(50.0f, node3Layout.location().x, "x of node3");
        assertEquals(30.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(50.0f, node4Layout.size().width, "width of node4");
        assertEquals(10.0f, node4Layout.size().height, "height of node4");
        assertEquals(50.0f, node4Layout.location().x, "x of node4");
        assertEquals(40.0f, node4Layout.location().y, "y of node4");
    }

    @Test
    @DisplayName("align_content_flex_end__content_box")
    void alignContentFlexEndContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(10.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(10.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        node2Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(10.0f));
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        node3Style.boxSizing = BoxSizing.CONTENT_BOX;
        node3Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(10.0f));
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        node4Style.boxSizing = BoxSizing.CONTENT_BOX;
        node4Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(10.0f));
        NodeId node4 = tree.newLeaf(node4Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.flexWrap = FlexWrap.WRAP;
        nodeStyle.alignContent = AlignContent.FLEX_END;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(50.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(50.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(50.0f, node1Layout.size().width, "width of node1");
        assertEquals(10.0f, node1Layout.size().height, "height of node1");
        assertEquals(50.0f, node1Layout.location().x, "x of node1");
        assertEquals(10.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(50.0f, node2Layout.size().width, "width of node2");
        assertEquals(10.0f, node2Layout.size().height, "height of node2");
        assertEquals(50.0f, node2Layout.location().x, "x of node2");
        assertEquals(20.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(50.0f, node3Layout.size().width, "width of node3");
        assertEquals(10.0f, node3Layout.size().height, "height of node3");
        assertEquals(50.0f, node3Layout.location().x, "x of node3");
        assertEquals(30.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(50.0f, node4Layout.size().width, "width of node4");
        assertEquals(10.0f, node4Layout.size().height, "height of node4");
        assertEquals(50.0f, node4Layout.location().x, "x of node4");
        assertEquals(40.0f, node4Layout.location().y, "y of node4");
    }

    @Test
    @DisplayName("align_content_flex_start__border_box")
    void alignContentFlexStartBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(10.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(10.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(10.0f));
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        node3Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(10.0f));
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        node4Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(10.0f));
        NodeId node4 = tree.newLeaf(node4Style);

        Style nodeStyle = new Style();
        nodeStyle.flexWrap = FlexWrap.WRAP;
        nodeStyle.alignContent = AlignContent.FLEX_START;
        nodeStyle.size = new Size<>(Dimension.length(130.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(130.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(50.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(50.0f, node1Layout.size().width, "width of node1");
        assertEquals(10.0f, node1Layout.size().height, "height of node1");
        assertEquals(50.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(50.0f, node2Layout.size().width, "width of node2");
        assertEquals(10.0f, node2Layout.size().height, "height of node2");
        assertEquals(0.0f, node2Layout.location().x, "x of node2");
        assertEquals(10.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(50.0f, node3Layout.size().width, "width of node3");
        assertEquals(10.0f, node3Layout.size().height, "height of node3");
        assertEquals(50.0f, node3Layout.location().x, "x of node3");
        assertEquals(10.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(50.0f, node4Layout.size().width, "width of node4");
        assertEquals(10.0f, node4Layout.size().height, "height of node4");
        assertEquals(0.0f, node4Layout.location().x, "x of node4");
        assertEquals(20.0f, node4Layout.location().y, "y of node4");
    }

    @Test
    @DisplayName("align_content_flex_start__content_box")
    void alignContentFlexStartContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(10.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(10.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        node2Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(10.0f));
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        node3Style.boxSizing = BoxSizing.CONTENT_BOX;
        node3Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(10.0f));
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        node4Style.boxSizing = BoxSizing.CONTENT_BOX;
        node4Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(10.0f));
        NodeId node4 = tree.newLeaf(node4Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexWrap = FlexWrap.WRAP;
        nodeStyle.alignContent = AlignContent.FLEX_START;
        nodeStyle.size = new Size<>(Dimension.length(130.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(130.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(50.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(50.0f, node1Layout.size().width, "width of node1");
        assertEquals(10.0f, node1Layout.size().height, "height of node1");
        assertEquals(50.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(50.0f, node2Layout.size().width, "width of node2");
        assertEquals(10.0f, node2Layout.size().height, "height of node2");
        assertEquals(0.0f, node2Layout.location().x, "x of node2");
        assertEquals(10.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(50.0f, node3Layout.size().width, "width of node3");
        assertEquals(10.0f, node3Layout.size().height, "height of node3");
        assertEquals(50.0f, node3Layout.location().x, "x of node3");
        assertEquals(10.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(50.0f, node4Layout.size().width, "width of node4");
        assertEquals(10.0f, node4Layout.size().height, "height of node4");
        assertEquals(0.0f, node4Layout.location().x, "x of node4");
        assertEquals(20.0f, node4Layout.location().y, "y of node4");
    }

    @Test
    @DisplayName("align_content_flex_start_with_flex__border_box")
    void alignContentFlexStartWithFlexBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.flexGrow = 1.0f;
        node0Style.flexShrink = 0.0f;
        node0Style.flexBasis = Dimension.percent(0.0f);
        node0Style.size = new Size<>(Dimension.length(50.0f), Dimension.AUTO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.flexGrow = 1.0f;
        node1Style.flexShrink = 0.0f;
        node1Style.flexBasis = Dimension.percent(0.0f);
        node1Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(10.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.size = new Size<>(Dimension.length(50.0f), Dimension.AUTO);
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        node3Style.flexGrow = 1.0f;
        node3Style.flexShrink = 1.0f;
        node3Style.flexBasis = Dimension.percent(0.0f);
        node3Style.size = new Size<>(Dimension.length(50.0f), Dimension.AUTO);
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        node4Style.size = new Size<>(Dimension.length(50.0f), Dimension.AUTO);
        NodeId node4 = tree.newLeaf(node4Style);

        Style nodeStyle = new Style();
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.flexWrap = FlexWrap.WRAP;
        nodeStyle.alignContent = AlignContent.FLEX_START;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(120.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(120.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(50.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(50.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(0.0f, node1Layout.location().x, "x of node1");
        assertEquals(40.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(50.0f, node2Layout.size().width, "width of node2");
        assertEquals(0.0f, node2Layout.size().height, "height of node2");
        assertEquals(0.0f, node2Layout.location().x, "x of node2");
        assertEquals(80.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(50.0f, node3Layout.size().width, "width of node3");
        assertEquals(40.0f, node3Layout.size().height, "height of node3");
        assertEquals(0.0f, node3Layout.location().x, "x of node3");
        assertEquals(80.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(50.0f, node4Layout.size().width, "width of node4");
        assertEquals(0.0f, node4Layout.size().height, "height of node4");
        assertEquals(0.0f, node4Layout.location().x, "x of node4");
        assertEquals(120.0f, node4Layout.location().y, "y of node4");
    }

    @Test
    @DisplayName("align_content_flex_start_with_flex__content_box")
    void alignContentFlexStartWithFlexContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.flexGrow = 1.0f;
        node0Style.flexShrink = 0.0f;
        node0Style.flexBasis = Dimension.percent(0.0f);
        node0Style.size = new Size<>(Dimension.length(50.0f), Dimension.AUTO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.flexGrow = 1.0f;
        node1Style.flexShrink = 0.0f;
        node1Style.flexBasis = Dimension.percent(0.0f);
        node1Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(10.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        node2Style.size = new Size<>(Dimension.length(50.0f), Dimension.AUTO);
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        node3Style.boxSizing = BoxSizing.CONTENT_BOX;
        node3Style.flexGrow = 1.0f;
        node3Style.flexShrink = 1.0f;
        node3Style.flexBasis = Dimension.percent(0.0f);
        node3Style.size = new Size<>(Dimension.length(50.0f), Dimension.AUTO);
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        node4Style.boxSizing = BoxSizing.CONTENT_BOX;
        node4Style.size = new Size<>(Dimension.length(50.0f), Dimension.AUTO);
        NodeId node4 = tree.newLeaf(node4Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.flexWrap = FlexWrap.WRAP;
        nodeStyle.alignContent = AlignContent.FLEX_START;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(120.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(120.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(50.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(50.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(0.0f, node1Layout.location().x, "x of node1");
        assertEquals(40.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(50.0f, node2Layout.size().width, "width of node2");
        assertEquals(0.0f, node2Layout.size().height, "height of node2");
        assertEquals(0.0f, node2Layout.location().x, "x of node2");
        assertEquals(80.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(50.0f, node3Layout.size().width, "width of node3");
        assertEquals(40.0f, node3Layout.size().height, "height of node3");
        assertEquals(0.0f, node3Layout.location().x, "x of node3");
        assertEquals(80.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(50.0f, node4Layout.size().width, "width of node4");
        assertEquals(0.0f, node4Layout.size().height, "height of node4");
        assertEquals(0.0f, node4Layout.location().x, "x of node4");
        assertEquals(120.0f, node4Layout.location().y, "y of node4");
    }

    @Test
    @DisplayName("align_content_flex_start_without_height_on_children__border_box")
    void alignContentFlexStartWithoutHeightOnChildrenBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.length(50.0f), Dimension.AUTO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(10.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.size = new Size<>(Dimension.length(50.0f), Dimension.AUTO);
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        node3Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(10.0f));
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        node4Style.size = new Size<>(Dimension.length(50.0f), Dimension.AUTO);
        NodeId node4 = tree.newLeaf(node4Style);

        Style nodeStyle = new Style();
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.flexWrap = FlexWrap.WRAP;
        nodeStyle.alignContent = AlignContent.FLEX_START;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(50.0f, node0Layout.size().width, "width of node0");
        assertEquals(0.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(50.0f, node1Layout.size().width, "width of node1");
        assertEquals(10.0f, node1Layout.size().height, "height of node1");
        assertEquals(0.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(50.0f, node2Layout.size().width, "width of node2");
        assertEquals(0.0f, node2Layout.size().height, "height of node2");
        assertEquals(0.0f, node2Layout.location().x, "x of node2");
        assertEquals(10.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(50.0f, node3Layout.size().width, "width of node3");
        assertEquals(10.0f, node3Layout.size().height, "height of node3");
        assertEquals(0.0f, node3Layout.location().x, "x of node3");
        assertEquals(10.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(50.0f, node4Layout.size().width, "width of node4");
        assertEquals(0.0f, node4Layout.size().height, "height of node4");
        assertEquals(0.0f, node4Layout.location().x, "x of node4");
        assertEquals(20.0f, node4Layout.location().y, "y of node4");
    }

    @Test
    @DisplayName("align_content_flex_start_without_height_on_children__content_box")
    void alignContentFlexStartWithoutHeightOnChildrenContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.length(50.0f), Dimension.AUTO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(10.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        node2Style.size = new Size<>(Dimension.length(50.0f), Dimension.AUTO);
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        node3Style.boxSizing = BoxSizing.CONTENT_BOX;
        node3Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(10.0f));
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        node4Style.boxSizing = BoxSizing.CONTENT_BOX;
        node4Style.size = new Size<>(Dimension.length(50.0f), Dimension.AUTO);
        NodeId node4 = tree.newLeaf(node4Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.flexWrap = FlexWrap.WRAP;
        nodeStyle.alignContent = AlignContent.FLEX_START;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(50.0f, node0Layout.size().width, "width of node0");
        assertEquals(0.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(50.0f, node1Layout.size().width, "width of node1");
        assertEquals(10.0f, node1Layout.size().height, "height of node1");
        assertEquals(0.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(50.0f, node2Layout.size().width, "width of node2");
        assertEquals(0.0f, node2Layout.size().height, "height of node2");
        assertEquals(0.0f, node2Layout.location().x, "x of node2");
        assertEquals(10.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(50.0f, node3Layout.size().width, "width of node3");
        assertEquals(10.0f, node3Layout.size().height, "height of node3");
        assertEquals(0.0f, node3Layout.location().x, "x of node3");
        assertEquals(10.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(50.0f, node4Layout.size().width, "width of node4");
        assertEquals(0.0f, node4Layout.size().height, "height of node4");
        assertEquals(0.0f, node4Layout.location().x, "x of node4");
        assertEquals(20.0f, node4Layout.location().y, "y of node4");
    }

    @Test
    @DisplayName("align_content_not_stretch_with_align_items_stretch__border_box")
    void alignContentNotStretchWithAlignItemsStretchBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.size = new Size<>(Dimension.length(272.0f), Dimension.length(44.0f));
        NodeId node00 = tree.newLeaf(node00Style);

        Style node0Style = new Style();
        node0Style.flexDirection = FlexDirection.COLUMN;
        NodeId node0 = tree.newWithChildren(node0Style, node00);

        Style node10Style = new Style();
        node10Style.size = new Size<>(Dimension.length(56.0f), Dimension.length(44.0f));
        NodeId node10 = tree.newLeaf(node10Style);

        Style node1Style = new Style();
        node1Style.flexDirection = FlexDirection.COLUMN;
        NodeId node1 = tree.newWithChildren(node1Style, node10);

        Style nodeStyle = new Style();
        nodeStyle.flexWrap = FlexWrap.WRAP;
        nodeStyle.alignContent = AlignContent.FLEX_START;
        nodeStyle.size = new Size<>(Dimension.length(328.0f), Dimension.length(52.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(328.0f, nodeLayout.size().width, "width of node");
        assertEquals(52.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(272.0f, node0Layout.size().width, "width of node0");
        assertEquals(44.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(272.0f, node00Layout.size().width, "width of node00");
        assertEquals(44.0f, node00Layout.size().height, "height of node00");
        assertEquals(0.0f, node00Layout.location().x, "x of node00");
        assertEquals(0.0f, node00Layout.location().y, "y of node00");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(56.0f, node1Layout.size().width, "width of node1");
        assertEquals(44.0f, node1Layout.size().height, "height of node1");
        assertEquals(272.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node10Layout = tree.getLayout(node10);
        assertEquals(56.0f, node10Layout.size().width, "width of node10");
        assertEquals(44.0f, node10Layout.size().height, "height of node10");
        assertEquals(0.0f, node10Layout.location().x, "x of node10");
        assertEquals(0.0f, node10Layout.location().y, "y of node10");
    }

    @Test
    @DisplayName("align_content_not_stretch_with_align_items_stretch__content_box")
    void alignContentNotStretchWithAlignItemsStretchContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.boxSizing = BoxSizing.CONTENT_BOX;
        node00Style.size = new Size<>(Dimension.length(272.0f), Dimension.length(44.0f));
        NodeId node00 = tree.newLeaf(node00Style);

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.flexDirection = FlexDirection.COLUMN;
        NodeId node0 = tree.newWithChildren(node0Style, node00);

        Style node10Style = new Style();
        node10Style.boxSizing = BoxSizing.CONTENT_BOX;
        node10Style.size = new Size<>(Dimension.length(56.0f), Dimension.length(44.0f));
        NodeId node10 = tree.newLeaf(node10Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.flexDirection = FlexDirection.COLUMN;
        NodeId node1 = tree.newWithChildren(node1Style, node10);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexWrap = FlexWrap.WRAP;
        nodeStyle.alignContent = AlignContent.FLEX_START;
        nodeStyle.size = new Size<>(Dimension.length(328.0f), Dimension.length(52.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(328.0f, nodeLayout.size().width, "width of node");
        assertEquals(52.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(272.0f, node0Layout.size().width, "width of node0");
        assertEquals(44.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(272.0f, node00Layout.size().width, "width of node00");
        assertEquals(44.0f, node00Layout.size().height, "height of node00");
        assertEquals(0.0f, node00Layout.location().x, "x of node00");
        assertEquals(0.0f, node00Layout.location().y, "y of node00");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(56.0f, node1Layout.size().width, "width of node1");
        assertEquals(44.0f, node1Layout.size().height, "height of node1");
        assertEquals(272.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node10Layout = tree.getLayout(node10);
        assertEquals(56.0f, node10Layout.size().width, "width of node10");
        assertEquals(44.0f, node10Layout.size().height, "height of node10");
        assertEquals(0.0f, node10Layout.location().x, "x of node10");
        assertEquals(0.0f, node10Layout.location().y, "y of node10");
    }

    @Test
    @DisplayName("align_content_space_around_single_line__border_box")
    void alignContentSpaceAroundSingleLineBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(10.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(10.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(10.0f));
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        node3Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(10.0f));
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        node4Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(10.0f));
        NodeId node4 = tree.newLeaf(node4Style);

        Style node5Style = new Style();
        node5Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(10.0f));
        NodeId node5 = tree.newLeaf(node5Style);

        Style nodeStyle = new Style();
        nodeStyle.alignContent = AlignContent.SPACE_AROUND;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(17.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(16.0f, node1Layout.size().width, "width of node1");
        assertEquals(10.0f, node1Layout.size().height, "height of node1");
        assertEquals(17.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(17.0f, node2Layout.size().width, "width of node2");
        assertEquals(10.0f, node2Layout.size().height, "height of node2");
        assertEquals(33.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(17.0f, node3Layout.size().width, "width of node3");
        assertEquals(10.0f, node3Layout.size().height, "height of node3");
        assertEquals(50.0f, node3Layout.location().x, "x of node3");
        assertEquals(0.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(16.0f, node4Layout.size().width, "width of node4");
        assertEquals(10.0f, node4Layout.size().height, "height of node4");
        assertEquals(67.0f, node4Layout.location().x, "x of node4");
        assertEquals(0.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(17.0f, node5Layout.size().width, "width of node5");
        assertEquals(10.0f, node5Layout.size().height, "height of node5");
        assertEquals(83.0f, node5Layout.location().x, "x of node5");
        assertEquals(0.0f, node5Layout.location().y, "y of node5");
    }

    @Test
    @DisplayName("align_content_space_around_single_line__content_box")
    void alignContentSpaceAroundSingleLineContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(10.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(10.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        node2Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(10.0f));
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        node3Style.boxSizing = BoxSizing.CONTENT_BOX;
        node3Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(10.0f));
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        node4Style.boxSizing = BoxSizing.CONTENT_BOX;
        node4Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(10.0f));
        NodeId node4 = tree.newLeaf(node4Style);

        Style node5Style = new Style();
        node5Style.boxSizing = BoxSizing.CONTENT_BOX;
        node5Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(10.0f));
        NodeId node5 = tree.newLeaf(node5Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.alignContent = AlignContent.SPACE_AROUND;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(17.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(16.0f, node1Layout.size().width, "width of node1");
        assertEquals(10.0f, node1Layout.size().height, "height of node1");
        assertEquals(17.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(17.0f, node2Layout.size().width, "width of node2");
        assertEquals(10.0f, node2Layout.size().height, "height of node2");
        assertEquals(33.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(17.0f, node3Layout.size().width, "width of node3");
        assertEquals(10.0f, node3Layout.size().height, "height of node3");
        assertEquals(50.0f, node3Layout.location().x, "x of node3");
        assertEquals(0.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(16.0f, node4Layout.size().width, "width of node4");
        assertEquals(10.0f, node4Layout.size().height, "height of node4");
        assertEquals(67.0f, node4Layout.location().x, "x of node4");
        assertEquals(0.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(17.0f, node5Layout.size().width, "width of node5");
        assertEquals(10.0f, node5Layout.size().height, "height of node5");
        assertEquals(83.0f, node5Layout.location().x, "x of node5");
        assertEquals(0.0f, node5Layout.location().y, "y of node5");
    }

    @Test
    @DisplayName("align_content_space_around_single_line_negative_space__border_box")
    void alignContentSpaceAroundSingleLineNegativeSpaceBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.flexShrink = 0.0f;
        node00Style.size = new Size<>(Dimension.percent(0.8f), Dimension.length(60.0f));
        NodeId node00 = tree.newLeaf(node00Style);

        Style node0Style = new Style();
        node0Style.alignContent = AlignContent.SPACE_AROUND;
        node0Style.justifyContent = AlignContent.CENTER;
        node0Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        NodeId node0 = tree.newWithChildren(node0Style, node00);

        Style nodeStyle = new Style();
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.size = new Size<>(Dimension.length(320.0f), Dimension.length(320.0f));
        nodeStyle.border = new Rect<>(LengthPercentage.length(60.0f), LengthPercentage.length(60.0f), LengthPercentage.length(60.0f), LengthPercentage.length(60.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(320.0f, nodeLayout.size().width, "width of node");
        assertEquals(320.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(200.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(60.0f, node0Layout.location().x, "x of node0");
        assertEquals(60.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(160.0f, node00Layout.size().width, "width of node00");
        assertEquals(60.0f, node00Layout.size().height, "height of node00");
        assertEquals(20.0f, node00Layout.location().x, "x of node00");
        assertEquals(0.0f, node00Layout.location().y, "y of node00");
    }

    @Test
    @DisplayName("align_content_space_around_single_line_negative_space__content_box")
    void alignContentSpaceAroundSingleLineNegativeSpaceContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.boxSizing = BoxSizing.CONTENT_BOX;
        node00Style.flexShrink = 0.0f;
        node00Style.size = new Size<>(Dimension.percent(0.8f), Dimension.length(60.0f));
        NodeId node00 = tree.newLeaf(node00Style);

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.alignContent = AlignContent.SPACE_AROUND;
        node0Style.justifyContent = AlignContent.CENTER;
        node0Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        NodeId node0 = tree.newWithChildren(node0Style, node00);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.size = new Size<>(Dimension.length(320.0f), Dimension.length(320.0f));
        nodeStyle.border = new Rect<>(LengthPercentage.length(60.0f), LengthPercentage.length(60.0f), LengthPercentage.length(60.0f), LengthPercentage.length(60.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(440.0f, nodeLayout.size().width, "width of node");
        assertEquals(440.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(320.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(60.0f, node0Layout.location().x, "x of node0");
        assertEquals(60.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(256.0f, node00Layout.size().width, "width of node00");
        assertEquals(60.0f, node00Layout.size().height, "height of node00");
        assertEquals(32.0f, node00Layout.location().x, "x of node00");
        assertEquals(0.0f, node00Layout.location().y, "y of node00");
    }

    @Test
    @DisplayName("align_content_space_around_single_line_negative_space_gap__border_box")
    void alignContentSpaceAroundSingleLineNegativeSpaceGapBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.flexShrink = 0.0f;
        node00Style.size = new Size<>(Dimension.percent(0.8f), Dimension.length(60.0f));
        NodeId node00 = tree.newLeaf(node00Style);

        Style node0Style = new Style();
        node0Style.alignContent = AlignContent.SPACE_AROUND;
        node0Style.justifyContent = AlignContent.CENTER;
        node0Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        node0Style.gap = new Size<>(LengthPercentage.length(10.0f), LengthPercentage.length(10.0f));
        NodeId node0 = tree.newWithChildren(node0Style, node00);

        Style nodeStyle = new Style();
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.size = new Size<>(Dimension.length(320.0f), Dimension.length(320.0f));
        nodeStyle.border = new Rect<>(LengthPercentage.length(60.0f), LengthPercentage.length(60.0f), LengthPercentage.length(60.0f), LengthPercentage.length(60.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(320.0f, nodeLayout.size().width, "width of node");
        assertEquals(320.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(200.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(60.0f, node0Layout.location().x, "x of node0");
        assertEquals(60.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(160.0f, node00Layout.size().width, "width of node00");
        assertEquals(60.0f, node00Layout.size().height, "height of node00");
        assertEquals(20.0f, node00Layout.location().x, "x of node00");
        assertEquals(0.0f, node00Layout.location().y, "y of node00");
    }

    @Test
    @DisplayName("align_content_space_around_single_line_negative_space_gap__content_box")
    void alignContentSpaceAroundSingleLineNegativeSpaceGapContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.boxSizing = BoxSizing.CONTENT_BOX;
        node00Style.flexShrink = 0.0f;
        node00Style.size = new Size<>(Dimension.percent(0.8f), Dimension.length(60.0f));
        NodeId node00 = tree.newLeaf(node00Style);

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.alignContent = AlignContent.SPACE_AROUND;
        node0Style.justifyContent = AlignContent.CENTER;
        node0Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        node0Style.gap = new Size<>(LengthPercentage.length(10.0f), LengthPercentage.length(10.0f));
        NodeId node0 = tree.newWithChildren(node0Style, node00);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.size = new Size<>(Dimension.length(320.0f), Dimension.length(320.0f));
        nodeStyle.border = new Rect<>(LengthPercentage.length(60.0f), LengthPercentage.length(60.0f), LengthPercentage.length(60.0f), LengthPercentage.length(60.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(440.0f, nodeLayout.size().width, "width of node");
        assertEquals(440.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(320.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(60.0f, node0Layout.location().x, "x of node0");
        assertEquals(60.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(256.0f, node00Layout.size().width, "width of node00");
        assertEquals(60.0f, node00Layout.size().height, "height of node00");
        assertEquals(32.0f, node00Layout.location().x, "x of node00");
        assertEquals(0.0f, node00Layout.location().y, "y of node00");
    }

    @Test
    @DisplayName("align_content_space_around_wrapped__border_box")
    void alignContentSpaceAroundWrappedBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(10.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(10.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(10.0f));
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        node3Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(10.0f));
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        node4Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(10.0f));
        NodeId node4 = tree.newLeaf(node4Style);

        Style node5Style = new Style();
        node5Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(10.0f));
        NodeId node5 = tree.newLeaf(node5Style);

        Style nodeStyle = new Style();
        nodeStyle.flexWrap = FlexWrap.WRAP;
        nodeStyle.alignContent = AlignContent.SPACE_AROUND;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(50.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(12.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(50.0f, node1Layout.size().width, "width of node1");
        assertEquals(10.0f, node1Layout.size().height, "height of node1");
        assertEquals(50.0f, node1Layout.location().x, "x of node1");
        assertEquals(12.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(50.0f, node2Layout.size().width, "width of node2");
        assertEquals(10.0f, node2Layout.size().height, "height of node2");
        assertEquals(0.0f, node2Layout.location().x, "x of node2");
        assertEquals(45.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(50.0f, node3Layout.size().width, "width of node3");
        assertEquals(10.0f, node3Layout.size().height, "height of node3");
        assertEquals(50.0f, node3Layout.location().x, "x of node3");
        assertEquals(45.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(50.0f, node4Layout.size().width, "width of node4");
        assertEquals(10.0f, node4Layout.size().height, "height of node4");
        assertEquals(0.0f, node4Layout.location().x, "x of node4");
        assertEquals(78.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(50.0f, node5Layout.size().width, "width of node5");
        assertEquals(10.0f, node5Layout.size().height, "height of node5");
        assertEquals(50.0f, node5Layout.location().x, "x of node5");
        assertEquals(78.0f, node5Layout.location().y, "y of node5");
    }

    @Test
    @DisplayName("align_content_space_around_wrapped__content_box")
    void alignContentSpaceAroundWrappedContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(10.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(10.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        node2Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(10.0f));
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        node3Style.boxSizing = BoxSizing.CONTENT_BOX;
        node3Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(10.0f));
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        node4Style.boxSizing = BoxSizing.CONTENT_BOX;
        node4Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(10.0f));
        NodeId node4 = tree.newLeaf(node4Style);

        Style node5Style = new Style();
        node5Style.boxSizing = BoxSizing.CONTENT_BOX;
        node5Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(10.0f));
        NodeId node5 = tree.newLeaf(node5Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexWrap = FlexWrap.WRAP;
        nodeStyle.alignContent = AlignContent.SPACE_AROUND;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(50.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(12.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(50.0f, node1Layout.size().width, "width of node1");
        assertEquals(10.0f, node1Layout.size().height, "height of node1");
        assertEquals(50.0f, node1Layout.location().x, "x of node1");
        assertEquals(12.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(50.0f, node2Layout.size().width, "width of node2");
        assertEquals(10.0f, node2Layout.size().height, "height of node2");
        assertEquals(0.0f, node2Layout.location().x, "x of node2");
        assertEquals(45.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(50.0f, node3Layout.size().width, "width of node3");
        assertEquals(10.0f, node3Layout.size().height, "height of node3");
        assertEquals(50.0f, node3Layout.location().x, "x of node3");
        assertEquals(45.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(50.0f, node4Layout.size().width, "width of node4");
        assertEquals(10.0f, node4Layout.size().height, "height of node4");
        assertEquals(0.0f, node4Layout.location().x, "x of node4");
        assertEquals(78.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(50.0f, node5Layout.size().width, "width of node5");
        assertEquals(10.0f, node5Layout.size().height, "height of node5");
        assertEquals(50.0f, node5Layout.location().x, "x of node5");
        assertEquals(78.0f, node5Layout.location().y, "y of node5");
    }

    @Test
    @DisplayName("align_content_space_around_wrapped_negative_space__border_box")
    void alignContentSpaceAroundWrappedNegativeSpaceBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.flexShrink = 0.0f;
        node00Style.size = new Size<>(Dimension.percent(0.8f), Dimension.length(20.0f));
        NodeId node00 = tree.newLeaf(node00Style);

        Style node01Style = new Style();
        node01Style.flexShrink = 0.0f;
        node01Style.size = new Size<>(Dimension.percent(0.8f), Dimension.length(20.0f));
        NodeId node01 = tree.newLeaf(node01Style);

        Style node02Style = new Style();
        node02Style.flexShrink = 0.0f;
        node02Style.size = new Size<>(Dimension.percent(0.8f), Dimension.length(20.0f));
        NodeId node02 = tree.newLeaf(node02Style);

        Style node0Style = new Style();
        node0Style.flexWrap = FlexWrap.WRAP;
        node0Style.alignContent = AlignContent.SPACE_AROUND;
        node0Style.justifyContent = AlignContent.CENTER;
        node0Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        NodeId node0 = tree.newWithChildren(node0Style, node00, node01, node02);

        Style nodeStyle = new Style();
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.size = new Size<>(Dimension.length(320.0f), Dimension.length(320.0f));
        nodeStyle.border = new Rect<>(LengthPercentage.length(60.0f), LengthPercentage.length(60.0f), LengthPercentage.length(60.0f), LengthPercentage.length(60.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(320.0f, nodeLayout.size().width, "width of node");
        assertEquals(320.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(200.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(60.0f, node0Layout.location().x, "x of node0");
        assertEquals(60.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(160.0f, node00Layout.size().width, "width of node00");
        assertEquals(20.0f, node00Layout.size().height, "height of node00");
        assertEquals(20.0f, node00Layout.location().x, "x of node00");
        assertEquals(0.0f, node00Layout.location().y, "y of node00");
        Layout node01Layout = tree.getLayout(node01);
        assertEquals(160.0f, node01Layout.size().width, "width of node01");
        assertEquals(20.0f, node01Layout.size().height, "height of node01");
        assertEquals(20.0f, node01Layout.location().x, "x of node01");
        assertEquals(20.0f, node01Layout.location().y, "y of node01");
        Layout node02Layout = tree.getLayout(node02);
        assertEquals(160.0f, node02Layout.size().width, "width of node02");
        assertEquals(20.0f, node02Layout.size().height, "height of node02");
        assertEquals(20.0f, node02Layout.location().x, "x of node02");
        assertEquals(40.0f, node02Layout.location().y, "y of node02");
    }

    @Test
    @DisplayName("align_content_space_around_wrapped_negative_space__content_box")
    void alignContentSpaceAroundWrappedNegativeSpaceContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.boxSizing = BoxSizing.CONTENT_BOX;
        node00Style.flexShrink = 0.0f;
        node00Style.size = new Size<>(Dimension.percent(0.8f), Dimension.length(20.0f));
        NodeId node00 = tree.newLeaf(node00Style);

        Style node01Style = new Style();
        node01Style.boxSizing = BoxSizing.CONTENT_BOX;
        node01Style.flexShrink = 0.0f;
        node01Style.size = new Size<>(Dimension.percent(0.8f), Dimension.length(20.0f));
        NodeId node01 = tree.newLeaf(node01Style);

        Style node02Style = new Style();
        node02Style.boxSizing = BoxSizing.CONTENT_BOX;
        node02Style.flexShrink = 0.0f;
        node02Style.size = new Size<>(Dimension.percent(0.8f), Dimension.length(20.0f));
        NodeId node02 = tree.newLeaf(node02Style);

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.flexWrap = FlexWrap.WRAP;
        node0Style.alignContent = AlignContent.SPACE_AROUND;
        node0Style.justifyContent = AlignContent.CENTER;
        node0Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        NodeId node0 = tree.newWithChildren(node0Style, node00, node01, node02);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.size = new Size<>(Dimension.length(320.0f), Dimension.length(320.0f));
        nodeStyle.border = new Rect<>(LengthPercentage.length(60.0f), LengthPercentage.length(60.0f), LengthPercentage.length(60.0f), LengthPercentage.length(60.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(440.0f, nodeLayout.size().width, "width of node");
        assertEquals(440.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(320.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(60.0f, node0Layout.location().x, "x of node0");
        assertEquals(60.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(256.0f, node00Layout.size().width, "width of node00");
        assertEquals(20.0f, node00Layout.size().height, "height of node00");
        assertEquals(32.0f, node00Layout.location().x, "x of node00");
        assertEquals(0.0f, node00Layout.location().y, "y of node00");
        Layout node01Layout = tree.getLayout(node01);
        assertEquals(256.0f, node01Layout.size().width, "width of node01");
        assertEquals(20.0f, node01Layout.size().height, "height of node01");
        assertEquals(32.0f, node01Layout.location().x, "x of node01");
        assertEquals(20.0f, node01Layout.location().y, "y of node01");
        Layout node02Layout = tree.getLayout(node02);
        assertEquals(256.0f, node02Layout.size().width, "width of node02");
        assertEquals(20.0f, node02Layout.size().height, "height of node02");
        assertEquals(32.0f, node02Layout.location().x, "x of node02");
        assertEquals(40.0f, node02Layout.location().y, "y of node02");
    }

    @Test
    @DisplayName("align_content_space_around_wrapped_negative_space_gap__border_box")
    void alignContentSpaceAroundWrappedNegativeSpaceGapBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.flexShrink = 0.0f;
        node00Style.size = new Size<>(Dimension.percent(0.8f), Dimension.length(20.0f));
        NodeId node00 = tree.newLeaf(node00Style);

        Style node01Style = new Style();
        node01Style.flexShrink = 0.0f;
        node01Style.size = new Size<>(Dimension.percent(0.8f), Dimension.length(20.0f));
        NodeId node01 = tree.newLeaf(node01Style);

        Style node02Style = new Style();
        node02Style.flexShrink = 0.0f;
        node02Style.size = new Size<>(Dimension.percent(0.8f), Dimension.length(20.0f));
        NodeId node02 = tree.newLeaf(node02Style);

        Style node0Style = new Style();
        node0Style.flexWrap = FlexWrap.WRAP;
        node0Style.alignContent = AlignContent.SPACE_AROUND;
        node0Style.justifyContent = AlignContent.CENTER;
        node0Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        node0Style.gap = new Size<>(LengthPercentage.length(10.0f), LengthPercentage.length(10.0f));
        NodeId node0 = tree.newWithChildren(node0Style, node00, node01, node02);

        Style nodeStyle = new Style();
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.size = new Size<>(Dimension.length(320.0f), Dimension.length(320.0f));
        nodeStyle.border = new Rect<>(LengthPercentage.length(60.0f), LengthPercentage.length(60.0f), LengthPercentage.length(60.0f), LengthPercentage.length(60.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(320.0f, nodeLayout.size().width, "width of node");
        assertEquals(320.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(200.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(60.0f, node0Layout.location().x, "x of node0");
        assertEquals(60.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(160.0f, node00Layout.size().width, "width of node00");
        assertEquals(20.0f, node00Layout.size().height, "height of node00");
        assertEquals(20.0f, node00Layout.location().x, "x of node00");
        assertEquals(0.0f, node00Layout.location().y, "y of node00");
        Layout node01Layout = tree.getLayout(node01);
        assertEquals(160.0f, node01Layout.size().width, "width of node01");
        assertEquals(20.0f, node01Layout.size().height, "height of node01");
        assertEquals(20.0f, node01Layout.location().x, "x of node01");
        assertEquals(30.0f, node01Layout.location().y, "y of node01");
        Layout node02Layout = tree.getLayout(node02);
        assertEquals(160.0f, node02Layout.size().width, "width of node02");
        assertEquals(20.0f, node02Layout.size().height, "height of node02");
        assertEquals(20.0f, node02Layout.location().x, "x of node02");
        assertEquals(60.0f, node02Layout.location().y, "y of node02");
    }

    @Test
    @DisplayName("align_content_space_around_wrapped_negative_space_gap__content_box")
    void alignContentSpaceAroundWrappedNegativeSpaceGapContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.boxSizing = BoxSizing.CONTENT_BOX;
        node00Style.flexShrink = 0.0f;
        node00Style.size = new Size<>(Dimension.percent(0.8f), Dimension.length(20.0f));
        NodeId node00 = tree.newLeaf(node00Style);

        Style node01Style = new Style();
        node01Style.boxSizing = BoxSizing.CONTENT_BOX;
        node01Style.flexShrink = 0.0f;
        node01Style.size = new Size<>(Dimension.percent(0.8f), Dimension.length(20.0f));
        NodeId node01 = tree.newLeaf(node01Style);

        Style node02Style = new Style();
        node02Style.boxSizing = BoxSizing.CONTENT_BOX;
        node02Style.flexShrink = 0.0f;
        node02Style.size = new Size<>(Dimension.percent(0.8f), Dimension.length(20.0f));
        NodeId node02 = tree.newLeaf(node02Style);

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.flexWrap = FlexWrap.WRAP;
        node0Style.alignContent = AlignContent.SPACE_AROUND;
        node0Style.justifyContent = AlignContent.CENTER;
        node0Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        node0Style.gap = new Size<>(LengthPercentage.length(10.0f), LengthPercentage.length(10.0f));
        NodeId node0 = tree.newWithChildren(node0Style, node00, node01, node02);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.size = new Size<>(Dimension.length(320.0f), Dimension.length(320.0f));
        nodeStyle.border = new Rect<>(LengthPercentage.length(60.0f), LengthPercentage.length(60.0f), LengthPercentage.length(60.0f), LengthPercentage.length(60.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(440.0f, nodeLayout.size().width, "width of node");
        assertEquals(440.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(320.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(60.0f, node0Layout.location().x, "x of node0");
        assertEquals(60.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(256.0f, node00Layout.size().width, "width of node00");
        assertEquals(20.0f, node00Layout.size().height, "height of node00");
        assertEquals(32.0f, node00Layout.location().x, "x of node00");
        assertEquals(0.0f, node00Layout.location().y, "y of node00");
        Layout node01Layout = tree.getLayout(node01);
        assertEquals(256.0f, node01Layout.size().width, "width of node01");
        assertEquals(20.0f, node01Layout.size().height, "height of node01");
        assertEquals(32.0f, node01Layout.location().x, "x of node01");
        assertEquals(30.0f, node01Layout.location().y, "y of node01");
        Layout node02Layout = tree.getLayout(node02);
        assertEquals(256.0f, node02Layout.size().width, "width of node02");
        assertEquals(20.0f, node02Layout.size().height, "height of node02");
        assertEquals(32.0f, node02Layout.location().x, "x of node02");
        assertEquals(60.0f, node02Layout.location().y, "y of node02");
    }

    @Test
    @DisplayName("align_content_space_around_wrapped_single__border_box")
    void alignContentSpaceAroundWrappedSingleBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(10.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.flexWrap = FlexWrap.WRAP;
        nodeStyle.alignContent = AlignContent.SPACE_AROUND;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(50.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(45.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("align_content_space_around_wrapped_single__content_box")
    void alignContentSpaceAroundWrappedSingleContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(10.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexWrap = FlexWrap.WRAP;
        nodeStyle.alignContent = AlignContent.SPACE_AROUND;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(50.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(45.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("align_content_space_between_single_line__border_box")
    void alignContentSpaceBetweenSingleLineBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.length(10.0f), Dimension.length(10.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.size = new Size<>(Dimension.length(10.0f), Dimension.length(10.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.size = new Size<>(Dimension.length(10.0f), Dimension.length(10.0f));
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        node3Style.size = new Size<>(Dimension.length(10.0f), Dimension.length(10.0f));
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        node4Style.size = new Size<>(Dimension.length(10.0f), Dimension.length(10.0f));
        NodeId node4 = tree.newLeaf(node4Style);

        Style node5Style = new Style();
        node5Style.size = new Size<>(Dimension.length(10.0f), Dimension.length(10.0f));
        NodeId node5 = tree.newLeaf(node5Style);

        Style nodeStyle = new Style();
        nodeStyle.alignContent = AlignContent.SPACE_BETWEEN;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(10.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(10.0f, node1Layout.size().width, "width of node1");
        assertEquals(10.0f, node1Layout.size().height, "height of node1");
        assertEquals(10.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(10.0f, node2Layout.size().width, "width of node2");
        assertEquals(10.0f, node2Layout.size().height, "height of node2");
        assertEquals(20.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(10.0f, node3Layout.size().width, "width of node3");
        assertEquals(10.0f, node3Layout.size().height, "height of node3");
        assertEquals(30.0f, node3Layout.location().x, "x of node3");
        assertEquals(0.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(10.0f, node4Layout.size().width, "width of node4");
        assertEquals(10.0f, node4Layout.size().height, "height of node4");
        assertEquals(40.0f, node4Layout.location().x, "x of node4");
        assertEquals(0.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(10.0f, node5Layout.size().width, "width of node5");
        assertEquals(10.0f, node5Layout.size().height, "height of node5");
        assertEquals(50.0f, node5Layout.location().x, "x of node5");
        assertEquals(0.0f, node5Layout.location().y, "y of node5");
    }

    @Test
    @DisplayName("align_content_space_between_single_line__content_box")
    void alignContentSpaceBetweenSingleLineContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.length(10.0f), Dimension.length(10.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.size = new Size<>(Dimension.length(10.0f), Dimension.length(10.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        node2Style.size = new Size<>(Dimension.length(10.0f), Dimension.length(10.0f));
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        node3Style.boxSizing = BoxSizing.CONTENT_BOX;
        node3Style.size = new Size<>(Dimension.length(10.0f), Dimension.length(10.0f));
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        node4Style.boxSizing = BoxSizing.CONTENT_BOX;
        node4Style.size = new Size<>(Dimension.length(10.0f), Dimension.length(10.0f));
        NodeId node4 = tree.newLeaf(node4Style);

        Style node5Style = new Style();
        node5Style.boxSizing = BoxSizing.CONTENT_BOX;
        node5Style.size = new Size<>(Dimension.length(10.0f), Dimension.length(10.0f));
        NodeId node5 = tree.newLeaf(node5Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.alignContent = AlignContent.SPACE_BETWEEN;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(10.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(10.0f, node1Layout.size().width, "width of node1");
        assertEquals(10.0f, node1Layout.size().height, "height of node1");
        assertEquals(10.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(10.0f, node2Layout.size().width, "width of node2");
        assertEquals(10.0f, node2Layout.size().height, "height of node2");
        assertEquals(20.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(10.0f, node3Layout.size().width, "width of node3");
        assertEquals(10.0f, node3Layout.size().height, "height of node3");
        assertEquals(30.0f, node3Layout.location().x, "x of node3");
        assertEquals(0.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(10.0f, node4Layout.size().width, "width of node4");
        assertEquals(10.0f, node4Layout.size().height, "height of node4");
        assertEquals(40.0f, node4Layout.location().x, "x of node4");
        assertEquals(0.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(10.0f, node5Layout.size().width, "width of node5");
        assertEquals(10.0f, node5Layout.size().height, "height of node5");
        assertEquals(50.0f, node5Layout.location().x, "x of node5");
        assertEquals(0.0f, node5Layout.location().y, "y of node5");
    }

    @Test
    @DisplayName("align_content_space_between_single_line_negative_space__border_box")
    void alignContentSpaceBetweenSingleLineNegativeSpaceBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.flexShrink = 0.0f;
        node00Style.size = new Size<>(Dimension.percent(0.8f), Dimension.length(60.0f));
        NodeId node00 = tree.newLeaf(node00Style);

        Style node0Style = new Style();
        node0Style.alignContent = AlignContent.SPACE_BETWEEN;
        node0Style.justifyContent = AlignContent.CENTER;
        node0Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        NodeId node0 = tree.newWithChildren(node0Style, node00);

        Style nodeStyle = new Style();
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.size = new Size<>(Dimension.length(320.0f), Dimension.length(320.0f));
        nodeStyle.border = new Rect<>(LengthPercentage.length(60.0f), LengthPercentage.length(60.0f), LengthPercentage.length(60.0f), LengthPercentage.length(60.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(320.0f, nodeLayout.size().width, "width of node");
        assertEquals(320.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(200.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(60.0f, node0Layout.location().x, "x of node0");
        assertEquals(60.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(160.0f, node00Layout.size().width, "width of node00");
        assertEquals(60.0f, node00Layout.size().height, "height of node00");
        assertEquals(20.0f, node00Layout.location().x, "x of node00");
        assertEquals(0.0f, node00Layout.location().y, "y of node00");
    }

    @Test
    @DisplayName("align_content_space_between_single_line_negative_space__content_box")
    void alignContentSpaceBetweenSingleLineNegativeSpaceContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.boxSizing = BoxSizing.CONTENT_BOX;
        node00Style.flexShrink = 0.0f;
        node00Style.size = new Size<>(Dimension.percent(0.8f), Dimension.length(60.0f));
        NodeId node00 = tree.newLeaf(node00Style);

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.alignContent = AlignContent.SPACE_BETWEEN;
        node0Style.justifyContent = AlignContent.CENTER;
        node0Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        NodeId node0 = tree.newWithChildren(node0Style, node00);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.size = new Size<>(Dimension.length(320.0f), Dimension.length(320.0f));
        nodeStyle.border = new Rect<>(LengthPercentage.length(60.0f), LengthPercentage.length(60.0f), LengthPercentage.length(60.0f), LengthPercentage.length(60.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(440.0f, nodeLayout.size().width, "width of node");
        assertEquals(440.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(320.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(60.0f, node0Layout.location().x, "x of node0");
        assertEquals(60.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(256.0f, node00Layout.size().width, "width of node00");
        assertEquals(60.0f, node00Layout.size().height, "height of node00");
        assertEquals(32.0f, node00Layout.location().x, "x of node00");
        assertEquals(0.0f, node00Layout.location().y, "y of node00");
    }

    @Test
    @DisplayName("align_content_space_between_single_line_negative_space_gap__border_box")
    void alignContentSpaceBetweenSingleLineNegativeSpaceGapBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.flexShrink = 0.0f;
        node00Style.size = new Size<>(Dimension.percent(0.8f), Dimension.length(60.0f));
        NodeId node00 = tree.newLeaf(node00Style);

        Style node0Style = new Style();
        node0Style.alignContent = AlignContent.SPACE_BETWEEN;
        node0Style.justifyContent = AlignContent.CENTER;
        node0Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        node0Style.gap = new Size<>(LengthPercentage.length(10.0f), LengthPercentage.length(10.0f));
        NodeId node0 = tree.newWithChildren(node0Style, node00);

        Style nodeStyle = new Style();
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.size = new Size<>(Dimension.length(320.0f), Dimension.length(320.0f));
        nodeStyle.border = new Rect<>(LengthPercentage.length(60.0f), LengthPercentage.length(60.0f), LengthPercentage.length(60.0f), LengthPercentage.length(60.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(320.0f, nodeLayout.size().width, "width of node");
        assertEquals(320.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(200.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(60.0f, node0Layout.location().x, "x of node0");
        assertEquals(60.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(160.0f, node00Layout.size().width, "width of node00");
        assertEquals(60.0f, node00Layout.size().height, "height of node00");
        assertEquals(20.0f, node00Layout.location().x, "x of node00");
        assertEquals(0.0f, node00Layout.location().y, "y of node00");
    }

    @Test
    @DisplayName("align_content_space_between_single_line_negative_space_gap__content_box")
    void alignContentSpaceBetweenSingleLineNegativeSpaceGapContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.boxSizing = BoxSizing.CONTENT_BOX;
        node00Style.flexShrink = 0.0f;
        node00Style.size = new Size<>(Dimension.percent(0.8f), Dimension.length(60.0f));
        NodeId node00 = tree.newLeaf(node00Style);

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.alignContent = AlignContent.SPACE_BETWEEN;
        node0Style.justifyContent = AlignContent.CENTER;
        node0Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        node0Style.gap = new Size<>(LengthPercentage.length(10.0f), LengthPercentage.length(10.0f));
        NodeId node0 = tree.newWithChildren(node0Style, node00);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.size = new Size<>(Dimension.length(320.0f), Dimension.length(320.0f));
        nodeStyle.border = new Rect<>(LengthPercentage.length(60.0f), LengthPercentage.length(60.0f), LengthPercentage.length(60.0f), LengthPercentage.length(60.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(440.0f, nodeLayout.size().width, "width of node");
        assertEquals(440.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(320.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(60.0f, node0Layout.location().x, "x of node0");
        assertEquals(60.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(256.0f, node00Layout.size().width, "width of node00");
        assertEquals(60.0f, node00Layout.size().height, "height of node00");
        assertEquals(32.0f, node00Layout.location().x, "x of node00");
        assertEquals(0.0f, node00Layout.location().y, "y of node00");
    }

    @Test
    @DisplayName("align_content_space_between_wrapped__border_box")
    void alignContentSpaceBetweenWrappedBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(10.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(10.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(10.0f));
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        node3Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(10.0f));
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        node4Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(10.0f));
        NodeId node4 = tree.newLeaf(node4Style);

        Style node5Style = new Style();
        node5Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(10.0f));
        NodeId node5 = tree.newLeaf(node5Style);

        Style nodeStyle = new Style();
        nodeStyle.flexWrap = FlexWrap.WRAP;
        nodeStyle.alignContent = AlignContent.SPACE_BETWEEN;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(50.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(50.0f, node1Layout.size().width, "width of node1");
        assertEquals(10.0f, node1Layout.size().height, "height of node1");
        assertEquals(50.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(50.0f, node2Layout.size().width, "width of node2");
        assertEquals(10.0f, node2Layout.size().height, "height of node2");
        assertEquals(0.0f, node2Layout.location().x, "x of node2");
        assertEquals(45.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(50.0f, node3Layout.size().width, "width of node3");
        assertEquals(10.0f, node3Layout.size().height, "height of node3");
        assertEquals(50.0f, node3Layout.location().x, "x of node3");
        assertEquals(45.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(50.0f, node4Layout.size().width, "width of node4");
        assertEquals(10.0f, node4Layout.size().height, "height of node4");
        assertEquals(0.0f, node4Layout.location().x, "x of node4");
        assertEquals(90.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(50.0f, node5Layout.size().width, "width of node5");
        assertEquals(10.0f, node5Layout.size().height, "height of node5");
        assertEquals(50.0f, node5Layout.location().x, "x of node5");
        assertEquals(90.0f, node5Layout.location().y, "y of node5");
    }

    @Test
    @DisplayName("align_content_space_between_wrapped__content_box")
    void alignContentSpaceBetweenWrappedContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(10.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(10.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        node2Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(10.0f));
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        node3Style.boxSizing = BoxSizing.CONTENT_BOX;
        node3Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(10.0f));
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        node4Style.boxSizing = BoxSizing.CONTENT_BOX;
        node4Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(10.0f));
        NodeId node4 = tree.newLeaf(node4Style);

        Style node5Style = new Style();
        node5Style.boxSizing = BoxSizing.CONTENT_BOX;
        node5Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(10.0f));
        NodeId node5 = tree.newLeaf(node5Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexWrap = FlexWrap.WRAP;
        nodeStyle.alignContent = AlignContent.SPACE_BETWEEN;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(50.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(50.0f, node1Layout.size().width, "width of node1");
        assertEquals(10.0f, node1Layout.size().height, "height of node1");
        assertEquals(50.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(50.0f, node2Layout.size().width, "width of node2");
        assertEquals(10.0f, node2Layout.size().height, "height of node2");
        assertEquals(0.0f, node2Layout.location().x, "x of node2");
        assertEquals(45.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(50.0f, node3Layout.size().width, "width of node3");
        assertEquals(10.0f, node3Layout.size().height, "height of node3");
        assertEquals(50.0f, node3Layout.location().x, "x of node3");
        assertEquals(45.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(50.0f, node4Layout.size().width, "width of node4");
        assertEquals(10.0f, node4Layout.size().height, "height of node4");
        assertEquals(0.0f, node4Layout.location().x, "x of node4");
        assertEquals(90.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(50.0f, node5Layout.size().width, "width of node5");
        assertEquals(10.0f, node5Layout.size().height, "height of node5");
        assertEquals(50.0f, node5Layout.location().x, "x of node5");
        assertEquals(90.0f, node5Layout.location().y, "y of node5");
    }

    @Test
    @DisplayName("align_content_space_between_wrapped_negative_space__border_box")
    void alignContentSpaceBetweenWrappedNegativeSpaceBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.flexShrink = 0.0f;
        node00Style.size = new Size<>(Dimension.percent(0.8f), Dimension.length(20.0f));
        NodeId node00 = tree.newLeaf(node00Style);

        Style node01Style = new Style();
        node01Style.flexShrink = 0.0f;
        node01Style.size = new Size<>(Dimension.percent(0.8f), Dimension.length(20.0f));
        NodeId node01 = tree.newLeaf(node01Style);

        Style node02Style = new Style();
        node02Style.flexShrink = 0.0f;
        node02Style.size = new Size<>(Dimension.percent(0.8f), Dimension.length(20.0f));
        NodeId node02 = tree.newLeaf(node02Style);

        Style node0Style = new Style();
        node0Style.flexWrap = FlexWrap.WRAP;
        node0Style.alignContent = AlignContent.SPACE_BETWEEN;
        node0Style.justifyContent = AlignContent.CENTER;
        node0Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        NodeId node0 = tree.newWithChildren(node0Style, node00, node01, node02);

        Style nodeStyle = new Style();
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.size = new Size<>(Dimension.length(320.0f), Dimension.length(320.0f));
        nodeStyle.border = new Rect<>(LengthPercentage.length(60.0f), LengthPercentage.length(60.0f), LengthPercentage.length(60.0f), LengthPercentage.length(60.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(320.0f, nodeLayout.size().width, "width of node");
        assertEquals(320.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(200.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(60.0f, node0Layout.location().x, "x of node0");
        assertEquals(60.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(160.0f, node00Layout.size().width, "width of node00");
        assertEquals(20.0f, node00Layout.size().height, "height of node00");
        assertEquals(20.0f, node00Layout.location().x, "x of node00");
        assertEquals(0.0f, node00Layout.location().y, "y of node00");
        Layout node01Layout = tree.getLayout(node01);
        assertEquals(160.0f, node01Layout.size().width, "width of node01");
        assertEquals(20.0f, node01Layout.size().height, "height of node01");
        assertEquals(20.0f, node01Layout.location().x, "x of node01");
        assertEquals(20.0f, node01Layout.location().y, "y of node01");
        Layout node02Layout = tree.getLayout(node02);
        assertEquals(160.0f, node02Layout.size().width, "width of node02");
        assertEquals(20.0f, node02Layout.size().height, "height of node02");
        assertEquals(20.0f, node02Layout.location().x, "x of node02");
        assertEquals(40.0f, node02Layout.location().y, "y of node02");
    }

    @Test
    @DisplayName("align_content_space_between_wrapped_negative_space__content_box")
    void alignContentSpaceBetweenWrappedNegativeSpaceContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.boxSizing = BoxSizing.CONTENT_BOX;
        node00Style.flexShrink = 0.0f;
        node00Style.size = new Size<>(Dimension.percent(0.8f), Dimension.length(20.0f));
        NodeId node00 = tree.newLeaf(node00Style);

        Style node01Style = new Style();
        node01Style.boxSizing = BoxSizing.CONTENT_BOX;
        node01Style.flexShrink = 0.0f;
        node01Style.size = new Size<>(Dimension.percent(0.8f), Dimension.length(20.0f));
        NodeId node01 = tree.newLeaf(node01Style);

        Style node02Style = new Style();
        node02Style.boxSizing = BoxSizing.CONTENT_BOX;
        node02Style.flexShrink = 0.0f;
        node02Style.size = new Size<>(Dimension.percent(0.8f), Dimension.length(20.0f));
        NodeId node02 = tree.newLeaf(node02Style);

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.flexWrap = FlexWrap.WRAP;
        node0Style.alignContent = AlignContent.SPACE_BETWEEN;
        node0Style.justifyContent = AlignContent.CENTER;
        node0Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        NodeId node0 = tree.newWithChildren(node0Style, node00, node01, node02);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.size = new Size<>(Dimension.length(320.0f), Dimension.length(320.0f));
        nodeStyle.border = new Rect<>(LengthPercentage.length(60.0f), LengthPercentage.length(60.0f), LengthPercentage.length(60.0f), LengthPercentage.length(60.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(440.0f, nodeLayout.size().width, "width of node");
        assertEquals(440.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(320.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(60.0f, node0Layout.location().x, "x of node0");
        assertEquals(60.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(256.0f, node00Layout.size().width, "width of node00");
        assertEquals(20.0f, node00Layout.size().height, "height of node00");
        assertEquals(32.0f, node00Layout.location().x, "x of node00");
        assertEquals(0.0f, node00Layout.location().y, "y of node00");
        Layout node01Layout = tree.getLayout(node01);
        assertEquals(256.0f, node01Layout.size().width, "width of node01");
        assertEquals(20.0f, node01Layout.size().height, "height of node01");
        assertEquals(32.0f, node01Layout.location().x, "x of node01");
        assertEquals(20.0f, node01Layout.location().y, "y of node01");
        Layout node02Layout = tree.getLayout(node02);
        assertEquals(256.0f, node02Layout.size().width, "width of node02");
        assertEquals(20.0f, node02Layout.size().height, "height of node02");
        assertEquals(32.0f, node02Layout.location().x, "x of node02");
        assertEquals(40.0f, node02Layout.location().y, "y of node02");
    }

    @Test
    @DisplayName("align_content_space_between_wrapped_negative_space_gap__border_box")
    void alignContentSpaceBetweenWrappedNegativeSpaceGapBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.flexShrink = 0.0f;
        node00Style.size = new Size<>(Dimension.percent(0.8f), Dimension.length(20.0f));
        NodeId node00 = tree.newLeaf(node00Style);

        Style node01Style = new Style();
        node01Style.flexShrink = 0.0f;
        node01Style.size = new Size<>(Dimension.percent(0.8f), Dimension.length(20.0f));
        NodeId node01 = tree.newLeaf(node01Style);

        Style node02Style = new Style();
        node02Style.flexShrink = 0.0f;
        node02Style.size = new Size<>(Dimension.percent(0.8f), Dimension.length(20.0f));
        NodeId node02 = tree.newLeaf(node02Style);

        Style node0Style = new Style();
        node0Style.flexWrap = FlexWrap.WRAP;
        node0Style.alignContent = AlignContent.SPACE_BETWEEN;
        node0Style.justifyContent = AlignContent.CENTER;
        node0Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        node0Style.gap = new Size<>(LengthPercentage.length(10.0f), LengthPercentage.length(10.0f));
        NodeId node0 = tree.newWithChildren(node0Style, node00, node01, node02);

        Style nodeStyle = new Style();
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.size = new Size<>(Dimension.length(320.0f), Dimension.length(320.0f));
        nodeStyle.border = new Rect<>(LengthPercentage.length(60.0f), LengthPercentage.length(60.0f), LengthPercentage.length(60.0f), LengthPercentage.length(60.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(320.0f, nodeLayout.size().width, "width of node");
        assertEquals(320.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(200.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(60.0f, node0Layout.location().x, "x of node0");
        assertEquals(60.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(160.0f, node00Layout.size().width, "width of node00");
        assertEquals(20.0f, node00Layout.size().height, "height of node00");
        assertEquals(20.0f, node00Layout.location().x, "x of node00");
        assertEquals(0.0f, node00Layout.location().y, "y of node00");
        Layout node01Layout = tree.getLayout(node01);
        assertEquals(160.0f, node01Layout.size().width, "width of node01");
        assertEquals(20.0f, node01Layout.size().height, "height of node01");
        assertEquals(20.0f, node01Layout.location().x, "x of node01");
        assertEquals(30.0f, node01Layout.location().y, "y of node01");
        Layout node02Layout = tree.getLayout(node02);
        assertEquals(160.0f, node02Layout.size().width, "width of node02");
        assertEquals(20.0f, node02Layout.size().height, "height of node02");
        assertEquals(20.0f, node02Layout.location().x, "x of node02");
        assertEquals(60.0f, node02Layout.location().y, "y of node02");
    }

    @Test
    @DisplayName("align_content_space_between_wrapped_negative_space_gap__content_box")
    void alignContentSpaceBetweenWrappedNegativeSpaceGapContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.boxSizing = BoxSizing.CONTENT_BOX;
        node00Style.flexShrink = 0.0f;
        node00Style.size = new Size<>(Dimension.percent(0.8f), Dimension.length(20.0f));
        NodeId node00 = tree.newLeaf(node00Style);

        Style node01Style = new Style();
        node01Style.boxSizing = BoxSizing.CONTENT_BOX;
        node01Style.flexShrink = 0.0f;
        node01Style.size = new Size<>(Dimension.percent(0.8f), Dimension.length(20.0f));
        NodeId node01 = tree.newLeaf(node01Style);

        Style node02Style = new Style();
        node02Style.boxSizing = BoxSizing.CONTENT_BOX;
        node02Style.flexShrink = 0.0f;
        node02Style.size = new Size<>(Dimension.percent(0.8f), Dimension.length(20.0f));
        NodeId node02 = tree.newLeaf(node02Style);

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.flexWrap = FlexWrap.WRAP;
        node0Style.alignContent = AlignContent.SPACE_BETWEEN;
        node0Style.justifyContent = AlignContent.CENTER;
        node0Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        node0Style.gap = new Size<>(LengthPercentage.length(10.0f), LengthPercentage.length(10.0f));
        NodeId node0 = tree.newWithChildren(node0Style, node00, node01, node02);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.size = new Size<>(Dimension.length(320.0f), Dimension.length(320.0f));
        nodeStyle.border = new Rect<>(LengthPercentage.length(60.0f), LengthPercentage.length(60.0f), LengthPercentage.length(60.0f), LengthPercentage.length(60.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(440.0f, nodeLayout.size().width, "width of node");
        assertEquals(440.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(320.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(60.0f, node0Layout.location().x, "x of node0");
        assertEquals(60.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(256.0f, node00Layout.size().width, "width of node00");
        assertEquals(20.0f, node00Layout.size().height, "height of node00");
        assertEquals(32.0f, node00Layout.location().x, "x of node00");
        assertEquals(0.0f, node00Layout.location().y, "y of node00");
        Layout node01Layout = tree.getLayout(node01);
        assertEquals(256.0f, node01Layout.size().width, "width of node01");
        assertEquals(20.0f, node01Layout.size().height, "height of node01");
        assertEquals(32.0f, node01Layout.location().x, "x of node01");
        assertEquals(30.0f, node01Layout.location().y, "y of node01");
        Layout node02Layout = tree.getLayout(node02);
        assertEquals(256.0f, node02Layout.size().width, "width of node02");
        assertEquals(20.0f, node02Layout.size().height, "height of node02");
        assertEquals(32.0f, node02Layout.location().x, "x of node02");
        assertEquals(60.0f, node02Layout.location().y, "y of node02");
    }

    @Test
    @DisplayName("align_content_space_between_wrapped_single__border_box")
    void alignContentSpaceBetweenWrappedSingleBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(10.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.flexWrap = FlexWrap.WRAP;
        nodeStyle.alignContent = AlignContent.SPACE_BETWEEN;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(50.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("align_content_space_between_wrapped_single__content_box")
    void alignContentSpaceBetweenWrappedSingleContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(10.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexWrap = FlexWrap.WRAP;
        nodeStyle.alignContent = AlignContent.SPACE_BETWEEN;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(50.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("align_content_space_evenly_single_line__border_box")
    void alignContentSpaceEvenlySingleLineBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.length(10.0f), Dimension.length(10.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.size = new Size<>(Dimension.length(10.0f), Dimension.length(10.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.size = new Size<>(Dimension.length(10.0f), Dimension.length(10.0f));
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        node3Style.size = new Size<>(Dimension.length(10.0f), Dimension.length(10.0f));
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        node4Style.size = new Size<>(Dimension.length(10.0f), Dimension.length(10.0f));
        NodeId node4 = tree.newLeaf(node4Style);

        Style node5Style = new Style();
        node5Style.size = new Size<>(Dimension.length(10.0f), Dimension.length(10.0f));
        NodeId node5 = tree.newLeaf(node5Style);

        Style nodeStyle = new Style();
        nodeStyle.alignContent = AlignContent.SPACE_EVENLY;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(10.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(10.0f, node1Layout.size().width, "width of node1");
        assertEquals(10.0f, node1Layout.size().height, "height of node1");
        assertEquals(10.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(10.0f, node2Layout.size().width, "width of node2");
        assertEquals(10.0f, node2Layout.size().height, "height of node2");
        assertEquals(20.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(10.0f, node3Layout.size().width, "width of node3");
        assertEquals(10.0f, node3Layout.size().height, "height of node3");
        assertEquals(30.0f, node3Layout.location().x, "x of node3");
        assertEquals(0.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(10.0f, node4Layout.size().width, "width of node4");
        assertEquals(10.0f, node4Layout.size().height, "height of node4");
        assertEquals(40.0f, node4Layout.location().x, "x of node4");
        assertEquals(0.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(10.0f, node5Layout.size().width, "width of node5");
        assertEquals(10.0f, node5Layout.size().height, "height of node5");
        assertEquals(50.0f, node5Layout.location().x, "x of node5");
        assertEquals(0.0f, node5Layout.location().y, "y of node5");
    }

    @Test
    @DisplayName("align_content_space_evenly_single_line__content_box")
    void alignContentSpaceEvenlySingleLineContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.length(10.0f), Dimension.length(10.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.size = new Size<>(Dimension.length(10.0f), Dimension.length(10.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        node2Style.size = new Size<>(Dimension.length(10.0f), Dimension.length(10.0f));
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        node3Style.boxSizing = BoxSizing.CONTENT_BOX;
        node3Style.size = new Size<>(Dimension.length(10.0f), Dimension.length(10.0f));
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        node4Style.boxSizing = BoxSizing.CONTENT_BOX;
        node4Style.size = new Size<>(Dimension.length(10.0f), Dimension.length(10.0f));
        NodeId node4 = tree.newLeaf(node4Style);

        Style node5Style = new Style();
        node5Style.boxSizing = BoxSizing.CONTENT_BOX;
        node5Style.size = new Size<>(Dimension.length(10.0f), Dimension.length(10.0f));
        NodeId node5 = tree.newLeaf(node5Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.alignContent = AlignContent.SPACE_EVENLY;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(10.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(10.0f, node1Layout.size().width, "width of node1");
        assertEquals(10.0f, node1Layout.size().height, "height of node1");
        assertEquals(10.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(10.0f, node2Layout.size().width, "width of node2");
        assertEquals(10.0f, node2Layout.size().height, "height of node2");
        assertEquals(20.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(10.0f, node3Layout.size().width, "width of node3");
        assertEquals(10.0f, node3Layout.size().height, "height of node3");
        assertEquals(30.0f, node3Layout.location().x, "x of node3");
        assertEquals(0.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(10.0f, node4Layout.size().width, "width of node4");
        assertEquals(10.0f, node4Layout.size().height, "height of node4");
        assertEquals(40.0f, node4Layout.location().x, "x of node4");
        assertEquals(0.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(10.0f, node5Layout.size().width, "width of node5");
        assertEquals(10.0f, node5Layout.size().height, "height of node5");
        assertEquals(50.0f, node5Layout.location().x, "x of node5");
        assertEquals(0.0f, node5Layout.location().y, "y of node5");
    }

    @Test
    @DisplayName("align_content_space_evenly_single_line_negative_space__border_box")
    void alignContentSpaceEvenlySingleLineNegativeSpaceBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.flexShrink = 0.0f;
        node00Style.size = new Size<>(Dimension.percent(0.8f), Dimension.length(60.0f));
        NodeId node00 = tree.newLeaf(node00Style);

        Style node0Style = new Style();
        node0Style.alignContent = AlignContent.SPACE_EVENLY;
        node0Style.justifyContent = AlignContent.CENTER;
        node0Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        NodeId node0 = tree.newWithChildren(node0Style, node00);

        Style nodeStyle = new Style();
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.size = new Size<>(Dimension.length(320.0f), Dimension.length(320.0f));
        nodeStyle.border = new Rect<>(LengthPercentage.length(60.0f), LengthPercentage.length(60.0f), LengthPercentage.length(60.0f), LengthPercentage.length(60.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(320.0f, nodeLayout.size().width, "width of node");
        assertEquals(320.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(200.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(60.0f, node0Layout.location().x, "x of node0");
        assertEquals(60.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(160.0f, node00Layout.size().width, "width of node00");
        assertEquals(60.0f, node00Layout.size().height, "height of node00");
        assertEquals(20.0f, node00Layout.location().x, "x of node00");
        assertEquals(0.0f, node00Layout.location().y, "y of node00");
    }

    @Test
    @DisplayName("align_content_space_evenly_single_line_negative_space__content_box")
    void alignContentSpaceEvenlySingleLineNegativeSpaceContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.boxSizing = BoxSizing.CONTENT_BOX;
        node00Style.flexShrink = 0.0f;
        node00Style.size = new Size<>(Dimension.percent(0.8f), Dimension.length(60.0f));
        NodeId node00 = tree.newLeaf(node00Style);

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.alignContent = AlignContent.SPACE_EVENLY;
        node0Style.justifyContent = AlignContent.CENTER;
        node0Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        NodeId node0 = tree.newWithChildren(node0Style, node00);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.size = new Size<>(Dimension.length(320.0f), Dimension.length(320.0f));
        nodeStyle.border = new Rect<>(LengthPercentage.length(60.0f), LengthPercentage.length(60.0f), LengthPercentage.length(60.0f), LengthPercentage.length(60.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(440.0f, nodeLayout.size().width, "width of node");
        assertEquals(440.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(320.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(60.0f, node0Layout.location().x, "x of node0");
        assertEquals(60.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(256.0f, node00Layout.size().width, "width of node00");
        assertEquals(60.0f, node00Layout.size().height, "height of node00");
        assertEquals(32.0f, node00Layout.location().x, "x of node00");
        assertEquals(0.0f, node00Layout.location().y, "y of node00");
    }

    @Test
    @DisplayName("align_content_space_evenly_single_line_negative_space_gap__border_box")
    void alignContentSpaceEvenlySingleLineNegativeSpaceGapBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.flexShrink = 0.0f;
        node00Style.size = new Size<>(Dimension.percent(0.8f), Dimension.length(60.0f));
        NodeId node00 = tree.newLeaf(node00Style);

        Style node0Style = new Style();
        node0Style.alignContent = AlignContent.SPACE_EVENLY;
        node0Style.justifyContent = AlignContent.CENTER;
        node0Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        node0Style.gap = new Size<>(LengthPercentage.length(10.0f), LengthPercentage.length(10.0f));
        NodeId node0 = tree.newWithChildren(node0Style, node00);

        Style nodeStyle = new Style();
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.size = new Size<>(Dimension.length(320.0f), Dimension.length(320.0f));
        nodeStyle.border = new Rect<>(LengthPercentage.length(60.0f), LengthPercentage.length(60.0f), LengthPercentage.length(60.0f), LengthPercentage.length(60.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(320.0f, nodeLayout.size().width, "width of node");
        assertEquals(320.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(200.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(60.0f, node0Layout.location().x, "x of node0");
        assertEquals(60.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(160.0f, node00Layout.size().width, "width of node00");
        assertEquals(60.0f, node00Layout.size().height, "height of node00");
        assertEquals(20.0f, node00Layout.location().x, "x of node00");
        assertEquals(0.0f, node00Layout.location().y, "y of node00");
    }

    @Test
    @DisplayName("align_content_space_evenly_single_line_negative_space_gap__content_box")
    void alignContentSpaceEvenlySingleLineNegativeSpaceGapContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.boxSizing = BoxSizing.CONTENT_BOX;
        node00Style.flexShrink = 0.0f;
        node00Style.size = new Size<>(Dimension.percent(0.8f), Dimension.length(60.0f));
        NodeId node00 = tree.newLeaf(node00Style);

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.alignContent = AlignContent.SPACE_EVENLY;
        node0Style.justifyContent = AlignContent.CENTER;
        node0Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        node0Style.gap = new Size<>(LengthPercentage.length(10.0f), LengthPercentage.length(10.0f));
        NodeId node0 = tree.newWithChildren(node0Style, node00);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.size = new Size<>(Dimension.length(320.0f), Dimension.length(320.0f));
        nodeStyle.border = new Rect<>(LengthPercentage.length(60.0f), LengthPercentage.length(60.0f), LengthPercentage.length(60.0f), LengthPercentage.length(60.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(440.0f, nodeLayout.size().width, "width of node");
        assertEquals(440.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(320.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(60.0f, node0Layout.location().x, "x of node0");
        assertEquals(60.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(256.0f, node00Layout.size().width, "width of node00");
        assertEquals(60.0f, node00Layout.size().height, "height of node00");
        assertEquals(32.0f, node00Layout.location().x, "x of node00");
        assertEquals(0.0f, node00Layout.location().y, "y of node00");
    }

    @Test
    @DisplayName("align_content_space_evenly_wrapped__border_box")
    void alignContentSpaceEvenlyWrappedBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(10.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(10.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(10.0f));
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        node3Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(10.0f));
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        node4Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(10.0f));
        NodeId node4 = tree.newLeaf(node4Style);

        Style node5Style = new Style();
        node5Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(10.0f));
        NodeId node5 = tree.newLeaf(node5Style);

        Style nodeStyle = new Style();
        nodeStyle.flexWrap = FlexWrap.WRAP;
        nodeStyle.alignContent = AlignContent.SPACE_EVENLY;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(50.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(18.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(50.0f, node1Layout.size().width, "width of node1");
        assertEquals(10.0f, node1Layout.size().height, "height of node1");
        assertEquals(50.0f, node1Layout.location().x, "x of node1");
        assertEquals(18.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(50.0f, node2Layout.size().width, "width of node2");
        assertEquals(10.0f, node2Layout.size().height, "height of node2");
        assertEquals(0.0f, node2Layout.location().x, "x of node2");
        assertEquals(45.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(50.0f, node3Layout.size().width, "width of node3");
        assertEquals(10.0f, node3Layout.size().height, "height of node3");
        assertEquals(50.0f, node3Layout.location().x, "x of node3");
        assertEquals(45.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(50.0f, node4Layout.size().width, "width of node4");
        assertEquals(10.0f, node4Layout.size().height, "height of node4");
        assertEquals(0.0f, node4Layout.location().x, "x of node4");
        assertEquals(73.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(50.0f, node5Layout.size().width, "width of node5");
        assertEquals(10.0f, node5Layout.size().height, "height of node5");
        assertEquals(50.0f, node5Layout.location().x, "x of node5");
        assertEquals(73.0f, node5Layout.location().y, "y of node5");
    }

    @Test
    @DisplayName("align_content_space_evenly_wrapped__content_box")
    void alignContentSpaceEvenlyWrappedContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(10.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(10.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        node2Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(10.0f));
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        node3Style.boxSizing = BoxSizing.CONTENT_BOX;
        node3Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(10.0f));
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        node4Style.boxSizing = BoxSizing.CONTENT_BOX;
        node4Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(10.0f));
        NodeId node4 = tree.newLeaf(node4Style);

        Style node5Style = new Style();
        node5Style.boxSizing = BoxSizing.CONTENT_BOX;
        node5Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(10.0f));
        NodeId node5 = tree.newLeaf(node5Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexWrap = FlexWrap.WRAP;
        nodeStyle.alignContent = AlignContent.SPACE_EVENLY;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(50.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(18.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(50.0f, node1Layout.size().width, "width of node1");
        assertEquals(10.0f, node1Layout.size().height, "height of node1");
        assertEquals(50.0f, node1Layout.location().x, "x of node1");
        assertEquals(18.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(50.0f, node2Layout.size().width, "width of node2");
        assertEquals(10.0f, node2Layout.size().height, "height of node2");
        assertEquals(0.0f, node2Layout.location().x, "x of node2");
        assertEquals(45.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(50.0f, node3Layout.size().width, "width of node3");
        assertEquals(10.0f, node3Layout.size().height, "height of node3");
        assertEquals(50.0f, node3Layout.location().x, "x of node3");
        assertEquals(45.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(50.0f, node4Layout.size().width, "width of node4");
        assertEquals(10.0f, node4Layout.size().height, "height of node4");
        assertEquals(0.0f, node4Layout.location().x, "x of node4");
        assertEquals(73.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(50.0f, node5Layout.size().width, "width of node5");
        assertEquals(10.0f, node5Layout.size().height, "height of node5");
        assertEquals(50.0f, node5Layout.location().x, "x of node5");
        assertEquals(73.0f, node5Layout.location().y, "y of node5");
    }

    @Test
    @DisplayName("align_content_space_evenly_wrapped_negative_space__border_box")
    void alignContentSpaceEvenlyWrappedNegativeSpaceBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.flexShrink = 0.0f;
        node00Style.size = new Size<>(Dimension.percent(0.8f), Dimension.length(20.0f));
        NodeId node00 = tree.newLeaf(node00Style);

        Style node01Style = new Style();
        node01Style.flexShrink = 0.0f;
        node01Style.size = new Size<>(Dimension.percent(0.8f), Dimension.length(20.0f));
        NodeId node01 = tree.newLeaf(node01Style);

        Style node02Style = new Style();
        node02Style.flexShrink = 0.0f;
        node02Style.size = new Size<>(Dimension.percent(0.8f), Dimension.length(20.0f));
        NodeId node02 = tree.newLeaf(node02Style);

        Style node0Style = new Style();
        node0Style.flexWrap = FlexWrap.WRAP;
        node0Style.alignContent = AlignContent.SPACE_EVENLY;
        node0Style.justifyContent = AlignContent.CENTER;
        node0Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        NodeId node0 = tree.newWithChildren(node0Style, node00, node01, node02);

        Style nodeStyle = new Style();
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.size = new Size<>(Dimension.length(320.0f), Dimension.length(320.0f));
        nodeStyle.border = new Rect<>(LengthPercentage.length(60.0f), LengthPercentage.length(60.0f), LengthPercentage.length(60.0f), LengthPercentage.length(60.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(320.0f, nodeLayout.size().width, "width of node");
        assertEquals(320.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(200.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(60.0f, node0Layout.location().x, "x of node0");
        assertEquals(60.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(160.0f, node00Layout.size().width, "width of node00");
        assertEquals(20.0f, node00Layout.size().height, "height of node00");
        assertEquals(20.0f, node00Layout.location().x, "x of node00");
        assertEquals(0.0f, node00Layout.location().y, "y of node00");
        Layout node01Layout = tree.getLayout(node01);
        assertEquals(160.0f, node01Layout.size().width, "width of node01");
        assertEquals(20.0f, node01Layout.size().height, "height of node01");
        assertEquals(20.0f, node01Layout.location().x, "x of node01");
        assertEquals(20.0f, node01Layout.location().y, "y of node01");
        Layout node02Layout = tree.getLayout(node02);
        assertEquals(160.0f, node02Layout.size().width, "width of node02");
        assertEquals(20.0f, node02Layout.size().height, "height of node02");
        assertEquals(20.0f, node02Layout.location().x, "x of node02");
        assertEquals(40.0f, node02Layout.location().y, "y of node02");
    }

    @Test
    @DisplayName("align_content_space_evenly_wrapped_negative_space__content_box")
    void alignContentSpaceEvenlyWrappedNegativeSpaceContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.boxSizing = BoxSizing.CONTENT_BOX;
        node00Style.flexShrink = 0.0f;
        node00Style.size = new Size<>(Dimension.percent(0.8f), Dimension.length(20.0f));
        NodeId node00 = tree.newLeaf(node00Style);

        Style node01Style = new Style();
        node01Style.boxSizing = BoxSizing.CONTENT_BOX;
        node01Style.flexShrink = 0.0f;
        node01Style.size = new Size<>(Dimension.percent(0.8f), Dimension.length(20.0f));
        NodeId node01 = tree.newLeaf(node01Style);

        Style node02Style = new Style();
        node02Style.boxSizing = BoxSizing.CONTENT_BOX;
        node02Style.flexShrink = 0.0f;
        node02Style.size = new Size<>(Dimension.percent(0.8f), Dimension.length(20.0f));
        NodeId node02 = tree.newLeaf(node02Style);

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.flexWrap = FlexWrap.WRAP;
        node0Style.alignContent = AlignContent.SPACE_EVENLY;
        node0Style.justifyContent = AlignContent.CENTER;
        node0Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        NodeId node0 = tree.newWithChildren(node0Style, node00, node01, node02);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.size = new Size<>(Dimension.length(320.0f), Dimension.length(320.0f));
        nodeStyle.border = new Rect<>(LengthPercentage.length(60.0f), LengthPercentage.length(60.0f), LengthPercentage.length(60.0f), LengthPercentage.length(60.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(440.0f, nodeLayout.size().width, "width of node");
        assertEquals(440.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(320.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(60.0f, node0Layout.location().x, "x of node0");
        assertEquals(60.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(256.0f, node00Layout.size().width, "width of node00");
        assertEquals(20.0f, node00Layout.size().height, "height of node00");
        assertEquals(32.0f, node00Layout.location().x, "x of node00");
        assertEquals(0.0f, node00Layout.location().y, "y of node00");
        Layout node01Layout = tree.getLayout(node01);
        assertEquals(256.0f, node01Layout.size().width, "width of node01");
        assertEquals(20.0f, node01Layout.size().height, "height of node01");
        assertEquals(32.0f, node01Layout.location().x, "x of node01");
        assertEquals(20.0f, node01Layout.location().y, "y of node01");
        Layout node02Layout = tree.getLayout(node02);
        assertEquals(256.0f, node02Layout.size().width, "width of node02");
        assertEquals(20.0f, node02Layout.size().height, "height of node02");
        assertEquals(32.0f, node02Layout.location().x, "x of node02");
        assertEquals(40.0f, node02Layout.location().y, "y of node02");
    }

    @Test
    @DisplayName("align_content_space_evenly_wrapped_negative_space_gap__border_box")
    void alignContentSpaceEvenlyWrappedNegativeSpaceGapBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.flexShrink = 0.0f;
        node00Style.size = new Size<>(Dimension.percent(0.8f), Dimension.length(20.0f));
        NodeId node00 = tree.newLeaf(node00Style);

        Style node01Style = new Style();
        node01Style.flexShrink = 0.0f;
        node01Style.size = new Size<>(Dimension.percent(0.8f), Dimension.length(20.0f));
        NodeId node01 = tree.newLeaf(node01Style);

        Style node02Style = new Style();
        node02Style.flexShrink = 0.0f;
        node02Style.size = new Size<>(Dimension.percent(0.8f), Dimension.length(20.0f));
        NodeId node02 = tree.newLeaf(node02Style);

        Style node0Style = new Style();
        node0Style.flexWrap = FlexWrap.WRAP;
        node0Style.alignContent = AlignContent.SPACE_EVENLY;
        node0Style.justifyContent = AlignContent.CENTER;
        node0Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        node0Style.gap = new Size<>(LengthPercentage.length(10.0f), LengthPercentage.length(10.0f));
        NodeId node0 = tree.newWithChildren(node0Style, node00, node01, node02);

        Style nodeStyle = new Style();
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.size = new Size<>(Dimension.length(320.0f), Dimension.length(320.0f));
        nodeStyle.border = new Rect<>(LengthPercentage.length(60.0f), LengthPercentage.length(60.0f), LengthPercentage.length(60.0f), LengthPercentage.length(60.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(320.0f, nodeLayout.size().width, "width of node");
        assertEquals(320.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(200.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(60.0f, node0Layout.location().x, "x of node0");
        assertEquals(60.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(160.0f, node00Layout.size().width, "width of node00");
        assertEquals(20.0f, node00Layout.size().height, "height of node00");
        assertEquals(20.0f, node00Layout.location().x, "x of node00");
        assertEquals(0.0f, node00Layout.location().y, "y of node00");
        Layout node01Layout = tree.getLayout(node01);
        assertEquals(160.0f, node01Layout.size().width, "width of node01");
        assertEquals(20.0f, node01Layout.size().height, "height of node01");
        assertEquals(20.0f, node01Layout.location().x, "x of node01");
        assertEquals(30.0f, node01Layout.location().y, "y of node01");
        Layout node02Layout = tree.getLayout(node02);
        assertEquals(160.0f, node02Layout.size().width, "width of node02");
        assertEquals(20.0f, node02Layout.size().height, "height of node02");
        assertEquals(20.0f, node02Layout.location().x, "x of node02");
        assertEquals(60.0f, node02Layout.location().y, "y of node02");
    }

    @Test
    @DisplayName("align_content_space_evenly_wrapped_negative_space_gap__content_box")
    void alignContentSpaceEvenlyWrappedNegativeSpaceGapContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.boxSizing = BoxSizing.CONTENT_BOX;
        node00Style.flexShrink = 0.0f;
        node00Style.size = new Size<>(Dimension.percent(0.8f), Dimension.length(20.0f));
        NodeId node00 = tree.newLeaf(node00Style);

        Style node01Style = new Style();
        node01Style.boxSizing = BoxSizing.CONTENT_BOX;
        node01Style.flexShrink = 0.0f;
        node01Style.size = new Size<>(Dimension.percent(0.8f), Dimension.length(20.0f));
        NodeId node01 = tree.newLeaf(node01Style);

        Style node02Style = new Style();
        node02Style.boxSizing = BoxSizing.CONTENT_BOX;
        node02Style.flexShrink = 0.0f;
        node02Style.size = new Size<>(Dimension.percent(0.8f), Dimension.length(20.0f));
        NodeId node02 = tree.newLeaf(node02Style);

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.flexWrap = FlexWrap.WRAP;
        node0Style.alignContent = AlignContent.SPACE_EVENLY;
        node0Style.justifyContent = AlignContent.CENTER;
        node0Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        node0Style.gap = new Size<>(LengthPercentage.length(10.0f), LengthPercentage.length(10.0f));
        NodeId node0 = tree.newWithChildren(node0Style, node00, node01, node02);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.size = new Size<>(Dimension.length(320.0f), Dimension.length(320.0f));
        nodeStyle.border = new Rect<>(LengthPercentage.length(60.0f), LengthPercentage.length(60.0f), LengthPercentage.length(60.0f), LengthPercentage.length(60.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(440.0f, nodeLayout.size().width, "width of node");
        assertEquals(440.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(320.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(60.0f, node0Layout.location().x, "x of node0");
        assertEquals(60.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(256.0f, node00Layout.size().width, "width of node00");
        assertEquals(20.0f, node00Layout.size().height, "height of node00");
        assertEquals(32.0f, node00Layout.location().x, "x of node00");
        assertEquals(0.0f, node00Layout.location().y, "y of node00");
        Layout node01Layout = tree.getLayout(node01);
        assertEquals(256.0f, node01Layout.size().width, "width of node01");
        assertEquals(20.0f, node01Layout.size().height, "height of node01");
        assertEquals(32.0f, node01Layout.location().x, "x of node01");
        assertEquals(30.0f, node01Layout.location().y, "y of node01");
        Layout node02Layout = tree.getLayout(node02);
        assertEquals(256.0f, node02Layout.size().width, "width of node02");
        assertEquals(20.0f, node02Layout.size().height, "height of node02");
        assertEquals(32.0f, node02Layout.location().x, "x of node02");
        assertEquals(60.0f, node02Layout.location().y, "y of node02");
    }

    @Test
    @DisplayName("align_content_space_evenly_wrapped_single__border_box")
    void alignContentSpaceEvenlyWrappedSingleBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(10.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.flexWrap = FlexWrap.WRAP;
        nodeStyle.alignContent = AlignContent.SPACE_BETWEEN;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(50.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("align_content_space_evenly_wrapped_single__content_box")
    void alignContentSpaceEvenlyWrappedSingleContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(10.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexWrap = FlexWrap.WRAP;
        nodeStyle.alignContent = AlignContent.SPACE_BETWEEN;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(50.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("align_content_spacearound__border_box")
    void alignContentSpacearoundBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(10.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(10.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(10.0f));
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        node3Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(10.0f));
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        node4Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(10.0f));
        NodeId node4 = tree.newLeaf(node4Style);

        Style nodeStyle = new Style();
        nodeStyle.flexWrap = FlexWrap.WRAP;
        nodeStyle.alignContent = AlignContent.SPACE_AROUND;
        nodeStyle.size = new Size<>(Dimension.length(140.0f), Dimension.length(120.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(140.0f, nodeLayout.size().width, "width of node");
        assertEquals(120.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(50.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(15.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(50.0f, node1Layout.size().width, "width of node1");
        assertEquals(10.0f, node1Layout.size().height, "height of node1");
        assertEquals(50.0f, node1Layout.location().x, "x of node1");
        assertEquals(15.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(50.0f, node2Layout.size().width, "width of node2");
        assertEquals(10.0f, node2Layout.size().height, "height of node2");
        assertEquals(0.0f, node2Layout.location().x, "x of node2");
        assertEquals(55.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(50.0f, node3Layout.size().width, "width of node3");
        assertEquals(10.0f, node3Layout.size().height, "height of node3");
        assertEquals(50.0f, node3Layout.location().x, "x of node3");
        assertEquals(55.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(50.0f, node4Layout.size().width, "width of node4");
        assertEquals(10.0f, node4Layout.size().height, "height of node4");
        assertEquals(0.0f, node4Layout.location().x, "x of node4");
        assertEquals(95.0f, node4Layout.location().y, "y of node4");
    }

    @Test
    @DisplayName("align_content_spacearound__content_box")
    void alignContentSpacearoundContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(10.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(10.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        node2Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(10.0f));
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        node3Style.boxSizing = BoxSizing.CONTENT_BOX;
        node3Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(10.0f));
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        node4Style.boxSizing = BoxSizing.CONTENT_BOX;
        node4Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(10.0f));
        NodeId node4 = tree.newLeaf(node4Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexWrap = FlexWrap.WRAP;
        nodeStyle.alignContent = AlignContent.SPACE_AROUND;
        nodeStyle.size = new Size<>(Dimension.length(140.0f), Dimension.length(120.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(140.0f, nodeLayout.size().width, "width of node");
        assertEquals(120.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(50.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(15.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(50.0f, node1Layout.size().width, "width of node1");
        assertEquals(10.0f, node1Layout.size().height, "height of node1");
        assertEquals(50.0f, node1Layout.location().x, "x of node1");
        assertEquals(15.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(50.0f, node2Layout.size().width, "width of node2");
        assertEquals(10.0f, node2Layout.size().height, "height of node2");
        assertEquals(0.0f, node2Layout.location().x, "x of node2");
        assertEquals(55.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(50.0f, node3Layout.size().width, "width of node3");
        assertEquals(10.0f, node3Layout.size().height, "height of node3");
        assertEquals(50.0f, node3Layout.location().x, "x of node3");
        assertEquals(55.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(50.0f, node4Layout.size().width, "width of node4");
        assertEquals(10.0f, node4Layout.size().height, "height of node4");
        assertEquals(0.0f, node4Layout.location().x, "x of node4");
        assertEquals(95.0f, node4Layout.location().y, "y of node4");
    }

    @Test
    @DisplayName("align_content_spacebetween__border_box")
    void alignContentSpacebetweenBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(10.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(10.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(10.0f));
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        node3Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(10.0f));
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        node4Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(10.0f));
        NodeId node4 = tree.newLeaf(node4Style);

        Style nodeStyle = new Style();
        nodeStyle.flexWrap = FlexWrap.WRAP;
        nodeStyle.alignContent = AlignContent.SPACE_BETWEEN;
        nodeStyle.size = new Size<>(Dimension.length(130.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(130.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(50.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(50.0f, node1Layout.size().width, "width of node1");
        assertEquals(10.0f, node1Layout.size().height, "height of node1");
        assertEquals(50.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(50.0f, node2Layout.size().width, "width of node2");
        assertEquals(10.0f, node2Layout.size().height, "height of node2");
        assertEquals(0.0f, node2Layout.location().x, "x of node2");
        assertEquals(45.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(50.0f, node3Layout.size().width, "width of node3");
        assertEquals(10.0f, node3Layout.size().height, "height of node3");
        assertEquals(50.0f, node3Layout.location().x, "x of node3");
        assertEquals(45.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(50.0f, node4Layout.size().width, "width of node4");
        assertEquals(10.0f, node4Layout.size().height, "height of node4");
        assertEquals(0.0f, node4Layout.location().x, "x of node4");
        assertEquals(90.0f, node4Layout.location().y, "y of node4");
    }

    @Test
    @DisplayName("align_content_spacebetween__content_box")
    void alignContentSpacebetweenContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(10.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(10.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        node2Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(10.0f));
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        node3Style.boxSizing = BoxSizing.CONTENT_BOX;
        node3Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(10.0f));
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        node4Style.boxSizing = BoxSizing.CONTENT_BOX;
        node4Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(10.0f));
        NodeId node4 = tree.newLeaf(node4Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexWrap = FlexWrap.WRAP;
        nodeStyle.alignContent = AlignContent.SPACE_BETWEEN;
        nodeStyle.size = new Size<>(Dimension.length(130.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(130.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(50.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(50.0f, node1Layout.size().width, "width of node1");
        assertEquals(10.0f, node1Layout.size().height, "height of node1");
        assertEquals(50.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(50.0f, node2Layout.size().width, "width of node2");
        assertEquals(10.0f, node2Layout.size().height, "height of node2");
        assertEquals(0.0f, node2Layout.location().x, "x of node2");
        assertEquals(45.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(50.0f, node3Layout.size().width, "width of node3");
        assertEquals(10.0f, node3Layout.size().height, "height of node3");
        assertEquals(50.0f, node3Layout.location().x, "x of node3");
        assertEquals(45.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(50.0f, node4Layout.size().width, "width of node4");
        assertEquals(10.0f, node4Layout.size().height, "height of node4");
        assertEquals(0.0f, node4Layout.location().x, "x of node4");
        assertEquals(90.0f, node4Layout.location().y, "y of node4");
    }

    @Test
    @DisplayName("align_content_start__border_box")
    void alignContentStartBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(10.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(10.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(10.0f));
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        node3Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(10.0f));
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        node4Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(10.0f));
        NodeId node4 = tree.newLeaf(node4Style);

        Style nodeStyle = new Style();
        nodeStyle.flexWrap = FlexWrap.WRAP;
        nodeStyle.alignContent = AlignContent.START;
        nodeStyle.size = new Size<>(Dimension.length(130.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(130.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(50.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(50.0f, node1Layout.size().width, "width of node1");
        assertEquals(10.0f, node1Layout.size().height, "height of node1");
        assertEquals(50.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(50.0f, node2Layout.size().width, "width of node2");
        assertEquals(10.0f, node2Layout.size().height, "height of node2");
        assertEquals(0.0f, node2Layout.location().x, "x of node2");
        assertEquals(10.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(50.0f, node3Layout.size().width, "width of node3");
        assertEquals(10.0f, node3Layout.size().height, "height of node3");
        assertEquals(50.0f, node3Layout.location().x, "x of node3");
        assertEquals(10.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(50.0f, node4Layout.size().width, "width of node4");
        assertEquals(10.0f, node4Layout.size().height, "height of node4");
        assertEquals(0.0f, node4Layout.location().x, "x of node4");
        assertEquals(20.0f, node4Layout.location().y, "y of node4");
    }

    @Test
    @DisplayName("align_content_start__content_box")
    void alignContentStartContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(10.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(10.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        node2Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(10.0f));
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        node3Style.boxSizing = BoxSizing.CONTENT_BOX;
        node3Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(10.0f));
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        node4Style.boxSizing = BoxSizing.CONTENT_BOX;
        node4Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(10.0f));
        NodeId node4 = tree.newLeaf(node4Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexWrap = FlexWrap.WRAP;
        nodeStyle.alignContent = AlignContent.START;
        nodeStyle.size = new Size<>(Dimension.length(130.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(130.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(50.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(50.0f, node1Layout.size().width, "width of node1");
        assertEquals(10.0f, node1Layout.size().height, "height of node1");
        assertEquals(50.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(50.0f, node2Layout.size().width, "width of node2");
        assertEquals(10.0f, node2Layout.size().height, "height of node2");
        assertEquals(0.0f, node2Layout.location().x, "x of node2");
        assertEquals(10.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(50.0f, node3Layout.size().width, "width of node3");
        assertEquals(10.0f, node3Layout.size().height, "height of node3");
        assertEquals(50.0f, node3Layout.location().x, "x of node3");
        assertEquals(10.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(50.0f, node4Layout.size().width, "width of node4");
        assertEquals(10.0f, node4Layout.size().height, "height of node4");
        assertEquals(0.0f, node4Layout.location().x, "x of node4");
        assertEquals(20.0f, node4Layout.location().y, "y of node4");
    }

    @Test
    @DisplayName("align_content_start_single_line_negative_space__border_box")
    void alignContentStartSingleLineNegativeSpaceBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.flexShrink = 0.0f;
        node00Style.size = new Size<>(Dimension.percent(0.8f), Dimension.length(60.0f));
        NodeId node00 = tree.newLeaf(node00Style);

        Style node0Style = new Style();
        node0Style.alignContent = AlignContent.START;
        node0Style.justifyContent = AlignContent.CENTER;
        node0Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        NodeId node0 = tree.newWithChildren(node0Style, node00);

        Style nodeStyle = new Style();
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.size = new Size<>(Dimension.length(320.0f), Dimension.length(320.0f));
        nodeStyle.border = new Rect<>(LengthPercentage.length(60.0f), LengthPercentage.length(60.0f), LengthPercentage.length(60.0f), LengthPercentage.length(60.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(320.0f, nodeLayout.size().width, "width of node");
        assertEquals(320.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(200.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(60.0f, node0Layout.location().x, "x of node0");
        assertEquals(60.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(160.0f, node00Layout.size().width, "width of node00");
        assertEquals(60.0f, node00Layout.size().height, "height of node00");
        assertEquals(20.0f, node00Layout.location().x, "x of node00");
        assertEquals(0.0f, node00Layout.location().y, "y of node00");
    }

    @Test
    @DisplayName("align_content_start_single_line_negative_space__content_box")
    void alignContentStartSingleLineNegativeSpaceContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.boxSizing = BoxSizing.CONTENT_BOX;
        node00Style.flexShrink = 0.0f;
        node00Style.size = new Size<>(Dimension.percent(0.8f), Dimension.length(60.0f));
        NodeId node00 = tree.newLeaf(node00Style);

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.alignContent = AlignContent.START;
        node0Style.justifyContent = AlignContent.CENTER;
        node0Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        NodeId node0 = tree.newWithChildren(node0Style, node00);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.size = new Size<>(Dimension.length(320.0f), Dimension.length(320.0f));
        nodeStyle.border = new Rect<>(LengthPercentage.length(60.0f), LengthPercentage.length(60.0f), LengthPercentage.length(60.0f), LengthPercentage.length(60.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(440.0f, nodeLayout.size().width, "width of node");
        assertEquals(440.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(320.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(60.0f, node0Layout.location().x, "x of node0");
        assertEquals(60.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(256.0f, node00Layout.size().width, "width of node00");
        assertEquals(60.0f, node00Layout.size().height, "height of node00");
        assertEquals(32.0f, node00Layout.location().x, "x of node00");
        assertEquals(0.0f, node00Layout.location().y, "y of node00");
    }

    @Test
    @DisplayName("align_content_start_single_line_negative_space_gap__border_box")
    void alignContentStartSingleLineNegativeSpaceGapBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.flexShrink = 0.0f;
        node00Style.size = new Size<>(Dimension.percent(0.8f), Dimension.length(60.0f));
        NodeId node00 = tree.newLeaf(node00Style);

        Style node0Style = new Style();
        node0Style.alignContent = AlignContent.START;
        node0Style.justifyContent = AlignContent.CENTER;
        node0Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        node0Style.gap = new Size<>(LengthPercentage.length(10.0f), LengthPercentage.length(10.0f));
        NodeId node0 = tree.newWithChildren(node0Style, node00);

        Style nodeStyle = new Style();
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.size = new Size<>(Dimension.length(320.0f), Dimension.length(320.0f));
        nodeStyle.border = new Rect<>(LengthPercentage.length(60.0f), LengthPercentage.length(60.0f), LengthPercentage.length(60.0f), LengthPercentage.length(60.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(320.0f, nodeLayout.size().width, "width of node");
        assertEquals(320.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(200.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(60.0f, node0Layout.location().x, "x of node0");
        assertEquals(60.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(160.0f, node00Layout.size().width, "width of node00");
        assertEquals(60.0f, node00Layout.size().height, "height of node00");
        assertEquals(20.0f, node00Layout.location().x, "x of node00");
        assertEquals(0.0f, node00Layout.location().y, "y of node00");
    }

    @Test
    @DisplayName("align_content_start_single_line_negative_space_gap__content_box")
    void alignContentStartSingleLineNegativeSpaceGapContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.boxSizing = BoxSizing.CONTENT_BOX;
        node00Style.flexShrink = 0.0f;
        node00Style.size = new Size<>(Dimension.percent(0.8f), Dimension.length(60.0f));
        NodeId node00 = tree.newLeaf(node00Style);

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.alignContent = AlignContent.START;
        node0Style.justifyContent = AlignContent.CENTER;
        node0Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        node0Style.gap = new Size<>(LengthPercentage.length(10.0f), LengthPercentage.length(10.0f));
        NodeId node0 = tree.newWithChildren(node0Style, node00);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.size = new Size<>(Dimension.length(320.0f), Dimension.length(320.0f));
        nodeStyle.border = new Rect<>(LengthPercentage.length(60.0f), LengthPercentage.length(60.0f), LengthPercentage.length(60.0f), LengthPercentage.length(60.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(440.0f, nodeLayout.size().width, "width of node");
        assertEquals(440.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(320.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(60.0f, node0Layout.location().x, "x of node0");
        assertEquals(60.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(256.0f, node00Layout.size().width, "width of node00");
        assertEquals(60.0f, node00Layout.size().height, "height of node00");
        assertEquals(32.0f, node00Layout.location().x, "x of node00");
        assertEquals(0.0f, node00Layout.location().y, "y of node00");
    }

    @Test
    @DisplayName("align_content_start_wrapped_negative_space__border_box")
    void alignContentStartWrappedNegativeSpaceBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.flexShrink = 0.0f;
        node00Style.size = new Size<>(Dimension.percent(0.8f), Dimension.length(20.0f));
        NodeId node00 = tree.newLeaf(node00Style);

        Style node01Style = new Style();
        node01Style.flexShrink = 0.0f;
        node01Style.size = new Size<>(Dimension.percent(0.8f), Dimension.length(20.0f));
        NodeId node01 = tree.newLeaf(node01Style);

        Style node02Style = new Style();
        node02Style.flexShrink = 0.0f;
        node02Style.size = new Size<>(Dimension.percent(0.8f), Dimension.length(20.0f));
        NodeId node02 = tree.newLeaf(node02Style);

        Style node0Style = new Style();
        node0Style.flexWrap = FlexWrap.WRAP;
        node0Style.alignContent = AlignContent.START;
        node0Style.justifyContent = AlignContent.CENTER;
        node0Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        NodeId node0 = tree.newWithChildren(node0Style, node00, node01, node02);

        Style nodeStyle = new Style();
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.size = new Size<>(Dimension.length(320.0f), Dimension.length(320.0f));
        nodeStyle.border = new Rect<>(LengthPercentage.length(60.0f), LengthPercentage.length(60.0f), LengthPercentage.length(60.0f), LengthPercentage.length(60.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(320.0f, nodeLayout.size().width, "width of node");
        assertEquals(320.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(200.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(60.0f, node0Layout.location().x, "x of node0");
        assertEquals(60.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(160.0f, node00Layout.size().width, "width of node00");
        assertEquals(20.0f, node00Layout.size().height, "height of node00");
        assertEquals(20.0f, node00Layout.location().x, "x of node00");
        assertEquals(0.0f, node00Layout.location().y, "y of node00");
        Layout node01Layout = tree.getLayout(node01);
        assertEquals(160.0f, node01Layout.size().width, "width of node01");
        assertEquals(20.0f, node01Layout.size().height, "height of node01");
        assertEquals(20.0f, node01Layout.location().x, "x of node01");
        assertEquals(20.0f, node01Layout.location().y, "y of node01");
        Layout node02Layout = tree.getLayout(node02);
        assertEquals(160.0f, node02Layout.size().width, "width of node02");
        assertEquals(20.0f, node02Layout.size().height, "height of node02");
        assertEquals(20.0f, node02Layout.location().x, "x of node02");
        assertEquals(40.0f, node02Layout.location().y, "y of node02");
    }

    @Test
    @DisplayName("align_content_start_wrapped_negative_space__content_box")
    void alignContentStartWrappedNegativeSpaceContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.boxSizing = BoxSizing.CONTENT_BOX;
        node00Style.flexShrink = 0.0f;
        node00Style.size = new Size<>(Dimension.percent(0.8f), Dimension.length(20.0f));
        NodeId node00 = tree.newLeaf(node00Style);

        Style node01Style = new Style();
        node01Style.boxSizing = BoxSizing.CONTENT_BOX;
        node01Style.flexShrink = 0.0f;
        node01Style.size = new Size<>(Dimension.percent(0.8f), Dimension.length(20.0f));
        NodeId node01 = tree.newLeaf(node01Style);

        Style node02Style = new Style();
        node02Style.boxSizing = BoxSizing.CONTENT_BOX;
        node02Style.flexShrink = 0.0f;
        node02Style.size = new Size<>(Dimension.percent(0.8f), Dimension.length(20.0f));
        NodeId node02 = tree.newLeaf(node02Style);

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.flexWrap = FlexWrap.WRAP;
        node0Style.alignContent = AlignContent.START;
        node0Style.justifyContent = AlignContent.CENTER;
        node0Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        NodeId node0 = tree.newWithChildren(node0Style, node00, node01, node02);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.size = new Size<>(Dimension.length(320.0f), Dimension.length(320.0f));
        nodeStyle.border = new Rect<>(LengthPercentage.length(60.0f), LengthPercentage.length(60.0f), LengthPercentage.length(60.0f), LengthPercentage.length(60.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(440.0f, nodeLayout.size().width, "width of node");
        assertEquals(440.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(320.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(60.0f, node0Layout.location().x, "x of node0");
        assertEquals(60.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(256.0f, node00Layout.size().width, "width of node00");
        assertEquals(20.0f, node00Layout.size().height, "height of node00");
        assertEquals(32.0f, node00Layout.location().x, "x of node00");
        assertEquals(0.0f, node00Layout.location().y, "y of node00");
        Layout node01Layout = tree.getLayout(node01);
        assertEquals(256.0f, node01Layout.size().width, "width of node01");
        assertEquals(20.0f, node01Layout.size().height, "height of node01");
        assertEquals(32.0f, node01Layout.location().x, "x of node01");
        assertEquals(20.0f, node01Layout.location().y, "y of node01");
        Layout node02Layout = tree.getLayout(node02);
        assertEquals(256.0f, node02Layout.size().width, "width of node02");
        assertEquals(20.0f, node02Layout.size().height, "height of node02");
        assertEquals(32.0f, node02Layout.location().x, "x of node02");
        assertEquals(40.0f, node02Layout.location().y, "y of node02");
    }

    @Test
    @DisplayName("align_content_stretch__border_box")
    void alignContentStretchBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.length(50.0f), Dimension.AUTO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.size = new Size<>(Dimension.length(50.0f), Dimension.AUTO);
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.size = new Size<>(Dimension.length(50.0f), Dimension.AUTO);
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        node3Style.size = new Size<>(Dimension.length(50.0f), Dimension.AUTO);
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        node4Style.size = new Size<>(Dimension.length(50.0f), Dimension.AUTO);
        NodeId node4 = tree.newLeaf(node4Style);

        Style nodeStyle = new Style();
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.flexWrap = FlexWrap.WRAP;
        nodeStyle.alignContent = AlignContent.STRETCH;
        nodeStyle.size = new Size<>(Dimension.length(150.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(150.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(50.0f, node0Layout.size().width, "width of node0");
        assertEquals(0.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(50.0f, node1Layout.size().width, "width of node1");
        assertEquals(0.0f, node1Layout.size().height, "height of node1");
        assertEquals(0.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(50.0f, node2Layout.size().width, "width of node2");
        assertEquals(0.0f, node2Layout.size().height, "height of node2");
        assertEquals(0.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(50.0f, node3Layout.size().width, "width of node3");
        assertEquals(0.0f, node3Layout.size().height, "height of node3");
        assertEquals(0.0f, node3Layout.location().x, "x of node3");
        assertEquals(0.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(50.0f, node4Layout.size().width, "width of node4");
        assertEquals(0.0f, node4Layout.size().height, "height of node4");
        assertEquals(0.0f, node4Layout.location().x, "x of node4");
        assertEquals(0.0f, node4Layout.location().y, "y of node4");
    }

    @Test
    @DisplayName("align_content_stretch__content_box")
    void alignContentStretchContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.length(50.0f), Dimension.AUTO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.size = new Size<>(Dimension.length(50.0f), Dimension.AUTO);
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        node2Style.size = new Size<>(Dimension.length(50.0f), Dimension.AUTO);
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        node3Style.boxSizing = BoxSizing.CONTENT_BOX;
        node3Style.size = new Size<>(Dimension.length(50.0f), Dimension.AUTO);
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        node4Style.boxSizing = BoxSizing.CONTENT_BOX;
        node4Style.size = new Size<>(Dimension.length(50.0f), Dimension.AUTO);
        NodeId node4 = tree.newLeaf(node4Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.flexWrap = FlexWrap.WRAP;
        nodeStyle.alignContent = AlignContent.STRETCH;
        nodeStyle.size = new Size<>(Dimension.length(150.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(150.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(50.0f, node0Layout.size().width, "width of node0");
        assertEquals(0.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(50.0f, node1Layout.size().width, "width of node1");
        assertEquals(0.0f, node1Layout.size().height, "height of node1");
        assertEquals(0.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(50.0f, node2Layout.size().width, "width of node2");
        assertEquals(0.0f, node2Layout.size().height, "height of node2");
        assertEquals(0.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(50.0f, node3Layout.size().width, "width of node3");
        assertEquals(0.0f, node3Layout.size().height, "height of node3");
        assertEquals(0.0f, node3Layout.location().x, "x of node3");
        assertEquals(0.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(50.0f, node4Layout.size().width, "width of node4");
        assertEquals(0.0f, node4Layout.size().height, "height of node4");
        assertEquals(0.0f, node4Layout.location().x, "x of node4");
        assertEquals(0.0f, node4Layout.location().y, "y of node4");
    }

    @Test
    @DisplayName("align_content_stretch_column__border_box")
    void alignContentStretchColumnBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.flexGrow = 1.0f;
        node00Style.flexShrink = 1.0f;
        node00Style.flexBasis = Dimension.percent(0.0f);
        NodeId node00 = tree.newLeaf(node00Style);

        Style node0Style = new Style();
        node0Style.flexDirection = FlexDirection.COLUMN;
        node0Style.size = new Size<>(Dimension.AUTO, Dimension.length(50.0f));
        NodeId node0 = tree.newWithChildren(node0Style, node00);

        Style node1Style = new Style();
        node1Style.flexGrow = 1.0f;
        node1Style.flexShrink = 1.0f;
        node1Style.flexBasis = Dimension.percent(0.0f);
        node1Style.size = new Size<>(Dimension.AUTO, Dimension.length(50.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.size = new Size<>(Dimension.AUTO, Dimension.length(50.0f));
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        node3Style.size = new Size<>(Dimension.AUTO, Dimension.length(50.0f));
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        node4Style.size = new Size<>(Dimension.AUTO, Dimension.length(50.0f));
        NodeId node4 = tree.newLeaf(node4Style);

        Style nodeStyle = new Style();
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.flexWrap = FlexWrap.WRAP;
        nodeStyle.alignContent = AlignContent.STRETCH;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(150.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(150.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(50.0f, node0Layout.size().width, "width of node0");
        assertEquals(50.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(50.0f, node00Layout.size().width, "width of node00");
        assertEquals(50.0f, node00Layout.size().height, "height of node00");
        assertEquals(0.0f, node00Layout.location().x, "x of node00");
        assertEquals(0.0f, node00Layout.location().y, "y of node00");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(50.0f, node1Layout.size().width, "width of node1");
        assertEquals(0.0f, node1Layout.size().height, "height of node1");
        assertEquals(0.0f, node1Layout.location().x, "x of node1");
        assertEquals(50.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(50.0f, node2Layout.size().width, "width of node2");
        assertEquals(50.0f, node2Layout.size().height, "height of node2");
        assertEquals(0.0f, node2Layout.location().x, "x of node2");
        assertEquals(50.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(50.0f, node3Layout.size().width, "width of node3");
        assertEquals(50.0f, node3Layout.size().height, "height of node3");
        assertEquals(0.0f, node3Layout.location().x, "x of node3");
        assertEquals(100.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(50.0f, node4Layout.size().width, "width of node4");
        assertEquals(50.0f, node4Layout.size().height, "height of node4");
        assertEquals(50.0f, node4Layout.location().x, "x of node4");
        assertEquals(0.0f, node4Layout.location().y, "y of node4");
    }

    @Test
    @DisplayName("align_content_stretch_column__content_box")
    void alignContentStretchColumnContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.boxSizing = BoxSizing.CONTENT_BOX;
        node00Style.flexGrow = 1.0f;
        node00Style.flexShrink = 1.0f;
        node00Style.flexBasis = Dimension.percent(0.0f);
        NodeId node00 = tree.newLeaf(node00Style);

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.flexDirection = FlexDirection.COLUMN;
        node0Style.size = new Size<>(Dimension.AUTO, Dimension.length(50.0f));
        NodeId node0 = tree.newWithChildren(node0Style, node00);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.flexGrow = 1.0f;
        node1Style.flexShrink = 1.0f;
        node1Style.flexBasis = Dimension.percent(0.0f);
        node1Style.size = new Size<>(Dimension.AUTO, Dimension.length(50.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        node2Style.size = new Size<>(Dimension.AUTO, Dimension.length(50.0f));
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        node3Style.boxSizing = BoxSizing.CONTENT_BOX;
        node3Style.size = new Size<>(Dimension.AUTO, Dimension.length(50.0f));
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        node4Style.boxSizing = BoxSizing.CONTENT_BOX;
        node4Style.size = new Size<>(Dimension.AUTO, Dimension.length(50.0f));
        NodeId node4 = tree.newLeaf(node4Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.flexWrap = FlexWrap.WRAP;
        nodeStyle.alignContent = AlignContent.STRETCH;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(150.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(150.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(50.0f, node0Layout.size().width, "width of node0");
        assertEquals(50.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(50.0f, node00Layout.size().width, "width of node00");
        assertEquals(50.0f, node00Layout.size().height, "height of node00");
        assertEquals(0.0f, node00Layout.location().x, "x of node00");
        assertEquals(0.0f, node00Layout.location().y, "y of node00");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(50.0f, node1Layout.size().width, "width of node1");
        assertEquals(0.0f, node1Layout.size().height, "height of node1");
        assertEquals(0.0f, node1Layout.location().x, "x of node1");
        assertEquals(50.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(50.0f, node2Layout.size().width, "width of node2");
        assertEquals(50.0f, node2Layout.size().height, "height of node2");
        assertEquals(0.0f, node2Layout.location().x, "x of node2");
        assertEquals(50.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(50.0f, node3Layout.size().width, "width of node3");
        assertEquals(50.0f, node3Layout.size().height, "height of node3");
        assertEquals(0.0f, node3Layout.location().x, "x of node3");
        assertEquals(100.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(50.0f, node4Layout.size().width, "width of node4");
        assertEquals(50.0f, node4Layout.size().height, "height of node4");
        assertEquals(50.0f, node4Layout.location().x, "x of node4");
        assertEquals(0.0f, node4Layout.location().y, "y of node4");
    }

    @Test
    @DisplayName("align_content_stretch_is_not_overriding_align_items__border_box")
    void alignContentStretchIsNotOverridingAlignItemsBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.alignContent = AlignContent.STRETCH;
        node00Style.size = new Size<>(Dimension.length(10.0f), Dimension.length(10.0f));
        NodeId node00 = tree.newLeaf(node00Style);

        Style node0Style = new Style();
        node0Style.alignItems = AlignItems.CENTER;
        node0Style.alignContent = AlignContent.STRETCH;
        node0Style.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node0 = tree.newWithChildren(node0Style, node00);

        Style nodeStyle = new Style();
        nodeStyle.alignContent = AlignContent.STRETCH;
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(100.0f, node0Layout.size().width, "width of node0");
        assertEquals(100.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(10.0f, node00Layout.size().width, "width of node00");
        assertEquals(10.0f, node00Layout.size().height, "height of node00");
        assertEquals(0.0f, node00Layout.location().x, "x of node00");
        assertEquals(45.0f, node00Layout.location().y, "y of node00");
    }

    @Test
    @DisplayName("align_content_stretch_is_not_overriding_align_items__content_box")
    void alignContentStretchIsNotOverridingAlignItemsContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.boxSizing = BoxSizing.CONTENT_BOX;
        node00Style.alignContent = AlignContent.STRETCH;
        node00Style.size = new Size<>(Dimension.length(10.0f), Dimension.length(10.0f));
        NodeId node00 = tree.newLeaf(node00Style);

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.alignItems = AlignItems.CENTER;
        node0Style.alignContent = AlignContent.STRETCH;
        node0Style.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node0 = tree.newWithChildren(node0Style, node00);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.alignContent = AlignContent.STRETCH;
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(100.0f, node0Layout.size().width, "width of node0");
        assertEquals(100.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(10.0f, node00Layout.size().width, "width of node00");
        assertEquals(10.0f, node00Layout.size().height, "height of node00");
        assertEquals(0.0f, node00Layout.location().x, "x of node00");
        assertEquals(45.0f, node00Layout.location().y, "y of node00");
    }

    @Test
    @DisplayName("align_content_stretch_row__border_box")
    void alignContentStretchRowBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.length(50.0f), Dimension.AUTO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.size = new Size<>(Dimension.length(50.0f), Dimension.AUTO);
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.size = new Size<>(Dimension.length(50.0f), Dimension.AUTO);
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        node3Style.size = new Size<>(Dimension.length(50.0f), Dimension.AUTO);
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        node4Style.size = new Size<>(Dimension.length(50.0f), Dimension.AUTO);
        NodeId node4 = tree.newLeaf(node4Style);

        Style nodeStyle = new Style();
        nodeStyle.flexWrap = FlexWrap.WRAP;
        nodeStyle.alignContent = AlignContent.STRETCH;
        nodeStyle.size = new Size<>(Dimension.length(150.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(150.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(50.0f, node0Layout.size().width, "width of node0");
        assertEquals(50.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(50.0f, node1Layout.size().width, "width of node1");
        assertEquals(50.0f, node1Layout.size().height, "height of node1");
        assertEquals(50.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(50.0f, node2Layout.size().width, "width of node2");
        assertEquals(50.0f, node2Layout.size().height, "height of node2");
        assertEquals(100.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(50.0f, node3Layout.size().width, "width of node3");
        assertEquals(50.0f, node3Layout.size().height, "height of node3");
        assertEquals(0.0f, node3Layout.location().x, "x of node3");
        assertEquals(50.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(50.0f, node4Layout.size().width, "width of node4");
        assertEquals(50.0f, node4Layout.size().height, "height of node4");
        assertEquals(50.0f, node4Layout.location().x, "x of node4");
        assertEquals(50.0f, node4Layout.location().y, "y of node4");
    }

    @Test
    @DisplayName("align_content_stretch_row__content_box")
    void alignContentStretchRowContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.length(50.0f), Dimension.AUTO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.size = new Size<>(Dimension.length(50.0f), Dimension.AUTO);
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        node2Style.size = new Size<>(Dimension.length(50.0f), Dimension.AUTO);
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        node3Style.boxSizing = BoxSizing.CONTENT_BOX;
        node3Style.size = new Size<>(Dimension.length(50.0f), Dimension.AUTO);
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        node4Style.boxSizing = BoxSizing.CONTENT_BOX;
        node4Style.size = new Size<>(Dimension.length(50.0f), Dimension.AUTO);
        NodeId node4 = tree.newLeaf(node4Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexWrap = FlexWrap.WRAP;
        nodeStyle.alignContent = AlignContent.STRETCH;
        nodeStyle.size = new Size<>(Dimension.length(150.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(150.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(50.0f, node0Layout.size().width, "width of node0");
        assertEquals(50.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(50.0f, node1Layout.size().width, "width of node1");
        assertEquals(50.0f, node1Layout.size().height, "height of node1");
        assertEquals(50.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(50.0f, node2Layout.size().width, "width of node2");
        assertEquals(50.0f, node2Layout.size().height, "height of node2");
        assertEquals(100.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(50.0f, node3Layout.size().width, "width of node3");
        assertEquals(50.0f, node3Layout.size().height, "height of node3");
        assertEquals(0.0f, node3Layout.location().x, "x of node3");
        assertEquals(50.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(50.0f, node4Layout.size().width, "width of node4");
        assertEquals(50.0f, node4Layout.size().height, "height of node4");
        assertEquals(50.0f, node4Layout.location().x, "x of node4");
        assertEquals(50.0f, node4Layout.location().y, "y of node4");
    }

    @Test
    @DisplayName("align_content_stretch_row_with_children__border_box")
    void alignContentStretchRowWithChildrenBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.flexGrow = 1.0f;
        node00Style.flexShrink = 1.0f;
        node00Style.flexBasis = Dimension.percent(0.0f);
        NodeId node00 = tree.newLeaf(node00Style);

        Style node0Style = new Style();
        node0Style.flexDirection = FlexDirection.COLUMN;
        node0Style.size = new Size<>(Dimension.length(50.0f), Dimension.AUTO);
        NodeId node0 = tree.newWithChildren(node0Style, node00);

        Style node1Style = new Style();
        node1Style.size = new Size<>(Dimension.length(50.0f), Dimension.AUTO);
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.size = new Size<>(Dimension.length(50.0f), Dimension.AUTO);
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        node3Style.size = new Size<>(Dimension.length(50.0f), Dimension.AUTO);
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        node4Style.size = new Size<>(Dimension.length(50.0f), Dimension.AUTO);
        NodeId node4 = tree.newLeaf(node4Style);

        Style nodeStyle = new Style();
        nodeStyle.flexWrap = FlexWrap.WRAP;
        nodeStyle.alignContent = AlignContent.STRETCH;
        nodeStyle.size = new Size<>(Dimension.length(150.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(150.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(50.0f, node0Layout.size().width, "width of node0");
        assertEquals(50.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(50.0f, node00Layout.size().width, "width of node00");
        assertEquals(50.0f, node00Layout.size().height, "height of node00");
        assertEquals(0.0f, node00Layout.location().x, "x of node00");
        assertEquals(0.0f, node00Layout.location().y, "y of node00");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(50.0f, node1Layout.size().width, "width of node1");
        assertEquals(50.0f, node1Layout.size().height, "height of node1");
        assertEquals(50.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(50.0f, node2Layout.size().width, "width of node2");
        assertEquals(50.0f, node2Layout.size().height, "height of node2");
        assertEquals(100.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(50.0f, node3Layout.size().width, "width of node3");
        assertEquals(50.0f, node3Layout.size().height, "height of node3");
        assertEquals(0.0f, node3Layout.location().x, "x of node3");
        assertEquals(50.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(50.0f, node4Layout.size().width, "width of node4");
        assertEquals(50.0f, node4Layout.size().height, "height of node4");
        assertEquals(50.0f, node4Layout.location().x, "x of node4");
        assertEquals(50.0f, node4Layout.location().y, "y of node4");
    }

    @Test
    @DisplayName("align_content_stretch_row_with_children__content_box")
    void alignContentStretchRowWithChildrenContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.boxSizing = BoxSizing.CONTENT_BOX;
        node00Style.flexGrow = 1.0f;
        node00Style.flexShrink = 1.0f;
        node00Style.flexBasis = Dimension.percent(0.0f);
        NodeId node00 = tree.newLeaf(node00Style);

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.flexDirection = FlexDirection.COLUMN;
        node0Style.size = new Size<>(Dimension.length(50.0f), Dimension.AUTO);
        NodeId node0 = tree.newWithChildren(node0Style, node00);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.size = new Size<>(Dimension.length(50.0f), Dimension.AUTO);
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        node2Style.size = new Size<>(Dimension.length(50.0f), Dimension.AUTO);
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        node3Style.boxSizing = BoxSizing.CONTENT_BOX;
        node3Style.size = new Size<>(Dimension.length(50.0f), Dimension.AUTO);
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        node4Style.boxSizing = BoxSizing.CONTENT_BOX;
        node4Style.size = new Size<>(Dimension.length(50.0f), Dimension.AUTO);
        NodeId node4 = tree.newLeaf(node4Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexWrap = FlexWrap.WRAP;
        nodeStyle.alignContent = AlignContent.STRETCH;
        nodeStyle.size = new Size<>(Dimension.length(150.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(150.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(50.0f, node0Layout.size().width, "width of node0");
        assertEquals(50.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(50.0f, node00Layout.size().width, "width of node00");
        assertEquals(50.0f, node00Layout.size().height, "height of node00");
        assertEquals(0.0f, node00Layout.location().x, "x of node00");
        assertEquals(0.0f, node00Layout.location().y, "y of node00");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(50.0f, node1Layout.size().width, "width of node1");
        assertEquals(50.0f, node1Layout.size().height, "height of node1");
        assertEquals(50.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(50.0f, node2Layout.size().width, "width of node2");
        assertEquals(50.0f, node2Layout.size().height, "height of node2");
        assertEquals(100.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(50.0f, node3Layout.size().width, "width of node3");
        assertEquals(50.0f, node3Layout.size().height, "height of node3");
        assertEquals(0.0f, node3Layout.location().x, "x of node3");
        assertEquals(50.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(50.0f, node4Layout.size().width, "width of node4");
        assertEquals(50.0f, node4Layout.size().height, "height of node4");
        assertEquals(50.0f, node4Layout.location().x, "x of node4");
        assertEquals(50.0f, node4Layout.location().y, "y of node4");
    }

    @Test
    @DisplayName("align_content_stretch_row_with_fixed_height__border_box")
    void alignContentStretchRowWithFixedHeightBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.length(50.0f), Dimension.AUTO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(60.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.size = new Size<>(Dimension.length(50.0f), Dimension.AUTO);
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        node3Style.size = new Size<>(Dimension.length(50.0f), Dimension.AUTO);
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        node4Style.size = new Size<>(Dimension.length(50.0f), Dimension.AUTO);
        NodeId node4 = tree.newLeaf(node4Style);

        Style nodeStyle = new Style();
        nodeStyle.flexWrap = FlexWrap.WRAP;
        nodeStyle.alignContent = AlignContent.STRETCH;
        nodeStyle.size = new Size<>(Dimension.length(150.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(150.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(50.0f, node0Layout.size().width, "width of node0");
        assertEquals(80.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(50.0f, node1Layout.size().width, "width of node1");
        assertEquals(60.0f, node1Layout.size().height, "height of node1");
        assertEquals(50.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(50.0f, node2Layout.size().width, "width of node2");
        assertEquals(80.0f, node2Layout.size().height, "height of node2");
        assertEquals(100.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(50.0f, node3Layout.size().width, "width of node3");
        assertEquals(20.0f, node3Layout.size().height, "height of node3");
        assertEquals(0.0f, node3Layout.location().x, "x of node3");
        assertEquals(80.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(50.0f, node4Layout.size().width, "width of node4");
        assertEquals(20.0f, node4Layout.size().height, "height of node4");
        assertEquals(50.0f, node4Layout.location().x, "x of node4");
        assertEquals(80.0f, node4Layout.location().y, "y of node4");
    }

    @Test
    @DisplayName("align_content_stretch_row_with_fixed_height__content_box")
    void alignContentStretchRowWithFixedHeightContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.length(50.0f), Dimension.AUTO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(60.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        node2Style.size = new Size<>(Dimension.length(50.0f), Dimension.AUTO);
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        node3Style.boxSizing = BoxSizing.CONTENT_BOX;
        node3Style.size = new Size<>(Dimension.length(50.0f), Dimension.AUTO);
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        node4Style.boxSizing = BoxSizing.CONTENT_BOX;
        node4Style.size = new Size<>(Dimension.length(50.0f), Dimension.AUTO);
        NodeId node4 = tree.newLeaf(node4Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexWrap = FlexWrap.WRAP;
        nodeStyle.alignContent = AlignContent.STRETCH;
        nodeStyle.size = new Size<>(Dimension.length(150.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(150.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(50.0f, node0Layout.size().width, "width of node0");
        assertEquals(80.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(50.0f, node1Layout.size().width, "width of node1");
        assertEquals(60.0f, node1Layout.size().height, "height of node1");
        assertEquals(50.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(50.0f, node2Layout.size().width, "width of node2");
        assertEquals(80.0f, node2Layout.size().height, "height of node2");
        assertEquals(100.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(50.0f, node3Layout.size().width, "width of node3");
        assertEquals(20.0f, node3Layout.size().height, "height of node3");
        assertEquals(0.0f, node3Layout.location().x, "x of node3");
        assertEquals(80.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(50.0f, node4Layout.size().width, "width of node4");
        assertEquals(20.0f, node4Layout.size().height, "height of node4");
        assertEquals(50.0f, node4Layout.location().x, "x of node4");
        assertEquals(80.0f, node4Layout.location().y, "y of node4");
    }

    @Test
    @DisplayName("align_content_stretch_row_with_flex__border_box")
    void alignContentStretchRowWithFlexBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.length(50.0f), Dimension.AUTO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.flexGrow = 1.0f;
        node1Style.flexShrink = 1.0f;
        node1Style.flexBasis = Dimension.percent(0.0f);
        node1Style.size = new Size<>(Dimension.length(50.0f), Dimension.AUTO);
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.size = new Size<>(Dimension.length(50.0f), Dimension.AUTO);
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        node3Style.flexGrow = 1.0f;
        node3Style.flexShrink = 1.0f;
        node3Style.flexBasis = Dimension.percent(0.0f);
        node3Style.size = new Size<>(Dimension.length(50.0f), Dimension.AUTO);
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        node4Style.size = new Size<>(Dimension.length(50.0f), Dimension.AUTO);
        NodeId node4 = tree.newLeaf(node4Style);

        Style nodeStyle = new Style();
        nodeStyle.flexWrap = FlexWrap.WRAP;
        nodeStyle.alignContent = AlignContent.STRETCH;
        nodeStyle.size = new Size<>(Dimension.length(150.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(150.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(50.0f, node0Layout.size().width, "width of node0");
        assertEquals(100.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(0.0f, node1Layout.size().width, "width of node1");
        assertEquals(100.0f, node1Layout.size().height, "height of node1");
        assertEquals(50.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(50.0f, node2Layout.size().width, "width of node2");
        assertEquals(100.0f, node2Layout.size().height, "height of node2");
        assertEquals(50.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(0.0f, node3Layout.size().width, "width of node3");
        assertEquals(100.0f, node3Layout.size().height, "height of node3");
        assertEquals(100.0f, node3Layout.location().x, "x of node3");
        assertEquals(0.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(50.0f, node4Layout.size().width, "width of node4");
        assertEquals(100.0f, node4Layout.size().height, "height of node4");
        assertEquals(100.0f, node4Layout.location().x, "x of node4");
        assertEquals(0.0f, node4Layout.location().y, "y of node4");
    }

    @Test
    @DisplayName("align_content_stretch_row_with_flex__content_box")
    void alignContentStretchRowWithFlexContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.length(50.0f), Dimension.AUTO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.flexGrow = 1.0f;
        node1Style.flexShrink = 1.0f;
        node1Style.flexBasis = Dimension.percent(0.0f);
        node1Style.size = new Size<>(Dimension.length(50.0f), Dimension.AUTO);
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        node2Style.size = new Size<>(Dimension.length(50.0f), Dimension.AUTO);
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        node3Style.boxSizing = BoxSizing.CONTENT_BOX;
        node3Style.flexGrow = 1.0f;
        node3Style.flexShrink = 1.0f;
        node3Style.flexBasis = Dimension.percent(0.0f);
        node3Style.size = new Size<>(Dimension.length(50.0f), Dimension.AUTO);
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        node4Style.boxSizing = BoxSizing.CONTENT_BOX;
        node4Style.size = new Size<>(Dimension.length(50.0f), Dimension.AUTO);
        NodeId node4 = tree.newLeaf(node4Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexWrap = FlexWrap.WRAP;
        nodeStyle.alignContent = AlignContent.STRETCH;
        nodeStyle.size = new Size<>(Dimension.length(150.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(150.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(50.0f, node0Layout.size().width, "width of node0");
        assertEquals(100.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(0.0f, node1Layout.size().width, "width of node1");
        assertEquals(100.0f, node1Layout.size().height, "height of node1");
        assertEquals(50.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(50.0f, node2Layout.size().width, "width of node2");
        assertEquals(100.0f, node2Layout.size().height, "height of node2");
        assertEquals(50.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(0.0f, node3Layout.size().width, "width of node3");
        assertEquals(100.0f, node3Layout.size().height, "height of node3");
        assertEquals(100.0f, node3Layout.location().x, "x of node3");
        assertEquals(0.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(50.0f, node4Layout.size().width, "width of node4");
        assertEquals(100.0f, node4Layout.size().height, "height of node4");
        assertEquals(100.0f, node4Layout.location().x, "x of node4");
        assertEquals(0.0f, node4Layout.location().y, "y of node4");
    }

    @Test
    @DisplayName("align_content_stretch_row_with_flex_no_shrink__border_box")
    void alignContentStretchRowWithFlexNoShrinkBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.length(50.0f), Dimension.AUTO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.flexGrow = 1.0f;
        node1Style.flexShrink = 1.0f;
        node1Style.flexBasis = Dimension.percent(0.0f);
        node1Style.size = new Size<>(Dimension.length(50.0f), Dimension.AUTO);
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.size = new Size<>(Dimension.length(50.0f), Dimension.AUTO);
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        node3Style.flexGrow = 1.0f;
        node3Style.flexShrink = 0.0f;
        node3Style.flexBasis = Dimension.percent(0.0f);
        node3Style.size = new Size<>(Dimension.length(50.0f), Dimension.AUTO);
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        node4Style.size = new Size<>(Dimension.length(50.0f), Dimension.AUTO);
        NodeId node4 = tree.newLeaf(node4Style);

        Style nodeStyle = new Style();
        nodeStyle.flexWrap = FlexWrap.WRAP;
        nodeStyle.alignContent = AlignContent.STRETCH;
        nodeStyle.size = new Size<>(Dimension.length(150.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(150.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(50.0f, node0Layout.size().width, "width of node0");
        assertEquals(100.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(0.0f, node1Layout.size().width, "width of node1");
        assertEquals(100.0f, node1Layout.size().height, "height of node1");
        assertEquals(50.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(50.0f, node2Layout.size().width, "width of node2");
        assertEquals(100.0f, node2Layout.size().height, "height of node2");
        assertEquals(50.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(0.0f, node3Layout.size().width, "width of node3");
        assertEquals(100.0f, node3Layout.size().height, "height of node3");
        assertEquals(100.0f, node3Layout.location().x, "x of node3");
        assertEquals(0.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(50.0f, node4Layout.size().width, "width of node4");
        assertEquals(100.0f, node4Layout.size().height, "height of node4");
        assertEquals(100.0f, node4Layout.location().x, "x of node4");
        assertEquals(0.0f, node4Layout.location().y, "y of node4");
    }

    @Test
    @DisplayName("align_content_stretch_row_with_flex_no_shrink__content_box")
    void alignContentStretchRowWithFlexNoShrinkContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.length(50.0f), Dimension.AUTO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.flexGrow = 1.0f;
        node1Style.flexShrink = 1.0f;
        node1Style.flexBasis = Dimension.percent(0.0f);
        node1Style.size = new Size<>(Dimension.length(50.0f), Dimension.AUTO);
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        node2Style.size = new Size<>(Dimension.length(50.0f), Dimension.AUTO);
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        node3Style.boxSizing = BoxSizing.CONTENT_BOX;
        node3Style.flexGrow = 1.0f;
        node3Style.flexShrink = 0.0f;
        node3Style.flexBasis = Dimension.percent(0.0f);
        node3Style.size = new Size<>(Dimension.length(50.0f), Dimension.AUTO);
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        node4Style.boxSizing = BoxSizing.CONTENT_BOX;
        node4Style.size = new Size<>(Dimension.length(50.0f), Dimension.AUTO);
        NodeId node4 = tree.newLeaf(node4Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexWrap = FlexWrap.WRAP;
        nodeStyle.alignContent = AlignContent.STRETCH;
        nodeStyle.size = new Size<>(Dimension.length(150.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(150.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(50.0f, node0Layout.size().width, "width of node0");
        assertEquals(100.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(0.0f, node1Layout.size().width, "width of node1");
        assertEquals(100.0f, node1Layout.size().height, "height of node1");
        assertEquals(50.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(50.0f, node2Layout.size().width, "width of node2");
        assertEquals(100.0f, node2Layout.size().height, "height of node2");
        assertEquals(50.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(0.0f, node3Layout.size().width, "width of node3");
        assertEquals(100.0f, node3Layout.size().height, "height of node3");
        assertEquals(100.0f, node3Layout.location().x, "x of node3");
        assertEquals(0.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(50.0f, node4Layout.size().width, "width of node4");
        assertEquals(100.0f, node4Layout.size().height, "height of node4");
        assertEquals(100.0f, node4Layout.location().x, "x of node4");
        assertEquals(0.0f, node4Layout.location().y, "y of node4");
    }

    @Test
    @DisplayName("align_content_stretch_row_with_margin__border_box")
    void alignContentStretchRowWithMarginBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.length(50.0f), Dimension.AUTO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.size = new Size<>(Dimension.length(50.0f), Dimension.AUTO);
        node1Style.margin = new Rect<>(LengthPercentageAuto.length(10.0f), LengthPercentageAuto.length(10.0f), LengthPercentageAuto.length(10.0f), LengthPercentageAuto.length(10.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.size = new Size<>(Dimension.length(50.0f), Dimension.AUTO);
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        node3Style.size = new Size<>(Dimension.length(50.0f), Dimension.AUTO);
        node3Style.margin = new Rect<>(LengthPercentageAuto.length(10.0f), LengthPercentageAuto.length(10.0f), LengthPercentageAuto.length(10.0f), LengthPercentageAuto.length(10.0f));
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        node4Style.size = new Size<>(Dimension.length(50.0f), Dimension.AUTO);
        NodeId node4 = tree.newLeaf(node4Style);

        Style nodeStyle = new Style();
        nodeStyle.flexWrap = FlexWrap.WRAP;
        nodeStyle.alignContent = AlignContent.STRETCH;
        nodeStyle.size = new Size<>(Dimension.length(150.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(150.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(50.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(50.0f, node1Layout.size().width, "width of node1");
        assertEquals(20.0f, node1Layout.size().height, "height of node1");
        assertEquals(60.0f, node1Layout.location().x, "x of node1");
        assertEquals(10.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(50.0f, node2Layout.size().width, "width of node2");
        assertEquals(40.0f, node2Layout.size().height, "height of node2");
        assertEquals(0.0f, node2Layout.location().x, "x of node2");
        assertEquals(40.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(50.0f, node3Layout.size().width, "width of node3");
        assertEquals(20.0f, node3Layout.size().height, "height of node3");
        assertEquals(60.0f, node3Layout.location().x, "x of node3");
        assertEquals(50.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(50.0f, node4Layout.size().width, "width of node4");
        assertEquals(20.0f, node4Layout.size().height, "height of node4");
        assertEquals(0.0f, node4Layout.location().x, "x of node4");
        assertEquals(80.0f, node4Layout.location().y, "y of node4");
    }

    @Test
    @DisplayName("align_content_stretch_row_with_margin__content_box")
    void alignContentStretchRowWithMarginContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.length(50.0f), Dimension.AUTO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.size = new Size<>(Dimension.length(50.0f), Dimension.AUTO);
        node1Style.margin = new Rect<>(LengthPercentageAuto.length(10.0f), LengthPercentageAuto.length(10.0f), LengthPercentageAuto.length(10.0f), LengthPercentageAuto.length(10.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        node2Style.size = new Size<>(Dimension.length(50.0f), Dimension.AUTO);
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        node3Style.boxSizing = BoxSizing.CONTENT_BOX;
        node3Style.size = new Size<>(Dimension.length(50.0f), Dimension.AUTO);
        node3Style.margin = new Rect<>(LengthPercentageAuto.length(10.0f), LengthPercentageAuto.length(10.0f), LengthPercentageAuto.length(10.0f), LengthPercentageAuto.length(10.0f));
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        node4Style.boxSizing = BoxSizing.CONTENT_BOX;
        node4Style.size = new Size<>(Dimension.length(50.0f), Dimension.AUTO);
        NodeId node4 = tree.newLeaf(node4Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexWrap = FlexWrap.WRAP;
        nodeStyle.alignContent = AlignContent.STRETCH;
        nodeStyle.size = new Size<>(Dimension.length(150.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(150.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(50.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(50.0f, node1Layout.size().width, "width of node1");
        assertEquals(20.0f, node1Layout.size().height, "height of node1");
        assertEquals(60.0f, node1Layout.location().x, "x of node1");
        assertEquals(10.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(50.0f, node2Layout.size().width, "width of node2");
        assertEquals(40.0f, node2Layout.size().height, "height of node2");
        assertEquals(0.0f, node2Layout.location().x, "x of node2");
        assertEquals(40.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(50.0f, node3Layout.size().width, "width of node3");
        assertEquals(20.0f, node3Layout.size().height, "height of node3");
        assertEquals(60.0f, node3Layout.location().x, "x of node3");
        assertEquals(50.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(50.0f, node4Layout.size().width, "width of node4");
        assertEquals(20.0f, node4Layout.size().height, "height of node4");
        assertEquals(0.0f, node4Layout.location().x, "x of node4");
        assertEquals(80.0f, node4Layout.location().y, "y of node4");
    }

    @Test
    @DisplayName("align_content_stretch_row_with_max_height__border_box")
    void alignContentStretchRowWithMaxHeightBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.length(50.0f), Dimension.AUTO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.size = new Size<>(Dimension.length(50.0f), Dimension.AUTO);
        node1Style.maxSize = new Size<>(Dimension.AUTO, Dimension.length(20.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.size = new Size<>(Dimension.length(50.0f), Dimension.AUTO);
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        node3Style.size = new Size<>(Dimension.length(50.0f), Dimension.AUTO);
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        node4Style.size = new Size<>(Dimension.length(50.0f), Dimension.AUTO);
        NodeId node4 = tree.newLeaf(node4Style);

        Style nodeStyle = new Style();
        nodeStyle.flexWrap = FlexWrap.WRAP;
        nodeStyle.alignContent = AlignContent.STRETCH;
        nodeStyle.size = new Size<>(Dimension.length(150.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(150.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(50.0f, node0Layout.size().width, "width of node0");
        assertEquals(50.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(50.0f, node1Layout.size().width, "width of node1");
        assertEquals(20.0f, node1Layout.size().height, "height of node1");
        assertEquals(50.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(50.0f, node2Layout.size().width, "width of node2");
        assertEquals(50.0f, node2Layout.size().height, "height of node2");
        assertEquals(100.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(50.0f, node3Layout.size().width, "width of node3");
        assertEquals(50.0f, node3Layout.size().height, "height of node3");
        assertEquals(0.0f, node3Layout.location().x, "x of node3");
        assertEquals(50.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(50.0f, node4Layout.size().width, "width of node4");
        assertEquals(50.0f, node4Layout.size().height, "height of node4");
        assertEquals(50.0f, node4Layout.location().x, "x of node4");
        assertEquals(50.0f, node4Layout.location().y, "y of node4");
    }

    @Test
    @DisplayName("align_content_stretch_row_with_max_height__content_box")
    void alignContentStretchRowWithMaxHeightContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.length(50.0f), Dimension.AUTO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.size = new Size<>(Dimension.length(50.0f), Dimension.AUTO);
        node1Style.maxSize = new Size<>(Dimension.AUTO, Dimension.length(20.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        node2Style.size = new Size<>(Dimension.length(50.0f), Dimension.AUTO);
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        node3Style.boxSizing = BoxSizing.CONTENT_BOX;
        node3Style.size = new Size<>(Dimension.length(50.0f), Dimension.AUTO);
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        node4Style.boxSizing = BoxSizing.CONTENT_BOX;
        node4Style.size = new Size<>(Dimension.length(50.0f), Dimension.AUTO);
        NodeId node4 = tree.newLeaf(node4Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexWrap = FlexWrap.WRAP;
        nodeStyle.alignContent = AlignContent.STRETCH;
        nodeStyle.size = new Size<>(Dimension.length(150.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(150.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(50.0f, node0Layout.size().width, "width of node0");
        assertEquals(50.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(50.0f, node1Layout.size().width, "width of node1");
        assertEquals(20.0f, node1Layout.size().height, "height of node1");
        assertEquals(50.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(50.0f, node2Layout.size().width, "width of node2");
        assertEquals(50.0f, node2Layout.size().height, "height of node2");
        assertEquals(100.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(50.0f, node3Layout.size().width, "width of node3");
        assertEquals(50.0f, node3Layout.size().height, "height of node3");
        assertEquals(0.0f, node3Layout.location().x, "x of node3");
        assertEquals(50.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(50.0f, node4Layout.size().width, "width of node4");
        assertEquals(50.0f, node4Layout.size().height, "height of node4");
        assertEquals(50.0f, node4Layout.location().x, "x of node4");
        assertEquals(50.0f, node4Layout.location().y, "y of node4");
    }

    @Test
    @DisplayName("align_content_stretch_row_with_min_height__border_box")
    void alignContentStretchRowWithMinHeightBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.length(50.0f), Dimension.AUTO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.size = new Size<>(Dimension.length(50.0f), Dimension.AUTO);
        node1Style.minSize = new Size<>(Dimension.AUTO, Dimension.length(80.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.size = new Size<>(Dimension.length(50.0f), Dimension.AUTO);
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        node3Style.size = new Size<>(Dimension.length(50.0f), Dimension.AUTO);
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        node4Style.size = new Size<>(Dimension.length(50.0f), Dimension.AUTO);
        NodeId node4 = tree.newLeaf(node4Style);

        Style nodeStyle = new Style();
        nodeStyle.flexWrap = FlexWrap.WRAP;
        nodeStyle.alignContent = AlignContent.STRETCH;
        nodeStyle.size = new Size<>(Dimension.length(150.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(150.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(50.0f, node0Layout.size().width, "width of node0");
        assertEquals(90.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(50.0f, node1Layout.size().width, "width of node1");
        assertEquals(90.0f, node1Layout.size().height, "height of node1");
        assertEquals(50.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(50.0f, node2Layout.size().width, "width of node2");
        assertEquals(90.0f, node2Layout.size().height, "height of node2");
        assertEquals(100.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(50.0f, node3Layout.size().width, "width of node3");
        assertEquals(10.0f, node3Layout.size().height, "height of node3");
        assertEquals(0.0f, node3Layout.location().x, "x of node3");
        assertEquals(90.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(50.0f, node4Layout.size().width, "width of node4");
        assertEquals(10.0f, node4Layout.size().height, "height of node4");
        assertEquals(50.0f, node4Layout.location().x, "x of node4");
        assertEquals(90.0f, node4Layout.location().y, "y of node4");
    }

    @Test
    @DisplayName("align_content_stretch_row_with_min_height__content_box")
    void alignContentStretchRowWithMinHeightContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.length(50.0f), Dimension.AUTO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.size = new Size<>(Dimension.length(50.0f), Dimension.AUTO);
        node1Style.minSize = new Size<>(Dimension.AUTO, Dimension.length(80.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        node2Style.size = new Size<>(Dimension.length(50.0f), Dimension.AUTO);
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        node3Style.boxSizing = BoxSizing.CONTENT_BOX;
        node3Style.size = new Size<>(Dimension.length(50.0f), Dimension.AUTO);
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        node4Style.boxSizing = BoxSizing.CONTENT_BOX;
        node4Style.size = new Size<>(Dimension.length(50.0f), Dimension.AUTO);
        NodeId node4 = tree.newLeaf(node4Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexWrap = FlexWrap.WRAP;
        nodeStyle.alignContent = AlignContent.STRETCH;
        nodeStyle.size = new Size<>(Dimension.length(150.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(150.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(50.0f, node0Layout.size().width, "width of node0");
        assertEquals(90.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(50.0f, node1Layout.size().width, "width of node1");
        assertEquals(90.0f, node1Layout.size().height, "height of node1");
        assertEquals(50.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(50.0f, node2Layout.size().width, "width of node2");
        assertEquals(90.0f, node2Layout.size().height, "height of node2");
        assertEquals(100.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(50.0f, node3Layout.size().width, "width of node3");
        assertEquals(10.0f, node3Layout.size().height, "height of node3");
        assertEquals(0.0f, node3Layout.location().x, "x of node3");
        assertEquals(90.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(50.0f, node4Layout.size().width, "width of node4");
        assertEquals(10.0f, node4Layout.size().height, "height of node4");
        assertEquals(50.0f, node4Layout.location().x, "x of node4");
        assertEquals(90.0f, node4Layout.location().y, "y of node4");
    }

    @Test
    @DisplayName("align_content_stretch_row_with_padding__border_box")
    void alignContentStretchRowWithPaddingBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.length(50.0f), Dimension.AUTO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.size = new Size<>(Dimension.length(50.0f), Dimension.AUTO);
        node1Style.padding = new Rect<>(LengthPercentage.length(10.0f), LengthPercentage.length(10.0f), LengthPercentage.length(10.0f), LengthPercentage.length(10.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.size = new Size<>(Dimension.length(50.0f), Dimension.AUTO);
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        node3Style.size = new Size<>(Dimension.length(50.0f), Dimension.AUTO);
        node3Style.padding = new Rect<>(LengthPercentage.length(10.0f), LengthPercentage.length(10.0f), LengthPercentage.length(10.0f), LengthPercentage.length(10.0f));
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        node4Style.size = new Size<>(Dimension.length(50.0f), Dimension.AUTO);
        NodeId node4 = tree.newLeaf(node4Style);

        Style nodeStyle = new Style();
        nodeStyle.flexWrap = FlexWrap.WRAP;
        nodeStyle.alignContent = AlignContent.STRETCH;
        nodeStyle.size = new Size<>(Dimension.length(150.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(150.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(50.0f, node0Layout.size().width, "width of node0");
        assertEquals(50.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(50.0f, node1Layout.size().width, "width of node1");
        assertEquals(50.0f, node1Layout.size().height, "height of node1");
        assertEquals(50.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(50.0f, node2Layout.size().width, "width of node2");
        assertEquals(50.0f, node2Layout.size().height, "height of node2");
        assertEquals(100.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(50.0f, node3Layout.size().width, "width of node3");
        assertEquals(50.0f, node3Layout.size().height, "height of node3");
        assertEquals(0.0f, node3Layout.location().x, "x of node3");
        assertEquals(50.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(50.0f, node4Layout.size().width, "width of node4");
        assertEquals(50.0f, node4Layout.size().height, "height of node4");
        assertEquals(50.0f, node4Layout.location().x, "x of node4");
        assertEquals(50.0f, node4Layout.location().y, "y of node4");
    }

    @Test
    @DisplayName("align_content_stretch_row_with_padding__content_box")
    void alignContentStretchRowWithPaddingContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.length(50.0f), Dimension.AUTO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.size = new Size<>(Dimension.length(50.0f), Dimension.AUTO);
        node1Style.padding = new Rect<>(LengthPercentage.length(10.0f), LengthPercentage.length(10.0f), LengthPercentage.length(10.0f), LengthPercentage.length(10.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        node2Style.size = new Size<>(Dimension.length(50.0f), Dimension.AUTO);
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        node3Style.boxSizing = BoxSizing.CONTENT_BOX;
        node3Style.size = new Size<>(Dimension.length(50.0f), Dimension.AUTO);
        node3Style.padding = new Rect<>(LengthPercentage.length(10.0f), LengthPercentage.length(10.0f), LengthPercentage.length(10.0f), LengthPercentage.length(10.0f));
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        node4Style.boxSizing = BoxSizing.CONTENT_BOX;
        node4Style.size = new Size<>(Dimension.length(50.0f), Dimension.AUTO);
        NodeId node4 = tree.newLeaf(node4Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexWrap = FlexWrap.WRAP;
        nodeStyle.alignContent = AlignContent.STRETCH;
        nodeStyle.size = new Size<>(Dimension.length(150.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(150.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(50.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(70.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(50.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(50.0f, node2Layout.size().width, "width of node2");
        assertEquals(40.0f, node2Layout.size().height, "height of node2");
        assertEquals(0.0f, node2Layout.location().x, "x of node2");
        assertEquals(40.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(70.0f, node3Layout.size().width, "width of node3");
        assertEquals(40.0f, node3Layout.size().height, "height of node3");
        assertEquals(50.0f, node3Layout.location().x, "x of node3");
        assertEquals(40.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(50.0f, node4Layout.size().width, "width of node4");
        assertEquals(20.0f, node4Layout.size().height, "height of node4");
        assertEquals(0.0f, node4Layout.location().x, "x of node4");
        assertEquals(80.0f, node4Layout.location().y, "y of node4");
    }

    @Test
    @DisplayName("align_content_stretch_row_with_single_row__border_box")
    void alignContentStretchRowWithSingleRowBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.length(50.0f), Dimension.AUTO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.size = new Size<>(Dimension.length(50.0f), Dimension.AUTO);
        NodeId node1 = tree.newLeaf(node1Style);

        Style nodeStyle = new Style();
        nodeStyle.flexWrap = FlexWrap.WRAP;
        nodeStyle.alignContent = AlignContent.STRETCH;
        nodeStyle.size = new Size<>(Dimension.length(150.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(150.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(50.0f, node0Layout.size().width, "width of node0");
        assertEquals(100.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(50.0f, node1Layout.size().width, "width of node1");
        assertEquals(100.0f, node1Layout.size().height, "height of node1");
        assertEquals(50.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
    }

    @Test
    @DisplayName("align_content_stretch_row_with_single_row__content_box")
    void alignContentStretchRowWithSingleRowContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.length(50.0f), Dimension.AUTO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.size = new Size<>(Dimension.length(50.0f), Dimension.AUTO);
        NodeId node1 = tree.newLeaf(node1Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexWrap = FlexWrap.WRAP;
        nodeStyle.alignContent = AlignContent.STRETCH;
        nodeStyle.size = new Size<>(Dimension.length(150.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(150.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(50.0f, node0Layout.size().width, "width of node0");
        assertEquals(100.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(50.0f, node1Layout.size().width, "width of node1");
        assertEquals(100.0f, node1Layout.size().height, "height of node1");
        assertEquals(50.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
    }

    @Test
    @DisplayName("align_content_stretch_row_wrap__border_box")
    void alignContentStretchRowWrapBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(150.0f));
        NodeId node00 = tree.newLeaf(node00Style);

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.length(100.0f), Dimension.AUTO);
        NodeId node0 = tree.newWithChildren(node0Style, node00);

        Style nodeStyle = new Style();
        nodeStyle.flexWrap = FlexWrap.WRAP;
        nodeStyle.alignContent = AlignContent.STRETCH;
        nodeStyle.size = new Size<>(Dimension.length(150.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(150.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(100.0f, node0Layout.size().width, "width of node0");
        assertEquals(150.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(50.0f, node00Layout.size().width, "width of node00");
        assertEquals(150.0f, node00Layout.size().height, "height of node00");
        assertEquals(0.0f, node00Layout.location().x, "x of node00");
        assertEquals(0.0f, node00Layout.location().y, "y of node00");
    }

    @Test
    @DisplayName("align_content_stretch_row_wrap__content_box")
    void alignContentStretchRowWrapContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.boxSizing = BoxSizing.CONTENT_BOX;
        node00Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(150.0f));
        NodeId node00 = tree.newLeaf(node00Style);

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.length(100.0f), Dimension.AUTO);
        NodeId node0 = tree.newWithChildren(node0Style, node00);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexWrap = FlexWrap.WRAP;
        nodeStyle.alignContent = AlignContent.STRETCH;
        nodeStyle.size = new Size<>(Dimension.length(150.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(150.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(100.0f, node0Layout.size().width, "width of node0");
        assertEquals(150.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(50.0f, node00Layout.size().width, "width of node00");
        assertEquals(150.0f, node00Layout.size().height, "height of node00");
        assertEquals(0.0f, node00Layout.location().x, "x of node00");
        assertEquals(0.0f, node00Layout.location().y, "y of node00");
    }

    @Test
    @DisplayName("align_flex_start_with_shrinking_children__border_box")
    void alignFlexStartWithShrinkingChildrenBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node000Style = new Style();
        node000Style.flexGrow = 1.0f;
        node000Style.flexShrink = 1.0f;
        NodeId node000 = tree.newLeaf(node000Style);

        Style node00Style = new Style();
        node00Style.flexGrow = 1.0f;
        node00Style.flexShrink = 1.0f;
        NodeId node00 = tree.newWithChildren(node00Style, node000);

        Style node0Style = new Style();
        node0Style.alignItems = AlignItems.FLEX_START;
        NodeId node0 = tree.newWithChildren(node0Style, node00);

        Style nodeStyle = new Style();
        nodeStyle.size = new Size<>(Dimension.length(500.0f), Dimension.length(500.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(500.0f, nodeLayout.size().width, "width of node");
        assertEquals(500.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(0.0f, node0Layout.size().width, "width of node0");
        assertEquals(500.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(0.0f, node00Layout.size().width, "width of node00");
        assertEquals(0.0f, node00Layout.size().height, "height of node00");
        assertEquals(0.0f, node00Layout.location().x, "x of node00");
        assertEquals(0.0f, node00Layout.location().y, "y of node00");
        Layout node000Layout = tree.getLayout(node000);
        assertEquals(0.0f, node000Layout.size().width, "width of node000");
        assertEquals(0.0f, node000Layout.size().height, "height of node000");
        assertEquals(0.0f, node000Layout.location().x, "x of node000");
        assertEquals(0.0f, node000Layout.location().y, "y of node000");
    }

    @Test
    @DisplayName("align_flex_start_with_shrinking_children__content_box")
    void alignFlexStartWithShrinkingChildrenContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node000Style = new Style();
        node000Style.boxSizing = BoxSizing.CONTENT_BOX;
        node000Style.flexGrow = 1.0f;
        node000Style.flexShrink = 1.0f;
        NodeId node000 = tree.newLeaf(node000Style);

        Style node00Style = new Style();
        node00Style.boxSizing = BoxSizing.CONTENT_BOX;
        node00Style.flexGrow = 1.0f;
        node00Style.flexShrink = 1.0f;
        NodeId node00 = tree.newWithChildren(node00Style, node000);

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.alignItems = AlignItems.FLEX_START;
        NodeId node0 = tree.newWithChildren(node0Style, node00);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.size = new Size<>(Dimension.length(500.0f), Dimension.length(500.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(500.0f, nodeLayout.size().width, "width of node");
        assertEquals(500.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(0.0f, node0Layout.size().width, "width of node0");
        assertEquals(500.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(0.0f, node00Layout.size().width, "width of node00");
        assertEquals(0.0f, node00Layout.size().height, "height of node00");
        assertEquals(0.0f, node00Layout.location().x, "x of node00");
        assertEquals(0.0f, node00Layout.location().y, "y of node00");
        Layout node000Layout = tree.getLayout(node000);
        assertEquals(0.0f, node000Layout.size().width, "width of node000");
        assertEquals(0.0f, node000Layout.size().height, "height of node000");
        assertEquals(0.0f, node000Layout.location().x, "x of node000");
        assertEquals(0.0f, node000Layout.location().y, "y of node000");
    }

    @Test
    @DisplayName("align_flex_start_with_shrinking_children_with_stretch__border_box")
    void alignFlexStartWithShrinkingChildrenWithStretchBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node000Style = new Style();
        node000Style.flexGrow = 1.0f;
        node000Style.flexShrink = 1.0f;
        NodeId node000 = tree.newLeaf(node000Style);

        Style node00Style = new Style();
        node00Style.alignItems = AlignItems.STRETCH;
        node00Style.flexGrow = 1.0f;
        node00Style.flexShrink = 1.0f;
        NodeId node00 = tree.newWithChildren(node00Style, node000);

        Style node0Style = new Style();
        node0Style.alignItems = AlignItems.FLEX_START;
        NodeId node0 = tree.newWithChildren(node0Style, node00);

        Style nodeStyle = new Style();
        nodeStyle.size = new Size<>(Dimension.length(500.0f), Dimension.length(500.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(500.0f, nodeLayout.size().width, "width of node");
        assertEquals(500.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(0.0f, node0Layout.size().width, "width of node0");
        assertEquals(500.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(0.0f, node00Layout.size().width, "width of node00");
        assertEquals(0.0f, node00Layout.size().height, "height of node00");
        assertEquals(0.0f, node00Layout.location().x, "x of node00");
        assertEquals(0.0f, node00Layout.location().y, "y of node00");
        Layout node000Layout = tree.getLayout(node000);
        assertEquals(0.0f, node000Layout.size().width, "width of node000");
        assertEquals(0.0f, node000Layout.size().height, "height of node000");
        assertEquals(0.0f, node000Layout.location().x, "x of node000");
        assertEquals(0.0f, node000Layout.location().y, "y of node000");
    }

    @Test
    @DisplayName("align_flex_start_with_shrinking_children_with_stretch__content_box")
    void alignFlexStartWithShrinkingChildrenWithStretchContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node000Style = new Style();
        node000Style.boxSizing = BoxSizing.CONTENT_BOX;
        node000Style.flexGrow = 1.0f;
        node000Style.flexShrink = 1.0f;
        NodeId node000 = tree.newLeaf(node000Style);

        Style node00Style = new Style();
        node00Style.boxSizing = BoxSizing.CONTENT_BOX;
        node00Style.alignItems = AlignItems.STRETCH;
        node00Style.flexGrow = 1.0f;
        node00Style.flexShrink = 1.0f;
        NodeId node00 = tree.newWithChildren(node00Style, node000);

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.alignItems = AlignItems.FLEX_START;
        NodeId node0 = tree.newWithChildren(node0Style, node00);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.size = new Size<>(Dimension.length(500.0f), Dimension.length(500.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(500.0f, nodeLayout.size().width, "width of node");
        assertEquals(500.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(0.0f, node0Layout.size().width, "width of node0");
        assertEquals(500.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(0.0f, node00Layout.size().width, "width of node00");
        assertEquals(0.0f, node00Layout.size().height, "height of node00");
        assertEquals(0.0f, node00Layout.location().x, "x of node00");
        assertEquals(0.0f, node00Layout.location().y, "y of node00");
        Layout node000Layout = tree.getLayout(node000);
        assertEquals(0.0f, node000Layout.size().width, "width of node000");
        assertEquals(0.0f, node000Layout.size().height, "height of node000");
        assertEquals(0.0f, node000Layout.location().x, "x of node000");
        assertEquals(0.0f, node000Layout.location().y, "y of node000");
    }

    @Test
    @DisplayName("align_flex_start_with_stretching_children__border_box")
    void alignFlexStartWithStretchingChildrenBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node000Style = new Style();
        node000Style.flexGrow = 1.0f;
        node000Style.flexShrink = 1.0f;
        NodeId node000 = tree.newLeaf(node000Style);

        Style node00Style = new Style();
        node00Style.flexGrow = 1.0f;
        node00Style.flexShrink = 1.0f;
        NodeId node00 = tree.newWithChildren(node00Style, node000);

        Style node0Style = new Style();
        node0Style.alignItems = AlignItems.STRETCH;
        NodeId node0 = tree.newWithChildren(node0Style, node00);

        Style nodeStyle = new Style();
        nodeStyle.size = new Size<>(Dimension.length(500.0f), Dimension.length(500.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(500.0f, nodeLayout.size().width, "width of node");
        assertEquals(500.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(0.0f, node0Layout.size().width, "width of node0");
        assertEquals(500.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(0.0f, node00Layout.size().width, "width of node00");
        assertEquals(500.0f, node00Layout.size().height, "height of node00");
        assertEquals(0.0f, node00Layout.location().x, "x of node00");
        assertEquals(0.0f, node00Layout.location().y, "y of node00");
        Layout node000Layout = tree.getLayout(node000);
        assertEquals(0.0f, node000Layout.size().width, "width of node000");
        assertEquals(500.0f, node000Layout.size().height, "height of node000");
        assertEquals(0.0f, node000Layout.location().x, "x of node000");
        assertEquals(0.0f, node000Layout.location().y, "y of node000");
    }

    @Test
    @DisplayName("align_flex_start_with_stretching_children__content_box")
    void alignFlexStartWithStretchingChildrenContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node000Style = new Style();
        node000Style.boxSizing = BoxSizing.CONTENT_BOX;
        node000Style.flexGrow = 1.0f;
        node000Style.flexShrink = 1.0f;
        NodeId node000 = tree.newLeaf(node000Style);

        Style node00Style = new Style();
        node00Style.boxSizing = BoxSizing.CONTENT_BOX;
        node00Style.flexGrow = 1.0f;
        node00Style.flexShrink = 1.0f;
        NodeId node00 = tree.newWithChildren(node00Style, node000);

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.alignItems = AlignItems.STRETCH;
        NodeId node0 = tree.newWithChildren(node0Style, node00);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.size = new Size<>(Dimension.length(500.0f), Dimension.length(500.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(500.0f, nodeLayout.size().width, "width of node");
        assertEquals(500.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(0.0f, node0Layout.size().width, "width of node0");
        assertEquals(500.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(0.0f, node00Layout.size().width, "width of node00");
        assertEquals(500.0f, node00Layout.size().height, "height of node00");
        assertEquals(0.0f, node00Layout.location().x, "x of node00");
        assertEquals(0.0f, node00Layout.location().y, "y of node00");
        Layout node000Layout = tree.getLayout(node000);
        assertEquals(0.0f, node000Layout.size().width, "width of node000");
        assertEquals(500.0f, node000Layout.size().height, "height of node000");
        assertEquals(0.0f, node000Layout.location().x, "x of node000");
        assertEquals(0.0f, node000Layout.location().y, "y of node000");
    }

    @Test
    @DisplayName("align_items_center__border_box")
    void alignItemsCenterBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.length(10.0f), Dimension.length(10.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.alignItems = AlignItems.CENTER;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(10.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(45.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("align_items_center__content_box")
    void alignItemsCenterContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.length(10.0f), Dimension.length(10.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.alignItems = AlignItems.CENTER;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(10.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(45.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("align_items_center_child_with_margin_bigger_than_parent__border_box")
    void alignItemsCenterChildWithMarginBiggerThanParentBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        node00Style.margin = new Rect<>(LengthPercentageAuto.length(10.0f), LengthPercentageAuto.length(10.0f), LengthPercentageAuto.ZERO, LengthPercentageAuto.ZERO);
        NodeId node00 = tree.newLeaf(node00Style);

        Style node0Style = new Style();
        node0Style.alignItems = AlignItems.CENTER;
        NodeId node0 = tree.newWithChildren(node0Style, node00);

        Style nodeStyle = new Style();
        nodeStyle.alignItems = AlignItems.CENTER;
        nodeStyle.justifyContent = AlignContent.CENTER;
        nodeStyle.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(50.0f, nodeLayout.size().width, "width of node");
        assertEquals(50.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(70.0f, node0Layout.size().width, "width of node0");
        assertEquals(50.0f, node0Layout.size().height, "height of node0");
        assertEquals(-10.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(50.0f, node00Layout.size().width, "width of node00");
        assertEquals(50.0f, node00Layout.size().height, "height of node00");
        assertEquals(10.0f, node00Layout.location().x, "x of node00");
        assertEquals(0.0f, node00Layout.location().y, "y of node00");
    }

    @Test
    @DisplayName("align_items_center_child_with_margin_bigger_than_parent__content_box")
    void alignItemsCenterChildWithMarginBiggerThanParentContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.boxSizing = BoxSizing.CONTENT_BOX;
        node00Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        node00Style.margin = new Rect<>(LengthPercentageAuto.length(10.0f), LengthPercentageAuto.length(10.0f), LengthPercentageAuto.ZERO, LengthPercentageAuto.ZERO);
        NodeId node00 = tree.newLeaf(node00Style);

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.alignItems = AlignItems.CENTER;
        NodeId node0 = tree.newWithChildren(node0Style, node00);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.alignItems = AlignItems.CENTER;
        nodeStyle.justifyContent = AlignContent.CENTER;
        nodeStyle.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(50.0f, nodeLayout.size().width, "width of node");
        assertEquals(50.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(70.0f, node0Layout.size().width, "width of node0");
        assertEquals(50.0f, node0Layout.size().height, "height of node0");
        assertEquals(-10.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(50.0f, node00Layout.size().width, "width of node00");
        assertEquals(50.0f, node00Layout.size().height, "height of node00");
        assertEquals(10.0f, node00Layout.location().x, "x of node00");
        assertEquals(0.0f, node00Layout.location().y, "y of node00");
    }

    @Test
    @DisplayName("align_items_center_child_without_margin_bigger_than_parent__border_box")
    void alignItemsCenterChildWithoutMarginBiggerThanParentBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.size = new Size<>(Dimension.length(70.0f), Dimension.length(70.0f));
        NodeId node00 = tree.newLeaf(node00Style);

        Style node0Style = new Style();
        node0Style.alignItems = AlignItems.CENTER;
        NodeId node0 = tree.newWithChildren(node0Style, node00);

        Style nodeStyle = new Style();
        nodeStyle.alignItems = AlignItems.CENTER;
        nodeStyle.justifyContent = AlignContent.CENTER;
        nodeStyle.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(50.0f, nodeLayout.size().width, "width of node");
        assertEquals(50.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(70.0f, node0Layout.size().width, "width of node0");
        assertEquals(70.0f, node0Layout.size().height, "height of node0");
        assertEquals(-10.0f, node0Layout.location().x, "x of node0");
        assertEquals(-10.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(70.0f, node00Layout.size().width, "width of node00");
        assertEquals(70.0f, node00Layout.size().height, "height of node00");
        assertEquals(0.0f, node00Layout.location().x, "x of node00");
        assertEquals(0.0f, node00Layout.location().y, "y of node00");
    }

    @Test
    @DisplayName("align_items_center_child_without_margin_bigger_than_parent__content_box")
    void alignItemsCenterChildWithoutMarginBiggerThanParentContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.boxSizing = BoxSizing.CONTENT_BOX;
        node00Style.size = new Size<>(Dimension.length(70.0f), Dimension.length(70.0f));
        NodeId node00 = tree.newLeaf(node00Style);

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.alignItems = AlignItems.CENTER;
        NodeId node0 = tree.newWithChildren(node0Style, node00);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.alignItems = AlignItems.CENTER;
        nodeStyle.justifyContent = AlignContent.CENTER;
        nodeStyle.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(50.0f, nodeLayout.size().width, "width of node");
        assertEquals(50.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(70.0f, node0Layout.size().width, "width of node0");
        assertEquals(70.0f, node0Layout.size().height, "height of node0");
        assertEquals(-10.0f, node0Layout.location().x, "x of node0");
        assertEquals(-10.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(70.0f, node00Layout.size().width, "width of node00");
        assertEquals(70.0f, node00Layout.size().height, "height of node00");
        assertEquals(0.0f, node00Layout.location().x, "x of node00");
        assertEquals(0.0f, node00Layout.location().y, "y of node00");
    }

    @Test
    @DisplayName("align_items_center_justify_content_center__border_box")
    void alignItemsCenterJustifyContentCenterBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node000Style = new Style();
        node000Style.size = new Size<>(Dimension.length(10.0f), Dimension.length(10.0f));
        NodeId node000 = tree.newLeaf(node000Style);

        Style node00Style = new Style();
        node00Style.flexDirection = FlexDirection.COLUMN;
        node00Style.alignItems = AlignItems.CENTER;
        node00Style.justifyContent = AlignContent.CENTER;
        node00Style.size = new Size<>(Dimension.AUTO, Dimension.percent(1.0f));
        node00Style.margin = new Rect<>(LengthPercentageAuto.length(10.0f), LengthPercentageAuto.length(10.0f), LengthPercentageAuto.ZERO, LengthPercentageAuto.ZERO);
        NodeId node00 = tree.newWithChildren(node00Style, node000);

        Style node0Style = new Style();
        node0Style.flexDirection = FlexDirection.COLUMN;
        node0Style.alignItems = AlignItems.CENTER;
        node0Style.justifyContent = AlignContent.CENTER;
        node0Style.size = new Size<>(Dimension.AUTO, Dimension.length(50.0f));
        NodeId node0 = tree.newWithChildren(node0Style, node00);

        Style nodeStyle = new Style();
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.size = new Size<>(Dimension.length(500.0f), Dimension.length(500.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(500.0f, nodeLayout.size().width, "width of node");
        assertEquals(500.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(500.0f, node0Layout.size().width, "width of node0");
        assertEquals(50.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(10.0f, node00Layout.size().width, "width of node00");
        assertEquals(50.0f, node00Layout.size().height, "height of node00");
        assertEquals(245.0f, node00Layout.location().x, "x of node00");
        assertEquals(0.0f, node00Layout.location().y, "y of node00");
        Layout node000Layout = tree.getLayout(node000);
        assertEquals(10.0f, node000Layout.size().width, "width of node000");
        assertEquals(10.0f, node000Layout.size().height, "height of node000");
        assertEquals(0.0f, node000Layout.location().x, "x of node000");
        assertEquals(20.0f, node000Layout.location().y, "y of node000");
    }

    @Test
    @DisplayName("align_items_center_justify_content_center__content_box")
    void alignItemsCenterJustifyContentCenterContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node000Style = new Style();
        node000Style.boxSizing = BoxSizing.CONTENT_BOX;
        node000Style.size = new Size<>(Dimension.length(10.0f), Dimension.length(10.0f));
        NodeId node000 = tree.newLeaf(node000Style);

        Style node00Style = new Style();
        node00Style.boxSizing = BoxSizing.CONTENT_BOX;
        node00Style.flexDirection = FlexDirection.COLUMN;
        node00Style.alignItems = AlignItems.CENTER;
        node00Style.justifyContent = AlignContent.CENTER;
        node00Style.size = new Size<>(Dimension.AUTO, Dimension.percent(1.0f));
        node00Style.margin = new Rect<>(LengthPercentageAuto.length(10.0f), LengthPercentageAuto.length(10.0f), LengthPercentageAuto.ZERO, LengthPercentageAuto.ZERO);
        NodeId node00 = tree.newWithChildren(node00Style, node000);

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.flexDirection = FlexDirection.COLUMN;
        node0Style.alignItems = AlignItems.CENTER;
        node0Style.justifyContent = AlignContent.CENTER;
        node0Style.size = new Size<>(Dimension.AUTO, Dimension.length(50.0f));
        NodeId node0 = tree.newWithChildren(node0Style, node00);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.size = new Size<>(Dimension.length(500.0f), Dimension.length(500.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(500.0f, nodeLayout.size().width, "width of node");
        assertEquals(500.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(500.0f, node0Layout.size().width, "width of node0");
        assertEquals(50.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(10.0f, node00Layout.size().width, "width of node00");
        assertEquals(50.0f, node00Layout.size().height, "height of node00");
        assertEquals(245.0f, node00Layout.location().x, "x of node00");
        assertEquals(0.0f, node00Layout.location().y, "y of node00");
        Layout node000Layout = tree.getLayout(node000);
        assertEquals(10.0f, node000Layout.size().width, "width of node000");
        assertEquals(10.0f, node000Layout.size().height, "height of node000");
        assertEquals(0.0f, node000Layout.location().x, "x of node000");
        assertEquals(20.0f, node000Layout.location().y, "y of node000");
    }

    @Test
    @DisplayName("align_items_center_min_max_with_padding__border_box")
    void alignItemsCenterMinMaxWithPaddingBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.length(62.0f), Dimension.length(62.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.alignItems = AlignItems.CENTER;
        nodeStyle.minSize = new Size<>(Dimension.length(320.0f), Dimension.length(72.0f));
        nodeStyle.maxSize = new Size<>(Dimension.length(320.0f), Dimension.length(504.0f));
        nodeStyle.padding = new Rect<>(LengthPercentage.ZERO, LengthPercentage.ZERO, LengthPercentage.length(8.0f), LengthPercentage.length(8.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(320.0f, nodeLayout.size().width, "width of node");
        assertEquals(78.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(62.0f, node0Layout.size().width, "width of node0");
        assertEquals(62.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(8.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("align_items_center_min_max_with_padding__content_box")
    void alignItemsCenterMinMaxWithPaddingContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.length(62.0f), Dimension.length(62.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.alignItems = AlignItems.CENTER;
        nodeStyle.minSize = new Size<>(Dimension.length(320.0f), Dimension.length(72.0f));
        nodeStyle.maxSize = new Size<>(Dimension.length(320.0f), Dimension.length(504.0f));
        nodeStyle.padding = new Rect<>(LengthPercentage.ZERO, LengthPercentage.ZERO, LengthPercentage.length(8.0f), LengthPercentage.length(8.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(320.0f, nodeLayout.size().width, "width of node");
        assertEquals(88.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(62.0f, node0Layout.size().width, "width of node0");
        assertEquals(62.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(13.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("align_items_center_with_child_margin__border_box")
    void alignItemsCenterWithChildMarginBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.length(10.0f), Dimension.length(10.0f));
        node0Style.margin = new Rect<>(LengthPercentageAuto.ZERO, LengthPercentageAuto.ZERO, LengthPercentageAuto.length(10.0f), LengthPercentageAuto.ZERO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.alignItems = AlignItems.CENTER;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(10.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(50.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("align_items_center_with_child_margin__content_box")
    void alignItemsCenterWithChildMarginContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.length(10.0f), Dimension.length(10.0f));
        node0Style.margin = new Rect<>(LengthPercentageAuto.ZERO, LengthPercentageAuto.ZERO, LengthPercentageAuto.length(10.0f), LengthPercentageAuto.ZERO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.alignItems = AlignItems.CENTER;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(10.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(50.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("align_items_center_with_child_top__border_box")
    void alignItemsCenterWithChildTopBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.length(10.0f), Dimension.length(10.0f));
        node0Style.inset = new Rect<>(LengthPercentageAuto.AUTO, LengthPercentageAuto.AUTO, LengthPercentageAuto.length(10.0f), LengthPercentageAuto.AUTO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.alignItems = AlignItems.CENTER;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(10.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(55.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("align_items_center_with_child_top__content_box")
    void alignItemsCenterWithChildTopContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.length(10.0f), Dimension.length(10.0f));
        node0Style.inset = new Rect<>(LengthPercentageAuto.AUTO, LengthPercentageAuto.AUTO, LengthPercentageAuto.length(10.0f), LengthPercentageAuto.AUTO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.alignItems = AlignItems.CENTER;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(10.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(55.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("align_items_center_with_height_with_padding_border_with_wrap__border_box")
    void alignItemsCenterWithHeightWithPaddingBorderWithWrapBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.size = new Size<>(Dimension.length(10.0f), Dimension.length(10.0f));
        NodeId node00 = tree.newLeaf(node00Style);

        Style node01Style = new Style();
        node01Style.size = new Size<>(Dimension.length(10.0f), Dimension.length(20.0f));
        NodeId node01 = tree.newLeaf(node01Style);

        Style node0Style = new Style();
        node0Style.flexWrap = FlexWrap.WRAP;
        node0Style.alignItems = AlignItems.CENTER;
        node0Style.alignContent = AlignContent.FLEX_START;
        node0Style.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node0 = tree.newWithChildren(node0Style, node00, node01);

        Style node10Style = new Style();
        node10Style.size = new Size<>(Dimension.length(10.0f), Dimension.length(10.0f));
        NodeId node10 = tree.newLeaf(node10Style);

        Style node11Style = new Style();
        node11Style.size = new Size<>(Dimension.length(10.0f), Dimension.length(20.0f));
        NodeId node11 = tree.newLeaf(node11Style);

        Style node1Style = new Style();
        node1Style.flexWrap = FlexWrap.WRAP;
        node1Style.alignItems = AlignItems.CENTER;
        node1Style.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node1 = tree.newWithChildren(node1Style, node10, node11);

        Style nodeStyle = new Style();
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(200.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(100.0f, node0Layout.size().width, "width of node0");
        assertEquals(100.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(10.0f, node00Layout.size().width, "width of node00");
        assertEquals(10.0f, node00Layout.size().height, "height of node00");
        assertEquals(0.0f, node00Layout.location().x, "x of node00");
        assertEquals(5.0f, node00Layout.location().y, "y of node00");
        Layout node01Layout = tree.getLayout(node01);
        assertEquals(10.0f, node01Layout.size().width, "width of node01");
        assertEquals(20.0f, node01Layout.size().height, "height of node01");
        assertEquals(10.0f, node01Layout.location().x, "x of node01");
        assertEquals(0.0f, node01Layout.location().y, "y of node01");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(100.0f, node1Layout.size().width, "width of node1");
        assertEquals(100.0f, node1Layout.size().height, "height of node1");
        assertEquals(100.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node10Layout = tree.getLayout(node10);
        assertEquals(10.0f, node10Layout.size().width, "width of node10");
        assertEquals(10.0f, node10Layout.size().height, "height of node10");
        assertEquals(0.0f, node10Layout.location().x, "x of node10");
        assertEquals(45.0f, node10Layout.location().y, "y of node10");
        Layout node11Layout = tree.getLayout(node11);
        assertEquals(10.0f, node11Layout.size().width, "width of node11");
        assertEquals(20.0f, node11Layout.size().height, "height of node11");
        assertEquals(10.0f, node11Layout.location().x, "x of node11");
        assertEquals(40.0f, node11Layout.location().y, "y of node11");
    }

    @Test
    @DisplayName("align_items_center_with_height_with_padding_border_with_wrap__content_box")
    void alignItemsCenterWithHeightWithPaddingBorderWithWrapContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.boxSizing = BoxSizing.CONTENT_BOX;
        node00Style.size = new Size<>(Dimension.length(10.0f), Dimension.length(10.0f));
        NodeId node00 = tree.newLeaf(node00Style);

        Style node01Style = new Style();
        node01Style.boxSizing = BoxSizing.CONTENT_BOX;
        node01Style.size = new Size<>(Dimension.length(10.0f), Dimension.length(20.0f));
        NodeId node01 = tree.newLeaf(node01Style);

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.flexWrap = FlexWrap.WRAP;
        node0Style.alignItems = AlignItems.CENTER;
        node0Style.alignContent = AlignContent.FLEX_START;
        node0Style.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node0 = tree.newWithChildren(node0Style, node00, node01);

        Style node10Style = new Style();
        node10Style.boxSizing = BoxSizing.CONTENT_BOX;
        node10Style.size = new Size<>(Dimension.length(10.0f), Dimension.length(10.0f));
        NodeId node10 = tree.newLeaf(node10Style);

        Style node11Style = new Style();
        node11Style.boxSizing = BoxSizing.CONTENT_BOX;
        node11Style.size = new Size<>(Dimension.length(10.0f), Dimension.length(20.0f));
        NodeId node11 = tree.newLeaf(node11Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.flexWrap = FlexWrap.WRAP;
        node1Style.alignItems = AlignItems.CENTER;
        node1Style.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node1 = tree.newWithChildren(node1Style, node10, node11);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(200.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(100.0f, node0Layout.size().width, "width of node0");
        assertEquals(100.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(10.0f, node00Layout.size().width, "width of node00");
        assertEquals(10.0f, node00Layout.size().height, "height of node00");
        assertEquals(0.0f, node00Layout.location().x, "x of node00");
        assertEquals(5.0f, node00Layout.location().y, "y of node00");
        Layout node01Layout = tree.getLayout(node01);
        assertEquals(10.0f, node01Layout.size().width, "width of node01");
        assertEquals(20.0f, node01Layout.size().height, "height of node01");
        assertEquals(10.0f, node01Layout.location().x, "x of node01");
        assertEquals(0.0f, node01Layout.location().y, "y of node01");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(100.0f, node1Layout.size().width, "width of node1");
        assertEquals(100.0f, node1Layout.size().height, "height of node1");
        assertEquals(100.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node10Layout = tree.getLayout(node10);
        assertEquals(10.0f, node10Layout.size().width, "width of node10");
        assertEquals(10.0f, node10Layout.size().height, "height of node10");
        assertEquals(0.0f, node10Layout.location().x, "x of node10");
        assertEquals(45.0f, node10Layout.location().y, "y of node10");
        Layout node11Layout = tree.getLayout(node11);
        assertEquals(10.0f, node11Layout.size().width, "width of node11");
        assertEquals(20.0f, node11Layout.size().height, "height of node11");
        assertEquals(10.0f, node11Layout.location().x, "x of node11");
        assertEquals(40.0f, node11Layout.location().y, "y of node11");
    }

    @Test
    @DisplayName("align_items_center_with_max_height_percentage_with_align_content_flex_start__border_box")
    void alignItemsCenterWithMaxHeightPercentageWithAlignContentFlexStartBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.size = new Size<>(Dimension.length(10.0f), Dimension.length(10.0f));
        NodeId node00 = tree.newLeaf(node00Style);

        Style node01Style = new Style();
        node01Style.size = new Size<>(Dimension.length(10.0f), Dimension.length(20.0f));
        NodeId node01 = tree.newLeaf(node01Style);

        Style node0Style = new Style();
        node0Style.alignItems = AlignItems.CENTER;
        node0Style.alignContent = AlignContent.FLEX_START;
        node0Style.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        node0Style.maxSize = new Size<>(Dimension.AUTO, Dimension.percent(0.5f));
        NodeId node0 = tree.newWithChildren(node0Style, node00, node01);

        Style nodeStyle = new Style();
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(100.0f, node0Layout.size().width, "width of node0");
        assertEquals(50.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(10.0f, node00Layout.size().width, "width of node00");
        assertEquals(10.0f, node00Layout.size().height, "height of node00");
        assertEquals(0.0f, node00Layout.location().x, "x of node00");
        assertEquals(20.0f, node00Layout.location().y, "y of node00");
        Layout node01Layout = tree.getLayout(node01);
        assertEquals(10.0f, node01Layout.size().width, "width of node01");
        assertEquals(20.0f, node01Layout.size().height, "height of node01");
        assertEquals(10.0f, node01Layout.location().x, "x of node01");
        assertEquals(15.0f, node01Layout.location().y, "y of node01");
    }

    @Test
    @DisplayName("align_items_center_with_max_height_percentage_with_align_content_flex_start__content_box")
    void alignItemsCenterWithMaxHeightPercentageWithAlignContentFlexStartContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.boxSizing = BoxSizing.CONTENT_BOX;
        node00Style.size = new Size<>(Dimension.length(10.0f), Dimension.length(10.0f));
        NodeId node00 = tree.newLeaf(node00Style);

        Style node01Style = new Style();
        node01Style.boxSizing = BoxSizing.CONTENT_BOX;
        node01Style.size = new Size<>(Dimension.length(10.0f), Dimension.length(20.0f));
        NodeId node01 = tree.newLeaf(node01Style);

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.alignItems = AlignItems.CENTER;
        node0Style.alignContent = AlignContent.FLEX_START;
        node0Style.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        node0Style.maxSize = new Size<>(Dimension.AUTO, Dimension.percent(0.5f));
        NodeId node0 = tree.newWithChildren(node0Style, node00, node01);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(100.0f, node0Layout.size().width, "width of node0");
        assertEquals(50.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(10.0f, node00Layout.size().width, "width of node00");
        assertEquals(10.0f, node00Layout.size().height, "height of node00");
        assertEquals(0.0f, node00Layout.location().x, "x of node00");
        assertEquals(20.0f, node00Layout.location().y, "y of node00");
        Layout node01Layout = tree.getLayout(node01);
        assertEquals(10.0f, node01Layout.size().width, "width of node01");
        assertEquals(20.0f, node01Layout.size().height, "height of node01");
        assertEquals(10.0f, node01Layout.location().x, "x of node01");
        assertEquals(15.0f, node01Layout.location().y, "y of node01");
    }

    @Test
    @DisplayName("align_items_center_with_max_height_with_align_content_flex_start__border_box")
    void alignItemsCenterWithMaxHeightWithAlignContentFlexStartBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.length(10.0f), Dimension.length(50.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.size = new Size<>(Dimension.length(10.0f), Dimension.length(150.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style nodeStyle = new Style();
        nodeStyle.alignItems = AlignItems.CENTER;
        nodeStyle.alignContent = AlignContent.FLEX_START;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.AUTO);
        nodeStyle.maxSize = new Size<>(Dimension.AUTO, Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(10.0f, node0Layout.size().width, "width of node0");
        assertEquals(50.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(25.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(10.0f, node1Layout.size().width, "width of node1");
        assertEquals(150.0f, node1Layout.size().height, "height of node1");
        assertEquals(10.0f, node1Layout.location().x, "x of node1");
        assertEquals(-25.0f, node1Layout.location().y, "y of node1");
    }

    @Test
    @DisplayName("align_items_center_with_max_height_with_align_content_flex_start__content_box")
    void alignItemsCenterWithMaxHeightWithAlignContentFlexStartContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.length(10.0f), Dimension.length(50.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.size = new Size<>(Dimension.length(10.0f), Dimension.length(150.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.alignItems = AlignItems.CENTER;
        nodeStyle.alignContent = AlignContent.FLEX_START;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.AUTO);
        nodeStyle.maxSize = new Size<>(Dimension.AUTO, Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(10.0f, node0Layout.size().width, "width of node0");
        assertEquals(50.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(25.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(10.0f, node1Layout.size().width, "width of node1");
        assertEquals(150.0f, node1Layout.size().height, "height of node1");
        assertEquals(10.0f, node1Layout.location().x, "x of node1");
        assertEquals(-25.0f, node1Layout.location().y, "y of node1");
    }

    @Test
    @DisplayName("align_items_center_with_max_height_with_padding_border__border_box")
    void alignItemsCenterWithMaxHeightWithPaddingBorderBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.size = new Size<>(Dimension.length(10.0f), Dimension.length(10.0f));
        NodeId node00 = tree.newLeaf(node00Style);

        Style node01Style = new Style();
        node01Style.size = new Size<>(Dimension.length(10.0f), Dimension.length(150.0f));
        NodeId node01 = tree.newLeaf(node01Style);

        Style node0Style = new Style();
        node0Style.alignItems = AlignItems.CENTER;
        node0Style.alignContent = AlignContent.FLEX_START;
        node0Style.size = new Size<>(Dimension.length(100.0f), Dimension.AUTO);
        node0Style.maxSize = new Size<>(Dimension.AUTO, Dimension.length(100.0f));
        node0Style.padding = new Rect<>(LengthPercentage.length(10.0f), LengthPercentage.length(10.0f), LengthPercentage.length(10.0f), LengthPercentage.length(10.0f));
        node0Style.border = new Rect<>(LengthPercentage.length(10.0f), LengthPercentage.length(10.0f), LengthPercentage.length(10.0f), LengthPercentage.length(10.0f));
        NodeId node0 = tree.newWithChildren(node0Style, node00, node01);

        Style node10Style = new Style();
        node10Style.size = new Size<>(Dimension.length(10.0f), Dimension.length(10.0f));
        NodeId node10 = tree.newLeaf(node10Style);

        Style node11Style = new Style();
        node11Style.size = new Size<>(Dimension.length(10.0f), Dimension.length(150.0f));
        NodeId node11 = tree.newLeaf(node11Style);

        Style node1Style = new Style();
        node1Style.flexWrap = FlexWrap.WRAP;
        node1Style.alignItems = AlignItems.CENTER;
        node1Style.alignContent = AlignContent.FLEX_START;
        node1Style.size = new Size<>(Dimension.length(100.0f), Dimension.AUTO);
        node1Style.maxSize = new Size<>(Dimension.AUTO, Dimension.length(100.0f));
        node1Style.padding = new Rect<>(LengthPercentage.length(10.0f), LengthPercentage.length(10.0f), LengthPercentage.length(10.0f), LengthPercentage.length(10.0f));
        node1Style.border = new Rect<>(LengthPercentage.length(10.0f), LengthPercentage.length(10.0f), LengthPercentage.length(10.0f), LengthPercentage.length(10.0f));
        NodeId node1 = tree.newWithChildren(node1Style, node10, node11);

        Style nodeStyle = new Style();
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(200.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(100.0f, node0Layout.size().width, "width of node0");
        assertEquals(100.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(10.0f, node00Layout.size().width, "width of node00");
        assertEquals(10.0f, node00Layout.size().height, "height of node00");
        assertEquals(20.0f, node00Layout.location().x, "x of node00");
        assertEquals(45.0f, node00Layout.location().y, "y of node00");
        Layout node01Layout = tree.getLayout(node01);
        assertEquals(10.0f, node01Layout.size().width, "width of node01");
        assertEquals(150.0f, node01Layout.size().height, "height of node01");
        assertEquals(30.0f, node01Layout.location().x, "x of node01");
        assertEquals(-25.0f, node01Layout.location().y, "y of node01");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(100.0f, node1Layout.size().width, "width of node1");
        assertEquals(100.0f, node1Layout.size().height, "height of node1");
        assertEquals(0.0f, node1Layout.location().x, "x of node1");
        assertEquals(100.0f, node1Layout.location().y, "y of node1");
        Layout node10Layout = tree.getLayout(node10);
        assertEquals(10.0f, node10Layout.size().width, "width of node10");
        assertEquals(10.0f, node10Layout.size().height, "height of node10");
        assertEquals(20.0f, node10Layout.location().x, "x of node10");
        assertEquals(90.0f, node10Layout.location().y, "y of node10");
        Layout node11Layout = tree.getLayout(node11);
        assertEquals(10.0f, node11Layout.size().width, "width of node11");
        assertEquals(150.0f, node11Layout.size().height, "height of node11");
        assertEquals(30.0f, node11Layout.location().x, "x of node11");
        assertEquals(20.0f, node11Layout.location().y, "y of node11");
    }

    @Test
    @DisplayName("align_items_center_with_max_height_with_padding_border__content_box")
    void alignItemsCenterWithMaxHeightWithPaddingBorderContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.boxSizing = BoxSizing.CONTENT_BOX;
        node00Style.size = new Size<>(Dimension.length(10.0f), Dimension.length(10.0f));
        NodeId node00 = tree.newLeaf(node00Style);

        Style node01Style = new Style();
        node01Style.boxSizing = BoxSizing.CONTENT_BOX;
        node01Style.size = new Size<>(Dimension.length(10.0f), Dimension.length(150.0f));
        NodeId node01 = tree.newLeaf(node01Style);

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.alignItems = AlignItems.CENTER;
        node0Style.alignContent = AlignContent.FLEX_START;
        node0Style.size = new Size<>(Dimension.length(100.0f), Dimension.AUTO);
        node0Style.maxSize = new Size<>(Dimension.AUTO, Dimension.length(100.0f));
        node0Style.padding = new Rect<>(LengthPercentage.length(10.0f), LengthPercentage.length(10.0f), LengthPercentage.length(10.0f), LengthPercentage.length(10.0f));
        node0Style.border = new Rect<>(LengthPercentage.length(10.0f), LengthPercentage.length(10.0f), LengthPercentage.length(10.0f), LengthPercentage.length(10.0f));
        NodeId node0 = tree.newWithChildren(node0Style, node00, node01);

        Style node10Style = new Style();
        node10Style.boxSizing = BoxSizing.CONTENT_BOX;
        node10Style.size = new Size<>(Dimension.length(10.0f), Dimension.length(10.0f));
        NodeId node10 = tree.newLeaf(node10Style);

        Style node11Style = new Style();
        node11Style.boxSizing = BoxSizing.CONTENT_BOX;
        node11Style.size = new Size<>(Dimension.length(10.0f), Dimension.length(150.0f));
        NodeId node11 = tree.newLeaf(node11Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.flexWrap = FlexWrap.WRAP;
        node1Style.alignItems = AlignItems.CENTER;
        node1Style.alignContent = AlignContent.FLEX_START;
        node1Style.size = new Size<>(Dimension.length(100.0f), Dimension.AUTO);
        node1Style.maxSize = new Size<>(Dimension.AUTO, Dimension.length(100.0f));
        node1Style.padding = new Rect<>(LengthPercentage.length(10.0f), LengthPercentage.length(10.0f), LengthPercentage.length(10.0f), LengthPercentage.length(10.0f));
        node1Style.border = new Rect<>(LengthPercentage.length(10.0f), LengthPercentage.length(10.0f), LengthPercentage.length(10.0f), LengthPercentage.length(10.0f));
        NodeId node1 = tree.newWithChildren(node1Style, node10, node11);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(140.0f, nodeLayout.size().width, "width of node");
        assertEquals(280.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(140.0f, node0Layout.size().width, "width of node0");
        assertEquals(140.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(10.0f, node00Layout.size().width, "width of node00");
        assertEquals(10.0f, node00Layout.size().height, "height of node00");
        assertEquals(20.0f, node00Layout.location().x, "x of node00");
        assertEquals(65.0f, node00Layout.location().y, "y of node00");
        Layout node01Layout = tree.getLayout(node01);
        assertEquals(10.0f, node01Layout.size().width, "width of node01");
        assertEquals(150.0f, node01Layout.size().height, "height of node01");
        assertEquals(30.0f, node01Layout.location().x, "x of node01");
        assertEquals(-5.0f, node01Layout.location().y, "y of node01");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(140.0f, node1Layout.size().width, "width of node1");
        assertEquals(140.0f, node1Layout.size().height, "height of node1");
        assertEquals(0.0f, node1Layout.location().x, "x of node1");
        assertEquals(140.0f, node1Layout.location().y, "y of node1");
        Layout node10Layout = tree.getLayout(node10);
        assertEquals(10.0f, node10Layout.size().width, "width of node10");
        assertEquals(10.0f, node10Layout.size().height, "height of node10");
        assertEquals(20.0f, node10Layout.location().x, "x of node10");
        assertEquals(90.0f, node10Layout.location().y, "y of node10");
        Layout node11Layout = tree.getLayout(node11);
        assertEquals(10.0f, node11Layout.size().width, "width of node11");
        assertEquals(150.0f, node11Layout.size().height, "height of node11");
        assertEquals(30.0f, node11Layout.location().x, "x of node11");
        assertEquals(20.0f, node11Layout.location().y, "y of node11");
    }

    @Test
    @DisplayName("align_items_center_with_min_height_percentage_with_align_content_flex_start__border_box")
    void alignItemsCenterWithMinHeightPercentageWithAlignContentFlexStartBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.size = new Size<>(Dimension.length(10.0f), Dimension.length(10.0f));
        NodeId node00 = tree.newLeaf(node00Style);

        Style node01Style = new Style();
        node01Style.size = new Size<>(Dimension.length(10.0f), Dimension.length(20.0f));
        NodeId node01 = tree.newLeaf(node01Style);

        Style node0Style = new Style();
        node0Style.alignItems = AlignItems.CENTER;
        node0Style.alignContent = AlignContent.FLEX_START;
        node0Style.size = new Size<>(Dimension.length(100.0f), Dimension.AUTO);
        node0Style.minSize = new Size<>(Dimension.AUTO, Dimension.percent(1.0f));
        NodeId node0 = tree.newWithChildren(node0Style, node00, node01);

        Style nodeStyle = new Style();
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(100.0f, node0Layout.size().width, "width of node0");
        assertEquals(100.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(10.0f, node00Layout.size().width, "width of node00");
        assertEquals(10.0f, node00Layout.size().height, "height of node00");
        assertEquals(0.0f, node00Layout.location().x, "x of node00");
        assertEquals(45.0f, node00Layout.location().y, "y of node00");
        Layout node01Layout = tree.getLayout(node01);
        assertEquals(10.0f, node01Layout.size().width, "width of node01");
        assertEquals(20.0f, node01Layout.size().height, "height of node01");
        assertEquals(10.0f, node01Layout.location().x, "x of node01");
        assertEquals(40.0f, node01Layout.location().y, "y of node01");
    }

    @Test
    @DisplayName("align_items_center_with_min_height_percentage_with_align_content_flex_start__content_box")
    void alignItemsCenterWithMinHeightPercentageWithAlignContentFlexStartContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.boxSizing = BoxSizing.CONTENT_BOX;
        node00Style.size = new Size<>(Dimension.length(10.0f), Dimension.length(10.0f));
        NodeId node00 = tree.newLeaf(node00Style);

        Style node01Style = new Style();
        node01Style.boxSizing = BoxSizing.CONTENT_BOX;
        node01Style.size = new Size<>(Dimension.length(10.0f), Dimension.length(20.0f));
        NodeId node01 = tree.newLeaf(node01Style);

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.alignItems = AlignItems.CENTER;
        node0Style.alignContent = AlignContent.FLEX_START;
        node0Style.size = new Size<>(Dimension.length(100.0f), Dimension.AUTO);
        node0Style.minSize = new Size<>(Dimension.AUTO, Dimension.percent(1.0f));
        NodeId node0 = tree.newWithChildren(node0Style, node00, node01);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(100.0f, node0Layout.size().width, "width of node0");
        assertEquals(100.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(10.0f, node00Layout.size().width, "width of node00");
        assertEquals(10.0f, node00Layout.size().height, "height of node00");
        assertEquals(0.0f, node00Layout.location().x, "x of node00");
        assertEquals(45.0f, node00Layout.location().y, "y of node00");
        Layout node01Layout = tree.getLayout(node01);
        assertEquals(10.0f, node01Layout.size().width, "width of node01");
        assertEquals(20.0f, node01Layout.size().height, "height of node01");
        assertEquals(10.0f, node01Layout.location().x, "x of node01");
        assertEquals(40.0f, node01Layout.location().y, "y of node01");
    }

    @Test
    @DisplayName("align_items_center_with_min_height_with_align_content_flex_start__border_box")
    void alignItemsCenterWithMinHeightWithAlignContentFlexStartBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.length(10.0f), Dimension.length(10.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.size = new Size<>(Dimension.length(10.0f), Dimension.length(20.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style nodeStyle = new Style();
        nodeStyle.alignItems = AlignItems.CENTER;
        nodeStyle.alignContent = AlignContent.FLEX_START;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.AUTO);
        nodeStyle.minSize = new Size<>(Dimension.AUTO, Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(10.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(45.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(10.0f, node1Layout.size().width, "width of node1");
        assertEquals(20.0f, node1Layout.size().height, "height of node1");
        assertEquals(10.0f, node1Layout.location().x, "x of node1");
        assertEquals(40.0f, node1Layout.location().y, "y of node1");
    }

    @Test
    @DisplayName("align_items_center_with_min_height_with_align_content_flex_start__content_box")
    void alignItemsCenterWithMinHeightWithAlignContentFlexStartContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.length(10.0f), Dimension.length(10.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.size = new Size<>(Dimension.length(10.0f), Dimension.length(20.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.alignItems = AlignItems.CENTER;
        nodeStyle.alignContent = AlignContent.FLEX_START;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.AUTO);
        nodeStyle.minSize = new Size<>(Dimension.AUTO, Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(10.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(45.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(10.0f, node1Layout.size().width, "width of node1");
        assertEquals(20.0f, node1Layout.size().height, "height of node1");
        assertEquals(10.0f, node1Layout.location().x, "x of node1");
        assertEquals(40.0f, node1Layout.location().y, "y of node1");
    }

    @Test
    @DisplayName("align_items_center_with_min_height_with_align_content_flex_start_with_wrap__border_box")
    void alignItemsCenterWithMinHeightWithAlignContentFlexStartWithWrapBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.size = new Size<>(Dimension.length(10.0f), Dimension.length(10.0f));
        NodeId node00 = tree.newLeaf(node00Style);

        Style node01Style = new Style();
        node01Style.size = new Size<>(Dimension.length(10.0f), Dimension.length(20.0f));
        NodeId node01 = tree.newLeaf(node01Style);

        Style node0Style = new Style();
        node0Style.flexWrap = FlexWrap.WRAP;
        node0Style.alignItems = AlignItems.CENTER;
        node0Style.alignContent = AlignContent.FLEX_START;
        node0Style.size = new Size<>(Dimension.length(100.0f), Dimension.AUTO);
        node0Style.minSize = new Size<>(Dimension.AUTO, Dimension.length(100.0f));
        NodeId node0 = tree.newWithChildren(node0Style, node00, node01);

        Style node10Style = new Style();
        node10Style.size = new Size<>(Dimension.length(10.0f), Dimension.length(10.0f));
        NodeId node10 = tree.newLeaf(node10Style);

        Style node11Style = new Style();
        node11Style.size = new Size<>(Dimension.length(10.0f), Dimension.length(20.0f));
        NodeId node11 = tree.newLeaf(node11Style);

        Style node1Style = new Style();
        node1Style.flexWrap = FlexWrap.WRAP;
        node1Style.alignItems = AlignItems.CENTER;
        node1Style.size = new Size<>(Dimension.length(100.0f), Dimension.AUTO);
        node1Style.minSize = new Size<>(Dimension.AUTO, Dimension.length(100.0f));
        NodeId node1 = tree.newWithChildren(node1Style, node10, node11);

        Style node20Style = new Style();
        node20Style.size = new Size<>(Dimension.length(10.0f), Dimension.length(10.0f));
        NodeId node20 = tree.newLeaf(node20Style);

        Style node21Style = new Style();
        node21Style.size = new Size<>(Dimension.length(10.0f), Dimension.length(20.0f));
        NodeId node21 = tree.newLeaf(node21Style);

        Style node2Style = new Style();
        node2Style.alignItems = AlignItems.CENTER;
        node2Style.size = new Size<>(Dimension.length(100.0f), Dimension.AUTO);
        node2Style.minSize = new Size<>(Dimension.AUTO, Dimension.length(100.0f));
        NodeId node2 = tree.newWithChildren(node2Style, node20, node21);

        Style node30Style = new Style();
        node30Style.size = new Size<>(Dimension.length(10.0f), Dimension.length(10.0f));
        NodeId node30 = tree.newLeaf(node30Style);

        Style node31Style = new Style();
        node31Style.size = new Size<>(Dimension.length(10.0f), Dimension.length(20.0f));
        NodeId node31 = tree.newLeaf(node31Style);

        Style node3Style = new Style();
        node3Style.alignItems = AlignItems.CENTER;
        node3Style.alignContent = AlignContent.FLEX_START;
        node3Style.size = new Size<>(Dimension.length(100.0f), Dimension.AUTO);
        node3Style.minSize = new Size<>(Dimension.AUTO, Dimension.length(100.0f));
        NodeId node3 = tree.newWithChildren(node3Style, node30, node31);

        Style nodeStyle = new Style();
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(400.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(100.0f, node0Layout.size().width, "width of node0");
        assertEquals(100.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(10.0f, node00Layout.size().width, "width of node00");
        assertEquals(10.0f, node00Layout.size().height, "height of node00");
        assertEquals(0.0f, node00Layout.location().x, "x of node00");
        assertEquals(5.0f, node00Layout.location().y, "y of node00");
        Layout node01Layout = tree.getLayout(node01);
        assertEquals(10.0f, node01Layout.size().width, "width of node01");
        assertEquals(20.0f, node01Layout.size().height, "height of node01");
        assertEquals(10.0f, node01Layout.location().x, "x of node01");
        assertEquals(0.0f, node01Layout.location().y, "y of node01");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(100.0f, node1Layout.size().width, "width of node1");
        assertEquals(100.0f, node1Layout.size().height, "height of node1");
        assertEquals(100.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node10Layout = tree.getLayout(node10);
        assertEquals(10.0f, node10Layout.size().width, "width of node10");
        assertEquals(10.0f, node10Layout.size().height, "height of node10");
        assertEquals(0.0f, node10Layout.location().x, "x of node10");
        assertEquals(45.0f, node10Layout.location().y, "y of node10");
        Layout node11Layout = tree.getLayout(node11);
        assertEquals(10.0f, node11Layout.size().width, "width of node11");
        assertEquals(20.0f, node11Layout.size().height, "height of node11");
        assertEquals(10.0f, node11Layout.location().x, "x of node11");
        assertEquals(40.0f, node11Layout.location().y, "y of node11");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(100.0f, node2Layout.size().width, "width of node2");
        assertEquals(100.0f, node2Layout.size().height, "height of node2");
        assertEquals(200.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
        Layout node20Layout = tree.getLayout(node20);
        assertEquals(10.0f, node20Layout.size().width, "width of node20");
        assertEquals(10.0f, node20Layout.size().height, "height of node20");
        assertEquals(0.0f, node20Layout.location().x, "x of node20");
        assertEquals(45.0f, node20Layout.location().y, "y of node20");
        Layout node21Layout = tree.getLayout(node21);
        assertEquals(10.0f, node21Layout.size().width, "width of node21");
        assertEquals(20.0f, node21Layout.size().height, "height of node21");
        assertEquals(10.0f, node21Layout.location().x, "x of node21");
        assertEquals(40.0f, node21Layout.location().y, "y of node21");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(100.0f, node3Layout.size().width, "width of node3");
        assertEquals(100.0f, node3Layout.size().height, "height of node3");
        assertEquals(300.0f, node3Layout.location().x, "x of node3");
        assertEquals(0.0f, node3Layout.location().y, "y of node3");
        Layout node30Layout = tree.getLayout(node30);
        assertEquals(10.0f, node30Layout.size().width, "width of node30");
        assertEquals(10.0f, node30Layout.size().height, "height of node30");
        assertEquals(0.0f, node30Layout.location().x, "x of node30");
        assertEquals(45.0f, node30Layout.location().y, "y of node30");
        Layout node31Layout = tree.getLayout(node31);
        assertEquals(10.0f, node31Layout.size().width, "width of node31");
        assertEquals(20.0f, node31Layout.size().height, "height of node31");
        assertEquals(10.0f, node31Layout.location().x, "x of node31");
        assertEquals(40.0f, node31Layout.location().y, "y of node31");
    }

    @Test
    @DisplayName("align_items_center_with_min_height_with_align_content_flex_start_with_wrap__content_box")
    void alignItemsCenterWithMinHeightWithAlignContentFlexStartWithWrapContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.boxSizing = BoxSizing.CONTENT_BOX;
        node00Style.size = new Size<>(Dimension.length(10.0f), Dimension.length(10.0f));
        NodeId node00 = tree.newLeaf(node00Style);

        Style node01Style = new Style();
        node01Style.boxSizing = BoxSizing.CONTENT_BOX;
        node01Style.size = new Size<>(Dimension.length(10.0f), Dimension.length(20.0f));
        NodeId node01 = tree.newLeaf(node01Style);

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.flexWrap = FlexWrap.WRAP;
        node0Style.alignItems = AlignItems.CENTER;
        node0Style.alignContent = AlignContent.FLEX_START;
        node0Style.size = new Size<>(Dimension.length(100.0f), Dimension.AUTO);
        node0Style.minSize = new Size<>(Dimension.AUTO, Dimension.length(100.0f));
        NodeId node0 = tree.newWithChildren(node0Style, node00, node01);

        Style node10Style = new Style();
        node10Style.boxSizing = BoxSizing.CONTENT_BOX;
        node10Style.size = new Size<>(Dimension.length(10.0f), Dimension.length(10.0f));
        NodeId node10 = tree.newLeaf(node10Style);

        Style node11Style = new Style();
        node11Style.boxSizing = BoxSizing.CONTENT_BOX;
        node11Style.size = new Size<>(Dimension.length(10.0f), Dimension.length(20.0f));
        NodeId node11 = tree.newLeaf(node11Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.flexWrap = FlexWrap.WRAP;
        node1Style.alignItems = AlignItems.CENTER;
        node1Style.size = new Size<>(Dimension.length(100.0f), Dimension.AUTO);
        node1Style.minSize = new Size<>(Dimension.AUTO, Dimension.length(100.0f));
        NodeId node1 = tree.newWithChildren(node1Style, node10, node11);

        Style node20Style = new Style();
        node20Style.boxSizing = BoxSizing.CONTENT_BOX;
        node20Style.size = new Size<>(Dimension.length(10.0f), Dimension.length(10.0f));
        NodeId node20 = tree.newLeaf(node20Style);

        Style node21Style = new Style();
        node21Style.boxSizing = BoxSizing.CONTENT_BOX;
        node21Style.size = new Size<>(Dimension.length(10.0f), Dimension.length(20.0f));
        NodeId node21 = tree.newLeaf(node21Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        node2Style.alignItems = AlignItems.CENTER;
        node2Style.size = new Size<>(Dimension.length(100.0f), Dimension.AUTO);
        node2Style.minSize = new Size<>(Dimension.AUTO, Dimension.length(100.0f));
        NodeId node2 = tree.newWithChildren(node2Style, node20, node21);

        Style node30Style = new Style();
        node30Style.boxSizing = BoxSizing.CONTENT_BOX;
        node30Style.size = new Size<>(Dimension.length(10.0f), Dimension.length(10.0f));
        NodeId node30 = tree.newLeaf(node30Style);

        Style node31Style = new Style();
        node31Style.boxSizing = BoxSizing.CONTENT_BOX;
        node31Style.size = new Size<>(Dimension.length(10.0f), Dimension.length(20.0f));
        NodeId node31 = tree.newLeaf(node31Style);

        Style node3Style = new Style();
        node3Style.boxSizing = BoxSizing.CONTENT_BOX;
        node3Style.alignItems = AlignItems.CENTER;
        node3Style.alignContent = AlignContent.FLEX_START;
        node3Style.size = new Size<>(Dimension.length(100.0f), Dimension.AUTO);
        node3Style.minSize = new Size<>(Dimension.AUTO, Dimension.length(100.0f));
        NodeId node3 = tree.newWithChildren(node3Style, node30, node31);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(400.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(100.0f, node0Layout.size().width, "width of node0");
        assertEquals(100.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(10.0f, node00Layout.size().width, "width of node00");
        assertEquals(10.0f, node00Layout.size().height, "height of node00");
        assertEquals(0.0f, node00Layout.location().x, "x of node00");
        assertEquals(5.0f, node00Layout.location().y, "y of node00");
        Layout node01Layout = tree.getLayout(node01);
        assertEquals(10.0f, node01Layout.size().width, "width of node01");
        assertEquals(20.0f, node01Layout.size().height, "height of node01");
        assertEquals(10.0f, node01Layout.location().x, "x of node01");
        assertEquals(0.0f, node01Layout.location().y, "y of node01");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(100.0f, node1Layout.size().width, "width of node1");
        assertEquals(100.0f, node1Layout.size().height, "height of node1");
        assertEquals(100.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node10Layout = tree.getLayout(node10);
        assertEquals(10.0f, node10Layout.size().width, "width of node10");
        assertEquals(10.0f, node10Layout.size().height, "height of node10");
        assertEquals(0.0f, node10Layout.location().x, "x of node10");
        assertEquals(45.0f, node10Layout.location().y, "y of node10");
        Layout node11Layout = tree.getLayout(node11);
        assertEquals(10.0f, node11Layout.size().width, "width of node11");
        assertEquals(20.0f, node11Layout.size().height, "height of node11");
        assertEquals(10.0f, node11Layout.location().x, "x of node11");
        assertEquals(40.0f, node11Layout.location().y, "y of node11");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(100.0f, node2Layout.size().width, "width of node2");
        assertEquals(100.0f, node2Layout.size().height, "height of node2");
        assertEquals(200.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
        Layout node20Layout = tree.getLayout(node20);
        assertEquals(10.0f, node20Layout.size().width, "width of node20");
        assertEquals(10.0f, node20Layout.size().height, "height of node20");
        assertEquals(0.0f, node20Layout.location().x, "x of node20");
        assertEquals(45.0f, node20Layout.location().y, "y of node20");
        Layout node21Layout = tree.getLayout(node21);
        assertEquals(10.0f, node21Layout.size().width, "width of node21");
        assertEquals(20.0f, node21Layout.size().height, "height of node21");
        assertEquals(10.0f, node21Layout.location().x, "x of node21");
        assertEquals(40.0f, node21Layout.location().y, "y of node21");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(100.0f, node3Layout.size().width, "width of node3");
        assertEquals(100.0f, node3Layout.size().height, "height of node3");
        assertEquals(300.0f, node3Layout.location().x, "x of node3");
        assertEquals(0.0f, node3Layout.location().y, "y of node3");
        Layout node30Layout = tree.getLayout(node30);
        assertEquals(10.0f, node30Layout.size().width, "width of node30");
        assertEquals(10.0f, node30Layout.size().height, "height of node30");
        assertEquals(0.0f, node30Layout.location().x, "x of node30");
        assertEquals(45.0f, node30Layout.location().y, "y of node30");
        Layout node31Layout = tree.getLayout(node31);
        assertEquals(10.0f, node31Layout.size().width, "width of node31");
        assertEquals(20.0f, node31Layout.size().height, "height of node31");
        assertEquals(10.0f, node31Layout.location().x, "x of node31");
        assertEquals(40.0f, node31Layout.location().y, "y of node31");
    }

    @Test
    @DisplayName("align_items_center_with_min_height_with_padding_border__border_box")
    void alignItemsCenterWithMinHeightWithPaddingBorderBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.size = new Size<>(Dimension.length(10.0f), Dimension.length(10.0f));
        NodeId node00 = tree.newLeaf(node00Style);

        Style node01Style = new Style();
        node01Style.size = new Size<>(Dimension.length(10.0f), Dimension.length(20.0f));
        NodeId node01 = tree.newLeaf(node01Style);

        Style node0Style = new Style();
        node0Style.alignItems = AlignItems.CENTER;
        node0Style.alignContent = AlignContent.FLEX_START;
        node0Style.size = new Size<>(Dimension.length(100.0f), Dimension.AUTO);
        node0Style.minSize = new Size<>(Dimension.AUTO, Dimension.length(100.0f));
        node0Style.padding = new Rect<>(LengthPercentage.length(8.0f), LengthPercentage.length(8.0f), LengthPercentage.length(8.0f), LengthPercentage.length(8.0f));
        node0Style.border = new Rect<>(LengthPercentage.length(7.0f), LengthPercentage.length(7.0f), LengthPercentage.length(7.0f), LengthPercentage.length(7.0f));
        NodeId node0 = tree.newWithChildren(node0Style, node00, node01);

        Style node10Style = new Style();
        node10Style.size = new Size<>(Dimension.length(10.0f), Dimension.length(10.0f));
        NodeId node10 = tree.newLeaf(node10Style);

        Style node11Style = new Style();
        node11Style.size = new Size<>(Dimension.length(10.0f), Dimension.length(20.0f));
        NodeId node11 = tree.newLeaf(node11Style);

        Style node1Style = new Style();
        node1Style.flexWrap = FlexWrap.WRAP;
        node1Style.alignItems = AlignItems.CENTER;
        node1Style.alignContent = AlignContent.FLEX_START;
        node1Style.size = new Size<>(Dimension.length(100.0f), Dimension.AUTO);
        node1Style.minSize = new Size<>(Dimension.AUTO, Dimension.length(100.0f));
        node1Style.padding = new Rect<>(LengthPercentage.length(8.0f), LengthPercentage.length(8.0f), LengthPercentage.length(8.0f), LengthPercentage.length(8.0f));
        node1Style.border = new Rect<>(LengthPercentage.length(7.0f), LengthPercentage.length(7.0f), LengthPercentage.length(7.0f), LengthPercentage.length(7.0f));
        NodeId node1 = tree.newWithChildren(node1Style, node10, node11);

        Style nodeStyle = new Style();
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(200.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(100.0f, node0Layout.size().width, "width of node0");
        assertEquals(100.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(10.0f, node00Layout.size().width, "width of node00");
        assertEquals(10.0f, node00Layout.size().height, "height of node00");
        assertEquals(15.0f, node00Layout.location().x, "x of node00");
        assertEquals(45.0f, node00Layout.location().y, "y of node00");
        Layout node01Layout = tree.getLayout(node01);
        assertEquals(10.0f, node01Layout.size().width, "width of node01");
        assertEquals(20.0f, node01Layout.size().height, "height of node01");
        assertEquals(25.0f, node01Layout.location().x, "x of node01");
        assertEquals(40.0f, node01Layout.location().y, "y of node01");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(100.0f, node1Layout.size().width, "width of node1");
        assertEquals(100.0f, node1Layout.size().height, "height of node1");
        assertEquals(100.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node10Layout = tree.getLayout(node10);
        assertEquals(10.0f, node10Layout.size().width, "width of node10");
        assertEquals(10.0f, node10Layout.size().height, "height of node10");
        assertEquals(15.0f, node10Layout.location().x, "x of node10");
        assertEquals(20.0f, node10Layout.location().y, "y of node10");
        Layout node11Layout = tree.getLayout(node11);
        assertEquals(10.0f, node11Layout.size().width, "width of node11");
        assertEquals(20.0f, node11Layout.size().height, "height of node11");
        assertEquals(25.0f, node11Layout.location().x, "x of node11");
        assertEquals(15.0f, node11Layout.location().y, "y of node11");
    }

    @Test
    @DisplayName("align_items_center_with_min_height_with_padding_border__content_box")
    void alignItemsCenterWithMinHeightWithPaddingBorderContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.boxSizing = BoxSizing.CONTENT_BOX;
        node00Style.size = new Size<>(Dimension.length(10.0f), Dimension.length(10.0f));
        NodeId node00 = tree.newLeaf(node00Style);

        Style node01Style = new Style();
        node01Style.boxSizing = BoxSizing.CONTENT_BOX;
        node01Style.size = new Size<>(Dimension.length(10.0f), Dimension.length(20.0f));
        NodeId node01 = tree.newLeaf(node01Style);

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.alignItems = AlignItems.CENTER;
        node0Style.alignContent = AlignContent.FLEX_START;
        node0Style.size = new Size<>(Dimension.length(100.0f), Dimension.AUTO);
        node0Style.minSize = new Size<>(Dimension.AUTO, Dimension.length(100.0f));
        node0Style.padding = new Rect<>(LengthPercentage.length(8.0f), LengthPercentage.length(8.0f), LengthPercentage.length(8.0f), LengthPercentage.length(8.0f));
        node0Style.border = new Rect<>(LengthPercentage.length(7.0f), LengthPercentage.length(7.0f), LengthPercentage.length(7.0f), LengthPercentage.length(7.0f));
        NodeId node0 = tree.newWithChildren(node0Style, node00, node01);

        Style node10Style = new Style();
        node10Style.boxSizing = BoxSizing.CONTENT_BOX;
        node10Style.size = new Size<>(Dimension.length(10.0f), Dimension.length(10.0f));
        NodeId node10 = tree.newLeaf(node10Style);

        Style node11Style = new Style();
        node11Style.boxSizing = BoxSizing.CONTENT_BOX;
        node11Style.size = new Size<>(Dimension.length(10.0f), Dimension.length(20.0f));
        NodeId node11 = tree.newLeaf(node11Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.flexWrap = FlexWrap.WRAP;
        node1Style.alignItems = AlignItems.CENTER;
        node1Style.alignContent = AlignContent.FLEX_START;
        node1Style.size = new Size<>(Dimension.length(100.0f), Dimension.AUTO);
        node1Style.minSize = new Size<>(Dimension.AUTO, Dimension.length(100.0f));
        node1Style.padding = new Rect<>(LengthPercentage.length(8.0f), LengthPercentage.length(8.0f), LengthPercentage.length(8.0f), LengthPercentage.length(8.0f));
        node1Style.border = new Rect<>(LengthPercentage.length(7.0f), LengthPercentage.length(7.0f), LengthPercentage.length(7.0f), LengthPercentage.length(7.0f));
        NodeId node1 = tree.newWithChildren(node1Style, node10, node11);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(260.0f, nodeLayout.size().width, "width of node");
        assertEquals(130.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(130.0f, node0Layout.size().width, "width of node0");
        assertEquals(130.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(10.0f, node00Layout.size().width, "width of node00");
        assertEquals(10.0f, node00Layout.size().height, "height of node00");
        assertEquals(15.0f, node00Layout.location().x, "x of node00");
        assertEquals(60.0f, node00Layout.location().y, "y of node00");
        Layout node01Layout = tree.getLayout(node01);
        assertEquals(10.0f, node01Layout.size().width, "width of node01");
        assertEquals(20.0f, node01Layout.size().height, "height of node01");
        assertEquals(25.0f, node01Layout.location().x, "x of node01");
        assertEquals(55.0f, node01Layout.location().y, "y of node01");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(130.0f, node1Layout.size().width, "width of node1");
        assertEquals(130.0f, node1Layout.size().height, "height of node1");
        assertEquals(130.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node10Layout = tree.getLayout(node10);
        assertEquals(10.0f, node10Layout.size().width, "width of node10");
        assertEquals(10.0f, node10Layout.size().height, "height of node10");
        assertEquals(15.0f, node10Layout.location().x, "x of node10");
        assertEquals(20.0f, node10Layout.location().y, "y of node10");
        Layout node11Layout = tree.getLayout(node11);
        assertEquals(10.0f, node11Layout.size().width, "width of node11");
        assertEquals(20.0f, node11Layout.size().height, "height of node11");
        assertEquals(25.0f, node11Layout.location().x, "x of node11");
        assertEquals(15.0f, node11Layout.location().y, "y of node11");
    }

    @Test
    @DisplayName("align_items_flex_end__border_box")
    void alignItemsFlexEndBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.length(10.0f), Dimension.length(10.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.alignItems = AlignItems.FLEX_END;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(10.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(90.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("align_items_flex_end__content_box")
    void alignItemsFlexEndContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.length(10.0f), Dimension.length(10.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.alignItems = AlignItems.FLEX_END;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(10.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(90.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("align_items_flex_end_child_with_margin_bigger_than_parent__border_box")
    void alignItemsFlexEndChildWithMarginBiggerThanParentBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        node00Style.margin = new Rect<>(LengthPercentageAuto.length(10.0f), LengthPercentageAuto.length(10.0f), LengthPercentageAuto.ZERO, LengthPercentageAuto.ZERO);
        NodeId node00 = tree.newLeaf(node00Style);

        Style node0Style = new Style();
        node0Style.alignItems = AlignItems.FLEX_END;
        NodeId node0 = tree.newWithChildren(node0Style, node00);

        Style nodeStyle = new Style();
        nodeStyle.alignItems = AlignItems.CENTER;
        nodeStyle.justifyContent = AlignContent.CENTER;
        nodeStyle.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(50.0f, nodeLayout.size().width, "width of node");
        assertEquals(50.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(70.0f, node0Layout.size().width, "width of node0");
        assertEquals(50.0f, node0Layout.size().height, "height of node0");
        assertEquals(-10.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(50.0f, node00Layout.size().width, "width of node00");
        assertEquals(50.0f, node00Layout.size().height, "height of node00");
        assertEquals(10.0f, node00Layout.location().x, "x of node00");
        assertEquals(0.0f, node00Layout.location().y, "y of node00");
    }

    @Test
    @DisplayName("align_items_flex_end_child_with_margin_bigger_than_parent__content_box")
    void alignItemsFlexEndChildWithMarginBiggerThanParentContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.boxSizing = BoxSizing.CONTENT_BOX;
        node00Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        node00Style.margin = new Rect<>(LengthPercentageAuto.length(10.0f), LengthPercentageAuto.length(10.0f), LengthPercentageAuto.ZERO, LengthPercentageAuto.ZERO);
        NodeId node00 = tree.newLeaf(node00Style);

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.alignItems = AlignItems.FLEX_END;
        NodeId node0 = tree.newWithChildren(node0Style, node00);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.alignItems = AlignItems.CENTER;
        nodeStyle.justifyContent = AlignContent.CENTER;
        nodeStyle.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(50.0f, nodeLayout.size().width, "width of node");
        assertEquals(50.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(70.0f, node0Layout.size().width, "width of node0");
        assertEquals(50.0f, node0Layout.size().height, "height of node0");
        assertEquals(-10.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(50.0f, node00Layout.size().width, "width of node00");
        assertEquals(50.0f, node00Layout.size().height, "height of node00");
        assertEquals(10.0f, node00Layout.location().x, "x of node00");
        assertEquals(0.0f, node00Layout.location().y, "y of node00");
    }

    @Test
    @DisplayName("align_items_flex_end_child_without_margin_bigger_than_parent__border_box")
    void alignItemsFlexEndChildWithoutMarginBiggerThanParentBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.size = new Size<>(Dimension.length(70.0f), Dimension.length(70.0f));
        NodeId node00 = tree.newLeaf(node00Style);

        Style node0Style = new Style();
        node0Style.alignItems = AlignItems.FLEX_END;
        NodeId node0 = tree.newWithChildren(node0Style, node00);

        Style nodeStyle = new Style();
        nodeStyle.alignItems = AlignItems.CENTER;
        nodeStyle.justifyContent = AlignContent.CENTER;
        nodeStyle.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(50.0f, nodeLayout.size().width, "width of node");
        assertEquals(50.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(70.0f, node0Layout.size().width, "width of node0");
        assertEquals(70.0f, node0Layout.size().height, "height of node0");
        assertEquals(-10.0f, node0Layout.location().x, "x of node0");
        assertEquals(-10.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(70.0f, node00Layout.size().width, "width of node00");
        assertEquals(70.0f, node00Layout.size().height, "height of node00");
        assertEquals(0.0f, node00Layout.location().x, "x of node00");
        assertEquals(0.0f, node00Layout.location().y, "y of node00");
    }

    @Test
    @DisplayName("align_items_flex_end_child_without_margin_bigger_than_parent__content_box")
    void alignItemsFlexEndChildWithoutMarginBiggerThanParentContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.boxSizing = BoxSizing.CONTENT_BOX;
        node00Style.size = new Size<>(Dimension.length(70.0f), Dimension.length(70.0f));
        NodeId node00 = tree.newLeaf(node00Style);

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.alignItems = AlignItems.FLEX_END;
        NodeId node0 = tree.newWithChildren(node0Style, node00);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.alignItems = AlignItems.CENTER;
        nodeStyle.justifyContent = AlignContent.CENTER;
        nodeStyle.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(50.0f, nodeLayout.size().width, "width of node");
        assertEquals(50.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(70.0f, node0Layout.size().width, "width of node0");
        assertEquals(70.0f, node0Layout.size().height, "height of node0");
        assertEquals(-10.0f, node0Layout.location().x, "x of node0");
        assertEquals(-10.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(70.0f, node00Layout.size().width, "width of node00");
        assertEquals(70.0f, node00Layout.size().height, "height of node00");
        assertEquals(0.0f, node00Layout.location().x, "x of node00");
        assertEquals(0.0f, node00Layout.location().y, "y of node00");
    }

    @Test
    @DisplayName("align_items_flex_start__border_box")
    void alignItemsFlexStartBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.length(10.0f), Dimension.length(10.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.alignItems = AlignItems.FLEX_START;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(10.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("align_items_flex_start__content_box")
    void alignItemsFlexStartContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.length(10.0f), Dimension.length(10.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.alignItems = AlignItems.FLEX_START;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(10.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("align_items_min_max__border_box")
    void alignItemsMinMaxBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.length(60.0f), Dimension.length(60.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.alignItems = AlignItems.CENTER;
        nodeStyle.size = new Size<>(Dimension.AUTO, Dimension.length(100.0f));
        nodeStyle.minSize = new Size<>(Dimension.length(100.0f), Dimension.AUTO);
        nodeStyle.maxSize = new Size<>(Dimension.length(200.0f), Dimension.AUTO);
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(60.0f, node0Layout.size().width, "width of node0");
        assertEquals(60.0f, node0Layout.size().height, "height of node0");
        assertEquals(20.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("align_items_min_max__content_box")
    void alignItemsMinMaxContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.length(60.0f), Dimension.length(60.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.alignItems = AlignItems.CENTER;
        nodeStyle.size = new Size<>(Dimension.AUTO, Dimension.length(100.0f));
        nodeStyle.minSize = new Size<>(Dimension.length(100.0f), Dimension.AUTO);
        nodeStyle.maxSize = new Size<>(Dimension.length(200.0f), Dimension.AUTO);
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(60.0f, node0Layout.size().width, "width of node0");
        assertEquals(60.0f, node0Layout.size().height, "height of node0");
        assertEquals(20.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("align_items_stretch__border_box")
    void alignItemsStretchBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.length(10.0f), Dimension.AUTO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(10.0f, node0Layout.size().width, "width of node0");
        assertEquals(100.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("align_items_stretch__content_box")
    void alignItemsStretchContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.length(10.0f), Dimension.AUTO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(10.0f, node0Layout.size().width, "width of node0");
        assertEquals(100.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("align_items_stretch_min_cross__border_box")
    void alignItemsStretchMinCrossBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.flexShrink = 0.0f;
        node0Style.size = new Size<>(Dimension.AUTO, Dimension.length(36.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.minSize = new Size<>(Dimension.length(400.0f), Dimension.length(50.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(400.0f, nodeLayout.size().width, "width of node");
        assertEquals(50.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(400.0f, node0Layout.size().width, "width of node0");
        assertEquals(36.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("align_items_stretch_min_cross__content_box")
    void alignItemsStretchMinCrossContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.flexShrink = 0.0f;
        node0Style.size = new Size<>(Dimension.AUTO, Dimension.length(36.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.minSize = new Size<>(Dimension.length(400.0f), Dimension.length(50.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(400.0f, nodeLayout.size().width, "width of node");
        assertEquals(50.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(400.0f, node0Layout.size().width, "width of node0");
        assertEquals(36.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("align_self_baseline__border_box")
    void alignSelfBaselineBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.alignSelf = AlignItems.BASELINE;
        node0Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node10Style = new Style();
        node10Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(10.0f));
        NodeId node10 = tree.newLeaf(node10Style);

        Style node1Style = new Style();
        node1Style.alignSelf = AlignItems.BASELINE;
        node1Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(20.0f));
        NodeId node1 = tree.newWithChildren(node1Style, node10);

        Style nodeStyle = new Style();
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(50.0f, node0Layout.size().width, "width of node0");
        assertEquals(50.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(50.0f, node1Layout.size().width, "width of node1");
        assertEquals(20.0f, node1Layout.size().height, "height of node1");
        assertEquals(50.0f, node1Layout.location().x, "x of node1");
        assertEquals(40.0f, node1Layout.location().y, "y of node1");
        Layout node10Layout = tree.getLayout(node10);
        assertEquals(50.0f, node10Layout.size().width, "width of node10");
        assertEquals(10.0f, node10Layout.size().height, "height of node10");
        assertEquals(0.0f, node10Layout.location().x, "x of node10");
        assertEquals(0.0f, node10Layout.location().y, "y of node10");
    }

    @Test
    @DisplayName("align_self_baseline__content_box")
    void alignSelfBaselineContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.alignSelf = AlignItems.BASELINE;
        node0Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node10Style = new Style();
        node10Style.boxSizing = BoxSizing.CONTENT_BOX;
        node10Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(10.0f));
        NodeId node10 = tree.newLeaf(node10Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.alignSelf = AlignItems.BASELINE;
        node1Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(20.0f));
        NodeId node1 = tree.newWithChildren(node1Style, node10);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(50.0f, node0Layout.size().width, "width of node0");
        assertEquals(50.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(50.0f, node1Layout.size().width, "width of node1");
        assertEquals(20.0f, node1Layout.size().height, "height of node1");
        assertEquals(50.0f, node1Layout.location().x, "x of node1");
        assertEquals(40.0f, node1Layout.location().y, "y of node1");
        Layout node10Layout = tree.getLayout(node10);
        assertEquals(50.0f, node10Layout.size().width, "width of node10");
        assertEquals(10.0f, node10Layout.size().height, "height of node10");
        assertEquals(0.0f, node10Layout.location().x, "x of node10");
        assertEquals(0.0f, node10Layout.location().y, "y of node10");
    }

    @Test
    @DisplayName("align_self_center__border_box")
    void alignSelfCenterBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.alignSelf = AlignItems.CENTER;
        node0Style.size = new Size<>(Dimension.length(10.0f), Dimension.length(10.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(10.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(45.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("align_self_center__content_box")
    void alignSelfCenterContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.alignSelf = AlignItems.CENTER;
        node0Style.size = new Size<>(Dimension.length(10.0f), Dimension.length(10.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(10.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(45.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("align_self_center_undefined_max_height__border_box")
    void alignSelfCenterUndefinedMaxHeightBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.length(240.0f), Dimension.length(44.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.alignSelf = AlignItems.CENTER;
        node1Style.size = new Size<>(Dimension.length(40.0f), Dimension.length(56.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style nodeStyle = new Style();
        nodeStyle.size = new Size<>(Dimension.length(280.0f), Dimension.AUTO);
        nodeStyle.minSize = new Size<>(Dimension.AUTO, Dimension.length(52.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(280.0f, nodeLayout.size().width, "width of node");
        assertEquals(56.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(240.0f, node0Layout.size().width, "width of node0");
        assertEquals(44.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(40.0f, node1Layout.size().width, "width of node1");
        assertEquals(56.0f, node1Layout.size().height, "height of node1");
        assertEquals(240.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
    }

    @Test
    @DisplayName("align_self_center_undefined_max_height__content_box")
    void alignSelfCenterUndefinedMaxHeightContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.length(240.0f), Dimension.length(44.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.alignSelf = AlignItems.CENTER;
        node1Style.size = new Size<>(Dimension.length(40.0f), Dimension.length(56.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.size = new Size<>(Dimension.length(280.0f), Dimension.AUTO);
        nodeStyle.minSize = new Size<>(Dimension.AUTO, Dimension.length(52.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(280.0f, nodeLayout.size().width, "width of node");
        assertEquals(56.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(240.0f, node0Layout.size().width, "width of node0");
        assertEquals(44.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(40.0f, node1Layout.size().width, "width of node1");
        assertEquals(56.0f, node1Layout.size().height, "height of node1");
        assertEquals(240.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
    }

    @Test
    @DisplayName("align_self_flex_end__border_box")
    void alignSelfFlexEndBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.alignSelf = AlignItems.FLEX_END;
        node0Style.size = new Size<>(Dimension.length(10.0f), Dimension.length(10.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(10.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(90.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("align_self_flex_end__content_box")
    void alignSelfFlexEndContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.alignSelf = AlignItems.FLEX_END;
        node0Style.size = new Size<>(Dimension.length(10.0f), Dimension.length(10.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(10.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(90.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("align_self_flex_end_override_flex_start__border_box")
    void alignSelfFlexEndOverrideFlexStartBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.alignSelf = AlignItems.FLEX_END;
        node0Style.size = new Size<>(Dimension.length(10.0f), Dimension.length(10.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.alignItems = AlignItems.FLEX_START;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(10.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(90.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("align_self_flex_end_override_flex_start__content_box")
    void alignSelfFlexEndOverrideFlexStartContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.alignSelf = AlignItems.FLEX_END;
        node0Style.size = new Size<>(Dimension.length(10.0f), Dimension.length(10.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.alignItems = AlignItems.FLEX_START;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(10.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(90.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("align_self_flex_start__border_box")
    void alignSelfFlexStartBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.alignSelf = AlignItems.FLEX_START;
        node0Style.size = new Size<>(Dimension.length(10.0f), Dimension.length(10.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(10.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("align_self_flex_start__content_box")
    void alignSelfFlexStartContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.alignSelf = AlignItems.FLEX_START;
        node0Style.size = new Size<>(Dimension.length(10.0f), Dimension.length(10.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(10.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("align_stretch_should_size_based_on_parent__border_box")
    void alignStretchShouldSizeBasedOnParentBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node000Style = new Style();
        node000Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        NodeId node000 = tree.newLeaf(node000Style);

        Style node00Style = new Style();
        node00Style.flexGrow = 1.0f;
        node00Style.flexShrink = 1.0f;
        NodeId node00 = tree.newWithChildren(node00Style, node000);

        Style node0Style = new Style();
        node0Style.justifyContent = AlignContent.CENTER;
        node0Style.flexGrow = 0.0f;
        node0Style.flexShrink = 1.0f;
        NodeId node0 = tree.newWithChildren(node0Style, node00);

        Style nodeStyle = new Style();
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(20.0f, node0Layout.size().width, "width of node0");
        assertEquals(100.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(20.0f, node00Layout.size().width, "width of node00");
        assertEquals(100.0f, node00Layout.size().height, "height of node00");
        assertEquals(0.0f, node00Layout.location().x, "x of node00");
        assertEquals(0.0f, node00Layout.location().y, "y of node00");
        Layout node000Layout = tree.getLayout(node000);
        assertEquals(20.0f, node000Layout.size().width, "width of node000");
        assertEquals(20.0f, node000Layout.size().height, "height of node000");
        assertEquals(0.0f, node000Layout.location().x, "x of node000");
        assertEquals(0.0f, node000Layout.location().y, "y of node000");
    }

    @Test
    @DisplayName("align_stretch_should_size_based_on_parent__content_box")
    void alignStretchShouldSizeBasedOnParentContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node000Style = new Style();
        node000Style.boxSizing = BoxSizing.CONTENT_BOX;
        node000Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        NodeId node000 = tree.newLeaf(node000Style);

        Style node00Style = new Style();
        node00Style.boxSizing = BoxSizing.CONTENT_BOX;
        node00Style.flexGrow = 1.0f;
        node00Style.flexShrink = 1.0f;
        NodeId node00 = tree.newWithChildren(node00Style, node000);

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.justifyContent = AlignContent.CENTER;
        node0Style.flexGrow = 0.0f;
        node0Style.flexShrink = 1.0f;
        NodeId node0 = tree.newWithChildren(node0Style, node00);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(20.0f, node0Layout.size().width, "width of node0");
        assertEquals(100.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(20.0f, node00Layout.size().width, "width of node00");
        assertEquals(100.0f, node00Layout.size().height, "height of node00");
        assertEquals(0.0f, node00Layout.location().x, "x of node00");
        assertEquals(0.0f, node00Layout.location().y, "y of node00");
        Layout node000Layout = tree.getLayout(node000);
        assertEquals(20.0f, node000Layout.size().width, "width of node000");
        assertEquals(20.0f, node000Layout.size().height, "height of node000");
        assertEquals(0.0f, node000Layout.location().x, "x of node000");
        assertEquals(0.0f, node000Layout.location().y, "y of node000");
    }

    @Test
    @DisplayName("android_news_feed__border_box")
    void androidNewsFeedBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node000000Style = new Style();
        node000000Style.alignContent = AlignContent.STRETCH;
        node000000Style.flexShrink = 0.0f;
        node000000Style.size = new Size<>(Dimension.length(120.0f), Dimension.length(120.0f));
        NodeId node000000 = tree.newLeaf(node000000Style);

        Style node00000Style = new Style();
        node00000Style.alignContent = AlignContent.STRETCH;
        node00000Style.flexShrink = 0.0f;
        NodeId node00000 = tree.newWithChildren(node00000Style, node000000);

        Style node000010Style = new Style();
        node000010Style.alignContent = AlignContent.STRETCH;
        node000010Style.flexShrink = 1.0f;
        NodeId node000010 = tree.newLeaf(node000010Style);

        Style node000011Style = new Style();
        node000011Style.alignContent = AlignContent.STRETCH;
        node000011Style.flexShrink = 1.0f;
        NodeId node000011 = tree.newLeaf(node000011Style);

        Style node00001Style = new Style();
        node00001Style.flexDirection = FlexDirection.COLUMN;
        node00001Style.alignContent = AlignContent.STRETCH;
        node00001Style.flexShrink = 1.0f;
        node00001Style.margin = new Rect<>(LengthPercentageAuto.ZERO, LengthPercentageAuto.length(36.0f), LengthPercentageAuto.ZERO, LengthPercentageAuto.ZERO);
        node00001Style.padding = new Rect<>(LengthPercentage.length(36.0f), LengthPercentage.length(36.0f), LengthPercentage.length(21.0f), LengthPercentage.length(18.0f));
        NodeId node00001 = tree.newWithChildren(node00001Style, node000010, node000011);

        Style node0000Style = new Style();
        node0000Style.alignItems = AlignItems.FLEX_START;
        node0000Style.alignContent = AlignContent.STRETCH;
        node0000Style.margin = new Rect<>(LengthPercentageAuto.length(36.0f), LengthPercentageAuto.ZERO, LengthPercentageAuto.length(24.0f), LengthPercentageAuto.ZERO);
        NodeId node0000 = tree.newWithChildren(node0000Style, node00000, node00001);

        Style node000Style = new Style();
        node000Style.flexDirection = FlexDirection.COLUMN;
        node000Style.alignContent = AlignContent.STRETCH;
        NodeId node000 = tree.newWithChildren(node000Style, node0000);

        Style node001000Style = new Style();
        node001000Style.alignContent = AlignContent.STRETCH;
        node001000Style.flexShrink = 0.0f;
        node001000Style.size = new Size<>(Dimension.length(72.0f), Dimension.length(72.0f));
        NodeId node001000 = tree.newLeaf(node001000Style);

        Style node00100Style = new Style();
        node00100Style.alignContent = AlignContent.STRETCH;
        node00100Style.flexShrink = 0.0f;
        NodeId node00100 = tree.newWithChildren(node00100Style, node001000);

        Style node001010Style = new Style();
        node001010Style.alignContent = AlignContent.STRETCH;
        node001010Style.flexShrink = 1.0f;
        NodeId node001010 = tree.newLeaf(node001010Style);

        Style node001011Style = new Style();
        node001011Style.alignContent = AlignContent.STRETCH;
        node001011Style.flexShrink = 1.0f;
        NodeId node001011 = tree.newLeaf(node001011Style);

        Style node00101Style = new Style();
        node00101Style.flexDirection = FlexDirection.COLUMN;
        node00101Style.alignContent = AlignContent.STRETCH;
        node00101Style.flexShrink = 1.0f;
        node00101Style.margin = new Rect<>(LengthPercentageAuto.ZERO, LengthPercentageAuto.length(36.0f), LengthPercentageAuto.ZERO, LengthPercentageAuto.ZERO);
        node00101Style.padding = new Rect<>(LengthPercentage.length(36.0f), LengthPercentage.length(36.0f), LengthPercentage.length(21.0f), LengthPercentage.length(18.0f));
        NodeId node00101 = tree.newWithChildren(node00101Style, node001010, node001011);

        Style node0010Style = new Style();
        node0010Style.alignItems = AlignItems.FLEX_START;
        node0010Style.alignContent = AlignContent.STRETCH;
        node0010Style.margin = new Rect<>(LengthPercentageAuto.length(174.0f), LengthPercentageAuto.ZERO, LengthPercentageAuto.length(24.0f), LengthPercentageAuto.ZERO);
        NodeId node0010 = tree.newWithChildren(node0010Style, node00100, node00101);

        Style node001Style = new Style();
        node001Style.flexDirection = FlexDirection.COLUMN;
        node001Style.alignContent = AlignContent.STRETCH;
        NodeId node001 = tree.newWithChildren(node001Style, node0010);

        Style node00Style = new Style();
        node00Style.flexDirection = FlexDirection.COLUMN;
        node00Style.alignContent = AlignContent.STRETCH;
        NodeId node00 = tree.newWithChildren(node00Style, node000, node001);

        Style node0Style = new Style();
        node0Style.flexDirection = FlexDirection.COLUMN;
        node0Style.flexShrink = 0.0f;
        NodeId node0 = tree.newWithChildren(node0Style, node00);

        Style nodeStyle = new Style();
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.alignContent = AlignContent.STRETCH;
        nodeStyle.flexShrink = 0.0f;
        nodeStyle.size = new Size<>(Dimension.length(1080.0f), Dimension.AUTO);
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(1080.0f, nodeLayout.size().width, "width of node");
        assertEquals(240.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(1080.0f, node0Layout.size().width, "width of node0");
        assertEquals(240.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(1080.0f, node00Layout.size().width, "width of node00");
        assertEquals(240.0f, node00Layout.size().height, "height of node00");
        assertEquals(0.0f, node00Layout.location().x, "x of node00");
        assertEquals(0.0f, node00Layout.location().y, "y of node00");
        Layout node000Layout = tree.getLayout(node000);
        assertEquals(1080.0f, node000Layout.size().width, "width of node000");
        assertEquals(144.0f, node000Layout.size().height, "height of node000");
        assertEquals(0.0f, node000Layout.location().x, "x of node000");
        assertEquals(0.0f, node000Layout.location().y, "y of node000");
        Layout node0000Layout = tree.getLayout(node0000);
        assertEquals(1044.0f, node0000Layout.size().width, "width of node0000");
        assertEquals(120.0f, node0000Layout.size().height, "height of node0000");
        assertEquals(36.0f, node0000Layout.location().x, "x of node0000");
        assertEquals(24.0f, node0000Layout.location().y, "y of node0000");
        Layout node00000Layout = tree.getLayout(node00000);
        assertEquals(120.0f, node00000Layout.size().width, "width of node00000");
        assertEquals(120.0f, node00000Layout.size().height, "height of node00000");
        assertEquals(0.0f, node00000Layout.location().x, "x of node00000");
        assertEquals(0.0f, node00000Layout.location().y, "y of node00000");
        Layout node000000Layout = tree.getLayout(node000000);
        assertEquals(120.0f, node000000Layout.size().width, "width of node000000");
        assertEquals(120.0f, node000000Layout.size().height, "height of node000000");
        assertEquals(0.0f, node000000Layout.location().x, "x of node000000");
        assertEquals(0.0f, node000000Layout.location().y, "y of node000000");
        Layout node00001Layout = tree.getLayout(node00001);
        assertEquals(72.0f, node00001Layout.size().width, "width of node00001");
        assertEquals(39.0f, node00001Layout.size().height, "height of node00001");
        assertEquals(120.0f, node00001Layout.location().x, "x of node00001");
        assertEquals(0.0f, node00001Layout.location().y, "y of node00001");
        Layout node000010Layout = tree.getLayout(node000010);
        assertEquals(0.0f, node000010Layout.size().width, "width of node000010");
        assertEquals(0.0f, node000010Layout.size().height, "height of node000010");
        assertEquals(36.0f, node000010Layout.location().x, "x of node000010");
        assertEquals(21.0f, node000010Layout.location().y, "y of node000010");
        Layout node000011Layout = tree.getLayout(node000011);
        assertEquals(0.0f, node000011Layout.size().width, "width of node000011");
        assertEquals(0.0f, node000011Layout.size().height, "height of node000011");
        assertEquals(36.0f, node000011Layout.location().x, "x of node000011");
        assertEquals(21.0f, node000011Layout.location().y, "y of node000011");
        Layout node001Layout = tree.getLayout(node001);
        assertEquals(1080.0f, node001Layout.size().width, "width of node001");
        assertEquals(96.0f, node001Layout.size().height, "height of node001");
        assertEquals(0.0f, node001Layout.location().x, "x of node001");
        assertEquals(144.0f, node001Layout.location().y, "y of node001");
        Layout node0010Layout = tree.getLayout(node0010);
        assertEquals(906.0f, node0010Layout.size().width, "width of node0010");
        assertEquals(72.0f, node0010Layout.size().height, "height of node0010");
        assertEquals(174.0f, node0010Layout.location().x, "x of node0010");
        assertEquals(24.0f, node0010Layout.location().y, "y of node0010");
        Layout node00100Layout = tree.getLayout(node00100);
        assertEquals(72.0f, node00100Layout.size().width, "width of node00100");
        assertEquals(72.0f, node00100Layout.size().height, "height of node00100");
        assertEquals(0.0f, node00100Layout.location().x, "x of node00100");
        assertEquals(0.0f, node00100Layout.location().y, "y of node00100");
        Layout node001000Layout = tree.getLayout(node001000);
        assertEquals(72.0f, node001000Layout.size().width, "width of node001000");
        assertEquals(72.0f, node001000Layout.size().height, "height of node001000");
        assertEquals(0.0f, node001000Layout.location().x, "x of node001000");
        assertEquals(0.0f, node001000Layout.location().y, "y of node001000");
        Layout node00101Layout = tree.getLayout(node00101);
        assertEquals(72.0f, node00101Layout.size().width, "width of node00101");
        assertEquals(39.0f, node00101Layout.size().height, "height of node00101");
        assertEquals(72.0f, node00101Layout.location().x, "x of node00101");
        assertEquals(0.0f, node00101Layout.location().y, "y of node00101");
        Layout node001010Layout = tree.getLayout(node001010);
        assertEquals(0.0f, node001010Layout.size().width, "width of node001010");
        assertEquals(0.0f, node001010Layout.size().height, "height of node001010");
        assertEquals(36.0f, node001010Layout.location().x, "x of node001010");
        assertEquals(21.0f, node001010Layout.location().y, "y of node001010");
        Layout node001011Layout = tree.getLayout(node001011);
        assertEquals(0.0f, node001011Layout.size().width, "width of node001011");
        assertEquals(0.0f, node001011Layout.size().height, "height of node001011");
        assertEquals(36.0f, node001011Layout.location().x, "x of node001011");
        assertEquals(21.0f, node001011Layout.location().y, "y of node001011");
    }

    @Test
    @DisplayName("android_news_feed__content_box")
    void androidNewsFeedContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node000000Style = new Style();
        node000000Style.boxSizing = BoxSizing.CONTENT_BOX;
        node000000Style.alignContent = AlignContent.STRETCH;
        node000000Style.flexShrink = 0.0f;
        node000000Style.size = new Size<>(Dimension.length(120.0f), Dimension.length(120.0f));
        NodeId node000000 = tree.newLeaf(node000000Style);

        Style node00000Style = new Style();
        node00000Style.boxSizing = BoxSizing.CONTENT_BOX;
        node00000Style.alignContent = AlignContent.STRETCH;
        node00000Style.flexShrink = 0.0f;
        NodeId node00000 = tree.newWithChildren(node00000Style, node000000);

        Style node000010Style = new Style();
        node000010Style.boxSizing = BoxSizing.CONTENT_BOX;
        node000010Style.alignContent = AlignContent.STRETCH;
        node000010Style.flexShrink = 1.0f;
        NodeId node000010 = tree.newLeaf(node000010Style);

        Style node000011Style = new Style();
        node000011Style.boxSizing = BoxSizing.CONTENT_BOX;
        node000011Style.alignContent = AlignContent.STRETCH;
        node000011Style.flexShrink = 1.0f;
        NodeId node000011 = tree.newLeaf(node000011Style);

        Style node00001Style = new Style();
        node00001Style.boxSizing = BoxSizing.CONTENT_BOX;
        node00001Style.flexDirection = FlexDirection.COLUMN;
        node00001Style.alignContent = AlignContent.STRETCH;
        node00001Style.flexShrink = 1.0f;
        node00001Style.margin = new Rect<>(LengthPercentageAuto.ZERO, LengthPercentageAuto.length(36.0f), LengthPercentageAuto.ZERO, LengthPercentageAuto.ZERO);
        node00001Style.padding = new Rect<>(LengthPercentage.length(36.0f), LengthPercentage.length(36.0f), LengthPercentage.length(21.0f), LengthPercentage.length(18.0f));
        NodeId node00001 = tree.newWithChildren(node00001Style, node000010, node000011);

        Style node0000Style = new Style();
        node0000Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0000Style.alignItems = AlignItems.FLEX_START;
        node0000Style.alignContent = AlignContent.STRETCH;
        node0000Style.margin = new Rect<>(LengthPercentageAuto.length(36.0f), LengthPercentageAuto.ZERO, LengthPercentageAuto.length(24.0f), LengthPercentageAuto.ZERO);
        NodeId node0000 = tree.newWithChildren(node0000Style, node00000, node00001);

        Style node000Style = new Style();
        node000Style.boxSizing = BoxSizing.CONTENT_BOX;
        node000Style.flexDirection = FlexDirection.COLUMN;
        node000Style.alignContent = AlignContent.STRETCH;
        NodeId node000 = tree.newWithChildren(node000Style, node0000);

        Style node001000Style = new Style();
        node001000Style.boxSizing = BoxSizing.CONTENT_BOX;
        node001000Style.alignContent = AlignContent.STRETCH;
        node001000Style.flexShrink = 0.0f;
        node001000Style.size = new Size<>(Dimension.length(72.0f), Dimension.length(72.0f));
        NodeId node001000 = tree.newLeaf(node001000Style);

        Style node00100Style = new Style();
        node00100Style.boxSizing = BoxSizing.CONTENT_BOX;
        node00100Style.alignContent = AlignContent.STRETCH;
        node00100Style.flexShrink = 0.0f;
        NodeId node00100 = tree.newWithChildren(node00100Style, node001000);

        Style node001010Style = new Style();
        node001010Style.boxSizing = BoxSizing.CONTENT_BOX;
        node001010Style.alignContent = AlignContent.STRETCH;
        node001010Style.flexShrink = 1.0f;
        NodeId node001010 = tree.newLeaf(node001010Style);

        Style node001011Style = new Style();
        node001011Style.boxSizing = BoxSizing.CONTENT_BOX;
        node001011Style.alignContent = AlignContent.STRETCH;
        node001011Style.flexShrink = 1.0f;
        NodeId node001011 = tree.newLeaf(node001011Style);

        Style node00101Style = new Style();
        node00101Style.boxSizing = BoxSizing.CONTENT_BOX;
        node00101Style.flexDirection = FlexDirection.COLUMN;
        node00101Style.alignContent = AlignContent.STRETCH;
        node00101Style.flexShrink = 1.0f;
        node00101Style.margin = new Rect<>(LengthPercentageAuto.ZERO, LengthPercentageAuto.length(36.0f), LengthPercentageAuto.ZERO, LengthPercentageAuto.ZERO);
        node00101Style.padding = new Rect<>(LengthPercentage.length(36.0f), LengthPercentage.length(36.0f), LengthPercentage.length(21.0f), LengthPercentage.length(18.0f));
        NodeId node00101 = tree.newWithChildren(node00101Style, node001010, node001011);

        Style node0010Style = new Style();
        node0010Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0010Style.alignItems = AlignItems.FLEX_START;
        node0010Style.alignContent = AlignContent.STRETCH;
        node0010Style.margin = new Rect<>(LengthPercentageAuto.length(174.0f), LengthPercentageAuto.ZERO, LengthPercentageAuto.length(24.0f), LengthPercentageAuto.ZERO);
        NodeId node0010 = tree.newWithChildren(node0010Style, node00100, node00101);

        Style node001Style = new Style();
        node001Style.boxSizing = BoxSizing.CONTENT_BOX;
        node001Style.flexDirection = FlexDirection.COLUMN;
        node001Style.alignContent = AlignContent.STRETCH;
        NodeId node001 = tree.newWithChildren(node001Style, node0010);

        Style node00Style = new Style();
        node00Style.boxSizing = BoxSizing.CONTENT_BOX;
        node00Style.flexDirection = FlexDirection.COLUMN;
        node00Style.alignContent = AlignContent.STRETCH;
        NodeId node00 = tree.newWithChildren(node00Style, node000, node001);

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.flexDirection = FlexDirection.COLUMN;
        node0Style.flexShrink = 0.0f;
        NodeId node0 = tree.newWithChildren(node0Style, node00);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.alignContent = AlignContent.STRETCH;
        nodeStyle.flexShrink = 0.0f;
        nodeStyle.size = new Size<>(Dimension.length(1080.0f), Dimension.AUTO);
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(1080.0f, nodeLayout.size().width, "width of node");
        assertEquals(240.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(1080.0f, node0Layout.size().width, "width of node0");
        assertEquals(240.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(1080.0f, node00Layout.size().width, "width of node00");
        assertEquals(240.0f, node00Layout.size().height, "height of node00");
        assertEquals(0.0f, node00Layout.location().x, "x of node00");
        assertEquals(0.0f, node00Layout.location().y, "y of node00");
        Layout node000Layout = tree.getLayout(node000);
        assertEquals(1080.0f, node000Layout.size().width, "width of node000");
        assertEquals(144.0f, node000Layout.size().height, "height of node000");
        assertEquals(0.0f, node000Layout.location().x, "x of node000");
        assertEquals(0.0f, node000Layout.location().y, "y of node000");
        Layout node0000Layout = tree.getLayout(node0000);
        assertEquals(1044.0f, node0000Layout.size().width, "width of node0000");
        assertEquals(120.0f, node0000Layout.size().height, "height of node0000");
        assertEquals(36.0f, node0000Layout.location().x, "x of node0000");
        assertEquals(24.0f, node0000Layout.location().y, "y of node0000");
        Layout node00000Layout = tree.getLayout(node00000);
        assertEquals(120.0f, node00000Layout.size().width, "width of node00000");
        assertEquals(120.0f, node00000Layout.size().height, "height of node00000");
        assertEquals(0.0f, node00000Layout.location().x, "x of node00000");
        assertEquals(0.0f, node00000Layout.location().y, "y of node00000");
        Layout node000000Layout = tree.getLayout(node000000);
        assertEquals(120.0f, node000000Layout.size().width, "width of node000000");
        assertEquals(120.0f, node000000Layout.size().height, "height of node000000");
        assertEquals(0.0f, node000000Layout.location().x, "x of node000000");
        assertEquals(0.0f, node000000Layout.location().y, "y of node000000");
        Layout node00001Layout = tree.getLayout(node00001);
        assertEquals(72.0f, node00001Layout.size().width, "width of node00001");
        assertEquals(39.0f, node00001Layout.size().height, "height of node00001");
        assertEquals(120.0f, node00001Layout.location().x, "x of node00001");
        assertEquals(0.0f, node00001Layout.location().y, "y of node00001");
        Layout node000010Layout = tree.getLayout(node000010);
        assertEquals(0.0f, node000010Layout.size().width, "width of node000010");
        assertEquals(0.0f, node000010Layout.size().height, "height of node000010");
        assertEquals(36.0f, node000010Layout.location().x, "x of node000010");
        assertEquals(21.0f, node000010Layout.location().y, "y of node000010");
        Layout node000011Layout = tree.getLayout(node000011);
        assertEquals(0.0f, node000011Layout.size().width, "width of node000011");
        assertEquals(0.0f, node000011Layout.size().height, "height of node000011");
        assertEquals(36.0f, node000011Layout.location().x, "x of node000011");
        assertEquals(21.0f, node000011Layout.location().y, "y of node000011");
        Layout node001Layout = tree.getLayout(node001);
        assertEquals(1080.0f, node001Layout.size().width, "width of node001");
        assertEquals(96.0f, node001Layout.size().height, "height of node001");
        assertEquals(0.0f, node001Layout.location().x, "x of node001");
        assertEquals(144.0f, node001Layout.location().y, "y of node001");
        Layout node0010Layout = tree.getLayout(node0010);
        assertEquals(906.0f, node0010Layout.size().width, "width of node0010");
        assertEquals(72.0f, node0010Layout.size().height, "height of node0010");
        assertEquals(174.0f, node0010Layout.location().x, "x of node0010");
        assertEquals(24.0f, node0010Layout.location().y, "y of node0010");
        Layout node00100Layout = tree.getLayout(node00100);
        assertEquals(72.0f, node00100Layout.size().width, "width of node00100");
        assertEquals(72.0f, node00100Layout.size().height, "height of node00100");
        assertEquals(0.0f, node00100Layout.location().x, "x of node00100");
        assertEquals(0.0f, node00100Layout.location().y, "y of node00100");
        Layout node001000Layout = tree.getLayout(node001000);
        assertEquals(72.0f, node001000Layout.size().width, "width of node001000");
        assertEquals(72.0f, node001000Layout.size().height, "height of node001000");
        assertEquals(0.0f, node001000Layout.location().x, "x of node001000");
        assertEquals(0.0f, node001000Layout.location().y, "y of node001000");
        Layout node00101Layout = tree.getLayout(node00101);
        assertEquals(72.0f, node00101Layout.size().width, "width of node00101");
        assertEquals(39.0f, node00101Layout.size().height, "height of node00101");
        assertEquals(72.0f, node00101Layout.location().x, "x of node00101");
        assertEquals(0.0f, node00101Layout.location().y, "y of node00101");
        Layout node001010Layout = tree.getLayout(node001010);
        assertEquals(0.0f, node001010Layout.size().width, "width of node001010");
        assertEquals(0.0f, node001010Layout.size().height, "height of node001010");
        assertEquals(36.0f, node001010Layout.location().x, "x of node001010");
        assertEquals(21.0f, node001010Layout.location().y, "y of node001010");
        Layout node001011Layout = tree.getLayout(node001011);
        assertEquals(0.0f, node001011Layout.size().width, "width of node001011");
        assertEquals(0.0f, node001011Layout.size().height, "height of node001011");
        assertEquals(36.0f, node001011Layout.location().x, "x of node001011");
        assertEquals(21.0f, node001011Layout.location().y, "y of node001011");
    }

    @Test
    @DisplayName("aspect_ratio_flex_column_fill_height__border_box")
    void aspectRatioFlexColumnFillHeightBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.length(40.0f), Dimension.AUTO);
        node0Style.aspectRatio = 2.0f;
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.alignItems = AlignItems.START;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(20.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("aspect_ratio_flex_column_fill_height__content_box")
    void aspectRatioFlexColumnFillHeightContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.length(40.0f), Dimension.AUTO);
        node0Style.aspectRatio = 2.0f;
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.alignItems = AlignItems.START;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(20.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("aspect_ratio_flex_column_fill_max_height__border_box")
    void aspectRatioFlexColumnFillMaxHeightBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.maxSize = new Size<>(Dimension.length(40.0f), Dimension.AUTO);
        node0Style.aspectRatio = 2.0f;
        MeasureFunc node0Measure = ahemTextMeasure("HH\u200BHH\u200BHH\u200BHH\u200BHH\u200BHH\u200BHH\u200BHH\u200BHH\u200BHH\u200BHH", false);
        NodeId node0 = tree.newLeafWithMeasure(node0Style, node0Measure);

        Style nodeStyle = new Style();
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.alignItems = AlignItems.START;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(20.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("aspect_ratio_flex_column_fill_max_height__content_box")
    void aspectRatioFlexColumnFillMaxHeightContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.maxSize = new Size<>(Dimension.length(40.0f), Dimension.AUTO);
        node0Style.aspectRatio = 2.0f;
        MeasureFunc node0Measure = ahemTextMeasure("HH\u200BHH\u200BHH\u200BHH\u200BHH\u200BHH\u200BHH\u200BHH\u200BHH\u200BHH\u200BHH", false);
        NodeId node0 = tree.newLeafWithMeasure(node0Style, node0Measure);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.alignItems = AlignItems.START;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(20.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("aspect_ratio_flex_column_fill_max_width__border_box")
    void aspectRatioFlexColumnFillMaxWidthBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.maxSize = new Size<>(Dimension.AUTO, Dimension.length(20.0f));
        node0Style.aspectRatio = 2.0f;
        MeasureFunc node0Measure = ahemTextMeasure("HH\u200BHH\u200BHH\u200BHH", false);
        NodeId node0 = tree.newLeafWithMeasure(node0Style, node0Measure);

        Style nodeStyle = new Style();
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.alignItems = AlignItems.START;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(20.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("aspect_ratio_flex_column_fill_max_width__content_box")
    void aspectRatioFlexColumnFillMaxWidthContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.maxSize = new Size<>(Dimension.AUTO, Dimension.length(20.0f));
        node0Style.aspectRatio = 2.0f;
        MeasureFunc node0Measure = ahemTextMeasure("HH\u200BHH\u200BHH\u200BHH", false);
        NodeId node0 = tree.newLeafWithMeasure(node0Style, node0Measure);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.alignItems = AlignItems.START;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(20.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("aspect_ratio_flex_column_fill_min_height__border_box")
    void aspectRatioFlexColumnFillMinHeightBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.minSize = new Size<>(Dimension.length(40.0f), Dimension.AUTO);
        node0Style.aspectRatio = 2.0f;
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.alignItems = AlignItems.START;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(20.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("aspect_ratio_flex_column_fill_min_height__content_box")
    void aspectRatioFlexColumnFillMinHeightContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.minSize = new Size<>(Dimension.length(40.0f), Dimension.AUTO);
        node0Style.aspectRatio = 2.0f;
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.alignItems = AlignItems.START;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(20.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("aspect_ratio_flex_column_fill_min_width__border_box")
    void aspectRatioFlexColumnFillMinWidthBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.minSize = new Size<>(Dimension.AUTO, Dimension.length(40.0f));
        node0Style.aspectRatio = 2.0f;
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.alignItems = AlignItems.START;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(80.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("aspect_ratio_flex_column_fill_min_width__content_box")
    void aspectRatioFlexColumnFillMinWidthContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.minSize = new Size<>(Dimension.AUTO, Dimension.length(40.0f));
        node0Style.aspectRatio = 2.0f;
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.alignItems = AlignItems.START;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(80.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("aspect_ratio_flex_column_fill_width__border_box")
    void aspectRatioFlexColumnFillWidthBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.AUTO, Dimension.length(40.0f));
        node0Style.aspectRatio = 2.0f;
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.alignItems = AlignItems.START;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(80.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("aspect_ratio_flex_column_fill_width__content_box")
    void aspectRatioFlexColumnFillWidthContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.AUTO, Dimension.length(40.0f));
        node0Style.aspectRatio = 2.0f;
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.alignItems = AlignItems.START;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(80.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("aspect_ratio_flex_column_fill_width_flex__border_box")
    void aspectRatioFlexColumnFillWidthFlexBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.AUTO, Dimension.length(50.0f));
        node0Style.aspectRatio = 2.0f;
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(100.0f, node0Layout.size().width, "width of node0");
        assertEquals(50.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("aspect_ratio_flex_column_fill_width_flex__content_box")
    void aspectRatioFlexColumnFillWidthFlexContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.AUTO, Dimension.length(50.0f));
        node0Style.aspectRatio = 2.0f;
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(100.0f, node0Layout.size().width, "width of node0");
        assertEquals(50.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("aspect_ratio_flex_column_stretch_fill_height__border_box")
    void aspectRatioFlexColumnStretchFillHeightBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.length(40.0f), Dimension.AUTO);
        node0Style.aspectRatio = 2.0f;
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(20.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("aspect_ratio_flex_column_stretch_fill_height__content_box")
    void aspectRatioFlexColumnStretchFillHeightContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.length(40.0f), Dimension.AUTO);
        node0Style.aspectRatio = 2.0f;
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(20.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("aspect_ratio_flex_column_stretch_fill_max_height__border_box")
    void aspectRatioFlexColumnStretchFillMaxHeightBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.maxSize = new Size<>(Dimension.length(40.0f), Dimension.AUTO);
        node0Style.aspectRatio = 2.0f;
        MeasureFunc node0Measure = ahemTextMeasure("HH\u200BHH\u200BHH\u200BHH\u200BHH\u200BHH\u200BHH\u200BHH\u200BHH\u200BHH\u200BHH", false);
        NodeId node0 = tree.newLeafWithMeasure(node0Style, node0Measure);

        Style nodeStyle = new Style();
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(20.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("aspect_ratio_flex_column_stretch_fill_max_height__content_box")
    void aspectRatioFlexColumnStretchFillMaxHeightContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.maxSize = new Size<>(Dimension.length(40.0f), Dimension.AUTO);
        node0Style.aspectRatio = 2.0f;
        MeasureFunc node0Measure = ahemTextMeasure("HH\u200BHH\u200BHH\u200BHH\u200BHH\u200BHH\u200BHH\u200BHH\u200BHH\u200BHH\u200BHH", false);
        NodeId node0 = tree.newLeafWithMeasure(node0Style, node0Measure);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(20.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("aspect_ratio_flex_column_stretch_fill_max_width__border_box")
    void aspectRatioFlexColumnStretchFillMaxWidthBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.maxSize = new Size<>(Dimension.AUTO, Dimension.length(20.0f));
        node0Style.aspectRatio = 2.0f;
        MeasureFunc node0Measure = ahemTextMeasure("HH\u200BHH\u200BHH\u200BHH", false);
        NodeId node0 = tree.newLeafWithMeasure(node0Style, node0Measure);

        Style nodeStyle = new Style();
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(100.0f, node0Layout.size().width, "width of node0");
        assertEquals(20.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("aspect_ratio_flex_column_stretch_fill_max_width__content_box")
    void aspectRatioFlexColumnStretchFillMaxWidthContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.maxSize = new Size<>(Dimension.AUTO, Dimension.length(20.0f));
        node0Style.aspectRatio = 2.0f;
        MeasureFunc node0Measure = ahemTextMeasure("HH\u200BHH\u200BHH\u200BHH", false);
        NodeId node0 = tree.newLeafWithMeasure(node0Style, node0Measure);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(100.0f, node0Layout.size().width, "width of node0");
        assertEquals(20.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("aspect_ratio_flex_column_stretch_fill_width__border_box")
    void aspectRatioFlexColumnStretchFillWidthBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.AUTO, Dimension.length(40.0f));
        node0Style.aspectRatio = 2.0f;
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(100.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("aspect_ratio_flex_column_stretch_fill_width__content_box")
    void aspectRatioFlexColumnStretchFillWidthContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.AUTO, Dimension.length(40.0f));
        node0Style.aspectRatio = 2.0f;
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(100.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("aspect_ratio_flex_row_fill_height__border_box")
    void aspectRatioFlexRowFillHeightBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.length(40.0f), Dimension.AUTO);
        node0Style.aspectRatio = 2.0f;
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.alignItems = AlignItems.START;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(20.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("aspect_ratio_flex_row_fill_height__content_box")
    void aspectRatioFlexRowFillHeightContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.length(40.0f), Dimension.AUTO);
        node0Style.aspectRatio = 2.0f;
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.alignItems = AlignItems.START;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(20.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("aspect_ratio_flex_row_fill_max_height__border_box")
    void aspectRatioFlexRowFillMaxHeightBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.maxSize = new Size<>(Dimension.length(40.0f), Dimension.AUTO);
        node0Style.aspectRatio = 2.0f;
        MeasureFunc node0Measure = ahemTextMeasure("HH\u200BHH\u200BHH\u200BHH\u200BHH\u200BHH\u200BHH\u200BHH\u200BHH\u200BHH\u200BHH", false);
        NodeId node0 = tree.newLeafWithMeasure(node0Style, node0Measure);

        Style nodeStyle = new Style();
        nodeStyle.alignItems = AlignItems.START;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(20.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("aspect_ratio_flex_row_fill_max_height__content_box")
    void aspectRatioFlexRowFillMaxHeightContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.maxSize = new Size<>(Dimension.length(40.0f), Dimension.AUTO);
        node0Style.aspectRatio = 2.0f;
        MeasureFunc node0Measure = ahemTextMeasure("HH\u200BHH\u200BHH\u200BHH\u200BHH\u200BHH\u200BHH\u200BHH\u200BHH\u200BHH\u200BHH", false);
        NodeId node0 = tree.newLeafWithMeasure(node0Style, node0Measure);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.alignItems = AlignItems.START;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(20.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("aspect_ratio_flex_row_fill_max_width__border_box")
    void aspectRatioFlexRowFillMaxWidthBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.maxSize = new Size<>(Dimension.AUTO, Dimension.length(20.0f));
        node0Style.aspectRatio = 2.0f;
        MeasureFunc node0Measure = ahemTextMeasure("HH\u200BHH\u200BHH\u200BHH", false);
        NodeId node0 = tree.newLeafWithMeasure(node0Style, node0Measure);

        Style nodeStyle = new Style();
        nodeStyle.alignItems = AlignItems.START;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(20.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("aspect_ratio_flex_row_fill_max_width__content_box")
    void aspectRatioFlexRowFillMaxWidthContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.maxSize = new Size<>(Dimension.AUTO, Dimension.length(20.0f));
        node0Style.aspectRatio = 2.0f;
        MeasureFunc node0Measure = ahemTextMeasure("HH\u200BHH\u200BHH\u200BHH", false);
        NodeId node0 = tree.newLeafWithMeasure(node0Style, node0Measure);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.alignItems = AlignItems.START;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(20.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("aspect_ratio_flex_row_fill_min_height__border_box")
    void aspectRatioFlexRowFillMinHeightBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.minSize = new Size<>(Dimension.length(40.0f), Dimension.AUTO);
        node0Style.aspectRatio = 2.0f;
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.alignItems = AlignItems.START;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(20.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("aspect_ratio_flex_row_fill_min_height__content_box")
    void aspectRatioFlexRowFillMinHeightContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.minSize = new Size<>(Dimension.length(40.0f), Dimension.AUTO);
        node0Style.aspectRatio = 2.0f;
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.alignItems = AlignItems.START;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(20.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("aspect_ratio_flex_row_fill_min_width__border_box")
    void aspectRatioFlexRowFillMinWidthBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.minSize = new Size<>(Dimension.AUTO, Dimension.length(40.0f));
        node0Style.aspectRatio = 2.0f;
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.alignItems = AlignItems.START;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(80.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("aspect_ratio_flex_row_fill_min_width__content_box")
    void aspectRatioFlexRowFillMinWidthContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.minSize = new Size<>(Dimension.AUTO, Dimension.length(40.0f));
        node0Style.aspectRatio = 2.0f;
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.alignItems = AlignItems.START;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(80.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("aspect_ratio_flex_row_fill_width__border_box")
    void aspectRatioFlexRowFillWidthBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.AUTO, Dimension.length(40.0f));
        node0Style.aspectRatio = 2.0f;
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.alignItems = AlignItems.START;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(80.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("aspect_ratio_flex_row_fill_width__content_box")
    void aspectRatioFlexRowFillWidthContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.AUTO, Dimension.length(40.0f));
        node0Style.aspectRatio = 2.0f;
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.alignItems = AlignItems.START;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(80.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("aspect_ratio_flex_row_fill_width_flex__border_box")
    void aspectRatioFlexRowFillWidthFlexBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.AUTO, Dimension.length(50.0f));
        node0Style.aspectRatio = 2.0f;
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.alignItems = AlignItems.START;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(100.0f, node0Layout.size().width, "width of node0");
        assertEquals(50.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("aspect_ratio_flex_row_fill_width_flex__content_box")
    void aspectRatioFlexRowFillWidthFlexContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.AUTO, Dimension.length(50.0f));
        node0Style.aspectRatio = 2.0f;
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.alignItems = AlignItems.START;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(100.0f, node0Layout.size().width, "width of node0");
        assertEquals(50.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("aspect_ratio_flex_row_stretch_fill_height__border_box")
    void aspectRatioFlexRowStretchFillHeightBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.length(40.0f), Dimension.AUTO);
        node0Style.aspectRatio = 2.0f;
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(100.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("aspect_ratio_flex_row_stretch_fill_height__content_box")
    void aspectRatioFlexRowStretchFillHeightContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.length(40.0f), Dimension.AUTO);
        node0Style.aspectRatio = 2.0f;
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(100.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("aspect_ratio_flex_row_stretch_fill_max_height__border_box")
    void aspectRatioFlexRowStretchFillMaxHeightBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.maxSize = new Size<>(Dimension.length(40.0f), Dimension.AUTO);
        node0Style.aspectRatio = 2.0f;
        MeasureFunc node0Measure = ahemTextMeasure("HH\u200BHH\u200BHH\u200BHH\u200BHH\u200BHH\u200BHH\u200BHH\u200BHH\u200BHH\u200BHH", false);
        NodeId node0 = tree.newLeafWithMeasure(node0Style, node0Measure);

        Style nodeStyle = new Style();
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(100.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("aspect_ratio_flex_row_stretch_fill_max_height__content_box")
    void aspectRatioFlexRowStretchFillMaxHeightContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.maxSize = new Size<>(Dimension.length(40.0f), Dimension.AUTO);
        node0Style.aspectRatio = 2.0f;
        MeasureFunc node0Measure = ahemTextMeasure("HH\u200BHH\u200BHH\u200BHH\u200BHH\u200BHH\u200BHH\u200BHH\u200BHH\u200BHH\u200BHH", false);
        NodeId node0 = tree.newLeafWithMeasure(node0Style, node0Measure);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(100.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("aspect_ratio_flex_row_stretch_fill_max_width__border_box")
    void aspectRatioFlexRowStretchFillMaxWidthBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.maxSize = new Size<>(Dimension.AUTO, Dimension.length(20.0f));
        node0Style.aspectRatio = 2.0f;
        MeasureFunc node0Measure = ahemTextMeasure("HH\u200BHH\u200BHH\u200BHH", false);
        NodeId node0 = tree.newLeafWithMeasure(node0Style, node0Measure);

        Style nodeStyle = new Style();
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(20.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("aspect_ratio_flex_row_stretch_fill_max_width__content_box")
    void aspectRatioFlexRowStretchFillMaxWidthContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.maxSize = new Size<>(Dimension.AUTO, Dimension.length(20.0f));
        node0Style.aspectRatio = 2.0f;
        MeasureFunc node0Measure = ahemTextMeasure("HH\u200BHH\u200BHH\u200BHH", false);
        NodeId node0 = tree.newLeafWithMeasure(node0Style, node0Measure);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(20.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("aspect_ratio_flex_row_stretch_fill_width__border_box")
    void aspectRatioFlexRowStretchFillWidthBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.AUTO, Dimension.length(40.0f));
        node0Style.aspectRatio = 2.0f;
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(80.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("aspect_ratio_flex_row_stretch_fill_width__content_box")
    void aspectRatioFlexRowStretchFillWidthContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.AUTO, Dimension.length(40.0f));
        node0Style.aspectRatio = 2.0f;
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(80.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("bevy_issue_10343_block__border_box")
    void bevyIssue10343BlockBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node000Style = new Style();
        NodeId node000 = tree.newLeaf(node000Style);

        Style node00Style = new Style();
        node00Style.display = Display.BLOCK;
        node00Style.size = new Size<>(Dimension.length(200.0f), Dimension.length(200.0f));
        node00Style.margin = new Rect<>(LengthPercentageAuto.length(5.0f), LengthPercentageAuto.length(5.0f), LengthPercentageAuto.length(5.0f), LengthPercentageAuto.length(5.0f));
        NodeId node00 = tree.newWithChildren(node00Style, node000);

        Style node0Style = new Style();
        NodeId node0 = tree.newWithChildren(node0Style, node00);

        Style nodeStyle = new Style();
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.justifyContent = AlignContent.SPACE_AROUND;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(100.0f, node0Layout.size().width, "width of node0");
        assertEquals(210.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(90.0f, node00Layout.size().width, "width of node00");
        assertEquals(200.0f, node00Layout.size().height, "height of node00");
        assertEquals(5.0f, node00Layout.location().x, "x of node00");
        assertEquals(5.0f, node00Layout.location().y, "y of node00");
        Layout node000Layout = tree.getLayout(node000);
        assertEquals(90.0f, node000Layout.size().width, "width of node000");
        assertEquals(0.0f, node000Layout.size().height, "height of node000");
        assertEquals(0.0f, node000Layout.location().x, "x of node000");
        assertEquals(0.0f, node000Layout.location().y, "y of node000");
    }

    @Test
    @DisplayName("bevy_issue_10343_block__content_box")
    void bevyIssue10343BlockContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node000Style = new Style();
        node000Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node000 = tree.newLeaf(node000Style);

        Style node00Style = new Style();
        node00Style.boxSizing = BoxSizing.CONTENT_BOX;
        node00Style.display = Display.BLOCK;
        node00Style.size = new Size<>(Dimension.length(200.0f), Dimension.length(200.0f));
        node00Style.margin = new Rect<>(LengthPercentageAuto.length(5.0f), LengthPercentageAuto.length(5.0f), LengthPercentageAuto.length(5.0f), LengthPercentageAuto.length(5.0f));
        NodeId node00 = tree.newWithChildren(node00Style, node000);

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node0 = tree.newWithChildren(node0Style, node00);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.justifyContent = AlignContent.SPACE_AROUND;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(100.0f, node0Layout.size().width, "width of node0");
        assertEquals(210.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(90.0f, node00Layout.size().width, "width of node00");
        assertEquals(200.0f, node00Layout.size().height, "height of node00");
        assertEquals(5.0f, node00Layout.location().x, "x of node00");
        assertEquals(5.0f, node00Layout.location().y, "y of node00");
        Layout node000Layout = tree.getLayout(node000);
        assertEquals(90.0f, node000Layout.size().width, "width of node000");
        assertEquals(0.0f, node000Layout.size().height, "height of node000");
        assertEquals(0.0f, node000Layout.location().x, "x of node000");
        assertEquals(0.0f, node000Layout.location().y, "y of node000");
    }

    @Test
    @DisplayName("bevy_issue_10343_flex__border_box")
    void bevyIssue10343FlexBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node000Style = new Style();
        NodeId node000 = tree.newLeaf(node000Style);

        Style node00Style = new Style();
        node00Style.size = new Size<>(Dimension.length(200.0f), Dimension.length(200.0f));
        node00Style.margin = new Rect<>(LengthPercentageAuto.length(5.0f), LengthPercentageAuto.length(5.0f), LengthPercentageAuto.length(5.0f), LengthPercentageAuto.length(5.0f));
        NodeId node00 = tree.newWithChildren(node00Style, node000);

        Style node0Style = new Style();
        NodeId node0 = tree.newWithChildren(node0Style, node00);

        Style nodeStyle = new Style();
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.justifyContent = AlignContent.SPACE_AROUND;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(100.0f, node0Layout.size().width, "width of node0");
        assertEquals(210.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(90.0f, node00Layout.size().width, "width of node00");
        assertEquals(200.0f, node00Layout.size().height, "height of node00");
        assertEquals(5.0f, node00Layout.location().x, "x of node00");
        assertEquals(5.0f, node00Layout.location().y, "y of node00");
        Layout node000Layout = tree.getLayout(node000);
        assertEquals(0.0f, node000Layout.size().width, "width of node000");
        assertEquals(200.0f, node000Layout.size().height, "height of node000");
        assertEquals(0.0f, node000Layout.location().x, "x of node000");
        assertEquals(0.0f, node000Layout.location().y, "y of node000");
    }

    @Test
    @DisplayName("bevy_issue_10343_flex__content_box")
    void bevyIssue10343FlexContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node000Style = new Style();
        node000Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node000 = tree.newLeaf(node000Style);

        Style node00Style = new Style();
        node00Style.boxSizing = BoxSizing.CONTENT_BOX;
        node00Style.size = new Size<>(Dimension.length(200.0f), Dimension.length(200.0f));
        node00Style.margin = new Rect<>(LengthPercentageAuto.length(5.0f), LengthPercentageAuto.length(5.0f), LengthPercentageAuto.length(5.0f), LengthPercentageAuto.length(5.0f));
        NodeId node00 = tree.newWithChildren(node00Style, node000);

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node0 = tree.newWithChildren(node0Style, node00);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.justifyContent = AlignContent.SPACE_AROUND;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(100.0f, node0Layout.size().width, "width of node0");
        assertEquals(210.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(90.0f, node00Layout.size().width, "width of node00");
        assertEquals(200.0f, node00Layout.size().height, "height of node00");
        assertEquals(5.0f, node00Layout.location().x, "x of node00");
        assertEquals(5.0f, node00Layout.location().y, "y of node00");
        Layout node000Layout = tree.getLayout(node000);
        assertEquals(0.0f, node000Layout.size().width, "width of node000");
        assertEquals(200.0f, node000Layout.size().height, "height of node000");
        assertEquals(0.0f, node000Layout.location().x, "x of node000");
        assertEquals(0.0f, node000Layout.location().y, "y of node000");
    }

    @Test
    @DisplayName("bevy_issue_10343_grid__border_box")
    void bevyIssue10343GridBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node000Style = new Style();
        NodeId node000 = tree.newLeaf(node000Style);

        Style node00Style = new Style();
        node00Style.display = Display.GRID;
        node00Style.size = new Size<>(Dimension.length(200.0f), Dimension.length(200.0f));
        node00Style.margin = new Rect<>(LengthPercentageAuto.length(5.0f), LengthPercentageAuto.length(5.0f), LengthPercentageAuto.length(5.0f), LengthPercentageAuto.length(5.0f));
        NodeId node00 = tree.newWithChildren(node00Style, node000);

        Style node0Style = new Style();
        NodeId node0 = tree.newWithChildren(node0Style, node00);

        Style nodeStyle = new Style();
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.justifyContent = AlignContent.SPACE_AROUND;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(100.0f, node0Layout.size().width, "width of node0");
        assertEquals(210.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(90.0f, node00Layout.size().width, "width of node00");
        assertEquals(200.0f, node00Layout.size().height, "height of node00");
        assertEquals(5.0f, node00Layout.location().x, "x of node00");
        assertEquals(5.0f, node00Layout.location().y, "y of node00");
        Layout node000Layout = tree.getLayout(node000);
        assertEquals(90.0f, node000Layout.size().width, "width of node000");
        assertEquals(200.0f, node000Layout.size().height, "height of node000");
        assertEquals(0.0f, node000Layout.location().x, "x of node000");
        assertEquals(0.0f, node000Layout.location().y, "y of node000");
    }

    @Test
    @DisplayName("bevy_issue_10343_grid__content_box")
    void bevyIssue10343GridContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node000Style = new Style();
        node000Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node000 = tree.newLeaf(node000Style);

        Style node00Style = new Style();
        node00Style.boxSizing = BoxSizing.CONTENT_BOX;
        node00Style.display = Display.GRID;
        node00Style.size = new Size<>(Dimension.length(200.0f), Dimension.length(200.0f));
        node00Style.margin = new Rect<>(LengthPercentageAuto.length(5.0f), LengthPercentageAuto.length(5.0f), LengthPercentageAuto.length(5.0f), LengthPercentageAuto.length(5.0f));
        NodeId node00 = tree.newWithChildren(node00Style, node000);

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node0 = tree.newWithChildren(node0Style, node00);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.justifyContent = AlignContent.SPACE_AROUND;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(100.0f, node0Layout.size().width, "width of node0");
        assertEquals(210.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(90.0f, node00Layout.size().width, "width of node00");
        assertEquals(200.0f, node00Layout.size().height, "height of node00");
        assertEquals(5.0f, node00Layout.location().x, "x of node00");
        assertEquals(5.0f, node00Layout.location().y, "y of node00");
        Layout node000Layout = tree.getLayout(node000);
        assertEquals(90.0f, node000Layout.size().width, "width of node000");
        assertEquals(200.0f, node000Layout.size().height, "height of node000");
        assertEquals(0.0f, node000Layout.location().x, "x of node000");
        assertEquals(0.0f, node000Layout.location().y, "y of node000");
    }

    @Test
    @DisplayName("bevy_issue_16304__border_box")
    void bevyIssue16304BorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node000Style = new Style();
        node000Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(40.0f));
        NodeId node000 = tree.newLeaf(node000Style);

        Style node001Style = new Style();
        node001Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(40.0f));
        NodeId node001 = tree.newLeaf(node001Style);

        Style node00Style = new Style();
        node00Style.flexWrap = FlexWrap.WRAP;
        node00Style.minSize = new Size<>(Dimension.length(50.0f), Dimension.AUTO);
        node00Style.gap = new Size<>(LengthPercentage.length(10.0f), LengthPercentage.length(10.0f));
        NodeId node00 = tree.newWithChildren(node00Style, node000, node001);

        Style node0Style = new Style();
        node0Style.flexDirection = FlexDirection.COLUMN;
        node0Style.size = new Size<>(Dimension.length(50.0f), Dimension.AUTO);
        NodeId node0 = tree.newWithChildren(node0Style, node00);

        Style nodeStyle = new Style();
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(50.0f, nodeLayout.size().width, "width of node");
        assertEquals(40.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(50.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(50.0f, node00Layout.size().width, "width of node00");
        assertEquals(40.0f, node00Layout.size().height, "height of node00");
        assertEquals(0.0f, node00Layout.location().x, "x of node00");
        assertEquals(0.0f, node00Layout.location().y, "y of node00");
        Layout node000Layout = tree.getLayout(node000);
        assertEquals(20.0f, node000Layout.size().width, "width of node000");
        assertEquals(40.0f, node000Layout.size().height, "height of node000");
        assertEquals(0.0f, node000Layout.location().x, "x of node000");
        assertEquals(0.0f, node000Layout.location().y, "y of node000");
        Layout node001Layout = tree.getLayout(node001);
        assertEquals(20.0f, node001Layout.size().width, "width of node001");
        assertEquals(40.0f, node001Layout.size().height, "height of node001");
        assertEquals(30.0f, node001Layout.location().x, "x of node001");
        assertEquals(0.0f, node001Layout.location().y, "y of node001");
    }

    @Test
    @DisplayName("bevy_issue_16304__content_box")
    void bevyIssue16304ContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node000Style = new Style();
        node000Style.boxSizing = BoxSizing.CONTENT_BOX;
        node000Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(40.0f));
        NodeId node000 = tree.newLeaf(node000Style);

        Style node001Style = new Style();
        node001Style.boxSizing = BoxSizing.CONTENT_BOX;
        node001Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(40.0f));
        NodeId node001 = tree.newLeaf(node001Style);

        Style node00Style = new Style();
        node00Style.boxSizing = BoxSizing.CONTENT_BOX;
        node00Style.flexWrap = FlexWrap.WRAP;
        node00Style.minSize = new Size<>(Dimension.length(50.0f), Dimension.AUTO);
        node00Style.gap = new Size<>(LengthPercentage.length(10.0f), LengthPercentage.length(10.0f));
        NodeId node00 = tree.newWithChildren(node00Style, node000, node001);

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.flexDirection = FlexDirection.COLUMN;
        node0Style.size = new Size<>(Dimension.length(50.0f), Dimension.AUTO);
        NodeId node0 = tree.newWithChildren(node0Style, node00);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(50.0f, nodeLayout.size().width, "width of node");
        assertEquals(40.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(50.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(50.0f, node00Layout.size().width, "width of node00");
        assertEquals(40.0f, node00Layout.size().height, "height of node00");
        assertEquals(0.0f, node00Layout.location().x, "x of node00");
        assertEquals(0.0f, node00Layout.location().y, "y of node00");
        Layout node000Layout = tree.getLayout(node000);
        assertEquals(20.0f, node000Layout.size().width, "width of node000");
        assertEquals(40.0f, node000Layout.size().height, "height of node000");
        assertEquals(0.0f, node000Layout.location().x, "x of node000");
        assertEquals(0.0f, node000Layout.location().y, "y of node000");
        Layout node001Layout = tree.getLayout(node001);
        assertEquals(20.0f, node001Layout.size().width, "width of node001");
        assertEquals(40.0f, node001Layout.size().height, "height of node001");
        assertEquals(30.0f, node001Layout.location().x, "x of node001");
        assertEquals(0.0f, node001Layout.location().y, "y of node001");
    }

    @Test
    @DisplayName("bevy_issue_21240__border_box")
    void bevyIssue21240BorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        node4Style.gridColumn = new Line<>(GridPlacement.line(1), GridPlacement.line(-1));
        NodeId node4 = tree.newLeaf(node4Style);

        Style node5Style = new Style();
        node5Style.gridColumn = new Line<>(GridPlacement.line(1), GridPlacement.span(4));
        NodeId node5 = tree.newLeaf(node5Style);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.gap = new Size<>(LengthPercentage.length(8.0f), LengthPercentage.length(8.0f));
        nodeStyle.padding = new Rect<>(LengthPercentage.length(8.0f), LengthPercentage.length(8.0f), LengthPercentage.length(8.0f), LengthPercentage.length(8.0f));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(200.0f, nodeLayout.size().width, "width of node");
        assertEquals(152.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(8.0f, node0Layout.location().x, "x of node0");
        assertEquals(8.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(40.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(56.0f, node1Layout.location().x, "x of node1");
        assertEquals(8.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(40.0f, node2Layout.size().width, "width of node2");
        assertEquals(40.0f, node2Layout.size().height, "height of node2");
        assertEquals(104.0f, node2Layout.location().x, "x of node2");
        assertEquals(8.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(40.0f, node3Layout.size().width, "width of node3");
        assertEquals(40.0f, node3Layout.size().height, "height of node3");
        assertEquals(152.0f, node3Layout.location().x, "x of node3");
        assertEquals(8.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(184.0f, node4Layout.size().width, "width of node4");
        assertEquals(40.0f, node4Layout.size().height, "height of node4");
        assertEquals(8.0f, node4Layout.location().x, "x of node4");
        assertEquals(56.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(184.0f, node5Layout.size().width, "width of node5");
        assertEquals(40.0f, node5Layout.size().height, "height of node5");
        assertEquals(8.0f, node5Layout.location().x, "x of node5");
        assertEquals(104.0f, node5Layout.location().y, "y of node5");
    }

    @Test
    @DisplayName("bevy_issue_21240__content_box")
    void bevyIssue21240ContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        node3Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        node4Style.boxSizing = BoxSizing.CONTENT_BOX;
        node4Style.gridColumn = new Line<>(GridPlacement.line(1), GridPlacement.line(-1));
        NodeId node4 = tree.newLeaf(node4Style);

        Style node5Style = new Style();
        node5Style.boxSizing = BoxSizing.CONTENT_BOX;
        node5Style.gridColumn = new Line<>(GridPlacement.line(1), GridPlacement.span(4));
        NodeId node5 = tree.newLeaf(node5Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.gap = new Size<>(LengthPercentage.length(8.0f), LengthPercentage.length(8.0f));
        nodeStyle.padding = new Rect<>(LengthPercentage.length(8.0f), LengthPercentage.length(8.0f), LengthPercentage.length(8.0f), LengthPercentage.length(8.0f));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(200.0f, nodeLayout.size().width, "width of node");
        assertEquals(152.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(8.0f, node0Layout.location().x, "x of node0");
        assertEquals(8.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(40.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(56.0f, node1Layout.location().x, "x of node1");
        assertEquals(8.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(40.0f, node2Layout.size().width, "width of node2");
        assertEquals(40.0f, node2Layout.size().height, "height of node2");
        assertEquals(104.0f, node2Layout.location().x, "x of node2");
        assertEquals(8.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(40.0f, node3Layout.size().width, "width of node3");
        assertEquals(40.0f, node3Layout.size().height, "height of node3");
        assertEquals(152.0f, node3Layout.location().x, "x of node3");
        assertEquals(8.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(184.0f, node4Layout.size().width, "width of node4");
        assertEquals(40.0f, node4Layout.size().height, "height of node4");
        assertEquals(8.0f, node4Layout.location().x, "x of node4");
        assertEquals(56.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(184.0f, node5Layout.size().width, "width of node5");
        assertEquals(40.0f, node5Layout.size().height, "height of node5");
        assertEquals(8.0f, node5Layout.location().x, "x of node5");
        assertEquals(104.0f, node5Layout.location().y, "y of node5");
    }

    @Test
    @DisplayName("bevy_issue_7976_3_level__border_box")
    void bevyIssue79763LevelBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.size = new Size<>(Dimension.percent(1.0f), Dimension.percent(1.0f));
        node00Style.padding = new Rect<>(LengthPercentage.length(5.0f), LengthPercentage.length(5.0f), LengthPercentage.length(5.0f), LengthPercentage.length(5.0f));
        NodeId node00 = tree.newLeaf(node00Style);

        Style node0Style = new Style();
        node0Style.minSize = new Size<>(Dimension.length(40.0f), Dimension.length(40.0f));
        node0Style.margin = new Rect<>(LengthPercentageAuto.length(5.0f), LengthPercentageAuto.length(5.0f), LengthPercentageAuto.length(5.0f), LengthPercentageAuto.length(5.0f));
        node0Style.padding = new Rect<>(LengthPercentage.length(5.0f), LengthPercentage.length(5.0f), LengthPercentage.length(5.0f), LengthPercentage.length(5.0f));
        NodeId node0 = tree.newWithChildren(node0Style, node00);

        Style nodeStyle = new Style();
        nodeStyle.alignContent = AlignContent.START;
        nodeStyle.size = new Size<>(Dimension.length(200.0f), Dimension.length(200.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(200.0f, nodeLayout.size().width, "width of node");
        assertEquals(200.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(190.0f, node0Layout.size().height, "height of node0");
        assertEquals(5.0f, node0Layout.location().x, "x of node0");
        assertEquals(5.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(30.0f, node00Layout.size().width, "width of node00");
        assertEquals(180.0f, node00Layout.size().height, "height of node00");
        assertEquals(5.0f, node00Layout.location().x, "x of node00");
        assertEquals(5.0f, node00Layout.location().y, "y of node00");
    }

    @Test
    @DisplayName("bevy_issue_7976_3_level__content_box")
    void bevyIssue79763LevelContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.boxSizing = BoxSizing.CONTENT_BOX;
        node00Style.size = new Size<>(Dimension.percent(1.0f), Dimension.percent(1.0f));
        node00Style.padding = new Rect<>(LengthPercentage.length(5.0f), LengthPercentage.length(5.0f), LengthPercentage.length(5.0f), LengthPercentage.length(5.0f));
        NodeId node00 = tree.newLeaf(node00Style);

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.minSize = new Size<>(Dimension.length(40.0f), Dimension.length(40.0f));
        node0Style.margin = new Rect<>(LengthPercentageAuto.length(5.0f), LengthPercentageAuto.length(5.0f), LengthPercentageAuto.length(5.0f), LengthPercentageAuto.length(5.0f));
        node0Style.padding = new Rect<>(LengthPercentage.length(5.0f), LengthPercentage.length(5.0f), LengthPercentage.length(5.0f), LengthPercentage.length(5.0f));
        NodeId node0 = tree.newWithChildren(node0Style, node00);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.alignContent = AlignContent.START;
        nodeStyle.size = new Size<>(Dimension.length(200.0f), Dimension.length(200.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(200.0f, nodeLayout.size().width, "width of node");
        assertEquals(200.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(50.0f, node0Layout.size().width, "width of node0");
        assertEquals(190.0f, node0Layout.size().height, "height of node0");
        assertEquals(5.0f, node0Layout.location().x, "x of node0");
        assertEquals(5.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(40.0f, node00Layout.size().width, "width of node00");
        assertEquals(190.0f, node00Layout.size().height, "height of node00");
        assertEquals(5.0f, node00Layout.location().x, "x of node00");
        assertEquals(5.0f, node00Layout.location().y, "y of node00");
    }

    @Test
    @DisplayName("bevy_issue_7976_4_level__border_box")
    void bevyIssue79764LevelBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node000Style = new Style();
        NodeId node000 = tree.newLeaf(node000Style);

        Style node00Style = new Style();
        node00Style.size = new Size<>(Dimension.percent(1.0f), Dimension.percent(1.0f));
        node00Style.padding = new Rect<>(LengthPercentage.length(5.0f), LengthPercentage.length(5.0f), LengthPercentage.length(5.0f), LengthPercentage.length(5.0f));
        NodeId node00 = tree.newWithChildren(node00Style, node000);

        Style node0Style = new Style();
        node0Style.minSize = new Size<>(Dimension.length(40.0f), Dimension.length(40.0f));
        node0Style.margin = new Rect<>(LengthPercentageAuto.length(5.0f), LengthPercentageAuto.length(5.0f), LengthPercentageAuto.length(5.0f), LengthPercentageAuto.length(5.0f));
        node0Style.padding = new Rect<>(LengthPercentage.length(5.0f), LengthPercentage.length(5.0f), LengthPercentage.length(5.0f), LengthPercentage.length(5.0f));
        NodeId node0 = tree.newWithChildren(node0Style, node00);

        Style nodeStyle = new Style();
        nodeStyle.alignContent = AlignContent.START;
        nodeStyle.size = new Size<>(Dimension.length(200.0f), Dimension.length(200.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(200.0f, nodeLayout.size().width, "width of node");
        assertEquals(200.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(190.0f, node0Layout.size().height, "height of node0");
        assertEquals(5.0f, node0Layout.location().x, "x of node0");
        assertEquals(5.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(30.0f, node00Layout.size().width, "width of node00");
        assertEquals(180.0f, node00Layout.size().height, "height of node00");
        assertEquals(5.0f, node00Layout.location().x, "x of node00");
        assertEquals(5.0f, node00Layout.location().y, "y of node00");
        Layout node000Layout = tree.getLayout(node000);
        assertEquals(0.0f, node000Layout.size().width, "width of node000");
        assertEquals(170.0f, node000Layout.size().height, "height of node000");
        assertEquals(5.0f, node000Layout.location().x, "x of node000");
        assertEquals(5.0f, node000Layout.location().y, "y of node000");
    }

    @Test
    @DisplayName("bevy_issue_7976_4_level__content_box")
    void bevyIssue79764LevelContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node000Style = new Style();
        node000Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node000 = tree.newLeaf(node000Style);

        Style node00Style = new Style();
        node00Style.boxSizing = BoxSizing.CONTENT_BOX;
        node00Style.size = new Size<>(Dimension.percent(1.0f), Dimension.percent(1.0f));
        node00Style.padding = new Rect<>(LengthPercentage.length(5.0f), LengthPercentage.length(5.0f), LengthPercentage.length(5.0f), LengthPercentage.length(5.0f));
        NodeId node00 = tree.newWithChildren(node00Style, node000);

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.minSize = new Size<>(Dimension.length(40.0f), Dimension.length(40.0f));
        node0Style.margin = new Rect<>(LengthPercentageAuto.length(5.0f), LengthPercentageAuto.length(5.0f), LengthPercentageAuto.length(5.0f), LengthPercentageAuto.length(5.0f));
        node0Style.padding = new Rect<>(LengthPercentage.length(5.0f), LengthPercentage.length(5.0f), LengthPercentage.length(5.0f), LengthPercentage.length(5.0f));
        NodeId node0 = tree.newWithChildren(node0Style, node00);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.alignContent = AlignContent.START;
        nodeStyle.size = new Size<>(Dimension.length(200.0f), Dimension.length(200.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(200.0f, nodeLayout.size().width, "width of node");
        assertEquals(200.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(50.0f, node0Layout.size().width, "width of node0");
        assertEquals(190.0f, node0Layout.size().height, "height of node0");
        assertEquals(5.0f, node0Layout.location().x, "x of node0");
        assertEquals(5.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(40.0f, node00Layout.size().width, "width of node00");
        assertEquals(190.0f, node00Layout.size().height, "height of node00");
        assertEquals(5.0f, node00Layout.location().x, "x of node00");
        assertEquals(5.0f, node00Layout.location().y, "y of node00");
        Layout node000Layout = tree.getLayout(node000);
        assertEquals(0.0f, node000Layout.size().width, "width of node000");
        assertEquals(180.0f, node000Layout.size().height, "height of node000");
        assertEquals(5.0f, node000Layout.location().x, "x of node000");
        assertEquals(5.0f, node000Layout.location().y, "y of node000");
    }

    @Test
    @DisplayName("bevy_issue_7976_reduced__border_box")
    void bevyIssue7976ReducedBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.length(40.0f), Dimension.AUTO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.alignContent = AlignContent.START;
        nodeStyle.size = new Size<>(Dimension.AUTO, Dimension.length(200.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(40.0f, nodeLayout.size().width, "width of node");
        assertEquals(200.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(200.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("bevy_issue_7976_reduced__content_box")
    void bevyIssue7976ReducedContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.length(40.0f), Dimension.AUTO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.alignContent = AlignContent.START;
        nodeStyle.size = new Size<>(Dimension.AUTO, Dimension.length(200.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(40.0f, nodeLayout.size().width, "width of node");
        assertEquals(200.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(200.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("bevy_issue_8017__border_box")
    void bevyIssue8017BorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.size = new Size<>(Dimension.percent(1.0f), Dimension.percent(1.0f));
        NodeId node00 = tree.newLeaf(node00Style);

        Style node01Style = new Style();
        node01Style.size = new Size<>(Dimension.percent(1.0f), Dimension.percent(1.0f));
        NodeId node01 = tree.newLeaf(node01Style);

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.percent(1.0f), Dimension.percent(0.5f));
        node0Style.gap = new Size<>(LengthPercentage.length(8.0f), LengthPercentage.length(8.0f));
        NodeId node0 = tree.newWithChildren(node0Style, node00, node01);

        Style node10Style = new Style();
        node10Style.size = new Size<>(Dimension.percent(1.0f), Dimension.percent(1.0f));
        NodeId node10 = tree.newLeaf(node10Style);

        Style node11Style = new Style();
        node11Style.size = new Size<>(Dimension.percent(1.0f), Dimension.percent(1.0f));
        NodeId node11 = tree.newLeaf(node11Style);

        Style node1Style = new Style();
        node1Style.size = new Size<>(Dimension.percent(1.0f), Dimension.percent(0.5f));
        node1Style.gap = new Size<>(LengthPercentage.length(8.0f), LengthPercentage.length(8.0f));
        NodeId node1 = tree.newWithChildren(node1Style, node10, node11);

        Style nodeStyle = new Style();
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.size = new Size<>(Dimension.length(400.0f), Dimension.length(400.0f));
        nodeStyle.gap = new Size<>(LengthPercentage.length(8.0f), LengthPercentage.length(8.0f));
        nodeStyle.padding = new Rect<>(LengthPercentage.length(8.0f), LengthPercentage.length(8.0f), LengthPercentage.length(8.0f), LengthPercentage.length(8.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(400.0f, nodeLayout.size().width, "width of node");
        assertEquals(400.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(384.0f, node0Layout.size().width, "width of node0");
        assertEquals(188.0f, node0Layout.size().height, "height of node0");
        assertEquals(8.0f, node0Layout.location().x, "x of node0");
        assertEquals(8.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(188.0f, node00Layout.size().width, "width of node00");
        assertEquals(188.0f, node00Layout.size().height, "height of node00");
        assertEquals(0.0f, node00Layout.location().x, "x of node00");
        assertEquals(0.0f, node00Layout.location().y, "y of node00");
        Layout node01Layout = tree.getLayout(node01);
        assertEquals(188.0f, node01Layout.size().width, "width of node01");
        assertEquals(188.0f, node01Layout.size().height, "height of node01");
        assertEquals(196.0f, node01Layout.location().x, "x of node01");
        assertEquals(0.0f, node01Layout.location().y, "y of node01");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(384.0f, node1Layout.size().width, "width of node1");
        assertEquals(188.0f, node1Layout.size().height, "height of node1");
        assertEquals(8.0f, node1Layout.location().x, "x of node1");
        assertEquals(204.0f, node1Layout.location().y, "y of node1");
        Layout node10Layout = tree.getLayout(node10);
        assertEquals(188.0f, node10Layout.size().width, "width of node10");
        assertEquals(188.0f, node10Layout.size().height, "height of node10");
        assertEquals(0.0f, node10Layout.location().x, "x of node10");
        assertEquals(0.0f, node10Layout.location().y, "y of node10");
        Layout node11Layout = tree.getLayout(node11);
        assertEquals(188.0f, node11Layout.size().width, "width of node11");
        assertEquals(188.0f, node11Layout.size().height, "height of node11");
        assertEquals(196.0f, node11Layout.location().x, "x of node11");
        assertEquals(0.0f, node11Layout.location().y, "y of node11");
    }

    @Test
    @DisplayName("bevy_issue_8017__content_box")
    void bevyIssue8017ContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.boxSizing = BoxSizing.CONTENT_BOX;
        node00Style.size = new Size<>(Dimension.percent(1.0f), Dimension.percent(1.0f));
        NodeId node00 = tree.newLeaf(node00Style);

        Style node01Style = new Style();
        node01Style.boxSizing = BoxSizing.CONTENT_BOX;
        node01Style.size = new Size<>(Dimension.percent(1.0f), Dimension.percent(1.0f));
        NodeId node01 = tree.newLeaf(node01Style);

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.percent(1.0f), Dimension.percent(0.5f));
        node0Style.gap = new Size<>(LengthPercentage.length(8.0f), LengthPercentage.length(8.0f));
        NodeId node0 = tree.newWithChildren(node0Style, node00, node01);

        Style node10Style = new Style();
        node10Style.boxSizing = BoxSizing.CONTENT_BOX;
        node10Style.size = new Size<>(Dimension.percent(1.0f), Dimension.percent(1.0f));
        NodeId node10 = tree.newLeaf(node10Style);

        Style node11Style = new Style();
        node11Style.boxSizing = BoxSizing.CONTENT_BOX;
        node11Style.size = new Size<>(Dimension.percent(1.0f), Dimension.percent(1.0f));
        NodeId node11 = tree.newLeaf(node11Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.size = new Size<>(Dimension.percent(1.0f), Dimension.percent(0.5f));
        node1Style.gap = new Size<>(LengthPercentage.length(8.0f), LengthPercentage.length(8.0f));
        NodeId node1 = tree.newWithChildren(node1Style, node10, node11);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.size = new Size<>(Dimension.length(400.0f), Dimension.length(400.0f));
        nodeStyle.gap = new Size<>(LengthPercentage.length(8.0f), LengthPercentage.length(8.0f));
        nodeStyle.padding = new Rect<>(LengthPercentage.length(8.0f), LengthPercentage.length(8.0f), LengthPercentage.length(8.0f), LengthPercentage.length(8.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(416.0f, nodeLayout.size().width, "width of node");
        assertEquals(416.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(400.0f, node0Layout.size().width, "width of node0");
        assertEquals(196.0f, node0Layout.size().height, "height of node0");
        assertEquals(8.0f, node0Layout.location().x, "x of node0");
        assertEquals(8.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(196.0f, node00Layout.size().width, "width of node00");
        assertEquals(196.0f, node00Layout.size().height, "height of node00");
        assertEquals(0.0f, node00Layout.location().x, "x of node00");
        assertEquals(0.0f, node00Layout.location().y, "y of node00");
        Layout node01Layout = tree.getLayout(node01);
        assertEquals(196.0f, node01Layout.size().width, "width of node01");
        assertEquals(196.0f, node01Layout.size().height, "height of node01");
        assertEquals(204.0f, node01Layout.location().x, "x of node01");
        assertEquals(0.0f, node01Layout.location().y, "y of node01");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(400.0f, node1Layout.size().width, "width of node1");
        assertEquals(196.0f, node1Layout.size().height, "height of node1");
        assertEquals(8.0f, node1Layout.location().x, "x of node1");
        assertEquals(212.0f, node1Layout.location().y, "y of node1");
        Layout node10Layout = tree.getLayout(node10);
        assertEquals(196.0f, node10Layout.size().width, "width of node10");
        assertEquals(196.0f, node10Layout.size().height, "height of node10");
        assertEquals(0.0f, node10Layout.location().x, "x of node10");
        assertEquals(0.0f, node10Layout.location().y, "y of node10");
        Layout node11Layout = tree.getLayout(node11);
        assertEquals(196.0f, node11Layout.size().width, "width of node11");
        assertEquals(196.0f, node11Layout.size().height, "height of node11");
        assertEquals(204.0f, node11Layout.location().x, "x of node11");
        assertEquals(0.0f, node11Layout.location().y, "y of node11");
    }

    @Test
    @DisplayName("bevy_issue_8017_reduced__border_box")
    void bevyIssue8017ReducedBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        NodeId node00 = tree.newLeaf(node00Style);

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.AUTO, Dimension.percent(0.5f));
        NodeId node0 = tree.newWithChildren(node0Style, node00);

        Style node10Style = new Style();
        NodeId node10 = tree.newLeaf(node10Style);

        Style node1Style = new Style();
        node1Style.size = new Size<>(Dimension.AUTO, Dimension.percent(0.5f));
        NodeId node1 = tree.newWithChildren(node1Style, node10);

        Style nodeStyle = new Style();
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.size = new Size<>(Dimension.length(200.0f), Dimension.length(400.0f));
        nodeStyle.gap = new Size<>(LengthPercentage.length(8.0f), LengthPercentage.length(8.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(200.0f, nodeLayout.size().width, "width of node");
        assertEquals(400.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(200.0f, node0Layout.size().width, "width of node0");
        assertEquals(196.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(0.0f, node00Layout.size().width, "width of node00");
        assertEquals(196.0f, node00Layout.size().height, "height of node00");
        assertEquals(0.0f, node00Layout.location().x, "x of node00");
        assertEquals(0.0f, node00Layout.location().y, "y of node00");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(200.0f, node1Layout.size().width, "width of node1");
        assertEquals(196.0f, node1Layout.size().height, "height of node1");
        assertEquals(0.0f, node1Layout.location().x, "x of node1");
        assertEquals(204.0f, node1Layout.location().y, "y of node1");
        Layout node10Layout = tree.getLayout(node10);
        assertEquals(0.0f, node10Layout.size().width, "width of node10");
        assertEquals(196.0f, node10Layout.size().height, "height of node10");
        assertEquals(0.0f, node10Layout.location().x, "x of node10");
        assertEquals(0.0f, node10Layout.location().y, "y of node10");
    }

    @Test
    @DisplayName("bevy_issue_8017_reduced__content_box")
    void bevyIssue8017ReducedContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node00 = tree.newLeaf(node00Style);

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.AUTO, Dimension.percent(0.5f));
        NodeId node0 = tree.newWithChildren(node0Style, node00);

        Style node10Style = new Style();
        node10Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node10 = tree.newLeaf(node10Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.size = new Size<>(Dimension.AUTO, Dimension.percent(0.5f));
        NodeId node1 = tree.newWithChildren(node1Style, node10);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.size = new Size<>(Dimension.length(200.0f), Dimension.length(400.0f));
        nodeStyle.gap = new Size<>(LengthPercentage.length(8.0f), LengthPercentage.length(8.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(200.0f, nodeLayout.size().width, "width of node");
        assertEquals(400.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(200.0f, node0Layout.size().width, "width of node0");
        assertEquals(196.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(0.0f, node00Layout.size().width, "width of node00");
        assertEquals(196.0f, node00Layout.size().height, "height of node00");
        assertEquals(0.0f, node00Layout.location().x, "x of node00");
        assertEquals(0.0f, node00Layout.location().y, "y of node00");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(200.0f, node1Layout.size().width, "width of node1");
        assertEquals(196.0f, node1Layout.size().height, "height of node1");
        assertEquals(0.0f, node1Layout.location().x, "x of node1");
        assertEquals(204.0f, node1Layout.location().y, "y of node1");
        Layout node10Layout = tree.getLayout(node10);
        assertEquals(0.0f, node10Layout.size().width, "width of node10");
        assertEquals(196.0f, node10Layout.size().height, "height of node10");
        assertEquals(0.0f, node10Layout.location().x, "x of node10");
        assertEquals(0.0f, node10Layout.location().y, "y of node10");
    }

    @Test
    @DisplayName("bevy_issue_8082__border_box")
    void bevyIssue8082BorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        node00Style.margin = new Rect<>(LengthPercentageAuto.length(10.0f), LengthPercentageAuto.length(10.0f), LengthPercentageAuto.length(10.0f), LengthPercentageAuto.length(10.0f));
        NodeId node00 = tree.newLeaf(node00Style);

        Style node01Style = new Style();
        node01Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        node01Style.margin = new Rect<>(LengthPercentageAuto.length(10.0f), LengthPercentageAuto.length(10.0f), LengthPercentageAuto.length(10.0f), LengthPercentageAuto.length(10.0f));
        NodeId node01 = tree.newLeaf(node01Style);

        Style node02Style = new Style();
        node02Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        node02Style.margin = new Rect<>(LengthPercentageAuto.length(10.0f), LengthPercentageAuto.length(10.0f), LengthPercentageAuto.length(10.0f), LengthPercentageAuto.length(10.0f));
        NodeId node02 = tree.newLeaf(node02Style);

        Style node03Style = new Style();
        node03Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        node03Style.margin = new Rect<>(LengthPercentageAuto.length(10.0f), LengthPercentageAuto.length(10.0f), LengthPercentageAuto.length(10.0f), LengthPercentageAuto.length(10.0f));
        NodeId node03 = tree.newLeaf(node03Style);

        Style node0Style = new Style();
        node0Style.flexWrap = FlexWrap.WRAP;
        node0Style.alignItems = AlignItems.FLEX_START;
        node0Style.alignContent = AlignContent.CENTER;
        node0Style.justifyContent = AlignContent.CENTER;
        NodeId node0 = tree.newWithChildren(node0Style, node00, node01, node02, node03);

        Style nodeStyle = new Style();
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.alignItems = AlignItems.STRETCH;
        nodeStyle.alignContent = AlignContent.CENTER;
        nodeStyle.justifyContent = AlignContent.FLEX_START;
        nodeStyle.size = new Size<>(Dimension.length(200.0f), Dimension.length(400.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(200.0f, nodeLayout.size().width, "width of node");
        assertEquals(400.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(200.0f, node0Layout.size().width, "width of node0");
        assertEquals(140.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(50.0f, node00Layout.size().width, "width of node00");
        assertEquals(50.0f, node00Layout.size().height, "height of node00");
        assertEquals(40.0f, node00Layout.location().x, "x of node00");
        assertEquals(10.0f, node00Layout.location().y, "y of node00");
        Layout node01Layout = tree.getLayout(node01);
        assertEquals(50.0f, node01Layout.size().width, "width of node01");
        assertEquals(50.0f, node01Layout.size().height, "height of node01");
        assertEquals(110.0f, node01Layout.location().x, "x of node01");
        assertEquals(10.0f, node01Layout.location().y, "y of node01");
        Layout node02Layout = tree.getLayout(node02);
        assertEquals(50.0f, node02Layout.size().width, "width of node02");
        assertEquals(50.0f, node02Layout.size().height, "height of node02");
        assertEquals(40.0f, node02Layout.location().x, "x of node02");
        assertEquals(80.0f, node02Layout.location().y, "y of node02");
        Layout node03Layout = tree.getLayout(node03);
        assertEquals(50.0f, node03Layout.size().width, "width of node03");
        assertEquals(50.0f, node03Layout.size().height, "height of node03");
        assertEquals(110.0f, node03Layout.location().x, "x of node03");
        assertEquals(80.0f, node03Layout.location().y, "y of node03");
    }

    @Test
    @DisplayName("bevy_issue_8082__content_box")
    void bevyIssue8082ContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.boxSizing = BoxSizing.CONTENT_BOX;
        node00Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        node00Style.margin = new Rect<>(LengthPercentageAuto.length(10.0f), LengthPercentageAuto.length(10.0f), LengthPercentageAuto.length(10.0f), LengthPercentageAuto.length(10.0f));
        NodeId node00 = tree.newLeaf(node00Style);

        Style node01Style = new Style();
        node01Style.boxSizing = BoxSizing.CONTENT_BOX;
        node01Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        node01Style.margin = new Rect<>(LengthPercentageAuto.length(10.0f), LengthPercentageAuto.length(10.0f), LengthPercentageAuto.length(10.0f), LengthPercentageAuto.length(10.0f));
        NodeId node01 = tree.newLeaf(node01Style);

        Style node02Style = new Style();
        node02Style.boxSizing = BoxSizing.CONTENT_BOX;
        node02Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        node02Style.margin = new Rect<>(LengthPercentageAuto.length(10.0f), LengthPercentageAuto.length(10.0f), LengthPercentageAuto.length(10.0f), LengthPercentageAuto.length(10.0f));
        NodeId node02 = tree.newLeaf(node02Style);

        Style node03Style = new Style();
        node03Style.boxSizing = BoxSizing.CONTENT_BOX;
        node03Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        node03Style.margin = new Rect<>(LengthPercentageAuto.length(10.0f), LengthPercentageAuto.length(10.0f), LengthPercentageAuto.length(10.0f), LengthPercentageAuto.length(10.0f));
        NodeId node03 = tree.newLeaf(node03Style);

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.flexWrap = FlexWrap.WRAP;
        node0Style.alignItems = AlignItems.FLEX_START;
        node0Style.alignContent = AlignContent.CENTER;
        node0Style.justifyContent = AlignContent.CENTER;
        NodeId node0 = tree.newWithChildren(node0Style, node00, node01, node02, node03);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.alignItems = AlignItems.STRETCH;
        nodeStyle.alignContent = AlignContent.CENTER;
        nodeStyle.justifyContent = AlignContent.FLEX_START;
        nodeStyle.size = new Size<>(Dimension.length(200.0f), Dimension.length(400.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(200.0f, nodeLayout.size().width, "width of node");
        assertEquals(400.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(200.0f, node0Layout.size().width, "width of node0");
        assertEquals(140.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(50.0f, node00Layout.size().width, "width of node00");
        assertEquals(50.0f, node00Layout.size().height, "height of node00");
        assertEquals(40.0f, node00Layout.location().x, "x of node00");
        assertEquals(10.0f, node00Layout.location().y, "y of node00");
        Layout node01Layout = tree.getLayout(node01);
        assertEquals(50.0f, node01Layout.size().width, "width of node01");
        assertEquals(50.0f, node01Layout.size().height, "height of node01");
        assertEquals(110.0f, node01Layout.location().x, "x of node01");
        assertEquals(10.0f, node01Layout.location().y, "y of node01");
        Layout node02Layout = tree.getLayout(node02);
        assertEquals(50.0f, node02Layout.size().width, "width of node02");
        assertEquals(50.0f, node02Layout.size().height, "height of node02");
        assertEquals(40.0f, node02Layout.location().x, "x of node02");
        assertEquals(80.0f, node02Layout.location().y, "y of node02");
        Layout node03Layout = tree.getLayout(node03);
        assertEquals(50.0f, node03Layout.size().width, "width of node03");
        assertEquals(50.0f, node03Layout.size().height, "height of node03");
        assertEquals(110.0f, node03Layout.location().x, "x of node03");
        assertEquals(80.0f, node03Layout.location().y, "y of node03");
    }

    @Test
    @DisplayName("bevy_issue_8082_percent__border_box")
    void bevyIssue8082PercentBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        NodeId node00 = tree.newLeaf(node00Style);

        Style node01Style = new Style();
        node01Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        NodeId node01 = tree.newLeaf(node01Style);

        Style node02Style = new Style();
        node02Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        NodeId node02 = tree.newLeaf(node02Style);

        Style node03Style = new Style();
        node03Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        NodeId node03 = tree.newLeaf(node03Style);

        Style node0Style = new Style();
        node0Style.flexWrap = FlexWrap.WRAP;
        node0Style.alignItems = AlignItems.FLEX_START;
        node0Style.alignContent = AlignContent.CENTER;
        node0Style.justifyContent = AlignContent.CENTER;
        node0Style.size = new Size<>(Dimension.percent(0.5f), Dimension.AUTO);
        NodeId node0 = tree.newWithChildren(node0Style, node00, node01, node02, node03);

        Style nodeStyle = new Style();
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.alignItems = AlignItems.STRETCH;
        nodeStyle.alignContent = AlignContent.CENTER;
        nodeStyle.justifyContent = AlignContent.FLEX_START;
        nodeStyle.size = new Size<>(Dimension.length(200.0f), Dimension.length(400.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(200.0f, nodeLayout.size().width, "width of node");
        assertEquals(400.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(100.0f, node0Layout.size().width, "width of node0");
        assertEquals(100.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(50.0f, node00Layout.size().width, "width of node00");
        assertEquals(50.0f, node00Layout.size().height, "height of node00");
        assertEquals(0.0f, node00Layout.location().x, "x of node00");
        assertEquals(0.0f, node00Layout.location().y, "y of node00");
        Layout node01Layout = tree.getLayout(node01);
        assertEquals(50.0f, node01Layout.size().width, "width of node01");
        assertEquals(50.0f, node01Layout.size().height, "height of node01");
        assertEquals(50.0f, node01Layout.location().x, "x of node01");
        assertEquals(0.0f, node01Layout.location().y, "y of node01");
        Layout node02Layout = tree.getLayout(node02);
        assertEquals(50.0f, node02Layout.size().width, "width of node02");
        assertEquals(50.0f, node02Layout.size().height, "height of node02");
        assertEquals(0.0f, node02Layout.location().x, "x of node02");
        assertEquals(50.0f, node02Layout.location().y, "y of node02");
        Layout node03Layout = tree.getLayout(node03);
        assertEquals(50.0f, node03Layout.size().width, "width of node03");
        assertEquals(50.0f, node03Layout.size().height, "height of node03");
        assertEquals(50.0f, node03Layout.location().x, "x of node03");
        assertEquals(50.0f, node03Layout.location().y, "y of node03");
    }

    @Test
    @DisplayName("bevy_issue_8082_percent__content_box")
    void bevyIssue8082PercentContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.boxSizing = BoxSizing.CONTENT_BOX;
        node00Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        NodeId node00 = tree.newLeaf(node00Style);

        Style node01Style = new Style();
        node01Style.boxSizing = BoxSizing.CONTENT_BOX;
        node01Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        NodeId node01 = tree.newLeaf(node01Style);

        Style node02Style = new Style();
        node02Style.boxSizing = BoxSizing.CONTENT_BOX;
        node02Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        NodeId node02 = tree.newLeaf(node02Style);

        Style node03Style = new Style();
        node03Style.boxSizing = BoxSizing.CONTENT_BOX;
        node03Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        NodeId node03 = tree.newLeaf(node03Style);

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.flexWrap = FlexWrap.WRAP;
        node0Style.alignItems = AlignItems.FLEX_START;
        node0Style.alignContent = AlignContent.CENTER;
        node0Style.justifyContent = AlignContent.CENTER;
        node0Style.size = new Size<>(Dimension.percent(0.5f), Dimension.AUTO);
        NodeId node0 = tree.newWithChildren(node0Style, node00, node01, node02, node03);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.alignItems = AlignItems.STRETCH;
        nodeStyle.alignContent = AlignContent.CENTER;
        nodeStyle.justifyContent = AlignContent.FLEX_START;
        nodeStyle.size = new Size<>(Dimension.length(200.0f), Dimension.length(400.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(200.0f, nodeLayout.size().width, "width of node");
        assertEquals(400.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(100.0f, node0Layout.size().width, "width of node0");
        assertEquals(100.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(50.0f, node00Layout.size().width, "width of node00");
        assertEquals(50.0f, node00Layout.size().height, "height of node00");
        assertEquals(0.0f, node00Layout.location().x, "x of node00");
        assertEquals(0.0f, node00Layout.location().y, "y of node00");
        Layout node01Layout = tree.getLayout(node01);
        assertEquals(50.0f, node01Layout.size().width, "width of node01");
        assertEquals(50.0f, node01Layout.size().height, "height of node01");
        assertEquals(50.0f, node01Layout.location().x, "x of node01");
        assertEquals(0.0f, node01Layout.location().y, "y of node01");
        Layout node02Layout = tree.getLayout(node02);
        assertEquals(50.0f, node02Layout.size().width, "width of node02");
        assertEquals(50.0f, node02Layout.size().height, "height of node02");
        assertEquals(0.0f, node02Layout.location().x, "x of node02");
        assertEquals(50.0f, node02Layout.location().y, "y of node02");
        Layout node03Layout = tree.getLayout(node03);
        assertEquals(50.0f, node03Layout.size().width, "width of node03");
        assertEquals(50.0f, node03Layout.size().height, "height of node03");
        assertEquals(50.0f, node03Layout.location().x, "x of node03");
        assertEquals(50.0f, node03Layout.location().y, "y of node03");
    }

    @Test
    @DisplayName("bevy_issue_9530__border_box")
    void bevyIssue9530BorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.flexDirection = FlexDirection.COLUMN;
        node0Style.size = new Size<>(Dimension.percent(1.0f), Dimension.length(20.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node10Style = new Style();
        node10Style.size = new Size<>(Dimension.percent(1.0f), Dimension.length(50.0f));
        NodeId node10 = tree.newLeaf(node10Style);

        Style node11Style = new Style();
        node11Style.alignItems = AlignItems.CENTER;
        node11Style.alignContent = AlignContent.CENTER;
        node11Style.justifyContent = AlignContent.CENTER;
        node11Style.flexGrow = 1.0f;
        node11Style.margin = new Rect<>(LengthPercentageAuto.length(20.0f), LengthPercentageAuto.length(20.0f), LengthPercentageAuto.length(20.0f), LengthPercentageAuto.length(20.0f));
        MeasureFunc node11Measure = ahemTextMeasure("HHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH", false);
        NodeId node11 = tree.newLeafWithMeasure(node11Style, node11Measure);

        Style node12Style = new Style();
        node12Style.size = new Size<>(Dimension.percent(1.0f), Dimension.length(50.0f));
        NodeId node12 = tree.newLeaf(node12Style);

        Style node1Style = new Style();
        node1Style.flexDirection = FlexDirection.COLUMN;
        node1Style.flexGrow = 1.0f;
        node1Style.size = new Size<>(Dimension.percent(1.0f), Dimension.AUTO);
        node1Style.margin = new Rect<>(LengthPercentageAuto.length(20.0f), LengthPercentageAuto.length(20.0f), LengthPercentageAuto.length(20.0f), LengthPercentageAuto.length(20.0f));
        node1Style.padding = new Rect<>(LengthPercentage.length(20.0f), LengthPercentage.length(20.0f), LengthPercentage.length(20.0f), LengthPercentage.length(20.0f));
        NodeId node1 = tree.newWithChildren(node1Style, node10, node11, node12);

        Style nodeStyle = new Style();
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.alignItems = AlignItems.CENTER;
        nodeStyle.alignContent = AlignContent.CENTER;
        nodeStyle.size = new Size<>(Dimension.length(300.0f), Dimension.length(300.0f));
        nodeStyle.margin = new Rect<>(LengthPercentageAuto.AUTO, LengthPercentageAuto.AUTO, LengthPercentageAuto.AUTO, LengthPercentageAuto.AUTO);
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(300.0f, nodeLayout.size().width, "width of node");
        assertEquals(300.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(300.0f, node0Layout.size().width, "width of node0");
        assertEquals(0.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(300.0f, node1Layout.size().width, "width of node1");
        assertEquals(420.0f, node1Layout.size().height, "height of node1");
        assertEquals(0.0f, node1Layout.location().x, "x of node1");
        assertEquals(20.0f, node1Layout.location().y, "y of node1");
        Layout node10Layout = tree.getLayout(node10);
        assertEquals(260.0f, node10Layout.size().width, "width of node10");
        assertEquals(50.0f, node10Layout.size().height, "height of node10");
        assertEquals(20.0f, node10Layout.location().x, "x of node10");
        assertEquals(20.0f, node10Layout.location().y, "y of node10");
        Layout node11Layout = tree.getLayout(node11);
        assertEquals(220.0f, node11Layout.size().width, "width of node11");
        assertEquals(240.0f, node11Layout.size().height, "height of node11");
        assertEquals(40.0f, node11Layout.location().x, "x of node11");
        assertEquals(90.0f, node11Layout.location().y, "y of node11");
        Layout node12Layout = tree.getLayout(node12);
        assertEquals(260.0f, node12Layout.size().width, "width of node12");
        assertEquals(50.0f, node12Layout.size().height, "height of node12");
        assertEquals(20.0f, node12Layout.location().x, "x of node12");
        assertEquals(350.0f, node12Layout.location().y, "y of node12");
    }

    @Test
    @DisplayName("bevy_issue_9530__content_box")
    void bevyIssue9530ContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.flexDirection = FlexDirection.COLUMN;
        node0Style.size = new Size<>(Dimension.percent(1.0f), Dimension.length(20.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node10Style = new Style();
        node10Style.boxSizing = BoxSizing.CONTENT_BOX;
        node10Style.size = new Size<>(Dimension.percent(1.0f), Dimension.length(50.0f));
        NodeId node10 = tree.newLeaf(node10Style);

        Style node11Style = new Style();
        node11Style.boxSizing = BoxSizing.CONTENT_BOX;
        node11Style.alignItems = AlignItems.CENTER;
        node11Style.alignContent = AlignContent.CENTER;
        node11Style.justifyContent = AlignContent.CENTER;
        node11Style.flexGrow = 1.0f;
        node11Style.margin = new Rect<>(LengthPercentageAuto.length(20.0f), LengthPercentageAuto.length(20.0f), LengthPercentageAuto.length(20.0f), LengthPercentageAuto.length(20.0f));
        MeasureFunc node11Measure = ahemTextMeasure("HHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH", false);
        NodeId node11 = tree.newLeafWithMeasure(node11Style, node11Measure);

        Style node12Style = new Style();
        node12Style.boxSizing = BoxSizing.CONTENT_BOX;
        node12Style.size = new Size<>(Dimension.percent(1.0f), Dimension.length(50.0f));
        NodeId node12 = tree.newLeaf(node12Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.flexDirection = FlexDirection.COLUMN;
        node1Style.flexGrow = 1.0f;
        node1Style.size = new Size<>(Dimension.percent(1.0f), Dimension.AUTO);
        node1Style.margin = new Rect<>(LengthPercentageAuto.length(20.0f), LengthPercentageAuto.length(20.0f), LengthPercentageAuto.length(20.0f), LengthPercentageAuto.length(20.0f));
        node1Style.padding = new Rect<>(LengthPercentage.length(20.0f), LengthPercentage.length(20.0f), LengthPercentage.length(20.0f), LengthPercentage.length(20.0f));
        NodeId node1 = tree.newWithChildren(node1Style, node10, node11, node12);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.alignItems = AlignItems.CENTER;
        nodeStyle.alignContent = AlignContent.CENTER;
        nodeStyle.size = new Size<>(Dimension.length(300.0f), Dimension.length(300.0f));
        nodeStyle.margin = new Rect<>(LengthPercentageAuto.AUTO, LengthPercentageAuto.AUTO, LengthPercentageAuto.AUTO, LengthPercentageAuto.AUTO);
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(300.0f, nodeLayout.size().width, "width of node");
        assertEquals(300.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(300.0f, node0Layout.size().width, "width of node0");
        assertEquals(0.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(340.0f, node1Layout.size().width, "width of node1");
        assertEquals(380.0f, node1Layout.size().height, "height of node1");
        assertEquals(-20.0f, node1Layout.location().x, "x of node1");
        assertEquals(20.0f, node1Layout.location().y, "y of node1");
        Layout node10Layout = tree.getLayout(node10);
        assertEquals(300.0f, node10Layout.size().width, "width of node10");
        assertEquals(50.0f, node10Layout.size().height, "height of node10");
        assertEquals(20.0f, node10Layout.location().x, "x of node10");
        assertEquals(20.0f, node10Layout.location().y, "y of node10");
        Layout node11Layout = tree.getLayout(node11);
        assertEquals(260.0f, node11Layout.size().width, "width of node11");
        assertEquals(200.0f, node11Layout.size().height, "height of node11");
        assertEquals(40.0f, node11Layout.location().x, "x of node11");
        assertEquals(90.0f, node11Layout.location().y, "y of node11");
        Layout node12Layout = tree.getLayout(node12);
        assertEquals(300.0f, node12Layout.size().width, "width of node12");
        assertEquals(50.0f, node12Layout.size().height, "height of node12");
        assertEquals(20.0f, node12Layout.location().x, "x of node12");
        assertEquals(310.0f, node12Layout.location().y, "y of node12");
    }

    @Test
    @DisplayName("bevy_issue_9530_reduced__border_box")
    void bevyIssue9530ReducedBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.flexGrow = 1.0f;
        MeasureFunc node00Measure = ahemTextMeasure("HH\u200BHH\u200BHH\u200BHH", false);
        NodeId node00 = tree.newLeafWithMeasure(node00Style, node00Measure);

        Style node0Style = new Style();
        node0Style.flexDirection = FlexDirection.COLUMN;
        node0Style.flexGrow = 1.0f;
        NodeId node0 = tree.newWithChildren(node0Style, node00);

        Style nodeStyle = new Style();
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.size = new Size<>(Dimension.length(40.0f), Dimension.AUTO);
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(40.0f, nodeLayout.size().width, "width of node");
        assertEquals(20.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(20.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(40.0f, node00Layout.size().width, "width of node00");
        assertEquals(20.0f, node00Layout.size().height, "height of node00");
        assertEquals(0.0f, node00Layout.location().x, "x of node00");
        assertEquals(0.0f, node00Layout.location().y, "y of node00");
    }

    @Test
    @DisplayName("bevy_issue_9530_reduced__content_box")
    void bevyIssue9530ReducedContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.boxSizing = BoxSizing.CONTENT_BOX;
        node00Style.flexGrow = 1.0f;
        MeasureFunc node00Measure = ahemTextMeasure("HH\u200BHH\u200BHH\u200BHH", false);
        NodeId node00 = tree.newLeafWithMeasure(node00Style, node00Measure);

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.flexDirection = FlexDirection.COLUMN;
        node0Style.flexGrow = 1.0f;
        NodeId node0 = tree.newWithChildren(node0Style, node00);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.size = new Size<>(Dimension.length(40.0f), Dimension.AUTO);
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(40.0f, nodeLayout.size().width, "width of node");
        assertEquals(20.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(20.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(40.0f, node00Layout.size().width, "width of node00");
        assertEquals(20.0f, node00Layout.size().height, "height of node00");
        assertEquals(0.0f, node00Layout.location().x, "x of node00");
        assertEquals(0.0f, node00Layout.location().y, "y of node00");
    }

    @Test
    @DisplayName("bevy_issue_9530_reduced2__border_box")
    void bevyIssue9530Reduced2BorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.flexGrow = 1.0f;
        MeasureFunc node00Measure = ahemTextMeasure("HH\u200BHH\u200BHH\u200BHH\u200BHH\u200BHH\u200BHH\u200BHH", false);
        NodeId node00 = tree.newLeafWithMeasure(node00Style, node00Measure);

        Style node0Style = new Style();
        node0Style.flexDirection = FlexDirection.COLUMN;
        node0Style.flexGrow = 1.0f;
        node0Style.size = new Size<>(Dimension.length(80.0f), Dimension.AUTO);
        node0Style.margin = new Rect<>(LengthPercentageAuto.length(20.0f), LengthPercentageAuto.length(20.0f), LengthPercentageAuto.length(0.0f), LengthPercentageAuto.length(0.0f));
        NodeId node0 = tree.newWithChildren(node0Style, node00);

        Style nodeStyle = new Style();
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(120.0f, nodeLayout.size().width, "width of node");
        assertEquals(20.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(80.0f, node0Layout.size().width, "width of node0");
        assertEquals(20.0f, node0Layout.size().height, "height of node0");
        assertEquals(20.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(80.0f, node00Layout.size().width, "width of node00");
        assertEquals(20.0f, node00Layout.size().height, "height of node00");
        assertEquals(0.0f, node00Layout.location().x, "x of node00");
        assertEquals(0.0f, node00Layout.location().y, "y of node00");
    }

    @Test
    @DisplayName("bevy_issue_9530_reduced2__content_box")
    void bevyIssue9530Reduced2ContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.boxSizing = BoxSizing.CONTENT_BOX;
        node00Style.flexGrow = 1.0f;
        MeasureFunc node00Measure = ahemTextMeasure("HH\u200BHH\u200BHH\u200BHH\u200BHH\u200BHH\u200BHH\u200BHH", false);
        NodeId node00 = tree.newLeafWithMeasure(node00Style, node00Measure);

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.flexDirection = FlexDirection.COLUMN;
        node0Style.flexGrow = 1.0f;
        node0Style.size = new Size<>(Dimension.length(80.0f), Dimension.AUTO);
        node0Style.margin = new Rect<>(LengthPercentageAuto.length(20.0f), LengthPercentageAuto.length(20.0f), LengthPercentageAuto.length(0.0f), LengthPercentageAuto.length(0.0f));
        NodeId node0 = tree.newWithChildren(node0Style, node00);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(120.0f, nodeLayout.size().width, "width of node");
        assertEquals(20.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(80.0f, node0Layout.size().width, "width of node0");
        assertEquals(20.0f, node0Layout.size().height, "height of node0");
        assertEquals(20.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(80.0f, node00Layout.size().width, "width of node00");
        assertEquals(20.0f, node00Layout.size().height, "height of node00");
        assertEquals(0.0f, node00Layout.location().x, "x of node00");
        assertEquals(0.0f, node00Layout.location().y, "y of node00");
    }

    @Test
    @DisplayName("bevy_issue_9530_reduced3__border_box")
    void bevyIssue9530Reduced3BorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.flexGrow = 1.0f;
        node0Style.margin = new Rect<>(LengthPercentageAuto.length(20.0f), LengthPercentageAuto.length(20.0f), LengthPercentageAuto.length(0.0f), LengthPercentageAuto.length(0.0f));
        MeasureFunc node0Measure = ahemTextMeasure("HH\u200BHH\u200BHH\u200BHH\u200BHH\u200BHH\u200BHH\u200BHH", false);
        NodeId node0 = tree.newLeafWithMeasure(node0Style, node0Measure);

        Style nodeStyle = new Style();
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.size = new Size<>(Dimension.length(80.0f), Dimension.AUTO);
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(80.0f, nodeLayout.size().width, "width of node");
        assertEquals(40.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(20.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("bevy_issue_9530_reduced3__content_box")
    void bevyIssue9530Reduced3ContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.flexGrow = 1.0f;
        node0Style.margin = new Rect<>(LengthPercentageAuto.length(20.0f), LengthPercentageAuto.length(20.0f), LengthPercentageAuto.length(0.0f), LengthPercentageAuto.length(0.0f));
        MeasureFunc node0Measure = ahemTextMeasure("HH\u200BHH\u200BHH\u200BHH\u200BHH\u200BHH\u200BHH\u200BHH", false);
        NodeId node0 = tree.newLeafWithMeasure(node0Style, node0Measure);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.size = new Size<>(Dimension.length(80.0f), Dimension.AUTO);
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(80.0f, nodeLayout.size().width, "width of node");
        assertEquals(40.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(20.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("bevy_issue_9530_reduced4__border_box")
    void bevyIssue9530Reduced4BorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.margin = new Rect<>(LengthPercentageAuto.length(20.0f), LengthPercentageAuto.length(20.0f), LengthPercentageAuto.length(20.0f), LengthPercentageAuto.length(20.0f));
        MeasureFunc node0Measure = ahemTextMeasure("HH\u200BHH\u200BHH\u200BHH\u200BHH\u200BHH\u200BHH\u200BHH", false);
        NodeId node0 = tree.newLeafWithMeasure(node0Style, node0Measure);

        Style nodeStyle = new Style();
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.size = new Size<>(Dimension.length(80.0f), Dimension.AUTO);
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(80.0f, nodeLayout.size().width, "width of node");
        assertEquals(80.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(20.0f, node0Layout.location().x, "x of node0");
        assertEquals(20.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("bevy_issue_9530_reduced4__content_box")
    void bevyIssue9530Reduced4ContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.margin = new Rect<>(LengthPercentageAuto.length(20.0f), LengthPercentageAuto.length(20.0f), LengthPercentageAuto.length(20.0f), LengthPercentageAuto.length(20.0f));
        MeasureFunc node0Measure = ahemTextMeasure("HH\u200BHH\u200BHH\u200BHH\u200BHH\u200BHH\u200BHH\u200BHH", false);
        NodeId node0 = tree.newLeafWithMeasure(node0Style, node0Measure);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.size = new Size<>(Dimension.length(80.0f), Dimension.AUTO);
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(80.0f, nodeLayout.size().width, "width of node");
        assertEquals(80.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(20.0f, node0Layout.location().x, "x of node0");
        assertEquals(20.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("blitz_issue_88__border_box")
    void blitzIssue88BorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node000Style = new Style();
        node000Style.display = Display.BLOCK;
        node000Style.flexGrow = 1.0f;
        node000Style.flexBasis = Dimension.length(0.0f);
        MeasureFunc node000Measure = ahemTextMeasure("HHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH", false);
        NodeId node000 = tree.newLeafWithMeasure(node000Style, node000Measure);

        Style node00Style = new Style();
        node00Style.flexGrow = 1.0f;
        NodeId node00 = tree.newWithChildren(node00Style, node000);

        Style node0Style = new Style();
        node0Style.flexDirection = FlexDirection.COLUMN;
        node0Style.justifyContent = AlignContent.START;
        NodeId node0 = tree.newWithChildren(node0Style, node00);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.BLOCK;
        nodeStyle.size = new Size<>(Dimension.length(600.0f), Dimension.AUTO);
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(600.0f, nodeLayout.size().width, "width of node");
        assertEquals(10.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(600.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(600.0f, node00Layout.size().width, "width of node00");
        assertEquals(10.0f, node00Layout.size().height, "height of node00");
        assertEquals(0.0f, node00Layout.location().x, "x of node00");
        assertEquals(0.0f, node00Layout.location().y, "y of node00");
        Layout node000Layout = tree.getLayout(node000);
        assertEquals(600.0f, node000Layout.size().width, "width of node000");
        assertEquals(10.0f, node000Layout.size().height, "height of node000");
        assertEquals(0.0f, node000Layout.location().x, "x of node000");
        assertEquals(0.0f, node000Layout.location().y, "y of node000");
    }

    @Test
    @DisplayName("blitz_issue_88__content_box")
    void blitzIssue88ContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node000Style = new Style();
        node000Style.boxSizing = BoxSizing.CONTENT_BOX;
        node000Style.display = Display.BLOCK;
        node000Style.flexGrow = 1.0f;
        node000Style.flexBasis = Dimension.length(0.0f);
        MeasureFunc node000Measure = ahemTextMeasure("HHHH\u200BHHHH\u200BHHHH\u200BHHHH\u200BHHHH", false);
        NodeId node000 = tree.newLeafWithMeasure(node000Style, node000Measure);

        Style node00Style = new Style();
        node00Style.boxSizing = BoxSizing.CONTENT_BOX;
        node00Style.flexGrow = 1.0f;
        NodeId node00 = tree.newWithChildren(node00Style, node000);

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.flexDirection = FlexDirection.COLUMN;
        node0Style.justifyContent = AlignContent.START;
        NodeId node0 = tree.newWithChildren(node0Style, node00);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.BLOCK;
        nodeStyle.size = new Size<>(Dimension.length(600.0f), Dimension.AUTO);
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(600.0f, nodeLayout.size().width, "width of node");
        assertEquals(10.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(600.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(600.0f, node00Layout.size().width, "width of node00");
        assertEquals(10.0f, node00Layout.size().height, "height of node00");
        assertEquals(0.0f, node00Layout.location().x, "x of node00");
        assertEquals(0.0f, node00Layout.location().y, "y of node00");
        Layout node000Layout = tree.getLayout(node000);
        assertEquals(600.0f, node000Layout.size().width, "width of node000");
        assertEquals(10.0f, node000Layout.size().height, "height of node000");
        assertEquals(0.0f, node000Layout.location().x, "x of node000");
        assertEquals(0.0f, node000Layout.location().y, "y of node000");
    }

    @Test
    @DisplayName("border_center_child__border_box")
    void borderCenterChildBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.length(10.0f), Dimension.length(10.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.alignItems = AlignItems.CENTER;
        nodeStyle.justifyContent = AlignContent.CENTER;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        nodeStyle.border = new Rect<>(LengthPercentage.ZERO, LengthPercentage.ZERO, LengthPercentage.length(10.0f), LengthPercentage.length(20.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(10.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(45.0f, node0Layout.location().x, "x of node0");
        assertEquals(40.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("border_center_child__content_box")
    void borderCenterChildContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.length(10.0f), Dimension.length(10.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.alignItems = AlignItems.CENTER;
        nodeStyle.justifyContent = AlignContent.CENTER;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        nodeStyle.border = new Rect<>(LengthPercentage.ZERO, LengthPercentage.ZERO, LengthPercentage.length(10.0f), LengthPercentage.length(20.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(130.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(10.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(45.0f, node0Layout.location().x, "x of node0");
        assertEquals(55.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("border_container_match_child__border_box")
    void borderContainerMatchChildBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.length(10.0f), Dimension.length(10.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.border = new Rect<>(LengthPercentage.length(10.0f), LengthPercentage.length(10.0f), LengthPercentage.length(10.0f), LengthPercentage.length(10.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(30.0f, nodeLayout.size().width, "width of node");
        assertEquals(30.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(10.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(10.0f, node0Layout.location().x, "x of node0");
        assertEquals(10.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("border_container_match_child__content_box")
    void borderContainerMatchChildContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.length(10.0f), Dimension.length(10.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.border = new Rect<>(LengthPercentage.length(10.0f), LengthPercentage.length(10.0f), LengthPercentage.length(10.0f), LengthPercentage.length(10.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(30.0f, nodeLayout.size().width, "width of node");
        assertEquals(30.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(10.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(10.0f, node0Layout.location().x, "x of node0");
        assertEquals(10.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("border_flex_child__border_box")
    void borderFlexChildBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.flexGrow = 1.0f;
        node0Style.size = new Size<>(Dimension.length(10.0f), Dimension.AUTO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        nodeStyle.border = new Rect<>(LengthPercentage.length(10.0f), LengthPercentage.length(10.0f), LengthPercentage.length(10.0f), LengthPercentage.length(10.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(80.0f, node0Layout.size().width, "width of node0");
        assertEquals(80.0f, node0Layout.size().height, "height of node0");
        assertEquals(10.0f, node0Layout.location().x, "x of node0");
        assertEquals(10.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("border_flex_child__content_box")
    void borderFlexChildContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.flexGrow = 1.0f;
        node0Style.size = new Size<>(Dimension.length(10.0f), Dimension.AUTO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        nodeStyle.border = new Rect<>(LengthPercentage.length(10.0f), LengthPercentage.length(10.0f), LengthPercentage.length(10.0f), LengthPercentage.length(10.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(120.0f, nodeLayout.size().width, "width of node");
        assertEquals(120.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(100.0f, node0Layout.size().width, "width of node0");
        assertEquals(100.0f, node0Layout.size().height, "height of node0");
        assertEquals(10.0f, node0Layout.location().x, "x of node0");
        assertEquals(10.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("border_no_child__border_box")
    void borderNoChildBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style nodeStyle = new Style();
        nodeStyle.border = new Rect<>(LengthPercentage.length(10.0f), LengthPercentage.length(10.0f), LengthPercentage.length(10.0f), LengthPercentage.length(10.0f));
        NodeId node = tree.newLeaf(nodeStyle);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(20.0f, nodeLayout.size().width, "width of node");
        assertEquals(20.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
    }

    @Test
    @DisplayName("border_no_child__content_box")
    void borderNoChildContentBox() {
        TaffyTree tree = new TaffyTree();

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.border = new Rect<>(LengthPercentage.length(10.0f), LengthPercentage.length(10.0f), LengthPercentage.length(10.0f), LengthPercentage.length(10.0f));
        NodeId node = tree.newLeaf(nodeStyle);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(20.0f, nodeLayout.size().width, "width of node");
        assertEquals(20.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
    }

    @Test
    @DisplayName("border_no_size__border_box")
    void borderNoSizeBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style nodeStyle = new Style();
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.border = new Rect<>(LengthPercentage.length(10.0f), LengthPercentage.length(10.0f), LengthPercentage.length(10.0f), LengthPercentage.length(10.0f));
        NodeId node = tree.newLeaf(nodeStyle);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(20.0f, nodeLayout.size().width, "width of node");
        assertEquals(20.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
    }

    @Test
    @DisplayName("border_no_size__content_box")
    void borderNoSizeContentBox() {
        TaffyTree tree = new TaffyTree();

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.border = new Rect<>(LengthPercentage.length(10.0f), LengthPercentage.length(10.0f), LengthPercentage.length(10.0f), LengthPercentage.length(10.0f));
        NodeId node = tree.newLeaf(nodeStyle);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(20.0f, nodeLayout.size().width, "width of node");
        assertEquals(20.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
    }

    @Test
    @DisplayName("border_stretch_child__border_box")
    void borderStretchChildBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.length(10.0f), Dimension.AUTO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        nodeStyle.border = new Rect<>(LengthPercentage.length(10.0f), LengthPercentage.length(10.0f), LengthPercentage.length(10.0f), LengthPercentage.length(10.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(10.0f, node0Layout.size().width, "width of node0");
        assertEquals(80.0f, node0Layout.size().height, "height of node0");
        assertEquals(10.0f, node0Layout.location().x, "x of node0");
        assertEquals(10.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("border_stretch_child__content_box")
    void borderStretchChildContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.length(10.0f), Dimension.AUTO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        nodeStyle.border = new Rect<>(LengthPercentage.length(10.0f), LengthPercentage.length(10.0f), LengthPercentage.length(10.0f), LengthPercentage.length(10.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(120.0f, nodeLayout.size().width, "width of node");
        assertEquals(120.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(10.0f, node0Layout.size().width, "width of node0");
        assertEquals(100.0f, node0Layout.size().height, "height of node0");
        assertEquals(10.0f, node0Layout.location().x, "x of node0");
        assertEquals(10.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("child_min_max_width_flexing__border_box")
    void childMinMaxWidthFlexingBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.flexGrow = 1.0f;
        node0Style.flexShrink = 0.0f;
        node0Style.flexBasis = Dimension.length(0.0f);
        node0Style.minSize = new Size<>(Dimension.length(60.0f), Dimension.AUTO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.flexGrow = 1.0f;
        node1Style.flexShrink = 0.0f;
        node1Style.flexBasis = Dimension.percent(0.5f);
        node1Style.maxSize = new Size<>(Dimension.length(20.0f), Dimension.AUTO);
        NodeId node1 = tree.newLeaf(node1Style);

        Style nodeStyle = new Style();
        nodeStyle.alignItems = AlignItems.STRETCH;
        nodeStyle.size = new Size<>(Dimension.length(120.0f), Dimension.length(50.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(120.0f, nodeLayout.size().width, "width of node");
        assertEquals(50.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(100.0f, node0Layout.size().width, "width of node0");
        assertEquals(50.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(20.0f, node1Layout.size().width, "width of node1");
        assertEquals(50.0f, node1Layout.size().height, "height of node1");
        assertEquals(100.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
    }

    @Test
    @DisplayName("child_min_max_width_flexing__content_box")
    void childMinMaxWidthFlexingContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.flexGrow = 1.0f;
        node0Style.flexShrink = 0.0f;
        node0Style.flexBasis = Dimension.length(0.0f);
        node0Style.minSize = new Size<>(Dimension.length(60.0f), Dimension.AUTO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.flexGrow = 1.0f;
        node1Style.flexShrink = 0.0f;
        node1Style.flexBasis = Dimension.percent(0.5f);
        node1Style.maxSize = new Size<>(Dimension.length(20.0f), Dimension.AUTO);
        NodeId node1 = tree.newLeaf(node1Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.alignItems = AlignItems.STRETCH;
        nodeStyle.size = new Size<>(Dimension.length(120.0f), Dimension.length(50.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(120.0f, nodeLayout.size().width, "width of node");
        assertEquals(50.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(100.0f, node0Layout.size().width, "width of node0");
        assertEquals(50.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(20.0f, node1Layout.size().width, "width of node1");
        assertEquals(50.0f, node1Layout.size().height, "height of node1");
        assertEquals(100.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
    }

    @Test
    @DisplayName("child_with_padding_align_end__border_box")
    void childWithPaddingAlignEndBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        node0Style.padding = new Rect<>(LengthPercentage.length(20.0f), LengthPercentage.length(20.0f), LengthPercentage.length(20.0f), LengthPercentage.length(20.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.alignItems = AlignItems.FLEX_END;
        nodeStyle.justifyContent = AlignContent.FLEX_END;
        nodeStyle.size = new Size<>(Dimension.length(200.0f), Dimension.length(200.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(200.0f, nodeLayout.size().width, "width of node");
        assertEquals(200.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(100.0f, node0Layout.size().width, "width of node0");
        assertEquals(100.0f, node0Layout.size().height, "height of node0");
        assertEquals(100.0f, node0Layout.location().x, "x of node0");
        assertEquals(100.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("child_with_padding_align_end__content_box")
    void childWithPaddingAlignEndContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        node0Style.padding = new Rect<>(LengthPercentage.length(20.0f), LengthPercentage.length(20.0f), LengthPercentage.length(20.0f), LengthPercentage.length(20.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.alignItems = AlignItems.FLEX_END;
        nodeStyle.justifyContent = AlignContent.FLEX_END;
        nodeStyle.size = new Size<>(Dimension.length(200.0f), Dimension.length(200.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(200.0f, nodeLayout.size().width, "width of node");
        assertEquals(200.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(140.0f, node0Layout.size().width, "width of node0");
        assertEquals(140.0f, node0Layout.size().height, "height of node0");
        assertEquals(60.0f, node0Layout.location().x, "x of node0");
        assertEquals(60.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("container_with_unsized_child__border_box")
    void containerWithUnsizedChildBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(0.0f, node0Layout.size().width, "width of node0");
        assertEquals(100.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("container_with_unsized_child__content_box")
    void containerWithUnsizedChildContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(0.0f, node0Layout.size().width, "width of node0");
        assertEquals(100.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("content_size__border_box")
    void contentSizeBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.position = Position.ABSOLUTE;
        node00Style.flexShrink = 0.0f;
        node00Style.size = new Size<>(Dimension.percent(1.0f), Dimension.length(20.0f));
        node00Style.inset = new Rect<>(LengthPercentageAuto.AUTO, LengthPercentageAuto.AUTO, LengthPercentageAuto.length(-10.0f), LengthPercentageAuto.AUTO);
        MeasureFunc node00Measure = ahemTextMeasure("HHHH\u200BHHHH", false);
        NodeId node00 = tree.newLeafWithMeasure(node00Style, node00Measure);

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.AUTO, Dimension.length(30.0f));
        NodeId node0 = tree.newWithChildren(node0Style, node00);

        Style nodeStyle = new Style();
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        nodeStyle.overflow = new Point<>(Overflow.VISIBLE, Overflow.SCROLL);
        nodeStyle.scrollbarWidth = 15.0f;
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(85.0f, node0Layout.size().width, "width of node0");
        assertEquals(30.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(85.0f, node00Layout.size().width, "width of node00");
        assertEquals(20.0f, node00Layout.size().height, "height of node00");
        assertEquals(0.0f, node00Layout.location().x, "x of node00");
        assertEquals(-10.0f, node00Layout.location().y, "y of node00");
    }

    @Test
    @DisplayName("content_size__content_box")
    void contentSizeContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.boxSizing = BoxSizing.CONTENT_BOX;
        node00Style.position = Position.ABSOLUTE;
        node00Style.flexShrink = 0.0f;
        node00Style.size = new Size<>(Dimension.percent(1.0f), Dimension.length(20.0f));
        node00Style.inset = new Rect<>(LengthPercentageAuto.AUTO, LengthPercentageAuto.AUTO, LengthPercentageAuto.length(-10.0f), LengthPercentageAuto.AUTO);
        MeasureFunc node00Measure = ahemTextMeasure("HHHH\u200BHHHH", false);
        NodeId node00 = tree.newLeafWithMeasure(node00Style, node00Measure);

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.AUTO, Dimension.length(30.0f));
        NodeId node0 = tree.newWithChildren(node0Style, node00);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        nodeStyle.overflow = new Point<>(Overflow.VISIBLE, Overflow.SCROLL);
        nodeStyle.scrollbarWidth = 15.0f;
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(85.0f, node0Layout.size().width, "width of node0");
        assertEquals(30.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(85.0f, node00Layout.size().width, "width of node00");
        assertEquals(20.0f, node00Layout.size().height, "height of node00");
        assertEquals(0.0f, node00Layout.location().x, "x of node00");
        assertEquals(-10.0f, node00Layout.location().y, "y of node00");
    }

    @Test
    @DisplayName("display_none__border_box")
    void displayNoneBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.flexGrow = 1.0f;
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.display = Display.NONE;
        node1Style.flexGrow = 1.0f;
        NodeId node1 = tree.newLeaf(node1Style);

        Style nodeStyle = new Style();
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(100.0f, node0Layout.size().width, "width of node0");
        assertEquals(100.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(0.0f, node1Layout.size().width, "width of node1");
        assertEquals(0.0f, node1Layout.size().height, "height of node1");
        assertEquals(0.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
    }

    @Test
    @DisplayName("display_none__content_box")
    void displayNoneContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.flexGrow = 1.0f;
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.display = Display.NONE;
        node1Style.flexGrow = 1.0f;
        NodeId node1 = tree.newLeaf(node1Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(100.0f, node0Layout.size().width, "width of node0");
        assertEquals(100.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(0.0f, node1Layout.size().width, "width of node1");
        assertEquals(0.0f, node1Layout.size().height, "height of node1");
        assertEquals(0.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
    }

    @Test
    @DisplayName("display_none_absolute_child__border_box")
    void displayNoneAbsoluteChildBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.flexGrow = 1.0f;
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.display = Display.NONE;
        node1Style.position = Position.ABSOLUTE;
        node1Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        node1Style.inset = new Rect<>(LengthPercentageAuto.length(10.0f), LengthPercentageAuto.AUTO, LengthPercentageAuto.length(10.0f), LengthPercentageAuto.AUTO);
        NodeId node1 = tree.newLeaf(node1Style);

        Style nodeStyle = new Style();
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(100.0f, node0Layout.size().width, "width of node0");
        assertEquals(100.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(0.0f, node1Layout.size().width, "width of node1");
        assertEquals(0.0f, node1Layout.size().height, "height of node1");
        assertEquals(0.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
    }

    @Test
    @DisplayName("display_none_absolute_child__content_box")
    void displayNoneAbsoluteChildContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.flexGrow = 1.0f;
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.display = Display.NONE;
        node1Style.position = Position.ABSOLUTE;
        node1Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        node1Style.inset = new Rect<>(LengthPercentageAuto.length(10.0f), LengthPercentageAuto.AUTO, LengthPercentageAuto.length(10.0f), LengthPercentageAuto.AUTO);
        NodeId node1 = tree.newLeaf(node1Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(100.0f, node0Layout.size().width, "width of node0");
        assertEquals(100.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(0.0f, node1Layout.size().width, "width of node1");
        assertEquals(0.0f, node1Layout.size().height, "height of node1");
        assertEquals(0.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
    }

    @Test
    @DisplayName("display_none_fixed_size__border_box")
    void displayNoneFixedSizeBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.flexGrow = 1.0f;
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.display = Display.NONE;
        node1Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style nodeStyle = new Style();
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(100.0f, node0Layout.size().width, "width of node0");
        assertEquals(100.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(0.0f, node1Layout.size().width, "width of node1");
        assertEquals(0.0f, node1Layout.size().height, "height of node1");
        assertEquals(0.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
    }

    @Test
    @DisplayName("display_none_fixed_size__content_box")
    void displayNoneFixedSizeContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.flexGrow = 1.0f;
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.display = Display.NONE;
        node1Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(100.0f, node0Layout.size().width, "width of node0");
        assertEquals(100.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(0.0f, node1Layout.size().width, "width of node1");
        assertEquals(0.0f, node1Layout.size().height, "height of node1");
        assertEquals(0.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
    }

    @Test
    @DisplayName("display_none_only_node__border_box")
    void displayNoneOnlyNodeBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style nodeStyle = new Style();
        nodeStyle.display = Display.NONE;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newLeaf(nodeStyle);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(0.0f, nodeLayout.size().width, "width of node");
        assertEquals(0.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
    }

    @Test
    @DisplayName("display_none_only_node__content_box")
    void displayNoneOnlyNodeContentBox() {
        TaffyTree tree = new TaffyTree();

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.NONE;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newLeaf(nodeStyle);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(0.0f, nodeLayout.size().width, "width of node");
        assertEquals(0.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
    }

    @Test
    @DisplayName("display_none_with_child__border_box")
    void displayNoneWithChildBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.flexGrow = 1.0f;
        node0Style.flexShrink = 1.0f;
        node0Style.flexBasis = Dimension.percent(0.0f);
        NodeId node0 = tree.newLeaf(node0Style);

        Style node10Style = new Style();
        node10Style.flexGrow = 1.0f;
        node10Style.flexShrink = 1.0f;
        node10Style.flexBasis = Dimension.percent(0.0f);
        node10Style.size = new Size<>(Dimension.length(20.0f), Dimension.AUTO);
        NodeId node10 = tree.newLeaf(node10Style);

        Style node1Style = new Style();
        node1Style.display = Display.NONE;
        node1Style.flexDirection = FlexDirection.COLUMN;
        node1Style.flexGrow = 1.0f;
        node1Style.flexShrink = 1.0f;
        node1Style.flexBasis = Dimension.percent(0.0f);
        NodeId node1 = tree.newWithChildren(node1Style, node10);

        Style node2Style = new Style();
        node2Style.flexGrow = 1.0f;
        node2Style.flexShrink = 1.0f;
        node2Style.flexBasis = Dimension.percent(0.0f);
        NodeId node2 = tree.newLeaf(node2Style);

        Style nodeStyle = new Style();
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(50.0f, node0Layout.size().width, "width of node0");
        assertEquals(100.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(0.0f, node1Layout.size().width, "width of node1");
        assertEquals(0.0f, node1Layout.size().height, "height of node1");
        assertEquals(0.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node10Layout = tree.getLayout(node10);
        assertEquals(0.0f, node10Layout.size().width, "width of node10");
        assertEquals(0.0f, node10Layout.size().height, "height of node10");
        assertEquals(0.0f, node10Layout.location().x, "x of node10");
        assertEquals(0.0f, node10Layout.location().y, "y of node10");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(50.0f, node2Layout.size().width, "width of node2");
        assertEquals(100.0f, node2Layout.size().height, "height of node2");
        assertEquals(50.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
    }

    @Test
    @DisplayName("display_none_with_child__content_box")
    void displayNoneWithChildContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.flexGrow = 1.0f;
        node0Style.flexShrink = 1.0f;
        node0Style.flexBasis = Dimension.percent(0.0f);
        NodeId node0 = tree.newLeaf(node0Style);

        Style node10Style = new Style();
        node10Style.boxSizing = BoxSizing.CONTENT_BOX;
        node10Style.flexGrow = 1.0f;
        node10Style.flexShrink = 1.0f;
        node10Style.flexBasis = Dimension.percent(0.0f);
        node10Style.size = new Size<>(Dimension.length(20.0f), Dimension.AUTO);
        NodeId node10 = tree.newLeaf(node10Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.display = Display.NONE;
        node1Style.flexDirection = FlexDirection.COLUMN;
        node1Style.flexGrow = 1.0f;
        node1Style.flexShrink = 1.0f;
        node1Style.flexBasis = Dimension.percent(0.0f);
        NodeId node1 = tree.newWithChildren(node1Style, node10);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        node2Style.flexGrow = 1.0f;
        node2Style.flexShrink = 1.0f;
        node2Style.flexBasis = Dimension.percent(0.0f);
        NodeId node2 = tree.newLeaf(node2Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(50.0f, node0Layout.size().width, "width of node0");
        assertEquals(100.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(0.0f, node1Layout.size().width, "width of node1");
        assertEquals(0.0f, node1Layout.size().height, "height of node1");
        assertEquals(0.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node10Layout = tree.getLayout(node10);
        assertEquals(0.0f, node10Layout.size().width, "width of node10");
        assertEquals(0.0f, node10Layout.size().height, "height of node10");
        assertEquals(0.0f, node10Layout.location().x, "x of node10");
        assertEquals(0.0f, node10Layout.location().y, "y of node10");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(50.0f, node2Layout.size().width, "width of node2");
        assertEquals(100.0f, node2Layout.size().height, "height of node2");
        assertEquals(50.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
    }

    @Test
    @DisplayName("display_none_with_margin__border_box")
    void displayNoneWithMarginBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.display = Display.NONE;
        node0Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        node0Style.margin = new Rect<>(LengthPercentageAuto.length(10.0f), LengthPercentageAuto.length(10.0f), LengthPercentageAuto.length(10.0f), LengthPercentageAuto.length(10.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.flexGrow = 1.0f;
        NodeId node1 = tree.newLeaf(node1Style);

        Style nodeStyle = new Style();
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(0.0f, node0Layout.size().width, "width of node0");
        assertEquals(0.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(100.0f, node1Layout.size().width, "width of node1");
        assertEquals(100.0f, node1Layout.size().height, "height of node1");
        assertEquals(0.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
    }

    @Test
    @DisplayName("display_none_with_margin__content_box")
    void displayNoneWithMarginContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.display = Display.NONE;
        node0Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        node0Style.margin = new Rect<>(LengthPercentageAuto.length(10.0f), LengthPercentageAuto.length(10.0f), LengthPercentageAuto.length(10.0f), LengthPercentageAuto.length(10.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.flexGrow = 1.0f;
        NodeId node1 = tree.newLeaf(node1Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(0.0f, node0Layout.size().width, "width of node0");
        assertEquals(0.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(100.0f, node1Layout.size().width, "width of node1");
        assertEquals(100.0f, node1Layout.size().height, "height of node1");
        assertEquals(0.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
    }

    @Test
    @DisplayName("display_none_with_position__border_box")
    void displayNoneWithPositionBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.flexGrow = 1.0f;
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.display = Display.NONE;
        node1Style.flexGrow = 1.0f;
        node1Style.inset = new Rect<>(LengthPercentageAuto.AUTO, LengthPercentageAuto.AUTO, LengthPercentageAuto.length(10.0f), LengthPercentageAuto.AUTO);
        NodeId node1 = tree.newLeaf(node1Style);

        Style nodeStyle = new Style();
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(100.0f, node0Layout.size().width, "width of node0");
        assertEquals(100.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(0.0f, node1Layout.size().width, "width of node1");
        assertEquals(0.0f, node1Layout.size().height, "height of node1");
        assertEquals(0.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
    }

    @Test
    @DisplayName("display_none_with_position__content_box")
    void displayNoneWithPositionContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.flexGrow = 1.0f;
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.display = Display.NONE;
        node1Style.flexGrow = 1.0f;
        node1Style.inset = new Rect<>(LengthPercentageAuto.AUTO, LengthPercentageAuto.AUTO, LengthPercentageAuto.length(10.0f), LengthPercentageAuto.AUTO);
        NodeId node1 = tree.newLeaf(node1Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(100.0f, node0Layout.size().width, "width of node0");
        assertEquals(100.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(0.0f, node1Layout.size().width, "width of node1");
        assertEquals(0.0f, node1Layout.size().height, "height of node1");
        assertEquals(0.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
    }

    @Test
    @DisplayName("display_none_with_position_absolute__border_box")
    void displayNoneWithPositionAbsoluteBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.display = Display.NONE;
        node0Style.position = Position.ABSOLUTE;
        node0Style.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(0.0f, node0Layout.size().width, "width of node0");
        assertEquals(0.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("display_none_with_position_absolute__content_box")
    void displayNoneWithPositionAbsoluteContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.display = Display.NONE;
        node0Style.position = Position.ABSOLUTE;
        node0Style.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(0.0f, node0Layout.size().width, "width of node0");
        assertEquals(0.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("do_not_clamp_height_of_absolute_node_to_height_of_its_overflow_hidden_parent__border_box")
    void doNotClampHeightOfAbsoluteNodeToHeightOfItsOverflowHiddenParentBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node00 = tree.newLeaf(node00Style);

        Style node0Style = new Style();
        node0Style.position = Position.ABSOLUTE;
        node0Style.flexDirection = FlexDirection.COLUMN;
        node0Style.inset = new Rect<>(LengthPercentageAuto.length(0.0f), LengthPercentageAuto.AUTO, LengthPercentageAuto.length(0.0f), LengthPercentageAuto.AUTO);
        NodeId node0 = tree.newWithChildren(node0Style, node00);

        Style nodeStyle = new Style();
        nodeStyle.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        nodeStyle.overflow = new Point<>(Overflow.HIDDEN, Overflow.HIDDEN);
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(50.0f, nodeLayout.size().width, "width of node");
        assertEquals(50.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(100.0f, node0Layout.size().width, "width of node0");
        assertEquals(100.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(100.0f, node00Layout.size().width, "width of node00");
        assertEquals(100.0f, node00Layout.size().height, "height of node00");
        assertEquals(0.0f, node00Layout.location().x, "x of node00");
        assertEquals(0.0f, node00Layout.location().y, "y of node00");
    }

    @Test
    @DisplayName("do_not_clamp_height_of_absolute_node_to_height_of_its_overflow_hidden_parent__content_box")
    void doNotClampHeightOfAbsoluteNodeToHeightOfItsOverflowHiddenParentContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.boxSizing = BoxSizing.CONTENT_BOX;
        node00Style.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node00 = tree.newLeaf(node00Style);

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.position = Position.ABSOLUTE;
        node0Style.flexDirection = FlexDirection.COLUMN;
        node0Style.inset = new Rect<>(LengthPercentageAuto.length(0.0f), LengthPercentageAuto.AUTO, LengthPercentageAuto.length(0.0f), LengthPercentageAuto.AUTO);
        NodeId node0 = tree.newWithChildren(node0Style, node00);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        nodeStyle.overflow = new Point<>(Overflow.HIDDEN, Overflow.HIDDEN);
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(50.0f, nodeLayout.size().width, "width of node");
        assertEquals(50.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(100.0f, node0Layout.size().width, "width of node0");
        assertEquals(100.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(100.0f, node00Layout.size().width, "width of node00");
        assertEquals(100.0f, node00Layout.size().height, "height of node00");
        assertEquals(0.0f, node00Layout.location().x, "x of node00");
        assertEquals(0.0f, node00Layout.location().y, "y of node00");
    }

    @Test
    @DisplayName("flex_basis_and_main_dimen_set_when_flexing__border_box")
    void flexBasisAndMainDimenSetWhenFlexingBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.flexGrow = 1.0f;
        node0Style.flexBasis = Dimension.length(10.0f);
        node0Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.flexGrow = 1.0f;
        node1Style.flexBasis = Dimension.length(10.0f);
        node1Style.size = new Size<>(Dimension.length(0.0f), Dimension.length(50.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style nodeStyle = new Style();
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.AUTO);
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(50.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(50.0f, node0Layout.size().width, "width of node0");
        assertEquals(50.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(50.0f, node1Layout.size().width, "width of node1");
        assertEquals(50.0f, node1Layout.size().height, "height of node1");
        assertEquals(50.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
    }

    @Test
    @DisplayName("flex_basis_and_main_dimen_set_when_flexing__content_box")
    void flexBasisAndMainDimenSetWhenFlexingContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.flexGrow = 1.0f;
        node0Style.flexBasis = Dimension.length(10.0f);
        node0Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.flexGrow = 1.0f;
        node1Style.flexBasis = Dimension.length(10.0f);
        node1Style.size = new Size<>(Dimension.length(0.0f), Dimension.length(50.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.AUTO);
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(50.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(50.0f, node0Layout.size().width, "width of node0");
        assertEquals(50.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(50.0f, node1Layout.size().width, "width of node1");
        assertEquals(50.0f, node1Layout.size().height, "height of node1");
        assertEquals(50.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
    }

    @Test
    @DisplayName("flex_basis_flex_grow_column__border_box")
    void flexBasisFlexGrowColumnBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.flexGrow = 1.0f;
        node0Style.flexBasis = Dimension.length(50.0f);
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.flexGrow = 1.0f;
        NodeId node1 = tree.newLeaf(node1Style);

        Style nodeStyle = new Style();
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(100.0f, node0Layout.size().width, "width of node0");
        assertEquals(75.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(100.0f, node1Layout.size().width, "width of node1");
        assertEquals(25.0f, node1Layout.size().height, "height of node1");
        assertEquals(0.0f, node1Layout.location().x, "x of node1");
        assertEquals(75.0f, node1Layout.location().y, "y of node1");
    }

    @Test
    @DisplayName("flex_basis_flex_grow_column__content_box")
    void flexBasisFlexGrowColumnContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.flexGrow = 1.0f;
        node0Style.flexBasis = Dimension.length(50.0f);
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.flexGrow = 1.0f;
        NodeId node1 = tree.newLeaf(node1Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(100.0f, node0Layout.size().width, "width of node0");
        assertEquals(75.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(100.0f, node1Layout.size().width, "width of node1");
        assertEquals(25.0f, node1Layout.size().height, "height of node1");
        assertEquals(0.0f, node1Layout.location().x, "x of node1");
        assertEquals(75.0f, node1Layout.location().y, "y of node1");
    }

    @Test
    @DisplayName("flex_basis_flex_grow_row__border_box")
    void flexBasisFlexGrowRowBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.flexGrow = 1.0f;
        node0Style.flexBasis = Dimension.length(50.0f);
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.flexGrow = 1.0f;
        NodeId node1 = tree.newLeaf(node1Style);

        Style nodeStyle = new Style();
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(75.0f, node0Layout.size().width, "width of node0");
        assertEquals(100.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(25.0f, node1Layout.size().width, "width of node1");
        assertEquals(100.0f, node1Layout.size().height, "height of node1");
        assertEquals(75.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
    }

    @Test
    @DisplayName("flex_basis_flex_grow_row__content_box")
    void flexBasisFlexGrowRowContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.flexGrow = 1.0f;
        node0Style.flexBasis = Dimension.length(50.0f);
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.flexGrow = 1.0f;
        NodeId node1 = tree.newLeaf(node1Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(75.0f, node0Layout.size().width, "width of node0");
        assertEquals(100.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(25.0f, node1Layout.size().width, "width of node1");
        assertEquals(100.0f, node1Layout.size().height, "height of node1");
        assertEquals(75.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
    }

    @Test
    @DisplayName("flex_basis_flex_shrink_column__border_box")
    void flexBasisFlexShrinkColumnBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.flexBasis = Dimension.length(100.0f);
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.flexBasis = Dimension.length(50.0f);
        NodeId node1 = tree.newLeaf(node1Style);

        Style nodeStyle = new Style();
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(100.0f, node0Layout.size().width, "width of node0");
        assertEquals(67.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(100.0f, node1Layout.size().width, "width of node1");
        assertEquals(33.0f, node1Layout.size().height, "height of node1");
        assertEquals(0.0f, node1Layout.location().x, "x of node1");
        assertEquals(67.0f, node1Layout.location().y, "y of node1");
    }

    @Test
    @DisplayName("flex_basis_flex_shrink_column__content_box")
    void flexBasisFlexShrinkColumnContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.flexBasis = Dimension.length(100.0f);
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.flexBasis = Dimension.length(50.0f);
        NodeId node1 = tree.newLeaf(node1Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(100.0f, node0Layout.size().width, "width of node0");
        assertEquals(67.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(100.0f, node1Layout.size().width, "width of node1");
        assertEquals(33.0f, node1Layout.size().height, "height of node1");
        assertEquals(0.0f, node1Layout.location().x, "x of node1");
        assertEquals(67.0f, node1Layout.location().y, "y of node1");
    }

    @Test
    @DisplayName("flex_basis_flex_shrink_row__border_box")
    void flexBasisFlexShrinkRowBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.flexBasis = Dimension.length(100.0f);
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.flexBasis = Dimension.length(50.0f);
        NodeId node1 = tree.newLeaf(node1Style);

        Style nodeStyle = new Style();
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(67.0f, node0Layout.size().width, "width of node0");
        assertEquals(100.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(33.0f, node1Layout.size().width, "width of node1");
        assertEquals(100.0f, node1Layout.size().height, "height of node1");
        assertEquals(67.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
    }

    @Test
    @DisplayName("flex_basis_flex_shrink_row__content_box")
    void flexBasisFlexShrinkRowContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.flexBasis = Dimension.length(100.0f);
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.flexBasis = Dimension.length(50.0f);
        NodeId node1 = tree.newLeaf(node1Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(67.0f, node0Layout.size().width, "width of node0");
        assertEquals(100.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(33.0f, node1Layout.size().width, "width of node1");
        assertEquals(100.0f, node1Layout.size().height, "height of node1");
        assertEquals(67.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
    }

    @Test
    @DisplayName("flex_basis_larger_than_content_column__border_box")
    void flexBasisLargerThanContentColumnBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.size = new Size<>(Dimension.length(100.0f), Dimension.length(10.0f));
        NodeId node00 = tree.newLeaf(node00Style);

        Style node0Style = new Style();
        node0Style.flexDirection = FlexDirection.COLUMN;
        node0Style.flexBasis = Dimension.length(50.0f);
        NodeId node0 = tree.newWithChildren(node0Style, node00);

        Style nodeStyle = new Style();
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.size = new Size<>(Dimension.AUTO, Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(100.0f, node0Layout.size().width, "width of node0");
        assertEquals(50.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(100.0f, node00Layout.size().width, "width of node00");
        assertEquals(10.0f, node00Layout.size().height, "height of node00");
        assertEquals(0.0f, node00Layout.location().x, "x of node00");
        assertEquals(0.0f, node00Layout.location().y, "y of node00");
    }

    @Test
    @DisplayName("flex_basis_larger_than_content_column__content_box")
    void flexBasisLargerThanContentColumnContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.boxSizing = BoxSizing.CONTENT_BOX;
        node00Style.size = new Size<>(Dimension.length(100.0f), Dimension.length(10.0f));
        NodeId node00 = tree.newLeaf(node00Style);

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.flexDirection = FlexDirection.COLUMN;
        node0Style.flexBasis = Dimension.length(50.0f);
        NodeId node0 = tree.newWithChildren(node0Style, node00);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.size = new Size<>(Dimension.AUTO, Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(100.0f, node0Layout.size().width, "width of node0");
        assertEquals(50.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(100.0f, node00Layout.size().width, "width of node00");
        assertEquals(10.0f, node00Layout.size().height, "height of node00");
        assertEquals(0.0f, node00Layout.location().x, "x of node00");
        assertEquals(0.0f, node00Layout.location().y, "y of node00");
    }

    @Test
    @DisplayName("flex_basis_larger_than_content_row__border_box")
    void flexBasisLargerThanContentRowBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.size = new Size<>(Dimension.length(10.0f), Dimension.length(100.0f));
        NodeId node00 = tree.newLeaf(node00Style);

        Style node0Style = new Style();
        node0Style.flexDirection = FlexDirection.COLUMN;
        node0Style.flexBasis = Dimension.length(50.0f);
        NodeId node0 = tree.newWithChildren(node0Style, node00);

        Style nodeStyle = new Style();
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.AUTO);
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(50.0f, node0Layout.size().width, "width of node0");
        assertEquals(100.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(10.0f, node00Layout.size().width, "width of node00");
        assertEquals(100.0f, node00Layout.size().height, "height of node00");
        assertEquals(0.0f, node00Layout.location().x, "x of node00");
        assertEquals(0.0f, node00Layout.location().y, "y of node00");
    }

    @Test
    @DisplayName("flex_basis_larger_than_content_row__content_box")
    void flexBasisLargerThanContentRowContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.boxSizing = BoxSizing.CONTENT_BOX;
        node00Style.size = new Size<>(Dimension.length(10.0f), Dimension.length(100.0f));
        NodeId node00 = tree.newLeaf(node00Style);

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.flexDirection = FlexDirection.COLUMN;
        node0Style.flexBasis = Dimension.length(50.0f);
        NodeId node0 = tree.newWithChildren(node0Style, node00);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.AUTO);
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(50.0f, node0Layout.size().width, "width of node0");
        assertEquals(100.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(10.0f, node00Layout.size().width, "width of node00");
        assertEquals(100.0f, node00Layout.size().height, "height of node00");
        assertEquals(0.0f, node00Layout.location().x, "x of node00");
        assertEquals(0.0f, node00Layout.location().y, "y of node00");
    }

    @Test
    @DisplayName("flex_basis_overrides_main_size__border_box")
    void flexBasisOverridesMainSizeBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.flexGrow = 1.0f;
        node0Style.flexBasis = Dimension.length(50.0f);
        node0Style.size = new Size<>(Dimension.length(20.0f), Dimension.AUTO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.flexGrow = 1.0f;
        node1Style.size = new Size<>(Dimension.length(10.0f), Dimension.AUTO);
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.flexGrow = 1.0f;
        node2Style.size = new Size<>(Dimension.length(10.0f), Dimension.AUTO);
        NodeId node2 = tree.newLeaf(node2Style);

        Style nodeStyle = new Style();
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(60.0f, node0Layout.size().width, "width of node0");
        assertEquals(100.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(20.0f, node1Layout.size().width, "width of node1");
        assertEquals(100.0f, node1Layout.size().height, "height of node1");
        assertEquals(60.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(20.0f, node2Layout.size().width, "width of node2");
        assertEquals(100.0f, node2Layout.size().height, "height of node2");
        assertEquals(80.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
    }

    @Test
    @DisplayName("flex_basis_overrides_main_size__content_box")
    void flexBasisOverridesMainSizeContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.flexGrow = 1.0f;
        node0Style.flexBasis = Dimension.length(50.0f);
        node0Style.size = new Size<>(Dimension.length(20.0f), Dimension.AUTO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.flexGrow = 1.0f;
        node1Style.size = new Size<>(Dimension.length(10.0f), Dimension.AUTO);
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        node2Style.flexGrow = 1.0f;
        node2Style.size = new Size<>(Dimension.length(10.0f), Dimension.AUTO);
        NodeId node2 = tree.newLeaf(node2Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(60.0f, node0Layout.size().width, "width of node0");
        assertEquals(100.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(20.0f, node1Layout.size().width, "width of node1");
        assertEquals(100.0f, node1Layout.size().height, "height of node1");
        assertEquals(60.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(20.0f, node2Layout.size().width, "width of node2");
        assertEquals(100.0f, node2Layout.size().height, "height of node2");
        assertEquals(80.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
    }

    @Test
    @DisplayName("flex_basis_slightly_smaller_then_content_with_flex_grow_large_size__border_box")
    void flexBasisSlightlySmallerThenContentWithFlexGrowLargeSizeBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.size = new Size<>(Dimension.length(70.0f), Dimension.length(100.0f));
        NodeId node00 = tree.newLeaf(node00Style);

        Style node0Style = new Style();
        node0Style.flexDirection = FlexDirection.COLUMN;
        node0Style.flexGrow = 1.0f;
        node0Style.flexBasis = Dimension.length(60.0f);
        NodeId node0 = tree.newWithChildren(node0Style, node00);

        Style node10Style = new Style();
        node10Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(100.0f));
        NodeId node10 = tree.newLeaf(node10Style);

        Style node1Style = new Style();
        node1Style.flexDirection = FlexDirection.COLUMN;
        node1Style.flexGrow = 1.0f;
        node1Style.flexBasis = Dimension.length(0.0f);
        NodeId node1 = tree.newWithChildren(node1Style, node10);

        Style nodeStyle = new Style();
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.AUTO);
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(80.0f, node0Layout.size().width, "width of node0");
        assertEquals(100.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(70.0f, node00Layout.size().width, "width of node00");
        assertEquals(100.0f, node00Layout.size().height, "height of node00");
        assertEquals(0.0f, node00Layout.location().x, "x of node00");
        assertEquals(0.0f, node00Layout.location().y, "y of node00");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(20.0f, node1Layout.size().width, "width of node1");
        assertEquals(100.0f, node1Layout.size().height, "height of node1");
        assertEquals(80.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node10Layout = tree.getLayout(node10);
        assertEquals(20.0f, node10Layout.size().width, "width of node10");
        assertEquals(100.0f, node10Layout.size().height, "height of node10");
        assertEquals(0.0f, node10Layout.location().x, "x of node10");
        assertEquals(0.0f, node10Layout.location().y, "y of node10");
    }

    @Test
    @DisplayName("flex_basis_slightly_smaller_then_content_with_flex_grow_large_size__content_box")
    void flexBasisSlightlySmallerThenContentWithFlexGrowLargeSizeContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.boxSizing = BoxSizing.CONTENT_BOX;
        node00Style.size = new Size<>(Dimension.length(70.0f), Dimension.length(100.0f));
        NodeId node00 = tree.newLeaf(node00Style);

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.flexDirection = FlexDirection.COLUMN;
        node0Style.flexGrow = 1.0f;
        node0Style.flexBasis = Dimension.length(60.0f);
        NodeId node0 = tree.newWithChildren(node0Style, node00);

        Style node10Style = new Style();
        node10Style.boxSizing = BoxSizing.CONTENT_BOX;
        node10Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(100.0f));
        NodeId node10 = tree.newLeaf(node10Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.flexDirection = FlexDirection.COLUMN;
        node1Style.flexGrow = 1.0f;
        node1Style.flexBasis = Dimension.length(0.0f);
        NodeId node1 = tree.newWithChildren(node1Style, node10);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.AUTO);
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(80.0f, node0Layout.size().width, "width of node0");
        assertEquals(100.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(70.0f, node00Layout.size().width, "width of node00");
        assertEquals(100.0f, node00Layout.size().height, "height of node00");
        assertEquals(0.0f, node00Layout.location().x, "x of node00");
        assertEquals(0.0f, node00Layout.location().y, "y of node00");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(20.0f, node1Layout.size().width, "width of node1");
        assertEquals(100.0f, node1Layout.size().height, "height of node1");
        assertEquals(80.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node10Layout = tree.getLayout(node10);
        assertEquals(20.0f, node10Layout.size().width, "width of node10");
        assertEquals(100.0f, node10Layout.size().height, "height of node10");
        assertEquals(0.0f, node10Layout.location().x, "x of node10");
        assertEquals(0.0f, node10Layout.location().y, "y of node10");
    }

    @Test
    @DisplayName("flex_basis_smaller_than_content_column__border_box")
    void flexBasisSmallerThanContentColumnBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node00 = tree.newLeaf(node00Style);

        Style node0Style = new Style();
        node0Style.flexDirection = FlexDirection.COLUMN;
        node0Style.flexBasis = Dimension.length(50.0f);
        NodeId node0 = tree.newWithChildren(node0Style, node00);

        Style nodeStyle = new Style();
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.size = new Size<>(Dimension.AUTO, Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(100.0f, node0Layout.size().width, "width of node0");
        assertEquals(100.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(100.0f, node00Layout.size().width, "width of node00");
        assertEquals(100.0f, node00Layout.size().height, "height of node00");
        assertEquals(0.0f, node00Layout.location().x, "x of node00");
        assertEquals(0.0f, node00Layout.location().y, "y of node00");
    }

    @Test
    @DisplayName("flex_basis_smaller_than_content_column__content_box")
    void flexBasisSmallerThanContentColumnContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.boxSizing = BoxSizing.CONTENT_BOX;
        node00Style.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node00 = tree.newLeaf(node00Style);

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.flexDirection = FlexDirection.COLUMN;
        node0Style.flexBasis = Dimension.length(50.0f);
        NodeId node0 = tree.newWithChildren(node0Style, node00);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.size = new Size<>(Dimension.AUTO, Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(100.0f, node0Layout.size().width, "width of node0");
        assertEquals(100.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(100.0f, node00Layout.size().width, "width of node00");
        assertEquals(100.0f, node00Layout.size().height, "height of node00");
        assertEquals(0.0f, node00Layout.location().x, "x of node00");
        assertEquals(0.0f, node00Layout.location().y, "y of node00");
    }

    @Test
    @DisplayName("flex_basis_smaller_than_content_row__border_box")
    void flexBasisSmallerThanContentRowBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node00 = tree.newLeaf(node00Style);

        Style node0Style = new Style();
        node0Style.flexDirection = FlexDirection.COLUMN;
        node0Style.flexBasis = Dimension.length(50.0f);
        NodeId node0 = tree.newWithChildren(node0Style, node00);

        Style nodeStyle = new Style();
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.AUTO);
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(100.0f, node0Layout.size().width, "width of node0");
        assertEquals(100.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(100.0f, node00Layout.size().width, "width of node00");
        assertEquals(100.0f, node00Layout.size().height, "height of node00");
        assertEquals(0.0f, node00Layout.location().x, "x of node00");
        assertEquals(0.0f, node00Layout.location().y, "y of node00");
    }

    @Test
    @DisplayName("flex_basis_smaller_than_content_row__content_box")
    void flexBasisSmallerThanContentRowContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.boxSizing = BoxSizing.CONTENT_BOX;
        node00Style.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node00 = tree.newLeaf(node00Style);

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.flexDirection = FlexDirection.COLUMN;
        node0Style.flexBasis = Dimension.length(50.0f);
        NodeId node0 = tree.newWithChildren(node0Style, node00);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.AUTO);
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(100.0f, node0Layout.size().width, "width of node0");
        assertEquals(100.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(100.0f, node00Layout.size().width, "width of node00");
        assertEquals(100.0f, node00Layout.size().height, "height of node00");
        assertEquals(0.0f, node00Layout.location().x, "x of node00");
        assertEquals(0.0f, node00Layout.location().y, "y of node00");
    }

    @Test
    @DisplayName("flex_basis_smaller_than_main_dimen_column__border_box")
    void flexBasisSmallerThanMainDimenColumnBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.flexBasis = Dimension.length(10.0f);
        node0Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.size = new Size<>(Dimension.AUTO, Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(50.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(50.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("flex_basis_smaller_than_main_dimen_column__content_box")
    void flexBasisSmallerThanMainDimenColumnContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.flexBasis = Dimension.length(10.0f);
        node0Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.size = new Size<>(Dimension.AUTO, Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(50.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(50.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("flex_basis_smaller_than_main_dimen_row__border_box")
    void flexBasisSmallerThanMainDimenRowBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.flexBasis = Dimension.length(10.0f);
        node0Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.AUTO);
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(50.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(10.0f, node0Layout.size().width, "width of node0");
        assertEquals(50.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("flex_basis_smaller_than_main_dimen_row__content_box")
    void flexBasisSmallerThanMainDimenRowContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.flexBasis = Dimension.length(10.0f);
        node0Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.AUTO);
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(50.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(10.0f, node0Layout.size().width, "width of node0");
        assertEquals(50.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("flex_basis_smaller_then_content_with_flex_grow_large_size__border_box")
    void flexBasisSmallerThenContentWithFlexGrowLargeSizeBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.size = new Size<>(Dimension.length(70.0f), Dimension.length(100.0f));
        NodeId node00 = tree.newLeaf(node00Style);

        Style node0Style = new Style();
        node0Style.flexDirection = FlexDirection.COLUMN;
        node0Style.flexGrow = 1.0f;
        node0Style.flexBasis = Dimension.length(0.0f);
        NodeId node0 = tree.newWithChildren(node0Style, node00);

        Style node10Style = new Style();
        node10Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(100.0f));
        NodeId node10 = tree.newLeaf(node10Style);

        Style node1Style = new Style();
        node1Style.flexDirection = FlexDirection.COLUMN;
        node1Style.flexGrow = 1.0f;
        node1Style.flexBasis = Dimension.length(0.0f);
        NodeId node1 = tree.newWithChildren(node1Style, node10);

        Style nodeStyle = new Style();
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.AUTO);
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(70.0f, node0Layout.size().width, "width of node0");
        assertEquals(100.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(70.0f, node00Layout.size().width, "width of node00");
        assertEquals(100.0f, node00Layout.size().height, "height of node00");
        assertEquals(0.0f, node00Layout.location().x, "x of node00");
        assertEquals(0.0f, node00Layout.location().y, "y of node00");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(30.0f, node1Layout.size().width, "width of node1");
        assertEquals(100.0f, node1Layout.size().height, "height of node1");
        assertEquals(70.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node10Layout = tree.getLayout(node10);
        assertEquals(20.0f, node10Layout.size().width, "width of node10");
        assertEquals(100.0f, node10Layout.size().height, "height of node10");
        assertEquals(0.0f, node10Layout.location().x, "x of node10");
        assertEquals(0.0f, node10Layout.location().y, "y of node10");
    }

    @Test
    @DisplayName("flex_basis_smaller_then_content_with_flex_grow_large_size__content_box")
    void flexBasisSmallerThenContentWithFlexGrowLargeSizeContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.boxSizing = BoxSizing.CONTENT_BOX;
        node00Style.size = new Size<>(Dimension.length(70.0f), Dimension.length(100.0f));
        NodeId node00 = tree.newLeaf(node00Style);

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.flexDirection = FlexDirection.COLUMN;
        node0Style.flexGrow = 1.0f;
        node0Style.flexBasis = Dimension.length(0.0f);
        NodeId node0 = tree.newWithChildren(node0Style, node00);

        Style node10Style = new Style();
        node10Style.boxSizing = BoxSizing.CONTENT_BOX;
        node10Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(100.0f));
        NodeId node10 = tree.newLeaf(node10Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.flexDirection = FlexDirection.COLUMN;
        node1Style.flexGrow = 1.0f;
        node1Style.flexBasis = Dimension.length(0.0f);
        NodeId node1 = tree.newWithChildren(node1Style, node10);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.AUTO);
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(70.0f, node0Layout.size().width, "width of node0");
        assertEquals(100.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(70.0f, node00Layout.size().width, "width of node00");
        assertEquals(100.0f, node00Layout.size().height, "height of node00");
        assertEquals(0.0f, node00Layout.location().x, "x of node00");
        assertEquals(0.0f, node00Layout.location().y, "y of node00");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(30.0f, node1Layout.size().width, "width of node1");
        assertEquals(100.0f, node1Layout.size().height, "height of node1");
        assertEquals(70.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node10Layout = tree.getLayout(node10);
        assertEquals(20.0f, node10Layout.size().width, "width of node10");
        assertEquals(100.0f, node10Layout.size().height, "height of node10");
        assertEquals(0.0f, node10Layout.location().x, "x of node10");
        assertEquals(0.0f, node10Layout.location().y, "y of node10");
    }

    @Test
    @DisplayName("flex_basis_smaller_then_content_with_flex_grow_small_size__border_box")
    void flexBasisSmallerThenContentWithFlexGrowSmallSizeBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.size = new Size<>(Dimension.length(70.0f), Dimension.length(100.0f));
        NodeId node00 = tree.newLeaf(node00Style);

        Style node0Style = new Style();
        node0Style.flexDirection = FlexDirection.COLUMN;
        node0Style.flexGrow = 1.0f;
        node0Style.flexBasis = Dimension.length(0.0f);
        NodeId node0 = tree.newWithChildren(node0Style, node00);

        Style node10Style = new Style();
        node10Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(100.0f));
        NodeId node10 = tree.newLeaf(node10Style);

        Style node1Style = new Style();
        node1Style.flexDirection = FlexDirection.COLUMN;
        node1Style.flexGrow = 1.0f;
        node1Style.flexBasis = Dimension.length(0.0f);
        NodeId node1 = tree.newWithChildren(node1Style, node10);

        Style nodeStyle = new Style();
        nodeStyle.size = new Size<>(Dimension.length(10.0f), Dimension.AUTO);
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(10.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(70.0f, node0Layout.size().width, "width of node0");
        assertEquals(100.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(70.0f, node00Layout.size().width, "width of node00");
        assertEquals(100.0f, node00Layout.size().height, "height of node00");
        assertEquals(0.0f, node00Layout.location().x, "x of node00");
        assertEquals(0.0f, node00Layout.location().y, "y of node00");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(20.0f, node1Layout.size().width, "width of node1");
        assertEquals(100.0f, node1Layout.size().height, "height of node1");
        assertEquals(70.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node10Layout = tree.getLayout(node10);
        assertEquals(20.0f, node10Layout.size().width, "width of node10");
        assertEquals(100.0f, node10Layout.size().height, "height of node10");
        assertEquals(0.0f, node10Layout.location().x, "x of node10");
        assertEquals(0.0f, node10Layout.location().y, "y of node10");
    }

    @Test
    @DisplayName("flex_basis_smaller_then_content_with_flex_grow_small_size__content_box")
    void flexBasisSmallerThenContentWithFlexGrowSmallSizeContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.boxSizing = BoxSizing.CONTENT_BOX;
        node00Style.size = new Size<>(Dimension.length(70.0f), Dimension.length(100.0f));
        NodeId node00 = tree.newLeaf(node00Style);

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.flexDirection = FlexDirection.COLUMN;
        node0Style.flexGrow = 1.0f;
        node0Style.flexBasis = Dimension.length(0.0f);
        NodeId node0 = tree.newWithChildren(node0Style, node00);

        Style node10Style = new Style();
        node10Style.boxSizing = BoxSizing.CONTENT_BOX;
        node10Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(100.0f));
        NodeId node10 = tree.newLeaf(node10Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.flexDirection = FlexDirection.COLUMN;
        node1Style.flexGrow = 1.0f;
        node1Style.flexBasis = Dimension.length(0.0f);
        NodeId node1 = tree.newWithChildren(node1Style, node10);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.size = new Size<>(Dimension.length(10.0f), Dimension.AUTO);
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(10.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(70.0f, node0Layout.size().width, "width of node0");
        assertEquals(100.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(70.0f, node00Layout.size().width, "width of node00");
        assertEquals(100.0f, node00Layout.size().height, "height of node00");
        assertEquals(0.0f, node00Layout.location().x, "x of node00");
        assertEquals(0.0f, node00Layout.location().y, "y of node00");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(20.0f, node1Layout.size().width, "width of node1");
        assertEquals(100.0f, node1Layout.size().height, "height of node1");
        assertEquals(70.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node10Layout = tree.getLayout(node10);
        assertEquals(20.0f, node10Layout.size().width, "width of node10");
        assertEquals(100.0f, node10Layout.size().height, "height of node10");
        assertEquals(0.0f, node10Layout.location().x, "x of node10");
        assertEquals(0.0f, node10Layout.location().y, "y of node10");
    }

    @Test
    @DisplayName("flex_basis_smaller_then_content_with_flex_grow_unconstraint_size__border_box")
    void flexBasisSmallerThenContentWithFlexGrowUnconstraintSizeBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.size = new Size<>(Dimension.length(70.0f), Dimension.length(100.0f));
        NodeId node00 = tree.newLeaf(node00Style);

        Style node0Style = new Style();
        node0Style.flexDirection = FlexDirection.COLUMN;
        node0Style.flexGrow = 1.0f;
        node0Style.flexBasis = Dimension.length(0.0f);
        NodeId node0 = tree.newWithChildren(node0Style, node00);

        Style node10Style = new Style();
        node10Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(100.0f));
        NodeId node10 = tree.newLeaf(node10Style);

        Style node1Style = new Style();
        node1Style.flexDirection = FlexDirection.COLUMN;
        node1Style.flexGrow = 1.0f;
        node1Style.flexBasis = Dimension.length(0.0f);
        NodeId node1 = tree.newWithChildren(node1Style, node10);

        Style nodeStyle = new Style();
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(90.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(70.0f, node0Layout.size().width, "width of node0");
        assertEquals(100.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(70.0f, node00Layout.size().width, "width of node00");
        assertEquals(100.0f, node00Layout.size().height, "height of node00");
        assertEquals(0.0f, node00Layout.location().x, "x of node00");
        assertEquals(0.0f, node00Layout.location().y, "y of node00");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(20.0f, node1Layout.size().width, "width of node1");
        assertEquals(100.0f, node1Layout.size().height, "height of node1");
        assertEquals(70.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node10Layout = tree.getLayout(node10);
        assertEquals(20.0f, node10Layout.size().width, "width of node10");
        assertEquals(100.0f, node10Layout.size().height, "height of node10");
        assertEquals(0.0f, node10Layout.location().x, "x of node10");
        assertEquals(0.0f, node10Layout.location().y, "y of node10");
    }

    @Test
    @DisplayName("flex_basis_smaller_then_content_with_flex_grow_unconstraint_size__content_box")
    void flexBasisSmallerThenContentWithFlexGrowUnconstraintSizeContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.boxSizing = BoxSizing.CONTENT_BOX;
        node00Style.size = new Size<>(Dimension.length(70.0f), Dimension.length(100.0f));
        NodeId node00 = tree.newLeaf(node00Style);

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.flexDirection = FlexDirection.COLUMN;
        node0Style.flexGrow = 1.0f;
        node0Style.flexBasis = Dimension.length(0.0f);
        NodeId node0 = tree.newWithChildren(node0Style, node00);

        Style node10Style = new Style();
        node10Style.boxSizing = BoxSizing.CONTENT_BOX;
        node10Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(100.0f));
        NodeId node10 = tree.newLeaf(node10Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.flexDirection = FlexDirection.COLUMN;
        node1Style.flexGrow = 1.0f;
        node1Style.flexBasis = Dimension.length(0.0f);
        NodeId node1 = tree.newWithChildren(node1Style, node10);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(90.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(70.0f, node0Layout.size().width, "width of node0");
        assertEquals(100.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(70.0f, node00Layout.size().width, "width of node00");
        assertEquals(100.0f, node00Layout.size().height, "height of node00");
        assertEquals(0.0f, node00Layout.location().x, "x of node00");
        assertEquals(0.0f, node00Layout.location().y, "y of node00");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(20.0f, node1Layout.size().width, "width of node1");
        assertEquals(100.0f, node1Layout.size().height, "height of node1");
        assertEquals(70.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node10Layout = tree.getLayout(node10);
        assertEquals(20.0f, node10Layout.size().width, "width of node10");
        assertEquals(100.0f, node10Layout.size().height, "height of node10");
        assertEquals(0.0f, node10Layout.location().x, "x of node10");
        assertEquals(0.0f, node10Layout.location().y, "y of node10");
    }

    @Test
    @DisplayName("flex_basis_smaller_then_content_with_flex_grow_very_large_size__border_box")
    void flexBasisSmallerThenContentWithFlexGrowVeryLargeSizeBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.size = new Size<>(Dimension.length(70.0f), Dimension.length(100.0f));
        NodeId node00 = tree.newLeaf(node00Style);

        Style node0Style = new Style();
        node0Style.flexDirection = FlexDirection.COLUMN;
        node0Style.flexGrow = 1.0f;
        node0Style.flexBasis = Dimension.length(0.0f);
        NodeId node0 = tree.newWithChildren(node0Style, node00);

        Style node10Style = new Style();
        node10Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(100.0f));
        NodeId node10 = tree.newLeaf(node10Style);

        Style node1Style = new Style();
        node1Style.flexDirection = FlexDirection.COLUMN;
        node1Style.flexGrow = 1.0f;
        node1Style.flexBasis = Dimension.length(0.0f);
        NodeId node1 = tree.newWithChildren(node1Style, node10);

        Style nodeStyle = new Style();
        nodeStyle.size = new Size<>(Dimension.length(200.0f), Dimension.AUTO);
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(200.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(100.0f, node0Layout.size().width, "width of node0");
        assertEquals(100.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(70.0f, node00Layout.size().width, "width of node00");
        assertEquals(100.0f, node00Layout.size().height, "height of node00");
        assertEquals(0.0f, node00Layout.location().x, "x of node00");
        assertEquals(0.0f, node00Layout.location().y, "y of node00");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(100.0f, node1Layout.size().width, "width of node1");
        assertEquals(100.0f, node1Layout.size().height, "height of node1");
        assertEquals(100.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node10Layout = tree.getLayout(node10);
        assertEquals(20.0f, node10Layout.size().width, "width of node10");
        assertEquals(100.0f, node10Layout.size().height, "height of node10");
        assertEquals(0.0f, node10Layout.location().x, "x of node10");
        assertEquals(0.0f, node10Layout.location().y, "y of node10");
    }

    @Test
    @DisplayName("flex_basis_smaller_then_content_with_flex_grow_very_large_size__content_box")
    void flexBasisSmallerThenContentWithFlexGrowVeryLargeSizeContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.boxSizing = BoxSizing.CONTENT_BOX;
        node00Style.size = new Size<>(Dimension.length(70.0f), Dimension.length(100.0f));
        NodeId node00 = tree.newLeaf(node00Style);

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.flexDirection = FlexDirection.COLUMN;
        node0Style.flexGrow = 1.0f;
        node0Style.flexBasis = Dimension.length(0.0f);
        NodeId node0 = tree.newWithChildren(node0Style, node00);

        Style node10Style = new Style();
        node10Style.boxSizing = BoxSizing.CONTENT_BOX;
        node10Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(100.0f));
        NodeId node10 = tree.newLeaf(node10Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.flexDirection = FlexDirection.COLUMN;
        node1Style.flexGrow = 1.0f;
        node1Style.flexBasis = Dimension.length(0.0f);
        NodeId node1 = tree.newWithChildren(node1Style, node10);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.size = new Size<>(Dimension.length(200.0f), Dimension.AUTO);
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(200.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(100.0f, node0Layout.size().width, "width of node0");
        assertEquals(100.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(70.0f, node00Layout.size().width, "width of node00");
        assertEquals(100.0f, node00Layout.size().height, "height of node00");
        assertEquals(0.0f, node00Layout.location().x, "x of node00");
        assertEquals(0.0f, node00Layout.location().y, "y of node00");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(100.0f, node1Layout.size().width, "width of node1");
        assertEquals(100.0f, node1Layout.size().height, "height of node1");
        assertEquals(100.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node10Layout = tree.getLayout(node10);
        assertEquals(20.0f, node10Layout.size().width, "width of node10");
        assertEquals(100.0f, node10Layout.size().height, "height of node10");
        assertEquals(0.0f, node10Layout.location().x, "x of node10");
        assertEquals(0.0f, node10Layout.location().y, "y of node10");
    }

    @Test
    @DisplayName("flex_basis_unconstraint_column__border_box")
    void flexBasisUnconstraintColumnBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.flexBasis = Dimension.length(50.0f);
        node0Style.size = new Size<>(Dimension.length(100.0f), Dimension.AUTO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(50.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(100.0f, node0Layout.size().width, "width of node0");
        assertEquals(50.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("flex_basis_unconstraint_column__content_box")
    void flexBasisUnconstraintColumnContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.flexBasis = Dimension.length(50.0f);
        node0Style.size = new Size<>(Dimension.length(100.0f), Dimension.AUTO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(50.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(100.0f, node0Layout.size().width, "width of node0");
        assertEquals(50.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("flex_basis_unconstraint_row__border_box")
    void flexBasisUnconstraintRowBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.flexBasis = Dimension.length(50.0f);
        node0Style.size = new Size<>(Dimension.AUTO, Dimension.length(100.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(0.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(0.0f, node0Layout.size().width, "width of node0");
        assertEquals(100.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("flex_basis_unconstraint_row__content_box")
    void flexBasisUnconstraintRowContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.flexBasis = Dimension.length(50.0f);
        node0Style.size = new Size<>(Dimension.AUTO, Dimension.length(100.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(0.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(0.0f, node0Layout.size().width, "width of node0");
        assertEquals(100.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("flex_basis_zero_undefined_main_size__border_box")
    void flexBasisZeroUndefinedMainSizeBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.size = new Size<>(Dimension.length(100.0f), Dimension.length(50.0f));
        NodeId node00 = tree.newLeaf(node00Style);

        Style node0Style = new Style();
        node0Style.flexDirection = FlexDirection.COLUMN;
        node0Style.flexBasis = Dimension.length(0.0f);
        NodeId node0 = tree.newWithChildren(node0Style, node00);

        Style nodeStyle = new Style();
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(50.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(100.0f, node0Layout.size().width, "width of node0");
        assertEquals(50.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(100.0f, node00Layout.size().width, "width of node00");
        assertEquals(50.0f, node00Layout.size().height, "height of node00");
        assertEquals(0.0f, node00Layout.location().x, "x of node00");
        assertEquals(0.0f, node00Layout.location().y, "y of node00");
    }

    @Test
    @DisplayName("flex_basis_zero_undefined_main_size__content_box")
    void flexBasisZeroUndefinedMainSizeContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.boxSizing = BoxSizing.CONTENT_BOX;
        node00Style.size = new Size<>(Dimension.length(100.0f), Dimension.length(50.0f));
        NodeId node00 = tree.newLeaf(node00Style);

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.flexDirection = FlexDirection.COLUMN;
        node0Style.flexBasis = Dimension.length(0.0f);
        NodeId node0 = tree.newWithChildren(node0Style, node00);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(50.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(100.0f, node0Layout.size().width, "width of node0");
        assertEquals(50.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(100.0f, node00Layout.size().width, "width of node00");
        assertEquals(50.0f, node00Layout.size().height, "height of node00");
        assertEquals(0.0f, node00Layout.location().x, "x of node00");
        assertEquals(0.0f, node00Layout.location().y, "y of node00");
    }

    @Test
    @DisplayName("flex_column_relative_all_sides__border_box")
    void flexColumnRelativeAllSidesBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.length(40.0f), Dimension.AUTO);
        node0Style.inset = new Rect<>(LengthPercentageAuto.length(10.0f), LengthPercentageAuto.length(10.0f), LengthPercentageAuto.length(10.0f), LengthPercentageAuto.length(10.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(0.0f, node0Layout.size().height, "height of node0");
        assertEquals(10.0f, node0Layout.location().x, "x of node0");
        assertEquals(10.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("flex_column_relative_all_sides__content_box")
    void flexColumnRelativeAllSidesContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.length(40.0f), Dimension.AUTO);
        node0Style.inset = new Rect<>(LengthPercentageAuto.length(10.0f), LengthPercentageAuto.length(10.0f), LengthPercentageAuto.length(10.0f), LengthPercentageAuto.length(10.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(0.0f, node0Layout.size().height, "height of node0");
        assertEquals(10.0f, node0Layout.location().x, "x of node0");
        assertEquals(10.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("flex_direction_column__border_box")
    void flexDirectionColumnBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        NodeId node2 = tree.newLeaf(node2Style);

        Style nodeStyle = new Style();
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(100.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(100.0f, node1Layout.size().width, "width of node1");
        assertEquals(10.0f, node1Layout.size().height, "height of node1");
        assertEquals(0.0f, node1Layout.location().x, "x of node1");
        assertEquals(10.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(100.0f, node2Layout.size().width, "width of node2");
        assertEquals(10.0f, node2Layout.size().height, "height of node2");
        assertEquals(0.0f, node2Layout.location().x, "x of node2");
        assertEquals(20.0f, node2Layout.location().y, "y of node2");
    }

    @Test
    @DisplayName("flex_direction_column__content_box")
    void flexDirectionColumnContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        node2Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        NodeId node2 = tree.newLeaf(node2Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(100.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(100.0f, node1Layout.size().width, "width of node1");
        assertEquals(10.0f, node1Layout.size().height, "height of node1");
        assertEquals(0.0f, node1Layout.location().x, "x of node1");
        assertEquals(10.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(100.0f, node2Layout.size().width, "width of node2");
        assertEquals(10.0f, node2Layout.size().height, "height of node2");
        assertEquals(0.0f, node2Layout.location().x, "x of node2");
        assertEquals(20.0f, node2Layout.location().y, "y of node2");
    }

    @Test
    @DisplayName("flex_direction_column_no_height__border_box")
    void flexDirectionColumnNoHeightBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        NodeId node2 = tree.newLeaf(node2Style);

        Style nodeStyle = new Style();
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.AUTO);
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(30.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(100.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(100.0f, node1Layout.size().width, "width of node1");
        assertEquals(10.0f, node1Layout.size().height, "height of node1");
        assertEquals(0.0f, node1Layout.location().x, "x of node1");
        assertEquals(10.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(100.0f, node2Layout.size().width, "width of node2");
        assertEquals(10.0f, node2Layout.size().height, "height of node2");
        assertEquals(0.0f, node2Layout.location().x, "x of node2");
        assertEquals(20.0f, node2Layout.location().y, "y of node2");
    }

    @Test
    @DisplayName("flex_direction_column_no_height__content_box")
    void flexDirectionColumnNoHeightContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        node2Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        NodeId node2 = tree.newLeaf(node2Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.AUTO);
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(30.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(100.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(100.0f, node1Layout.size().width, "width of node1");
        assertEquals(10.0f, node1Layout.size().height, "height of node1");
        assertEquals(0.0f, node1Layout.location().x, "x of node1");
        assertEquals(10.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(100.0f, node2Layout.size().width, "width of node2");
        assertEquals(10.0f, node2Layout.size().height, "height of node2");
        assertEquals(0.0f, node2Layout.location().x, "x of node2");
        assertEquals(20.0f, node2Layout.location().y, "y of node2");
    }

    @Test
    @DisplayName("flex_direction_column_reverse__border_box")
    void flexDirectionColumnReverseBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        NodeId node2 = tree.newLeaf(node2Style);

        Style nodeStyle = new Style();
        nodeStyle.flexDirection = FlexDirection.COLUMN_REVERSE;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(100.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(90.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(100.0f, node1Layout.size().width, "width of node1");
        assertEquals(10.0f, node1Layout.size().height, "height of node1");
        assertEquals(0.0f, node1Layout.location().x, "x of node1");
        assertEquals(80.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(100.0f, node2Layout.size().width, "width of node2");
        assertEquals(10.0f, node2Layout.size().height, "height of node2");
        assertEquals(0.0f, node2Layout.location().x, "x of node2");
        assertEquals(70.0f, node2Layout.location().y, "y of node2");
    }

    @Test
    @DisplayName("flex_direction_column_reverse__content_box")
    void flexDirectionColumnReverseContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        node2Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        NodeId node2 = tree.newLeaf(node2Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexDirection = FlexDirection.COLUMN_REVERSE;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(100.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(90.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(100.0f, node1Layout.size().width, "width of node1");
        assertEquals(10.0f, node1Layout.size().height, "height of node1");
        assertEquals(0.0f, node1Layout.location().x, "x of node1");
        assertEquals(80.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(100.0f, node2Layout.size().width, "width of node2");
        assertEquals(10.0f, node2Layout.size().height, "height of node2");
        assertEquals(0.0f, node2Layout.location().x, "x of node2");
        assertEquals(70.0f, node2Layout.location().y, "y of node2");
    }

    @Test
    @DisplayName("flex_direction_column_reverse_no_height__border_box")
    void flexDirectionColumnReverseNoHeightBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        NodeId node2 = tree.newLeaf(node2Style);

        Style nodeStyle = new Style();
        nodeStyle.flexDirection = FlexDirection.COLUMN_REVERSE;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.AUTO);
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(30.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(100.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(20.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(100.0f, node1Layout.size().width, "width of node1");
        assertEquals(10.0f, node1Layout.size().height, "height of node1");
        assertEquals(0.0f, node1Layout.location().x, "x of node1");
        assertEquals(10.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(100.0f, node2Layout.size().width, "width of node2");
        assertEquals(10.0f, node2Layout.size().height, "height of node2");
        assertEquals(0.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
    }

    @Test
    @DisplayName("flex_direction_column_reverse_no_height__content_box")
    void flexDirectionColumnReverseNoHeightContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        node2Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        NodeId node2 = tree.newLeaf(node2Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexDirection = FlexDirection.COLUMN_REVERSE;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.AUTO);
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(30.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(100.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(20.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(100.0f, node1Layout.size().width, "width of node1");
        assertEquals(10.0f, node1Layout.size().height, "height of node1");
        assertEquals(0.0f, node1Layout.location().x, "x of node1");
        assertEquals(10.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(100.0f, node2Layout.size().width, "width of node2");
        assertEquals(10.0f, node2Layout.size().height, "height of node2");
        assertEquals(0.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
    }

    @Test
    @DisplayName("flex_direction_row__border_box")
    void flexDirectionRowBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.length(10.0f), Dimension.AUTO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.size = new Size<>(Dimension.length(10.0f), Dimension.AUTO);
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.size = new Size<>(Dimension.length(10.0f), Dimension.AUTO);
        NodeId node2 = tree.newLeaf(node2Style);

        Style nodeStyle = new Style();
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(10.0f, node0Layout.size().width, "width of node0");
        assertEquals(100.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(10.0f, node1Layout.size().width, "width of node1");
        assertEquals(100.0f, node1Layout.size().height, "height of node1");
        assertEquals(10.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(10.0f, node2Layout.size().width, "width of node2");
        assertEquals(100.0f, node2Layout.size().height, "height of node2");
        assertEquals(20.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
    }

    @Test
    @DisplayName("flex_direction_row__content_box")
    void flexDirectionRowContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.length(10.0f), Dimension.AUTO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.size = new Size<>(Dimension.length(10.0f), Dimension.AUTO);
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        node2Style.size = new Size<>(Dimension.length(10.0f), Dimension.AUTO);
        NodeId node2 = tree.newLeaf(node2Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(10.0f, node0Layout.size().width, "width of node0");
        assertEquals(100.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(10.0f, node1Layout.size().width, "width of node1");
        assertEquals(100.0f, node1Layout.size().height, "height of node1");
        assertEquals(10.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(10.0f, node2Layout.size().width, "width of node2");
        assertEquals(100.0f, node2Layout.size().height, "height of node2");
        assertEquals(20.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
    }

    @Test
    @DisplayName("flex_direction_row_no_width__border_box")
    void flexDirectionRowNoWidthBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.length(10.0f), Dimension.AUTO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.size = new Size<>(Dimension.length(10.0f), Dimension.AUTO);
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.size = new Size<>(Dimension.length(10.0f), Dimension.AUTO);
        NodeId node2 = tree.newLeaf(node2Style);

        Style nodeStyle = new Style();
        nodeStyle.size = new Size<>(Dimension.AUTO, Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(30.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(10.0f, node0Layout.size().width, "width of node0");
        assertEquals(100.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(10.0f, node1Layout.size().width, "width of node1");
        assertEquals(100.0f, node1Layout.size().height, "height of node1");
        assertEquals(10.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(10.0f, node2Layout.size().width, "width of node2");
        assertEquals(100.0f, node2Layout.size().height, "height of node2");
        assertEquals(20.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
    }

    @Test
    @DisplayName("flex_direction_row_no_width__content_box")
    void flexDirectionRowNoWidthContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.length(10.0f), Dimension.AUTO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.size = new Size<>(Dimension.length(10.0f), Dimension.AUTO);
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        node2Style.size = new Size<>(Dimension.length(10.0f), Dimension.AUTO);
        NodeId node2 = tree.newLeaf(node2Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.size = new Size<>(Dimension.AUTO, Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(30.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(10.0f, node0Layout.size().width, "width of node0");
        assertEquals(100.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(10.0f, node1Layout.size().width, "width of node1");
        assertEquals(100.0f, node1Layout.size().height, "height of node1");
        assertEquals(10.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(10.0f, node2Layout.size().width, "width of node2");
        assertEquals(100.0f, node2Layout.size().height, "height of node2");
        assertEquals(20.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
    }

    @Test
    @DisplayName("flex_direction_row_reverse__border_box")
    void flexDirectionRowReverseBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.length(10.0f), Dimension.AUTO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.size = new Size<>(Dimension.length(10.0f), Dimension.AUTO);
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.size = new Size<>(Dimension.length(10.0f), Dimension.AUTO);
        NodeId node2 = tree.newLeaf(node2Style);

        Style nodeStyle = new Style();
        nodeStyle.flexDirection = FlexDirection.ROW_REVERSE;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(10.0f, node0Layout.size().width, "width of node0");
        assertEquals(100.0f, node0Layout.size().height, "height of node0");
        assertEquals(90.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(10.0f, node1Layout.size().width, "width of node1");
        assertEquals(100.0f, node1Layout.size().height, "height of node1");
        assertEquals(80.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(10.0f, node2Layout.size().width, "width of node2");
        assertEquals(100.0f, node2Layout.size().height, "height of node2");
        assertEquals(70.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
    }

    @Test
    @DisplayName("flex_direction_row_reverse__content_box")
    void flexDirectionRowReverseContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.length(10.0f), Dimension.AUTO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.size = new Size<>(Dimension.length(10.0f), Dimension.AUTO);
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        node2Style.size = new Size<>(Dimension.length(10.0f), Dimension.AUTO);
        NodeId node2 = tree.newLeaf(node2Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexDirection = FlexDirection.ROW_REVERSE;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(10.0f, node0Layout.size().width, "width of node0");
        assertEquals(100.0f, node0Layout.size().height, "height of node0");
        assertEquals(90.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(10.0f, node1Layout.size().width, "width of node1");
        assertEquals(100.0f, node1Layout.size().height, "height of node1");
        assertEquals(80.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(10.0f, node2Layout.size().width, "width of node2");
        assertEquals(100.0f, node2Layout.size().height, "height of node2");
        assertEquals(70.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
    }

    @Test
    @DisplayName("flex_grow_0_min_size__border_box")
    void flexGrow0MinSizeBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.flexGrow = 0.0f;
        node0Style.flexShrink = 0.0f;
        node0Style.flexBasis = Dimension.percent(0.0f);
        MeasureFunc node0Measure = ahemTextMeasure("one", false);
        NodeId node0 = tree.newLeafWithMeasure(node0Style, node0Measure);

        Style node1Style = new Style();
        node1Style.flexGrow = 0.0f;
        node1Style.flexShrink = 0.0f;
        node1Style.flexBasis = Dimension.percent(0.0f);
        MeasureFunc node1Measure = ahemTextMeasure("two", false);
        NodeId node1 = tree.newLeafWithMeasure(node1Style, node1Measure);

        Style node2Style = new Style();
        node2Style.flexGrow = 0.0f;
        node2Style.flexShrink = 0.0f;
        node2Style.flexBasis = Dimension.percent(0.0f);
        MeasureFunc node2Measure = ahemTextMeasure("three", false);
        NodeId node2 = tree.newLeafWithMeasure(node2Style, node2Measure);

        Style node3Style = new Style();
        node3Style.flexGrow = 0.0f;
        node3Style.flexShrink = 0.0f;
        node3Style.flexBasis = Dimension.percent(0.0f);
        MeasureFunc node3Measure = ahemTextMeasure("four", false);
        NodeId node3 = tree.newLeafWithMeasure(node3Style, node3Measure);

        Style nodeStyle = new Style();
        nodeStyle.size = new Size<>(Dimension.length(400.0f), Dimension.length(100.0f));
        nodeStyle.border = new Rect<>(LengthPercentage.length(1.0f), LengthPercentage.length(1.0f), LengthPercentage.length(1.0f), LengthPercentage.length(1.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(400.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(30.0f, node0Layout.size().width, "width of node0");
        assertEquals(98.0f, node0Layout.size().height, "height of node0");
        assertEquals(1.0f, node0Layout.location().x, "x of node0");
        assertEquals(1.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(30.0f, node1Layout.size().width, "width of node1");
        assertEquals(98.0f, node1Layout.size().height, "height of node1");
        assertEquals(31.0f, node1Layout.location().x, "x of node1");
        assertEquals(1.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(50.0f, node2Layout.size().width, "width of node2");
        assertEquals(98.0f, node2Layout.size().height, "height of node2");
        assertEquals(61.0f, node2Layout.location().x, "x of node2");
        assertEquals(1.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(40.0f, node3Layout.size().width, "width of node3");
        assertEquals(98.0f, node3Layout.size().height, "height of node3");
        assertEquals(111.0f, node3Layout.location().x, "x of node3");
        assertEquals(1.0f, node3Layout.location().y, "y of node3");
    }

    @Test
    @DisplayName("flex_grow_0_min_size__content_box")
    void flexGrow0MinSizeContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.flexGrow = 0.0f;
        node0Style.flexShrink = 0.0f;
        node0Style.flexBasis = Dimension.percent(0.0f);
        MeasureFunc node0Measure = ahemTextMeasure("one", false);
        NodeId node0 = tree.newLeafWithMeasure(node0Style, node0Measure);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.flexGrow = 0.0f;
        node1Style.flexShrink = 0.0f;
        node1Style.flexBasis = Dimension.percent(0.0f);
        MeasureFunc node1Measure = ahemTextMeasure("two", false);
        NodeId node1 = tree.newLeafWithMeasure(node1Style, node1Measure);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        node2Style.flexGrow = 0.0f;
        node2Style.flexShrink = 0.0f;
        node2Style.flexBasis = Dimension.percent(0.0f);
        MeasureFunc node2Measure = ahemTextMeasure("three", false);
        NodeId node2 = tree.newLeafWithMeasure(node2Style, node2Measure);

        Style node3Style = new Style();
        node3Style.boxSizing = BoxSizing.CONTENT_BOX;
        node3Style.flexGrow = 0.0f;
        node3Style.flexShrink = 0.0f;
        node3Style.flexBasis = Dimension.percent(0.0f);
        MeasureFunc node3Measure = ahemTextMeasure("four", false);
        NodeId node3 = tree.newLeafWithMeasure(node3Style, node3Measure);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.size = new Size<>(Dimension.length(400.0f), Dimension.length(100.0f));
        nodeStyle.border = new Rect<>(LengthPercentage.length(1.0f), LengthPercentage.length(1.0f), LengthPercentage.length(1.0f), LengthPercentage.length(1.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(402.0f, nodeLayout.size().width, "width of node");
        assertEquals(102.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(30.0f, node0Layout.size().width, "width of node0");
        assertEquals(100.0f, node0Layout.size().height, "height of node0");
        assertEquals(1.0f, node0Layout.location().x, "x of node0");
        assertEquals(1.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(30.0f, node1Layout.size().width, "width of node1");
        assertEquals(100.0f, node1Layout.size().height, "height of node1");
        assertEquals(31.0f, node1Layout.location().x, "x of node1");
        assertEquals(1.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(50.0f, node2Layout.size().width, "width of node2");
        assertEquals(100.0f, node2Layout.size().height, "height of node2");
        assertEquals(61.0f, node2Layout.location().x, "x of node2");
        assertEquals(1.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(40.0f, node3Layout.size().width, "width of node3");
        assertEquals(100.0f, node3Layout.size().height, "height of node3");
        assertEquals(111.0f, node3Layout.location().x, "x of node3");
        assertEquals(1.0f, node3Layout.location().y, "y of node3");
    }

    @Test
    @DisplayName("flex_grow_child__border_box")
    void flexGrowChildBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.flexGrow = 1.0f;
        node0Style.flexBasis = Dimension.length(0.0f);
        node0Style.size = new Size<>(Dimension.AUTO, Dimension.length(100.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(0.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(0.0f, node0Layout.size().width, "width of node0");
        assertEquals(100.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("flex_grow_child__content_box")
    void flexGrowChildContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.flexGrow = 1.0f;
        node0Style.flexBasis = Dimension.length(0.0f);
        node0Style.size = new Size<>(Dimension.AUTO, Dimension.length(100.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(0.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(0.0f, node0Layout.size().width, "width of node0");
        assertEquals(100.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("flex_grow_flex_basis_percent_min_max__border_box")
    void flexGrowFlexBasisPercentMinMaxBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.flexGrow = 1.0f;
        node0Style.flexShrink = 0.0f;
        node0Style.flexBasis = Dimension.length(0.0f);
        node0Style.size = new Size<>(Dimension.AUTO, Dimension.length(20.0f));
        node0Style.minSize = new Size<>(Dimension.length(60.0f), Dimension.AUTO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.flexGrow = 1.0f;
        node1Style.flexShrink = 0.0f;
        node1Style.flexBasis = Dimension.percent(0.5f);
        node1Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        node1Style.maxSize = new Size<>(Dimension.length(20.0f), Dimension.AUTO);
        NodeId node1 = tree.newLeaf(node1Style);

        Style nodeStyle = new Style();
        nodeStyle.size = new Size<>(Dimension.length(120.0f), Dimension.AUTO);
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(120.0f, nodeLayout.size().width, "width of node");
        assertEquals(20.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(100.0f, node0Layout.size().width, "width of node0");
        assertEquals(20.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(20.0f, node1Layout.size().width, "width of node1");
        assertEquals(20.0f, node1Layout.size().height, "height of node1");
        assertEquals(100.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
    }

    @Test
    @DisplayName("flex_grow_flex_basis_percent_min_max__content_box")
    void flexGrowFlexBasisPercentMinMaxContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.flexGrow = 1.0f;
        node0Style.flexShrink = 0.0f;
        node0Style.flexBasis = Dimension.length(0.0f);
        node0Style.size = new Size<>(Dimension.AUTO, Dimension.length(20.0f));
        node0Style.minSize = new Size<>(Dimension.length(60.0f), Dimension.AUTO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.flexGrow = 1.0f;
        node1Style.flexShrink = 0.0f;
        node1Style.flexBasis = Dimension.percent(0.5f);
        node1Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        node1Style.maxSize = new Size<>(Dimension.length(20.0f), Dimension.AUTO);
        NodeId node1 = tree.newLeaf(node1Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.size = new Size<>(Dimension.length(120.0f), Dimension.AUTO);
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(120.0f, nodeLayout.size().width, "width of node");
        assertEquals(20.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(100.0f, node0Layout.size().width, "width of node0");
        assertEquals(20.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(20.0f, node1Layout.size().width, "width of node1");
        assertEquals(20.0f, node1Layout.size().height, "height of node1");
        assertEquals(100.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
    }

    @Test
    @DisplayName("flex_grow_height_maximized__border_box")
    void flexGrowHeightMaximizedBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.flexGrow = 1.0f;
        node00Style.flexBasis = Dimension.length(200.0f);
        NodeId node00 = tree.newLeaf(node00Style);

        Style node01Style = new Style();
        node01Style.size = new Size<>(Dimension.AUTO, Dimension.length(100.0f));
        NodeId node01 = tree.newLeaf(node01Style);

        Style node0Style = new Style();
        node0Style.flexDirection = FlexDirection.COLUMN;
        node0Style.flexGrow = 1.0f;
        node0Style.minSize = new Size<>(Dimension.AUTO, Dimension.length(100.0f));
        node0Style.maxSize = new Size<>(Dimension.AUTO, Dimension.length(500.0f));
        NodeId node0 = tree.newWithChildren(node0Style, node00, node01);

        Style nodeStyle = new Style();
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(500.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(500.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(100.0f, node0Layout.size().width, "width of node0");
        assertEquals(500.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(100.0f, node00Layout.size().width, "width of node00");
        assertEquals(400.0f, node00Layout.size().height, "height of node00");
        assertEquals(0.0f, node00Layout.location().x, "x of node00");
        assertEquals(0.0f, node00Layout.location().y, "y of node00");
        Layout node01Layout = tree.getLayout(node01);
        assertEquals(100.0f, node01Layout.size().width, "width of node01");
        assertEquals(100.0f, node01Layout.size().height, "height of node01");
        assertEquals(0.0f, node01Layout.location().x, "x of node01");
        assertEquals(400.0f, node01Layout.location().y, "y of node01");
    }

    @Test
    @DisplayName("flex_grow_height_maximized__content_box")
    void flexGrowHeightMaximizedContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.boxSizing = BoxSizing.CONTENT_BOX;
        node00Style.flexGrow = 1.0f;
        node00Style.flexBasis = Dimension.length(200.0f);
        NodeId node00 = tree.newLeaf(node00Style);

        Style node01Style = new Style();
        node01Style.boxSizing = BoxSizing.CONTENT_BOX;
        node01Style.size = new Size<>(Dimension.AUTO, Dimension.length(100.0f));
        NodeId node01 = tree.newLeaf(node01Style);

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.flexDirection = FlexDirection.COLUMN;
        node0Style.flexGrow = 1.0f;
        node0Style.minSize = new Size<>(Dimension.AUTO, Dimension.length(100.0f));
        node0Style.maxSize = new Size<>(Dimension.AUTO, Dimension.length(500.0f));
        NodeId node0 = tree.newWithChildren(node0Style, node00, node01);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(500.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(500.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(100.0f, node0Layout.size().width, "width of node0");
        assertEquals(500.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(100.0f, node00Layout.size().width, "width of node00");
        assertEquals(400.0f, node00Layout.size().height, "height of node00");
        assertEquals(0.0f, node00Layout.location().x, "x of node00");
        assertEquals(0.0f, node00Layout.location().y, "y of node00");
        Layout node01Layout = tree.getLayout(node01);
        assertEquals(100.0f, node01Layout.size().width, "width of node01");
        assertEquals(100.0f, node01Layout.size().height, "height of node01");
        assertEquals(0.0f, node01Layout.location().x, "x of node01");
        assertEquals(400.0f, node01Layout.location().y, "y of node01");
    }

    @Test
    @DisplayName("flex_grow_in_at_most_container__border_box")
    void flexGrowInAtMostContainerBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.flexGrow = 1.0f;
        node00Style.flexBasis = Dimension.length(0.0f);
        NodeId node00 = tree.newLeaf(node00Style);

        Style node0Style = new Style();
        NodeId node0 = tree.newWithChildren(node0Style, node00);

        Style nodeStyle = new Style();
        nodeStyle.alignItems = AlignItems.FLEX_START;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(0.0f, node0Layout.size().width, "width of node0");
        assertEquals(0.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(0.0f, node00Layout.size().width, "width of node00");
        assertEquals(0.0f, node00Layout.size().height, "height of node00");
        assertEquals(0.0f, node00Layout.location().x, "x of node00");
        assertEquals(0.0f, node00Layout.location().y, "y of node00");
    }

    @Test
    @DisplayName("flex_grow_in_at_most_container__content_box")
    void flexGrowInAtMostContainerContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.boxSizing = BoxSizing.CONTENT_BOX;
        node00Style.flexGrow = 1.0f;
        node00Style.flexBasis = Dimension.length(0.0f);
        NodeId node00 = tree.newLeaf(node00Style);

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node0 = tree.newWithChildren(node0Style, node00);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.alignItems = AlignItems.FLEX_START;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(0.0f, node0Layout.size().width, "width of node0");
        assertEquals(0.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(0.0f, node00Layout.size().width, "width of node00");
        assertEquals(0.0f, node00Layout.size().height, "height of node00");
        assertEquals(0.0f, node00Layout.location().x, "x of node00");
        assertEquals(0.0f, node00Layout.location().y, "y of node00");
    }

    @Test
    @DisplayName("flex_grow_less_than_factor_one__border_box")
    void flexGrowLessThanFactorOneBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.flexGrow = 0.2f;
        node0Style.flexShrink = 0.0f;
        node0Style.flexBasis = Dimension.length(40.0f);
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.flexGrow = 0.2f;
        node1Style.flexShrink = 0.0f;
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.flexGrow = 0.4f;
        node2Style.flexShrink = 0.0f;
        NodeId node2 = tree.newLeaf(node2Style);

        Style nodeStyle = new Style();
        nodeStyle.size = new Size<>(Dimension.length(500.0f), Dimension.length(200.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(500.0f, nodeLayout.size().width, "width of node");
        assertEquals(200.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(132.0f, node0Layout.size().width, "width of node0");
        assertEquals(200.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(92.0f, node1Layout.size().width, "width of node1");
        assertEquals(200.0f, node1Layout.size().height, "height of node1");
        assertEquals(132.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(184.0f, node2Layout.size().width, "width of node2");
        assertEquals(200.0f, node2Layout.size().height, "height of node2");
        assertEquals(224.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
    }

    @Test
    @DisplayName("flex_grow_less_than_factor_one__content_box")
    void flexGrowLessThanFactorOneContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.flexGrow = 0.2f;
        node0Style.flexShrink = 0.0f;
        node0Style.flexBasis = Dimension.length(40.0f);
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.flexGrow = 0.2f;
        node1Style.flexShrink = 0.0f;
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        node2Style.flexGrow = 0.4f;
        node2Style.flexShrink = 0.0f;
        NodeId node2 = tree.newLeaf(node2Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.size = new Size<>(Dimension.length(500.0f), Dimension.length(200.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(500.0f, nodeLayout.size().width, "width of node");
        assertEquals(200.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(132.0f, node0Layout.size().width, "width of node0");
        assertEquals(200.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(92.0f, node1Layout.size().width, "width of node1");
        assertEquals(200.0f, node1Layout.size().height, "height of node1");
        assertEquals(132.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(184.0f, node2Layout.size().width, "width of node2");
        assertEquals(200.0f, node2Layout.size().height, "height of node2");
        assertEquals(224.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
    }

    @Test
    @DisplayName("flex_grow_root_minimized__border_box")
    void flexGrowRootMinimizedBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.flexGrow = 1.0f;
        node00Style.flexBasis = Dimension.length(200.0f);
        NodeId node00 = tree.newLeaf(node00Style);

        Style node01Style = new Style();
        node01Style.size = new Size<>(Dimension.AUTO, Dimension.length(100.0f));
        NodeId node01 = tree.newLeaf(node01Style);

        Style node0Style = new Style();
        node0Style.flexDirection = FlexDirection.COLUMN;
        node0Style.flexGrow = 1.0f;
        node0Style.minSize = new Size<>(Dimension.AUTO, Dimension.length(100.0f));
        node0Style.maxSize = new Size<>(Dimension.AUTO, Dimension.length(500.0f));
        NodeId node0 = tree.newWithChildren(node0Style, node00, node01);

        Style nodeStyle = new Style();
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.AUTO);
        nodeStyle.minSize = new Size<>(Dimension.AUTO, Dimension.length(100.0f));
        nodeStyle.maxSize = new Size<>(Dimension.AUTO, Dimension.length(500.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(300.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(100.0f, node0Layout.size().width, "width of node0");
        assertEquals(300.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(100.0f, node00Layout.size().width, "width of node00");
        assertEquals(200.0f, node00Layout.size().height, "height of node00");
        assertEquals(0.0f, node00Layout.location().x, "x of node00");
        assertEquals(0.0f, node00Layout.location().y, "y of node00");
        Layout node01Layout = tree.getLayout(node01);
        assertEquals(100.0f, node01Layout.size().width, "width of node01");
        assertEquals(100.0f, node01Layout.size().height, "height of node01");
        assertEquals(0.0f, node01Layout.location().x, "x of node01");
        assertEquals(200.0f, node01Layout.location().y, "y of node01");
    }

    @Test
    @DisplayName("flex_grow_root_minimized__content_box")
    void flexGrowRootMinimizedContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.boxSizing = BoxSizing.CONTENT_BOX;
        node00Style.flexGrow = 1.0f;
        node00Style.flexBasis = Dimension.length(200.0f);
        NodeId node00 = tree.newLeaf(node00Style);

        Style node01Style = new Style();
        node01Style.boxSizing = BoxSizing.CONTENT_BOX;
        node01Style.size = new Size<>(Dimension.AUTO, Dimension.length(100.0f));
        NodeId node01 = tree.newLeaf(node01Style);

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.flexDirection = FlexDirection.COLUMN;
        node0Style.flexGrow = 1.0f;
        node0Style.minSize = new Size<>(Dimension.AUTO, Dimension.length(100.0f));
        node0Style.maxSize = new Size<>(Dimension.AUTO, Dimension.length(500.0f));
        NodeId node0 = tree.newWithChildren(node0Style, node00, node01);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.AUTO);
        nodeStyle.minSize = new Size<>(Dimension.AUTO, Dimension.length(100.0f));
        nodeStyle.maxSize = new Size<>(Dimension.AUTO, Dimension.length(500.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(300.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(100.0f, node0Layout.size().width, "width of node0");
        assertEquals(300.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(100.0f, node00Layout.size().width, "width of node00");
        assertEquals(200.0f, node00Layout.size().height, "height of node00");
        assertEquals(0.0f, node00Layout.location().x, "x of node00");
        assertEquals(0.0f, node00Layout.location().y, "y of node00");
        Layout node01Layout = tree.getLayout(node01);
        assertEquals(100.0f, node01Layout.size().width, "width of node01");
        assertEquals(100.0f, node01Layout.size().height, "height of node01");
        assertEquals(0.0f, node01Layout.location().x, "x of node01");
        assertEquals(200.0f, node01Layout.location().y, "y of node01");
    }

    @Test
    @DisplayName("flex_grow_shrink_at_most__border_box")
    void flexGrowShrinkAtMostBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.flexGrow = 1.0f;
        node00Style.flexShrink = 1.0f;
        NodeId node00 = tree.newLeaf(node00Style);

        Style node0Style = new Style();
        NodeId node0 = tree.newWithChildren(node0Style, node00);

        Style nodeStyle = new Style();
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(0.0f, node0Layout.size().width, "width of node0");
        assertEquals(100.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(0.0f, node00Layout.size().width, "width of node00");
        assertEquals(100.0f, node00Layout.size().height, "height of node00");
        assertEquals(0.0f, node00Layout.location().x, "x of node00");
        assertEquals(0.0f, node00Layout.location().y, "y of node00");
    }

    @Test
    @DisplayName("flex_grow_shrink_at_most__content_box")
    void flexGrowShrinkAtMostContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.boxSizing = BoxSizing.CONTENT_BOX;
        node00Style.flexGrow = 1.0f;
        node00Style.flexShrink = 1.0f;
        NodeId node00 = tree.newLeaf(node00Style);

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node0 = tree.newWithChildren(node0Style, node00);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(0.0f, node0Layout.size().width, "width of node0");
        assertEquals(100.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(0.0f, node00Layout.size().width, "width of node00");
        assertEquals(100.0f, node00Layout.size().height, "height of node00");
        assertEquals(0.0f, node00Layout.location().x, "x of node00");
        assertEquals(0.0f, node00Layout.location().y, "y of node00");
    }

    @Test
    @DisplayName("flex_grow_to_min__border_box")
    void flexGrowToMinBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.flexGrow = 1.0f;
        node0Style.flexShrink = 1.0f;
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.size = new Size<>(Dimension.AUTO, Dimension.length(50.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style nodeStyle = new Style();
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.AUTO);
        nodeStyle.minSize = new Size<>(Dimension.AUTO, Dimension.length(100.0f));
        nodeStyle.maxSize = new Size<>(Dimension.AUTO, Dimension.length(500.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(100.0f, node0Layout.size().width, "width of node0");
        assertEquals(50.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(100.0f, node1Layout.size().width, "width of node1");
        assertEquals(50.0f, node1Layout.size().height, "height of node1");
        assertEquals(0.0f, node1Layout.location().x, "x of node1");
        assertEquals(50.0f, node1Layout.location().y, "y of node1");
    }

    @Test
    @DisplayName("flex_grow_to_min__content_box")
    void flexGrowToMinContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.flexGrow = 1.0f;
        node0Style.flexShrink = 1.0f;
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.size = new Size<>(Dimension.AUTO, Dimension.length(50.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.AUTO);
        nodeStyle.minSize = new Size<>(Dimension.AUTO, Dimension.length(100.0f));
        nodeStyle.maxSize = new Size<>(Dimension.AUTO, Dimension.length(500.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(100.0f, node0Layout.size().width, "width of node0");
        assertEquals(50.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(100.0f, node1Layout.size().width, "width of node1");
        assertEquals(50.0f, node1Layout.size().height, "height of node1");
        assertEquals(0.0f, node1Layout.location().x, "x of node1");
        assertEquals(50.0f, node1Layout.location().y, "y of node1");
    }

    @Test
    @DisplayName("flex_grow_within_constrained_max_column__border_box")
    void flexGrowWithinConstrainedMaxColumnBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.flexShrink = 1.0f;
        node0Style.flexBasis = Dimension.length(100.0f);
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.size = new Size<>(Dimension.AUTO, Dimension.length(50.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style nodeStyle = new Style();
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.AUTO);
        nodeStyle.maxSize = new Size<>(Dimension.AUTO, Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(100.0f, node0Layout.size().width, "width of node0");
        assertEquals(67.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(100.0f, node1Layout.size().width, "width of node1");
        assertEquals(33.0f, node1Layout.size().height, "height of node1");
        assertEquals(0.0f, node1Layout.location().x, "x of node1");
        assertEquals(67.0f, node1Layout.location().y, "y of node1");
    }

    @Test
    @DisplayName("flex_grow_within_constrained_max_column__content_box")
    void flexGrowWithinConstrainedMaxColumnContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.flexShrink = 1.0f;
        node0Style.flexBasis = Dimension.length(100.0f);
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.size = new Size<>(Dimension.AUTO, Dimension.length(50.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.AUTO);
        nodeStyle.maxSize = new Size<>(Dimension.AUTO, Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(100.0f, node0Layout.size().width, "width of node0");
        assertEquals(67.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(100.0f, node1Layout.size().width, "width of node1");
        assertEquals(33.0f, node1Layout.size().height, "height of node1");
        assertEquals(0.0f, node1Layout.location().x, "x of node1");
        assertEquals(67.0f, node1Layout.location().y, "y of node1");
    }

    @Test
    @DisplayName("flex_grow_within_constrained_max_row__border_box")
    void flexGrowWithinConstrainedMaxRowBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.flexShrink = 1.0f;
        node00Style.flexBasis = Dimension.length(100.0f);
        NodeId node00 = tree.newLeaf(node00Style);

        Style node01Style = new Style();
        node01Style.size = new Size<>(Dimension.length(50.0f), Dimension.AUTO);
        NodeId node01 = tree.newLeaf(node01Style);

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.AUTO, Dimension.length(100.0f));
        node0Style.maxSize = new Size<>(Dimension.length(100.0f), Dimension.AUTO);
        NodeId node0 = tree.newWithChildren(node0Style, node00, node01);

        Style nodeStyle = new Style();
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.size = new Size<>(Dimension.length(200.0f), Dimension.AUTO);
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(200.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(100.0f, node0Layout.size().width, "width of node0");
        assertEquals(100.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(67.0f, node00Layout.size().width, "width of node00");
        assertEquals(100.0f, node00Layout.size().height, "height of node00");
        assertEquals(0.0f, node00Layout.location().x, "x of node00");
        assertEquals(0.0f, node00Layout.location().y, "y of node00");
        Layout node01Layout = tree.getLayout(node01);
        assertEquals(33.0f, node01Layout.size().width, "width of node01");
        assertEquals(100.0f, node01Layout.size().height, "height of node01");
        assertEquals(67.0f, node01Layout.location().x, "x of node01");
        assertEquals(0.0f, node01Layout.location().y, "y of node01");
    }

    @Test
    @DisplayName("flex_grow_within_constrained_max_row__content_box")
    void flexGrowWithinConstrainedMaxRowContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.boxSizing = BoxSizing.CONTENT_BOX;
        node00Style.flexShrink = 1.0f;
        node00Style.flexBasis = Dimension.length(100.0f);
        NodeId node00 = tree.newLeaf(node00Style);

        Style node01Style = new Style();
        node01Style.boxSizing = BoxSizing.CONTENT_BOX;
        node01Style.size = new Size<>(Dimension.length(50.0f), Dimension.AUTO);
        NodeId node01 = tree.newLeaf(node01Style);

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.AUTO, Dimension.length(100.0f));
        node0Style.maxSize = new Size<>(Dimension.length(100.0f), Dimension.AUTO);
        NodeId node0 = tree.newWithChildren(node0Style, node00, node01);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.size = new Size<>(Dimension.length(200.0f), Dimension.AUTO);
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(200.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(100.0f, node0Layout.size().width, "width of node0");
        assertEquals(100.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(67.0f, node00Layout.size().width, "width of node00");
        assertEquals(100.0f, node00Layout.size().height, "height of node00");
        assertEquals(0.0f, node00Layout.location().x, "x of node00");
        assertEquals(0.0f, node00Layout.location().y, "y of node00");
        Layout node01Layout = tree.getLayout(node01);
        assertEquals(33.0f, node01Layout.size().width, "width of node01");
        assertEquals(100.0f, node01Layout.size().height, "height of node01");
        assertEquals(67.0f, node01Layout.location().x, "x of node01");
        assertEquals(0.0f, node01Layout.location().y, "y of node01");
    }

    @Test
    @DisplayName("flex_grow_within_constrained_max_width__border_box")
    void flexGrowWithinConstrainedMaxWidthBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.flexGrow = 1.0f;
        node00Style.size = new Size<>(Dimension.AUTO, Dimension.length(20.0f));
        NodeId node00 = tree.newLeaf(node00Style);

        Style node0Style = new Style();
        node0Style.maxSize = new Size<>(Dimension.length(300.0f), Dimension.AUTO);
        NodeId node0 = tree.newWithChildren(node0Style, node00);

        Style nodeStyle = new Style();
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.size = new Size<>(Dimension.length(200.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(200.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(200.0f, node0Layout.size().width, "width of node0");
        assertEquals(20.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(200.0f, node00Layout.size().width, "width of node00");
        assertEquals(20.0f, node00Layout.size().height, "height of node00");
        assertEquals(0.0f, node00Layout.location().x, "x of node00");
        assertEquals(0.0f, node00Layout.location().y, "y of node00");
    }

    @Test
    @DisplayName("flex_grow_within_constrained_max_width__content_box")
    void flexGrowWithinConstrainedMaxWidthContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.boxSizing = BoxSizing.CONTENT_BOX;
        node00Style.flexGrow = 1.0f;
        node00Style.size = new Size<>(Dimension.AUTO, Dimension.length(20.0f));
        NodeId node00 = tree.newLeaf(node00Style);

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.maxSize = new Size<>(Dimension.length(300.0f), Dimension.AUTO);
        NodeId node0 = tree.newWithChildren(node0Style, node00);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.size = new Size<>(Dimension.length(200.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(200.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(200.0f, node0Layout.size().width, "width of node0");
        assertEquals(20.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(200.0f, node00Layout.size().width, "width of node00");
        assertEquals(20.0f, node00Layout.size().height, "height of node00");
        assertEquals(0.0f, node00Layout.location().x, "x of node00");
        assertEquals(0.0f, node00Layout.location().y, "y of node00");
    }

    @Test
    @DisplayName("flex_grow_within_constrained_min_column__border_box")
    void flexGrowWithinConstrainedMinColumnBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.flexGrow = 1.0f;
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.size = new Size<>(Dimension.AUTO, Dimension.length(50.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style nodeStyle = new Style();
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.minSize = new Size<>(Dimension.AUTO, Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(0.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(0.0f, node0Layout.size().width, "width of node0");
        assertEquals(50.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(0.0f, node1Layout.size().width, "width of node1");
        assertEquals(50.0f, node1Layout.size().height, "height of node1");
        assertEquals(0.0f, node1Layout.location().x, "x of node1");
        assertEquals(50.0f, node1Layout.location().y, "y of node1");
    }

    @Test
    @DisplayName("flex_grow_within_constrained_min_column__content_box")
    void flexGrowWithinConstrainedMinColumnContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.flexGrow = 1.0f;
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.size = new Size<>(Dimension.AUTO, Dimension.length(50.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.minSize = new Size<>(Dimension.AUTO, Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(0.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(0.0f, node0Layout.size().width, "width of node0");
        assertEquals(50.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(0.0f, node1Layout.size().width, "width of node1");
        assertEquals(50.0f, node1Layout.size().height, "height of node1");
        assertEquals(0.0f, node1Layout.location().x, "x of node1");
        assertEquals(50.0f, node1Layout.location().y, "y of node1");
    }

    @Test
    @DisplayName("flex_grow_within_constrained_min_max_column__border_box")
    void flexGrowWithinConstrainedMinMaxColumnBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.flexGrow = 1.0f;
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.size = new Size<>(Dimension.AUTO, Dimension.length(50.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style nodeStyle = new Style();
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.minSize = new Size<>(Dimension.AUTO, Dimension.length(100.0f));
        nodeStyle.maxSize = new Size<>(Dimension.AUTO, Dimension.length(200.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(0.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(0.0f, node0Layout.size().width, "width of node0");
        assertEquals(50.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(0.0f, node1Layout.size().width, "width of node1");
        assertEquals(50.0f, node1Layout.size().height, "height of node1");
        assertEquals(0.0f, node1Layout.location().x, "x of node1");
        assertEquals(50.0f, node1Layout.location().y, "y of node1");
    }

    @Test
    @DisplayName("flex_grow_within_constrained_min_max_column__content_box")
    void flexGrowWithinConstrainedMinMaxColumnContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.flexGrow = 1.0f;
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.size = new Size<>(Dimension.AUTO, Dimension.length(50.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.minSize = new Size<>(Dimension.AUTO, Dimension.length(100.0f));
        nodeStyle.maxSize = new Size<>(Dimension.AUTO, Dimension.length(200.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(0.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(0.0f, node0Layout.size().width, "width of node0");
        assertEquals(50.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(0.0f, node1Layout.size().width, "width of node1");
        assertEquals(50.0f, node1Layout.size().height, "height of node1");
        assertEquals(0.0f, node1Layout.location().x, "x of node1");
        assertEquals(50.0f, node1Layout.location().y, "y of node1");
    }

    @Test
    @DisplayName("flex_grow_within_constrained_min_row__border_box")
    void flexGrowWithinConstrainedMinRowBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.flexGrow = 1.0f;
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.size = new Size<>(Dimension.length(50.0f), Dimension.AUTO);
        NodeId node1 = tree.newLeaf(node1Style);

        Style nodeStyle = new Style();
        nodeStyle.size = new Size<>(Dimension.AUTO, Dimension.length(100.0f));
        nodeStyle.minSize = new Size<>(Dimension.length(100.0f), Dimension.AUTO);
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(50.0f, node0Layout.size().width, "width of node0");
        assertEquals(100.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(50.0f, node1Layout.size().width, "width of node1");
        assertEquals(100.0f, node1Layout.size().height, "height of node1");
        assertEquals(50.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
    }

    @Test
    @DisplayName("flex_grow_within_constrained_min_row__content_box")
    void flexGrowWithinConstrainedMinRowContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.flexGrow = 1.0f;
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.size = new Size<>(Dimension.length(50.0f), Dimension.AUTO);
        NodeId node1 = tree.newLeaf(node1Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.size = new Size<>(Dimension.AUTO, Dimension.length(100.0f));
        nodeStyle.minSize = new Size<>(Dimension.length(100.0f), Dimension.AUTO);
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(50.0f, node0Layout.size().width, "width of node0");
        assertEquals(100.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(50.0f, node1Layout.size().width, "width of node1");
        assertEquals(100.0f, node1Layout.size().height, "height of node1");
        assertEquals(50.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
    }

    @Test
    @DisplayName("flex_grow_within_max_width__border_box")
    void flexGrowWithinMaxWidthBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.flexGrow = 1.0f;
        node00Style.size = new Size<>(Dimension.AUTO, Dimension.length(20.0f));
        NodeId node00 = tree.newLeaf(node00Style);

        Style node0Style = new Style();
        node0Style.maxSize = new Size<>(Dimension.length(100.0f), Dimension.AUTO);
        NodeId node0 = tree.newWithChildren(node0Style, node00);

        Style nodeStyle = new Style();
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.size = new Size<>(Dimension.length(200.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(200.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(100.0f, node0Layout.size().width, "width of node0");
        assertEquals(20.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(100.0f, node00Layout.size().width, "width of node00");
        assertEquals(20.0f, node00Layout.size().height, "height of node00");
        assertEquals(0.0f, node00Layout.location().x, "x of node00");
        assertEquals(0.0f, node00Layout.location().y, "y of node00");
    }

    @Test
    @DisplayName("flex_grow_within_max_width__content_box")
    void flexGrowWithinMaxWidthContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.boxSizing = BoxSizing.CONTENT_BOX;
        node00Style.flexGrow = 1.0f;
        node00Style.size = new Size<>(Dimension.AUTO, Dimension.length(20.0f));
        NodeId node00 = tree.newLeaf(node00Style);

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.maxSize = new Size<>(Dimension.length(100.0f), Dimension.AUTO);
        NodeId node0 = tree.newWithChildren(node0Style, node00);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.size = new Size<>(Dimension.length(200.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(200.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(100.0f, node0Layout.size().width, "width of node0");
        assertEquals(20.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(100.0f, node00Layout.size().width, "width of node00");
        assertEquals(20.0f, node00Layout.size().height, "height of node00");
        assertEquals(0.0f, node00Layout.location().x, "x of node00");
        assertEquals(0.0f, node00Layout.location().y, "y of node00");
    }

    @Test
    @DisplayName("flex_root_ignored__border_box")
    void flexRootIgnoredBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.flexGrow = 1.0f;
        node0Style.flexBasis = Dimension.length(200.0f);
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.size = new Size<>(Dimension.AUTO, Dimension.length(100.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style nodeStyle = new Style();
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.AUTO);
        nodeStyle.minSize = new Size<>(Dimension.AUTO, Dimension.length(100.0f));
        nodeStyle.maxSize = new Size<>(Dimension.AUTO, Dimension.length(500.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(300.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(100.0f, node0Layout.size().width, "width of node0");
        assertEquals(200.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(100.0f, node1Layout.size().width, "width of node1");
        assertEquals(100.0f, node1Layout.size().height, "height of node1");
        assertEquals(0.0f, node1Layout.location().x, "x of node1");
        assertEquals(200.0f, node1Layout.location().y, "y of node1");
    }

    @Test
    @DisplayName("flex_root_ignored__content_box")
    void flexRootIgnoredContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.flexGrow = 1.0f;
        node0Style.flexBasis = Dimension.length(200.0f);
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.size = new Size<>(Dimension.AUTO, Dimension.length(100.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.AUTO);
        nodeStyle.minSize = new Size<>(Dimension.AUTO, Dimension.length(100.0f));
        nodeStyle.maxSize = new Size<>(Dimension.AUTO, Dimension.length(500.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(300.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(100.0f, node0Layout.size().width, "width of node0");
        assertEquals(200.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(100.0f, node1Layout.size().width, "width of node1");
        assertEquals(100.0f, node1Layout.size().height, "height of node1");
        assertEquals(0.0f, node1Layout.location().x, "x of node1");
        assertEquals(200.0f, node1Layout.location().y, "y of node1");
    }

    @Test
    @DisplayName("flex_row_relative_all_sides__border_box")
    void flexRowRelativeAllSidesBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.length(40.0f), Dimension.AUTO);
        node0Style.inset = new Rect<>(LengthPercentageAuto.length(10.0f), LengthPercentageAuto.length(10.0f), LengthPercentageAuto.length(10.0f), LengthPercentageAuto.length(10.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(100.0f, node0Layout.size().height, "height of node0");
        assertEquals(10.0f, node0Layout.location().x, "x of node0");
        assertEquals(10.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("flex_row_relative_all_sides__content_box")
    void flexRowRelativeAllSidesContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.length(40.0f), Dimension.AUTO);
        node0Style.inset = new Rect<>(LengthPercentageAuto.length(10.0f), LengthPercentageAuto.length(10.0f), LengthPercentageAuto.length(10.0f), LengthPercentageAuto.length(10.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(100.0f, node0Layout.size().height, "height of node0");
        assertEquals(10.0f, node0Layout.location().x, "x of node0");
        assertEquals(10.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("flex_shrink_by_outer_margin_with_max_size__border_box")
    void flexShrinkByOuterMarginWithMaxSizeBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        node0Style.margin = new Rect<>(LengthPercentageAuto.ZERO, LengthPercentageAuto.ZERO, LengthPercentageAuto.length(100.0f), LengthPercentageAuto.ZERO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.size = new Size<>(Dimension.AUTO, Dimension.length(100.0f));
        nodeStyle.maxSize = new Size<>(Dimension.AUTO, Dimension.length(80.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(20.0f, nodeLayout.size().width, "width of node");
        assertEquals(80.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(20.0f, node0Layout.size().width, "width of node0");
        assertEquals(0.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(100.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("flex_shrink_by_outer_margin_with_max_size__content_box")
    void flexShrinkByOuterMarginWithMaxSizeContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        node0Style.margin = new Rect<>(LengthPercentageAuto.ZERO, LengthPercentageAuto.ZERO, LengthPercentageAuto.length(100.0f), LengthPercentageAuto.ZERO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.size = new Size<>(Dimension.AUTO, Dimension.length(100.0f));
        nodeStyle.maxSize = new Size<>(Dimension.AUTO, Dimension.length(80.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(20.0f, nodeLayout.size().width, "width of node");
        assertEquals(80.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(20.0f, node0Layout.size().width, "width of node0");
        assertEquals(0.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(100.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("flex_shrink_flex_grow_child_flex_shrink_other_child__border_box")
    void flexShrinkFlexGrowChildFlexShrinkOtherChildBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.flexGrow = 0.0f;
        node0Style.flexShrink = 1.0f;
        node0Style.size = new Size<>(Dimension.length(500.0f), Dimension.length(100.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.flexGrow = 1.0f;
        node1Style.flexShrink = 1.0f;
        node1Style.size = new Size<>(Dimension.length(500.0f), Dimension.length(100.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style nodeStyle = new Style();
        nodeStyle.size = new Size<>(Dimension.length(500.0f), Dimension.length(500.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(500.0f, nodeLayout.size().width, "width of node");
        assertEquals(500.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(250.0f, node0Layout.size().width, "width of node0");
        assertEquals(100.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(250.0f, node1Layout.size().width, "width of node1");
        assertEquals(100.0f, node1Layout.size().height, "height of node1");
        assertEquals(250.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
    }

    @Test
    @DisplayName("flex_shrink_flex_grow_child_flex_shrink_other_child__content_box")
    void flexShrinkFlexGrowChildFlexShrinkOtherChildContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.flexGrow = 0.0f;
        node0Style.flexShrink = 1.0f;
        node0Style.size = new Size<>(Dimension.length(500.0f), Dimension.length(100.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.flexGrow = 1.0f;
        node1Style.flexShrink = 1.0f;
        node1Style.size = new Size<>(Dimension.length(500.0f), Dimension.length(100.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.size = new Size<>(Dimension.length(500.0f), Dimension.length(500.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(500.0f, nodeLayout.size().width, "width of node");
        assertEquals(500.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(250.0f, node0Layout.size().width, "width of node0");
        assertEquals(100.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(250.0f, node1Layout.size().width, "width of node1");
        assertEquals(100.0f, node1Layout.size().height, "height of node1");
        assertEquals(250.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
    }

    @Test
    @DisplayName("flex_shrink_flex_grow_row__border_box")
    void flexShrinkFlexGrowRowBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.flexGrow = 0.0f;
        node0Style.flexShrink = 1.0f;
        node0Style.size = new Size<>(Dimension.length(500.0f), Dimension.length(100.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.flexGrow = 0.0f;
        node1Style.flexShrink = 1.0f;
        node1Style.size = new Size<>(Dimension.length(500.0f), Dimension.length(100.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style nodeStyle = new Style();
        nodeStyle.size = new Size<>(Dimension.length(500.0f), Dimension.length(500.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(500.0f, nodeLayout.size().width, "width of node");
        assertEquals(500.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(250.0f, node0Layout.size().width, "width of node0");
        assertEquals(100.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(250.0f, node1Layout.size().width, "width of node1");
        assertEquals(100.0f, node1Layout.size().height, "height of node1");
        assertEquals(250.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
    }

    @Test
    @DisplayName("flex_shrink_flex_grow_row__content_box")
    void flexShrinkFlexGrowRowContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.flexGrow = 0.0f;
        node0Style.flexShrink = 1.0f;
        node0Style.size = new Size<>(Dimension.length(500.0f), Dimension.length(100.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.flexGrow = 0.0f;
        node1Style.flexShrink = 1.0f;
        node1Style.size = new Size<>(Dimension.length(500.0f), Dimension.length(100.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.size = new Size<>(Dimension.length(500.0f), Dimension.length(500.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(500.0f, nodeLayout.size().width, "width of node");
        assertEquals(500.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(250.0f, node0Layout.size().width, "width of node0");
        assertEquals(100.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(250.0f, node1Layout.size().width, "width of node1");
        assertEquals(100.0f, node1Layout.size().height, "height of node1");
        assertEquals(250.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
    }

    @Test
    @DisplayName("flex_shrink_to_zero__border_box")
    void flexShrinkToZeroBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.flexShrink = 0.0f;
        node0Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.flexShrink = 1.0f;
        node1Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.flexShrink = 0.0f;
        node2Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        NodeId node2 = tree.newLeaf(node2Style);

        Style nodeStyle = new Style();
        nodeStyle.size = new Size<>(Dimension.length(75.0f), Dimension.AUTO);
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(75.0f, nodeLayout.size().width, "width of node");
        assertEquals(50.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(50.0f, node0Layout.size().width, "width of node0");
        assertEquals(50.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(0.0f, node1Layout.size().width, "width of node1");
        assertEquals(50.0f, node1Layout.size().height, "height of node1");
        assertEquals(50.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(50.0f, node2Layout.size().width, "width of node2");
        assertEquals(50.0f, node2Layout.size().height, "height of node2");
        assertEquals(50.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
    }

    @Test
    @DisplayName("flex_shrink_to_zero__content_box")
    void flexShrinkToZeroContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.flexShrink = 0.0f;
        node0Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.flexShrink = 1.0f;
        node1Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        node2Style.flexShrink = 0.0f;
        node2Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        NodeId node2 = tree.newLeaf(node2Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.size = new Size<>(Dimension.length(75.0f), Dimension.AUTO);
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(75.0f, nodeLayout.size().width, "width of node");
        assertEquals(50.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(50.0f, node0Layout.size().width, "width of node0");
        assertEquals(50.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(0.0f, node1Layout.size().width, "width of node1");
        assertEquals(50.0f, node1Layout.size().height, "height of node1");
        assertEquals(50.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(50.0f, node2Layout.size().width, "width of node2");
        assertEquals(50.0f, node2Layout.size().height, "height of node2");
        assertEquals(50.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
    }

    @Test
    @DisplayName("flex_wrap_align_stretch_fits_one_row__border_box")
    void flexWrapAlignStretchFitsOneRowBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.length(50.0f), Dimension.AUTO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.size = new Size<>(Dimension.length(50.0f), Dimension.AUTO);
        NodeId node1 = tree.newLeaf(node1Style);

        Style nodeStyle = new Style();
        nodeStyle.flexWrap = FlexWrap.WRAP;
        nodeStyle.size = new Size<>(Dimension.length(150.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(150.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(50.0f, node0Layout.size().width, "width of node0");
        assertEquals(100.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(50.0f, node1Layout.size().width, "width of node1");
        assertEquals(100.0f, node1Layout.size().height, "height of node1");
        assertEquals(50.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
    }

    @Test
    @DisplayName("flex_wrap_align_stretch_fits_one_row__content_box")
    void flexWrapAlignStretchFitsOneRowContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.length(50.0f), Dimension.AUTO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.size = new Size<>(Dimension.length(50.0f), Dimension.AUTO);
        NodeId node1 = tree.newLeaf(node1Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexWrap = FlexWrap.WRAP;
        nodeStyle.size = new Size<>(Dimension.length(150.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(150.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(50.0f, node0Layout.size().width, "width of node0");
        assertEquals(100.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(50.0f, node1Layout.size().width, "width of node1");
        assertEquals(100.0f, node1Layout.size().height, "height of node1");
        assertEquals(50.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
    }

    @Test
    @DisplayName("flex_wrap_children_with_min_main_overriding_flex_basis__border_box")
    void flexWrapChildrenWithMinMainOverridingFlexBasisBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.flexBasis = Dimension.length(50.0f);
        node0Style.size = new Size<>(Dimension.AUTO, Dimension.length(50.0f));
        node0Style.minSize = new Size<>(Dimension.length(55.0f), Dimension.AUTO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.flexBasis = Dimension.length(50.0f);
        node1Style.size = new Size<>(Dimension.AUTO, Dimension.length(50.0f));
        node1Style.minSize = new Size<>(Dimension.length(55.0f), Dimension.AUTO);
        NodeId node1 = tree.newLeaf(node1Style);

        Style nodeStyle = new Style();
        nodeStyle.flexWrap = FlexWrap.WRAP;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.AUTO);
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(55.0f, node0Layout.size().width, "width of node0");
        assertEquals(50.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(55.0f, node1Layout.size().width, "width of node1");
        assertEquals(50.0f, node1Layout.size().height, "height of node1");
        assertEquals(0.0f, node1Layout.location().x, "x of node1");
        assertEquals(50.0f, node1Layout.location().y, "y of node1");
    }

    @Test
    @DisplayName("flex_wrap_children_with_min_main_overriding_flex_basis__content_box")
    void flexWrapChildrenWithMinMainOverridingFlexBasisContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.flexBasis = Dimension.length(50.0f);
        node0Style.size = new Size<>(Dimension.AUTO, Dimension.length(50.0f));
        node0Style.minSize = new Size<>(Dimension.length(55.0f), Dimension.AUTO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.flexBasis = Dimension.length(50.0f);
        node1Style.size = new Size<>(Dimension.AUTO, Dimension.length(50.0f));
        node1Style.minSize = new Size<>(Dimension.length(55.0f), Dimension.AUTO);
        NodeId node1 = tree.newLeaf(node1Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexWrap = FlexWrap.WRAP;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.AUTO);
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(55.0f, node0Layout.size().width, "width of node0");
        assertEquals(50.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(55.0f, node1Layout.size().width, "width of node1");
        assertEquals(50.0f, node1Layout.size().height, "height of node1");
        assertEquals(0.0f, node1Layout.location().x, "x of node1");
        assertEquals(50.0f, node1Layout.location().y, "y of node1");
    }

    @Test
    @DisplayName("flex_wrap_wrap_to_child_height__border_box")
    void flexWrapWrapToChildHeightBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node000Style = new Style();
        node000Style.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node000 = tree.newLeaf(node000Style);

        Style node00Style = new Style();
        node00Style.flexDirection = FlexDirection.COLUMN;
        node00Style.size = new Size<>(Dimension.length(100.0f), Dimension.AUTO);
        NodeId node00 = tree.newWithChildren(node00Style, node000);

        Style node0Style = new Style();
        node0Style.flexWrap = FlexWrap.WRAP;
        node0Style.alignItems = AlignItems.FLEX_START;
        NodeId node0 = tree.newWithChildren(node0Style, node00);

        Style node1Style = new Style();
        node1Style.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style nodeStyle = new Style();
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(200.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(100.0f, node0Layout.size().width, "width of node0");
        assertEquals(100.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(100.0f, node00Layout.size().width, "width of node00");
        assertEquals(100.0f, node00Layout.size().height, "height of node00");
        assertEquals(0.0f, node00Layout.location().x, "x of node00");
        assertEquals(0.0f, node00Layout.location().y, "y of node00");
        Layout node000Layout = tree.getLayout(node000);
        assertEquals(100.0f, node000Layout.size().width, "width of node000");
        assertEquals(100.0f, node000Layout.size().height, "height of node000");
        assertEquals(0.0f, node000Layout.location().x, "x of node000");
        assertEquals(0.0f, node000Layout.location().y, "y of node000");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(100.0f, node1Layout.size().width, "width of node1");
        assertEquals(100.0f, node1Layout.size().height, "height of node1");
        assertEquals(0.0f, node1Layout.location().x, "x of node1");
        assertEquals(100.0f, node1Layout.location().y, "y of node1");
    }

    @Test
    @DisplayName("flex_wrap_wrap_to_child_height__content_box")
    void flexWrapWrapToChildHeightContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node000Style = new Style();
        node000Style.boxSizing = BoxSizing.CONTENT_BOX;
        node000Style.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node000 = tree.newLeaf(node000Style);

        Style node00Style = new Style();
        node00Style.boxSizing = BoxSizing.CONTENT_BOX;
        node00Style.flexDirection = FlexDirection.COLUMN;
        node00Style.size = new Size<>(Dimension.length(100.0f), Dimension.AUTO);
        NodeId node00 = tree.newWithChildren(node00Style, node000);

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.flexWrap = FlexWrap.WRAP;
        node0Style.alignItems = AlignItems.FLEX_START;
        NodeId node0 = tree.newWithChildren(node0Style, node00);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(200.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(100.0f, node0Layout.size().width, "width of node0");
        assertEquals(100.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(100.0f, node00Layout.size().width, "width of node00");
        assertEquals(100.0f, node00Layout.size().height, "height of node00");
        assertEquals(0.0f, node00Layout.location().x, "x of node00");
        assertEquals(0.0f, node00Layout.location().y, "y of node00");
        Layout node000Layout = tree.getLayout(node000);
        assertEquals(100.0f, node000Layout.size().width, "width of node000");
        assertEquals(100.0f, node000Layout.size().height, "height of node000");
        assertEquals(0.0f, node000Layout.location().x, "x of node000");
        assertEquals(0.0f, node000Layout.location().y, "y of node000");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(100.0f, node1Layout.size().width, "width of node1");
        assertEquals(100.0f, node1Layout.size().height, "height of node1");
        assertEquals(0.0f, node1Layout.location().x, "x of node1");
        assertEquals(100.0f, node1Layout.location().y, "y of node1");
    }

    @Test
    @DisplayName("gap_column_gap_child_margins__border_box")
    void gapColumnGapChildMarginsBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.flexGrow = 1.0f;
        node0Style.flexShrink = 1.0f;
        node0Style.flexBasis = Dimension.percent(0.0f);
        node0Style.margin = new Rect<>(LengthPercentageAuto.length(2.0f), LengthPercentageAuto.length(2.0f), LengthPercentageAuto.ZERO, LengthPercentageAuto.ZERO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.flexGrow = 1.0f;
        node1Style.flexShrink = 1.0f;
        node1Style.flexBasis = Dimension.percent(0.0f);
        node1Style.margin = new Rect<>(LengthPercentageAuto.length(10.0f), LengthPercentageAuto.length(10.0f), LengthPercentageAuto.ZERO, LengthPercentageAuto.ZERO);
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.flexGrow = 1.0f;
        node2Style.flexShrink = 1.0f;
        node2Style.flexBasis = Dimension.percent(0.0f);
        node2Style.margin = new Rect<>(LengthPercentageAuto.length(15.0f), LengthPercentageAuto.length(15.0f), LengthPercentageAuto.ZERO, LengthPercentageAuto.ZERO);
        NodeId node2 = tree.newLeaf(node2Style);

        Style nodeStyle = new Style();
        nodeStyle.size = new Size<>(Dimension.length(80.0f), Dimension.length(100.0f));
        nodeStyle.gap = new Size<>(LengthPercentage.length(10.0f), LengthPercentage.ZERO);
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(80.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(2.0f, node0Layout.size().width, "width of node0");
        assertEquals(100.0f, node0Layout.size().height, "height of node0");
        assertEquals(2.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(2.0f, node1Layout.size().width, "width of node1");
        assertEquals(100.0f, node1Layout.size().height, "height of node1");
        assertEquals(26.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(2.0f, node2Layout.size().width, "width of node2");
        assertEquals(100.0f, node2Layout.size().height, "height of node2");
        assertEquals(63.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
    }

    @Test
    @DisplayName("gap_column_gap_child_margins__content_box")
    void gapColumnGapChildMarginsContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.flexGrow = 1.0f;
        node0Style.flexShrink = 1.0f;
        node0Style.flexBasis = Dimension.percent(0.0f);
        node0Style.margin = new Rect<>(LengthPercentageAuto.length(2.0f), LengthPercentageAuto.length(2.0f), LengthPercentageAuto.ZERO, LengthPercentageAuto.ZERO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.flexGrow = 1.0f;
        node1Style.flexShrink = 1.0f;
        node1Style.flexBasis = Dimension.percent(0.0f);
        node1Style.margin = new Rect<>(LengthPercentageAuto.length(10.0f), LengthPercentageAuto.length(10.0f), LengthPercentageAuto.ZERO, LengthPercentageAuto.ZERO);
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        node2Style.flexGrow = 1.0f;
        node2Style.flexShrink = 1.0f;
        node2Style.flexBasis = Dimension.percent(0.0f);
        node2Style.margin = new Rect<>(LengthPercentageAuto.length(15.0f), LengthPercentageAuto.length(15.0f), LengthPercentageAuto.ZERO, LengthPercentageAuto.ZERO);
        NodeId node2 = tree.newLeaf(node2Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.size = new Size<>(Dimension.length(80.0f), Dimension.length(100.0f));
        nodeStyle.gap = new Size<>(LengthPercentage.length(10.0f), LengthPercentage.ZERO);
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(80.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(2.0f, node0Layout.size().width, "width of node0");
        assertEquals(100.0f, node0Layout.size().height, "height of node0");
        assertEquals(2.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(2.0f, node1Layout.size().width, "width of node1");
        assertEquals(100.0f, node1Layout.size().height, "height of node1");
        assertEquals(26.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(2.0f, node2Layout.size().width, "width of node2");
        assertEquals(100.0f, node2Layout.size().height, "height of node2");
        assertEquals(63.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
    }

    @Test
    @DisplayName("gap_column_gap_determines_parent_width__border_box")
    void gapColumnGapDeterminesParentWidthBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.length(10.0f), Dimension.AUTO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.size = new Size<>(Dimension.length(20.0f), Dimension.AUTO);
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.size = new Size<>(Dimension.length(30.0f), Dimension.AUTO);
        NodeId node2 = tree.newLeaf(node2Style);

        Style nodeStyle = new Style();
        nodeStyle.alignItems = AlignItems.STRETCH;
        nodeStyle.size = new Size<>(Dimension.AUTO, Dimension.length(100.0f));
        nodeStyle.gap = new Size<>(LengthPercentage.length(10.0f), LengthPercentage.ZERO);
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(80.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(10.0f, node0Layout.size().width, "width of node0");
        assertEquals(100.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(20.0f, node1Layout.size().width, "width of node1");
        assertEquals(100.0f, node1Layout.size().height, "height of node1");
        assertEquals(20.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(30.0f, node2Layout.size().width, "width of node2");
        assertEquals(100.0f, node2Layout.size().height, "height of node2");
        assertEquals(50.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
    }

    @Test
    @DisplayName("gap_column_gap_determines_parent_width__content_box")
    void gapColumnGapDeterminesParentWidthContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.length(10.0f), Dimension.AUTO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.size = new Size<>(Dimension.length(20.0f), Dimension.AUTO);
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        node2Style.size = new Size<>(Dimension.length(30.0f), Dimension.AUTO);
        NodeId node2 = tree.newLeaf(node2Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.alignItems = AlignItems.STRETCH;
        nodeStyle.size = new Size<>(Dimension.AUTO, Dimension.length(100.0f));
        nodeStyle.gap = new Size<>(LengthPercentage.length(10.0f), LengthPercentage.ZERO);
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(80.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(10.0f, node0Layout.size().width, "width of node0");
        assertEquals(100.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(20.0f, node1Layout.size().width, "width of node1");
        assertEquals(100.0f, node1Layout.size().height, "height of node1");
        assertEquals(20.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(30.0f, node2Layout.size().width, "width of node2");
        assertEquals(100.0f, node2Layout.size().height, "height of node2");
        assertEquals(50.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
    }

    @Test
    @DisplayName("gap_column_gap_flexible__border_box")
    void gapColumnGapFlexibleBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.flexGrow = 1.0f;
        node0Style.flexShrink = 1.0f;
        node0Style.flexBasis = Dimension.percent(0.0f);
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.flexGrow = 1.0f;
        node1Style.flexShrink = 1.0f;
        node1Style.flexBasis = Dimension.percent(0.0f);
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.flexGrow = 1.0f;
        node2Style.flexShrink = 1.0f;
        node2Style.flexBasis = Dimension.percent(0.0f);
        NodeId node2 = tree.newLeaf(node2Style);

        Style nodeStyle = new Style();
        nodeStyle.size = new Size<>(Dimension.length(80.0f), Dimension.length(100.0f));
        nodeStyle.gap = new Size<>(LengthPercentage.length(10.0f), LengthPercentage.length(20.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(80.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(20.0f, node0Layout.size().width, "width of node0");
        assertEquals(100.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(20.0f, node1Layout.size().width, "width of node1");
        assertEquals(100.0f, node1Layout.size().height, "height of node1");
        assertEquals(30.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(20.0f, node2Layout.size().width, "width of node2");
        assertEquals(100.0f, node2Layout.size().height, "height of node2");
        assertEquals(60.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
    }

    @Test
    @DisplayName("gap_column_gap_flexible__content_box")
    void gapColumnGapFlexibleContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.flexGrow = 1.0f;
        node0Style.flexShrink = 1.0f;
        node0Style.flexBasis = Dimension.percent(0.0f);
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.flexGrow = 1.0f;
        node1Style.flexShrink = 1.0f;
        node1Style.flexBasis = Dimension.percent(0.0f);
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        node2Style.flexGrow = 1.0f;
        node2Style.flexShrink = 1.0f;
        node2Style.flexBasis = Dimension.percent(0.0f);
        NodeId node2 = tree.newLeaf(node2Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.size = new Size<>(Dimension.length(80.0f), Dimension.length(100.0f));
        nodeStyle.gap = new Size<>(LengthPercentage.length(10.0f), LengthPercentage.length(20.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(80.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(20.0f, node0Layout.size().width, "width of node0");
        assertEquals(100.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(20.0f, node1Layout.size().width, "width of node1");
        assertEquals(100.0f, node1Layout.size().height, "height of node1");
        assertEquals(30.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(20.0f, node2Layout.size().width, "width of node2");
        assertEquals(100.0f, node2Layout.size().height, "height of node2");
        assertEquals(60.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
    }

    @Test
    @DisplayName("gap_column_gap_flexible_undefined_parent__border_box")
    void gapColumnGapFlexibleUndefinedParentBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.flexGrow = 1.0f;
        node0Style.flexShrink = 1.0f;
        node0Style.flexBasis = Dimension.percent(0.0f);
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.flexGrow = 1.0f;
        node1Style.flexShrink = 1.0f;
        node1Style.flexBasis = Dimension.percent(0.0f);
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.flexGrow = 1.0f;
        node2Style.flexShrink = 1.0f;
        node2Style.flexBasis = Dimension.percent(0.0f);
        NodeId node2 = tree.newLeaf(node2Style);

        Style nodeStyle = new Style();
        nodeStyle.size = new Size<>(Dimension.AUTO, Dimension.length(100.0f));
        nodeStyle.gap = new Size<>(LengthPercentage.length(10.0f), LengthPercentage.length(20.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(20.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(0.0f, node0Layout.size().width, "width of node0");
        assertEquals(100.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(0.0f, node1Layout.size().width, "width of node1");
        assertEquals(100.0f, node1Layout.size().height, "height of node1");
        assertEquals(10.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(0.0f, node2Layout.size().width, "width of node2");
        assertEquals(100.0f, node2Layout.size().height, "height of node2");
        assertEquals(20.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
    }

    @Test
    @DisplayName("gap_column_gap_flexible_undefined_parent__content_box")
    void gapColumnGapFlexibleUndefinedParentContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.flexGrow = 1.0f;
        node0Style.flexShrink = 1.0f;
        node0Style.flexBasis = Dimension.percent(0.0f);
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.flexGrow = 1.0f;
        node1Style.flexShrink = 1.0f;
        node1Style.flexBasis = Dimension.percent(0.0f);
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        node2Style.flexGrow = 1.0f;
        node2Style.flexShrink = 1.0f;
        node2Style.flexBasis = Dimension.percent(0.0f);
        NodeId node2 = tree.newLeaf(node2Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.size = new Size<>(Dimension.AUTO, Dimension.length(100.0f));
        nodeStyle.gap = new Size<>(LengthPercentage.length(10.0f), LengthPercentage.length(20.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(20.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(0.0f, node0Layout.size().width, "width of node0");
        assertEquals(100.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(0.0f, node1Layout.size().width, "width of node1");
        assertEquals(100.0f, node1Layout.size().height, "height of node1");
        assertEquals(10.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(0.0f, node2Layout.size().width, "width of node2");
        assertEquals(100.0f, node2Layout.size().height, "height of node2");
        assertEquals(20.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
    }

    @Test
    @DisplayName("gap_column_gap_inflexible__border_box")
    void gapColumnGapInflexibleBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.length(20.0f), Dimension.AUTO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.size = new Size<>(Dimension.length(20.0f), Dimension.AUTO);
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.size = new Size<>(Dimension.length(20.0f), Dimension.AUTO);
        NodeId node2 = tree.newLeaf(node2Style);

        Style nodeStyle = new Style();
        nodeStyle.size = new Size<>(Dimension.length(80.0f), Dimension.length(100.0f));
        nodeStyle.gap = new Size<>(LengthPercentage.length(10.0f), LengthPercentage.ZERO);
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(80.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(20.0f, node0Layout.size().width, "width of node0");
        assertEquals(100.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(20.0f, node1Layout.size().width, "width of node1");
        assertEquals(100.0f, node1Layout.size().height, "height of node1");
        assertEquals(30.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(20.0f, node2Layout.size().width, "width of node2");
        assertEquals(100.0f, node2Layout.size().height, "height of node2");
        assertEquals(60.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
    }

    @Test
    @DisplayName("gap_column_gap_inflexible__content_box")
    void gapColumnGapInflexibleContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.length(20.0f), Dimension.AUTO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.size = new Size<>(Dimension.length(20.0f), Dimension.AUTO);
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        node2Style.size = new Size<>(Dimension.length(20.0f), Dimension.AUTO);
        NodeId node2 = tree.newLeaf(node2Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.size = new Size<>(Dimension.length(80.0f), Dimension.length(100.0f));
        nodeStyle.gap = new Size<>(LengthPercentage.length(10.0f), LengthPercentage.ZERO);
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(80.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(20.0f, node0Layout.size().width, "width of node0");
        assertEquals(100.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(20.0f, node1Layout.size().width, "width of node1");
        assertEquals(100.0f, node1Layout.size().height, "height of node1");
        assertEquals(30.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(20.0f, node2Layout.size().width, "width of node2");
        assertEquals(100.0f, node2Layout.size().height, "height of node2");
        assertEquals(60.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
    }

    @Test
    @DisplayName("gap_column_gap_inflexible_undefined_parent__border_box")
    void gapColumnGapInflexibleUndefinedParentBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.length(20.0f), Dimension.AUTO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.size = new Size<>(Dimension.length(20.0f), Dimension.AUTO);
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.size = new Size<>(Dimension.length(20.0f), Dimension.AUTO);
        NodeId node2 = tree.newLeaf(node2Style);

        Style nodeStyle = new Style();
        nodeStyle.size = new Size<>(Dimension.AUTO, Dimension.length(100.0f));
        nodeStyle.gap = new Size<>(LengthPercentage.length(10.0f), LengthPercentage.ZERO);
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(80.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(20.0f, node0Layout.size().width, "width of node0");
        assertEquals(100.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(20.0f, node1Layout.size().width, "width of node1");
        assertEquals(100.0f, node1Layout.size().height, "height of node1");
        assertEquals(30.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(20.0f, node2Layout.size().width, "width of node2");
        assertEquals(100.0f, node2Layout.size().height, "height of node2");
        assertEquals(60.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
    }

    @Test
    @DisplayName("gap_column_gap_inflexible_undefined_parent__content_box")
    void gapColumnGapInflexibleUndefinedParentContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.length(20.0f), Dimension.AUTO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.size = new Size<>(Dimension.length(20.0f), Dimension.AUTO);
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        node2Style.size = new Size<>(Dimension.length(20.0f), Dimension.AUTO);
        NodeId node2 = tree.newLeaf(node2Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.size = new Size<>(Dimension.AUTO, Dimension.length(100.0f));
        nodeStyle.gap = new Size<>(LengthPercentage.length(10.0f), LengthPercentage.ZERO);
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(80.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(20.0f, node0Layout.size().width, "width of node0");
        assertEquals(100.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(20.0f, node1Layout.size().width, "width of node1");
        assertEquals(100.0f, node1Layout.size().height, "height of node1");
        assertEquals(30.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(20.0f, node2Layout.size().width, "width of node2");
        assertEquals(100.0f, node2Layout.size().height, "height of node2");
        assertEquals(60.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
    }

    @Test
    @DisplayName("gap_column_gap_justify_center__border_box")
    void gapColumnGapJustifyCenterBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.length(20.0f), Dimension.AUTO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.size = new Size<>(Dimension.length(20.0f), Dimension.AUTO);
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.size = new Size<>(Dimension.length(20.0f), Dimension.AUTO);
        NodeId node2 = tree.newLeaf(node2Style);

        Style nodeStyle = new Style();
        nodeStyle.justifyContent = AlignContent.CENTER;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        nodeStyle.gap = new Size<>(LengthPercentage.length(10.0f), LengthPercentage.ZERO);
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(20.0f, node0Layout.size().width, "width of node0");
        assertEquals(100.0f, node0Layout.size().height, "height of node0");
        assertEquals(10.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(20.0f, node1Layout.size().width, "width of node1");
        assertEquals(100.0f, node1Layout.size().height, "height of node1");
        assertEquals(40.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(20.0f, node2Layout.size().width, "width of node2");
        assertEquals(100.0f, node2Layout.size().height, "height of node2");
        assertEquals(70.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
    }

    @Test
    @DisplayName("gap_column_gap_justify_center__content_box")
    void gapColumnGapJustifyCenterContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.length(20.0f), Dimension.AUTO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.size = new Size<>(Dimension.length(20.0f), Dimension.AUTO);
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        node2Style.size = new Size<>(Dimension.length(20.0f), Dimension.AUTO);
        NodeId node2 = tree.newLeaf(node2Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.justifyContent = AlignContent.CENTER;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        nodeStyle.gap = new Size<>(LengthPercentage.length(10.0f), LengthPercentage.ZERO);
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(20.0f, node0Layout.size().width, "width of node0");
        assertEquals(100.0f, node0Layout.size().height, "height of node0");
        assertEquals(10.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(20.0f, node1Layout.size().width, "width of node1");
        assertEquals(100.0f, node1Layout.size().height, "height of node1");
        assertEquals(40.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(20.0f, node2Layout.size().width, "width of node2");
        assertEquals(100.0f, node2Layout.size().height, "height of node2");
        assertEquals(70.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
    }

    @Test
    @DisplayName("gap_column_gap_justify_flex_end__border_box")
    void gapColumnGapJustifyFlexEndBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.length(20.0f), Dimension.AUTO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.size = new Size<>(Dimension.length(20.0f), Dimension.AUTO);
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.size = new Size<>(Dimension.length(20.0f), Dimension.AUTO);
        NodeId node2 = tree.newLeaf(node2Style);

        Style nodeStyle = new Style();
        nodeStyle.justifyContent = AlignContent.FLEX_END;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        nodeStyle.gap = new Size<>(LengthPercentage.length(10.0f), LengthPercentage.ZERO);
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(20.0f, node0Layout.size().width, "width of node0");
        assertEquals(100.0f, node0Layout.size().height, "height of node0");
        assertEquals(20.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(20.0f, node1Layout.size().width, "width of node1");
        assertEquals(100.0f, node1Layout.size().height, "height of node1");
        assertEquals(50.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(20.0f, node2Layout.size().width, "width of node2");
        assertEquals(100.0f, node2Layout.size().height, "height of node2");
        assertEquals(80.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
    }

    @Test
    @DisplayName("gap_column_gap_justify_flex_end__content_box")
    void gapColumnGapJustifyFlexEndContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.length(20.0f), Dimension.AUTO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.size = new Size<>(Dimension.length(20.0f), Dimension.AUTO);
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        node2Style.size = new Size<>(Dimension.length(20.0f), Dimension.AUTO);
        NodeId node2 = tree.newLeaf(node2Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.justifyContent = AlignContent.FLEX_END;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        nodeStyle.gap = new Size<>(LengthPercentage.length(10.0f), LengthPercentage.ZERO);
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(20.0f, node0Layout.size().width, "width of node0");
        assertEquals(100.0f, node0Layout.size().height, "height of node0");
        assertEquals(20.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(20.0f, node1Layout.size().width, "width of node1");
        assertEquals(100.0f, node1Layout.size().height, "height of node1");
        assertEquals(50.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(20.0f, node2Layout.size().width, "width of node2");
        assertEquals(100.0f, node2Layout.size().height, "height of node2");
        assertEquals(80.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
    }

    @Test
    @DisplayName("gap_column_gap_justify_flex_start__border_box")
    void gapColumnGapJustifyFlexStartBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.length(20.0f), Dimension.AUTO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.size = new Size<>(Dimension.length(20.0f), Dimension.AUTO);
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.size = new Size<>(Dimension.length(20.0f), Dimension.AUTO);
        NodeId node2 = tree.newLeaf(node2Style);

        Style nodeStyle = new Style();
        nodeStyle.justifyContent = AlignContent.FLEX_START;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        nodeStyle.gap = new Size<>(LengthPercentage.length(10.0f), LengthPercentage.ZERO);
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(20.0f, node0Layout.size().width, "width of node0");
        assertEquals(100.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(20.0f, node1Layout.size().width, "width of node1");
        assertEquals(100.0f, node1Layout.size().height, "height of node1");
        assertEquals(30.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(20.0f, node2Layout.size().width, "width of node2");
        assertEquals(100.0f, node2Layout.size().height, "height of node2");
        assertEquals(60.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
    }

    @Test
    @DisplayName("gap_column_gap_justify_flex_start__content_box")
    void gapColumnGapJustifyFlexStartContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.length(20.0f), Dimension.AUTO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.size = new Size<>(Dimension.length(20.0f), Dimension.AUTO);
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        node2Style.size = new Size<>(Dimension.length(20.0f), Dimension.AUTO);
        NodeId node2 = tree.newLeaf(node2Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.justifyContent = AlignContent.FLEX_START;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        nodeStyle.gap = new Size<>(LengthPercentage.length(10.0f), LengthPercentage.ZERO);
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(20.0f, node0Layout.size().width, "width of node0");
        assertEquals(100.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(20.0f, node1Layout.size().width, "width of node1");
        assertEquals(100.0f, node1Layout.size().height, "height of node1");
        assertEquals(30.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(20.0f, node2Layout.size().width, "width of node2");
        assertEquals(100.0f, node2Layout.size().height, "height of node2");
        assertEquals(60.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
    }

    @Test
    @DisplayName("gap_column_gap_justify_space_around__border_box")
    void gapColumnGapJustifySpaceAroundBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.length(20.0f), Dimension.AUTO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.size = new Size<>(Dimension.length(20.0f), Dimension.AUTO);
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.size = new Size<>(Dimension.length(20.0f), Dimension.AUTO);
        NodeId node2 = tree.newLeaf(node2Style);

        Style nodeStyle = new Style();
        nodeStyle.justifyContent = AlignContent.SPACE_AROUND;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        nodeStyle.gap = new Size<>(LengthPercentage.length(10.0f), LengthPercentage.ZERO);
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(20.0f, node0Layout.size().width, "width of node0");
        assertEquals(100.0f, node0Layout.size().height, "height of node0");
        assertEquals(3.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(20.0f, node1Layout.size().width, "width of node1");
        assertEquals(100.0f, node1Layout.size().height, "height of node1");
        assertEquals(40.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(20.0f, node2Layout.size().width, "width of node2");
        assertEquals(100.0f, node2Layout.size().height, "height of node2");
        assertEquals(77.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
    }

    @Test
    @DisplayName("gap_column_gap_justify_space_around__content_box")
    void gapColumnGapJustifySpaceAroundContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.length(20.0f), Dimension.AUTO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.size = new Size<>(Dimension.length(20.0f), Dimension.AUTO);
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        node2Style.size = new Size<>(Dimension.length(20.0f), Dimension.AUTO);
        NodeId node2 = tree.newLeaf(node2Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.justifyContent = AlignContent.SPACE_AROUND;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        nodeStyle.gap = new Size<>(LengthPercentage.length(10.0f), LengthPercentage.ZERO);
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(20.0f, node0Layout.size().width, "width of node0");
        assertEquals(100.0f, node0Layout.size().height, "height of node0");
        assertEquals(3.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(20.0f, node1Layout.size().width, "width of node1");
        assertEquals(100.0f, node1Layout.size().height, "height of node1");
        assertEquals(40.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(20.0f, node2Layout.size().width, "width of node2");
        assertEquals(100.0f, node2Layout.size().height, "height of node2");
        assertEquals(77.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
    }

    @Test
    @DisplayName("gap_column_gap_justify_space_between__border_box")
    void gapColumnGapJustifySpaceBetweenBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.length(20.0f), Dimension.AUTO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.size = new Size<>(Dimension.length(20.0f), Dimension.AUTO);
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.size = new Size<>(Dimension.length(20.0f), Dimension.AUTO);
        NodeId node2 = tree.newLeaf(node2Style);

        Style nodeStyle = new Style();
        nodeStyle.justifyContent = AlignContent.SPACE_BETWEEN;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        nodeStyle.gap = new Size<>(LengthPercentage.length(10.0f), LengthPercentage.ZERO);
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(20.0f, node0Layout.size().width, "width of node0");
        assertEquals(100.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(20.0f, node1Layout.size().width, "width of node1");
        assertEquals(100.0f, node1Layout.size().height, "height of node1");
        assertEquals(40.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(20.0f, node2Layout.size().width, "width of node2");
        assertEquals(100.0f, node2Layout.size().height, "height of node2");
        assertEquals(80.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
    }

    @Test
    @DisplayName("gap_column_gap_justify_space_between__content_box")
    void gapColumnGapJustifySpaceBetweenContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.length(20.0f), Dimension.AUTO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.size = new Size<>(Dimension.length(20.0f), Dimension.AUTO);
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        node2Style.size = new Size<>(Dimension.length(20.0f), Dimension.AUTO);
        NodeId node2 = tree.newLeaf(node2Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.justifyContent = AlignContent.SPACE_BETWEEN;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        nodeStyle.gap = new Size<>(LengthPercentage.length(10.0f), LengthPercentage.ZERO);
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(20.0f, node0Layout.size().width, "width of node0");
        assertEquals(100.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(20.0f, node1Layout.size().width, "width of node1");
        assertEquals(100.0f, node1Layout.size().height, "height of node1");
        assertEquals(40.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(20.0f, node2Layout.size().width, "width of node2");
        assertEquals(100.0f, node2Layout.size().height, "height of node2");
        assertEquals(80.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
    }

    @Test
    @DisplayName("gap_column_gap_justify_space_evenly__border_box")
    void gapColumnGapJustifySpaceEvenlyBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.length(20.0f), Dimension.AUTO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.size = new Size<>(Dimension.length(20.0f), Dimension.AUTO);
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.size = new Size<>(Dimension.length(20.0f), Dimension.AUTO);
        NodeId node2 = tree.newLeaf(node2Style);

        Style nodeStyle = new Style();
        nodeStyle.justifyContent = AlignContent.SPACE_EVENLY;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        nodeStyle.gap = new Size<>(LengthPercentage.length(10.0f), LengthPercentage.ZERO);
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(20.0f, node0Layout.size().width, "width of node0");
        assertEquals(100.0f, node0Layout.size().height, "height of node0");
        assertEquals(5.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(20.0f, node1Layout.size().width, "width of node1");
        assertEquals(100.0f, node1Layout.size().height, "height of node1");
        assertEquals(40.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(20.0f, node2Layout.size().width, "width of node2");
        assertEquals(100.0f, node2Layout.size().height, "height of node2");
        assertEquals(75.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
    }

    @Test
    @DisplayName("gap_column_gap_justify_space_evenly__content_box")
    void gapColumnGapJustifySpaceEvenlyContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.length(20.0f), Dimension.AUTO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.size = new Size<>(Dimension.length(20.0f), Dimension.AUTO);
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        node2Style.size = new Size<>(Dimension.length(20.0f), Dimension.AUTO);
        NodeId node2 = tree.newLeaf(node2Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.justifyContent = AlignContent.SPACE_EVENLY;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        nodeStyle.gap = new Size<>(LengthPercentage.length(10.0f), LengthPercentage.ZERO);
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(20.0f, node0Layout.size().width, "width of node0");
        assertEquals(100.0f, node0Layout.size().height, "height of node0");
        assertEquals(5.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(20.0f, node1Layout.size().width, "width of node1");
        assertEquals(100.0f, node1Layout.size().height, "height of node1");
        assertEquals(40.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(20.0f, node2Layout.size().width, "width of node2");
        assertEquals(100.0f, node2Layout.size().height, "height of node2");
        assertEquals(75.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
    }

    @Test
    @DisplayName("gap_column_gap_mixed_flexible__border_box")
    void gapColumnGapMixedFlexibleBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.length(20.0f), Dimension.AUTO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.flexGrow = 1.0f;
        node1Style.flexShrink = 1.0f;
        node1Style.flexBasis = Dimension.percent(0.0f);
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.size = new Size<>(Dimension.length(20.0f), Dimension.AUTO);
        NodeId node2 = tree.newLeaf(node2Style);

        Style nodeStyle = new Style();
        nodeStyle.size = new Size<>(Dimension.length(80.0f), Dimension.length(100.0f));
        nodeStyle.gap = new Size<>(LengthPercentage.length(10.0f), LengthPercentage.ZERO);
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(80.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(20.0f, node0Layout.size().width, "width of node0");
        assertEquals(100.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(20.0f, node1Layout.size().width, "width of node1");
        assertEquals(100.0f, node1Layout.size().height, "height of node1");
        assertEquals(30.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(20.0f, node2Layout.size().width, "width of node2");
        assertEquals(100.0f, node2Layout.size().height, "height of node2");
        assertEquals(60.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
    }

    @Test
    @DisplayName("gap_column_gap_mixed_flexible__content_box")
    void gapColumnGapMixedFlexibleContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.length(20.0f), Dimension.AUTO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.flexGrow = 1.0f;
        node1Style.flexShrink = 1.0f;
        node1Style.flexBasis = Dimension.percent(0.0f);
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        node2Style.size = new Size<>(Dimension.length(20.0f), Dimension.AUTO);
        NodeId node2 = tree.newLeaf(node2Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.size = new Size<>(Dimension.length(80.0f), Dimension.length(100.0f));
        nodeStyle.gap = new Size<>(LengthPercentage.length(10.0f), LengthPercentage.ZERO);
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(80.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(20.0f, node0Layout.size().width, "width of node0");
        assertEquals(100.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(20.0f, node1Layout.size().width, "width of node1");
        assertEquals(100.0f, node1Layout.size().height, "height of node1");
        assertEquals(30.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(20.0f, node2Layout.size().width, "width of node2");
        assertEquals(100.0f, node2Layout.size().height, "height of node2");
        assertEquals(60.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
    }

    @Test
    @DisplayName("gap_column_gap_percentage_cyclic_partially_shrinkable__border_box")
    void gapColumnGapPercentageCyclicPartiallyShrinkableBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.flexShrink = 0.0f;
        node0Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(40.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(40.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.flexShrink = 0.0f;
        node2Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(40.0f));
        NodeId node2 = tree.newLeaf(node2Style);

        Style nodeStyle = new Style();
        nodeStyle.gap = new Size<>(LengthPercentage.percent(0.5f), LengthPercentage.ZERO);
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(60.0f, nodeLayout.size().width, "width of node");
        assertEquals(40.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(20.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(0.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(50.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(20.0f, node2Layout.size().width, "width of node2");
        assertEquals(40.0f, node2Layout.size().height, "height of node2");
        assertEquals(80.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
    }

    @Test
    @DisplayName("gap_column_gap_percentage_cyclic_partially_shrinkable__content_box")
    void gapColumnGapPercentageCyclicPartiallyShrinkableContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.flexShrink = 0.0f;
        node0Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(40.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(40.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        node2Style.flexShrink = 0.0f;
        node2Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(40.0f));
        NodeId node2 = tree.newLeaf(node2Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.gap = new Size<>(LengthPercentage.percent(0.5f), LengthPercentage.ZERO);
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(60.0f, nodeLayout.size().width, "width of node");
        assertEquals(40.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(20.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(0.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(50.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(20.0f, node2Layout.size().width, "width of node2");
        assertEquals(40.0f, node2Layout.size().height, "height of node2");
        assertEquals(80.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
    }

    @Test
    @DisplayName("gap_column_gap_percentage_cyclic_shrinkable__border_box")
    void gapColumnGapPercentageCyclicShrinkableBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(40.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(40.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(40.0f));
        NodeId node2 = tree.newLeaf(node2Style);

        Style nodeStyle = new Style();
        nodeStyle.gap = new Size<>(LengthPercentage.percent(0.2f), LengthPercentage.ZERO);
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(60.0f, nodeLayout.size().width, "width of node");
        assertEquals(40.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(12.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(12.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(24.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(12.0f, node2Layout.size().width, "width of node2");
        assertEquals(40.0f, node2Layout.size().height, "height of node2");
        assertEquals(48.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
    }

    @Test
    @DisplayName("gap_column_gap_percentage_cyclic_shrinkable__content_box")
    void gapColumnGapPercentageCyclicShrinkableContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(40.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(40.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        node2Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(40.0f));
        NodeId node2 = tree.newLeaf(node2Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.gap = new Size<>(LengthPercentage.percent(0.2f), LengthPercentage.ZERO);
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(60.0f, nodeLayout.size().width, "width of node");
        assertEquals(40.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(12.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(12.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(24.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(12.0f, node2Layout.size().width, "width of node2");
        assertEquals(40.0f, node2Layout.size().height, "height of node2");
        assertEquals(48.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
    }

    @Test
    @DisplayName("gap_column_gap_percentage_cyclic_unshrinkable__border_box")
    void gapColumnGapPercentageCyclicUnshrinkableBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.flexShrink = 0.0f;
        node0Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(40.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.flexShrink = 0.0f;
        node1Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(40.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.flexShrink = 0.0f;
        node2Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(40.0f));
        NodeId node2 = tree.newLeaf(node2Style);

        Style nodeStyle = new Style();
        nodeStyle.gap = new Size<>(LengthPercentage.percent(0.2f), LengthPercentage.ZERO);
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(60.0f, nodeLayout.size().width, "width of node");
        assertEquals(40.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(20.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(20.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(32.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(20.0f, node2Layout.size().width, "width of node2");
        assertEquals(40.0f, node2Layout.size().height, "height of node2");
        assertEquals(64.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
    }

    @Test
    @DisplayName("gap_column_gap_percentage_cyclic_unshrinkable__content_box")
    void gapColumnGapPercentageCyclicUnshrinkableContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.flexShrink = 0.0f;
        node0Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(40.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.flexShrink = 0.0f;
        node1Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(40.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        node2Style.flexShrink = 0.0f;
        node2Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(40.0f));
        NodeId node2 = tree.newLeaf(node2Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.gap = new Size<>(LengthPercentage.percent(0.2f), LengthPercentage.ZERO);
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(60.0f, nodeLayout.size().width, "width of node");
        assertEquals(40.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(20.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(20.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(32.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(20.0f, node2Layout.size().width, "width of node2");
        assertEquals(40.0f, node2Layout.size().height, "height of node2");
        assertEquals(64.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
    }

    @Test
    @DisplayName("gap_column_gap_percentage_flexible__border_box")
    void gapColumnGapPercentageFlexibleBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.flexGrow = 1.0f;
        node0Style.flexShrink = 1.0f;
        node0Style.flexBasis = Dimension.percent(0.0f);
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.flexGrow = 1.0f;
        node1Style.flexShrink = 1.0f;
        node1Style.flexBasis = Dimension.percent(0.0f);
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.flexGrow = 1.0f;
        node2Style.flexShrink = 1.0f;
        node2Style.flexBasis = Dimension.percent(0.0f);
        NodeId node2 = tree.newLeaf(node2Style);

        Style nodeStyle = new Style();
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        nodeStyle.gap = new Size<>(LengthPercentage.percent(0.1f), LengthPercentage.length(20.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(27.0f, node0Layout.size().width, "width of node0");
        assertEquals(100.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(26.0f, node1Layout.size().width, "width of node1");
        assertEquals(100.0f, node1Layout.size().height, "height of node1");
        assertEquals(37.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(27.0f, node2Layout.size().width, "width of node2");
        assertEquals(100.0f, node2Layout.size().height, "height of node2");
        assertEquals(73.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
    }

    @Test
    @DisplayName("gap_column_gap_percentage_flexible__content_box")
    void gapColumnGapPercentageFlexibleContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.flexGrow = 1.0f;
        node0Style.flexShrink = 1.0f;
        node0Style.flexBasis = Dimension.percent(0.0f);
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.flexGrow = 1.0f;
        node1Style.flexShrink = 1.0f;
        node1Style.flexBasis = Dimension.percent(0.0f);
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        node2Style.flexGrow = 1.0f;
        node2Style.flexShrink = 1.0f;
        node2Style.flexBasis = Dimension.percent(0.0f);
        NodeId node2 = tree.newLeaf(node2Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        nodeStyle.gap = new Size<>(LengthPercentage.percent(0.1f), LengthPercentage.length(20.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(27.0f, node0Layout.size().width, "width of node0");
        assertEquals(100.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(26.0f, node1Layout.size().width, "width of node1");
        assertEquals(100.0f, node1Layout.size().height, "height of node1");
        assertEquals(37.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(27.0f, node2Layout.size().width, "width of node2");
        assertEquals(100.0f, node2Layout.size().height, "height of node2");
        assertEquals(73.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
    }

    @Test
    @DisplayName("gap_column_gap_percentage_flexible_with_padding__border_box")
    void gapColumnGapPercentageFlexibleWithPaddingBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.flexGrow = 1.0f;
        node0Style.flexShrink = 1.0f;
        node0Style.flexBasis = Dimension.percent(0.0f);
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.flexGrow = 1.0f;
        node1Style.flexShrink = 1.0f;
        node1Style.flexBasis = Dimension.percent(0.0f);
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.flexGrow = 1.0f;
        node2Style.flexShrink = 1.0f;
        node2Style.flexBasis = Dimension.percent(0.0f);
        NodeId node2 = tree.newLeaf(node2Style);

        Style nodeStyle = new Style();
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        nodeStyle.gap = new Size<>(LengthPercentage.percent(0.1f), LengthPercentage.length(20.0f));
        nodeStyle.padding = new Rect<>(LengthPercentage.length(10.0f), LengthPercentage.length(10.0f), LengthPercentage.length(10.0f), LengthPercentage.length(10.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(21.0f, node0Layout.size().width, "width of node0");
        assertEquals(80.0f, node0Layout.size().height, "height of node0");
        assertEquals(10.0f, node0Layout.location().x, "x of node0");
        assertEquals(10.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(22.0f, node1Layout.size().width, "width of node1");
        assertEquals(80.0f, node1Layout.size().height, "height of node1");
        assertEquals(39.0f, node1Layout.location().x, "x of node1");
        assertEquals(10.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(21.0f, node2Layout.size().width, "width of node2");
        assertEquals(80.0f, node2Layout.size().height, "height of node2");
        assertEquals(69.0f, node2Layout.location().x, "x of node2");
        assertEquals(10.0f, node2Layout.location().y, "y of node2");
    }

    @Test
    @DisplayName("gap_column_gap_percentage_flexible_with_padding__content_box")
    void gapColumnGapPercentageFlexibleWithPaddingContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.flexGrow = 1.0f;
        node0Style.flexShrink = 1.0f;
        node0Style.flexBasis = Dimension.percent(0.0f);
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.flexGrow = 1.0f;
        node1Style.flexShrink = 1.0f;
        node1Style.flexBasis = Dimension.percent(0.0f);
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        node2Style.flexGrow = 1.0f;
        node2Style.flexShrink = 1.0f;
        node2Style.flexBasis = Dimension.percent(0.0f);
        NodeId node2 = tree.newLeaf(node2Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        nodeStyle.gap = new Size<>(LengthPercentage.percent(0.1f), LengthPercentage.length(20.0f));
        nodeStyle.padding = new Rect<>(LengthPercentage.length(10.0f), LengthPercentage.length(10.0f), LengthPercentage.length(10.0f), LengthPercentage.length(10.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(120.0f, nodeLayout.size().width, "width of node");
        assertEquals(120.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(27.0f, node0Layout.size().width, "width of node0");
        assertEquals(100.0f, node0Layout.size().height, "height of node0");
        assertEquals(10.0f, node0Layout.location().x, "x of node0");
        assertEquals(10.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(26.0f, node1Layout.size().width, "width of node1");
        assertEquals(100.0f, node1Layout.size().height, "height of node1");
        assertEquals(47.0f, node1Layout.location().x, "x of node1");
        assertEquals(10.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(27.0f, node2Layout.size().width, "width of node2");
        assertEquals(100.0f, node2Layout.size().height, "height of node2");
        assertEquals(83.0f, node2Layout.location().x, "x of node2");
        assertEquals(10.0f, node2Layout.location().y, "y of node2");
    }

    @Test
    @DisplayName("gap_column_gap_percentage_inflexible__border_box")
    void gapColumnGapPercentageInflexibleBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.length(20.0f), Dimension.AUTO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.size = new Size<>(Dimension.length(20.0f), Dimension.AUTO);
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.size = new Size<>(Dimension.length(20.0f), Dimension.AUTO);
        NodeId node2 = tree.newLeaf(node2Style);

        Style nodeStyle = new Style();
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        nodeStyle.gap = new Size<>(LengthPercentage.percent(0.2f), LengthPercentage.ZERO);
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(20.0f, node0Layout.size().width, "width of node0");
        assertEquals(100.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(20.0f, node1Layout.size().width, "width of node1");
        assertEquals(100.0f, node1Layout.size().height, "height of node1");
        assertEquals(40.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(20.0f, node2Layout.size().width, "width of node2");
        assertEquals(100.0f, node2Layout.size().height, "height of node2");
        assertEquals(80.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
    }

    @Test
    @DisplayName("gap_column_gap_percentage_inflexible__content_box")
    void gapColumnGapPercentageInflexibleContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.length(20.0f), Dimension.AUTO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.size = new Size<>(Dimension.length(20.0f), Dimension.AUTO);
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        node2Style.size = new Size<>(Dimension.length(20.0f), Dimension.AUTO);
        NodeId node2 = tree.newLeaf(node2Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        nodeStyle.gap = new Size<>(LengthPercentage.percent(0.2f), LengthPercentage.ZERO);
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(20.0f, node0Layout.size().width, "width of node0");
        assertEquals(100.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(20.0f, node1Layout.size().width, "width of node1");
        assertEquals(100.0f, node1Layout.size().height, "height of node1");
        assertEquals(40.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(20.0f, node2Layout.size().width, "width of node2");
        assertEquals(100.0f, node2Layout.size().height, "height of node2");
        assertEquals(80.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
    }

    @Test
    @DisplayName("gap_column_gap_row_gap_wrapping__border_box")
    void gapColumnGapRowGapWrappingBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        node3Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        node4Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        NodeId node4 = tree.newLeaf(node4Style);

        Style node5Style = new Style();
        node5Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        NodeId node5 = tree.newLeaf(node5Style);

        Style node6Style = new Style();
        node6Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        NodeId node6 = tree.newLeaf(node6Style);

        Style node7Style = new Style();
        node7Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        NodeId node7 = tree.newLeaf(node7Style);

        Style node8Style = new Style();
        node8Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        NodeId node8 = tree.newLeaf(node8Style);

        Style nodeStyle = new Style();
        nodeStyle.flexWrap = FlexWrap.WRAP;
        nodeStyle.size = new Size<>(Dimension.length(80.0f), Dimension.AUTO);
        nodeStyle.gap = new Size<>(LengthPercentage.length(10.0f), LengthPercentage.length(20.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5, node6, node7, node8);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(80.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(20.0f, node0Layout.size().width, "width of node0");
        assertEquals(20.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(20.0f, node1Layout.size().width, "width of node1");
        assertEquals(20.0f, node1Layout.size().height, "height of node1");
        assertEquals(30.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(20.0f, node2Layout.size().width, "width of node2");
        assertEquals(20.0f, node2Layout.size().height, "height of node2");
        assertEquals(60.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(20.0f, node3Layout.size().width, "width of node3");
        assertEquals(20.0f, node3Layout.size().height, "height of node3");
        assertEquals(0.0f, node3Layout.location().x, "x of node3");
        assertEquals(40.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(20.0f, node4Layout.size().width, "width of node4");
        assertEquals(20.0f, node4Layout.size().height, "height of node4");
        assertEquals(30.0f, node4Layout.location().x, "x of node4");
        assertEquals(40.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(20.0f, node5Layout.size().width, "width of node5");
        assertEquals(20.0f, node5Layout.size().height, "height of node5");
        assertEquals(60.0f, node5Layout.location().x, "x of node5");
        assertEquals(40.0f, node5Layout.location().y, "y of node5");
        Layout node6Layout = tree.getLayout(node6);
        assertEquals(20.0f, node6Layout.size().width, "width of node6");
        assertEquals(20.0f, node6Layout.size().height, "height of node6");
        assertEquals(0.0f, node6Layout.location().x, "x of node6");
        assertEquals(80.0f, node6Layout.location().y, "y of node6");
        Layout node7Layout = tree.getLayout(node7);
        assertEquals(20.0f, node7Layout.size().width, "width of node7");
        assertEquals(20.0f, node7Layout.size().height, "height of node7");
        assertEquals(30.0f, node7Layout.location().x, "x of node7");
        assertEquals(80.0f, node7Layout.location().y, "y of node7");
        Layout node8Layout = tree.getLayout(node8);
        assertEquals(20.0f, node8Layout.size().width, "width of node8");
        assertEquals(20.0f, node8Layout.size().height, "height of node8");
        assertEquals(60.0f, node8Layout.location().x, "x of node8");
        assertEquals(80.0f, node8Layout.location().y, "y of node8");
    }

    @Test
    @DisplayName("gap_column_gap_row_gap_wrapping__content_box")
    void gapColumnGapRowGapWrappingContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        node2Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        node3Style.boxSizing = BoxSizing.CONTENT_BOX;
        node3Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        node4Style.boxSizing = BoxSizing.CONTENT_BOX;
        node4Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        NodeId node4 = tree.newLeaf(node4Style);

        Style node5Style = new Style();
        node5Style.boxSizing = BoxSizing.CONTENT_BOX;
        node5Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        NodeId node5 = tree.newLeaf(node5Style);

        Style node6Style = new Style();
        node6Style.boxSizing = BoxSizing.CONTENT_BOX;
        node6Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        NodeId node6 = tree.newLeaf(node6Style);

        Style node7Style = new Style();
        node7Style.boxSizing = BoxSizing.CONTENT_BOX;
        node7Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        NodeId node7 = tree.newLeaf(node7Style);

        Style node8Style = new Style();
        node8Style.boxSizing = BoxSizing.CONTENT_BOX;
        node8Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        NodeId node8 = tree.newLeaf(node8Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexWrap = FlexWrap.WRAP;
        nodeStyle.size = new Size<>(Dimension.length(80.0f), Dimension.AUTO);
        nodeStyle.gap = new Size<>(LengthPercentage.length(10.0f), LengthPercentage.length(20.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5, node6, node7, node8);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(80.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(20.0f, node0Layout.size().width, "width of node0");
        assertEquals(20.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(20.0f, node1Layout.size().width, "width of node1");
        assertEquals(20.0f, node1Layout.size().height, "height of node1");
        assertEquals(30.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(20.0f, node2Layout.size().width, "width of node2");
        assertEquals(20.0f, node2Layout.size().height, "height of node2");
        assertEquals(60.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(20.0f, node3Layout.size().width, "width of node3");
        assertEquals(20.0f, node3Layout.size().height, "height of node3");
        assertEquals(0.0f, node3Layout.location().x, "x of node3");
        assertEquals(40.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(20.0f, node4Layout.size().width, "width of node4");
        assertEquals(20.0f, node4Layout.size().height, "height of node4");
        assertEquals(30.0f, node4Layout.location().x, "x of node4");
        assertEquals(40.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(20.0f, node5Layout.size().width, "width of node5");
        assertEquals(20.0f, node5Layout.size().height, "height of node5");
        assertEquals(60.0f, node5Layout.location().x, "x of node5");
        assertEquals(40.0f, node5Layout.location().y, "y of node5");
        Layout node6Layout = tree.getLayout(node6);
        assertEquals(20.0f, node6Layout.size().width, "width of node6");
        assertEquals(20.0f, node6Layout.size().height, "height of node6");
        assertEquals(0.0f, node6Layout.location().x, "x of node6");
        assertEquals(80.0f, node6Layout.location().y, "y of node6");
        Layout node7Layout = tree.getLayout(node7);
        assertEquals(20.0f, node7Layout.size().width, "width of node7");
        assertEquals(20.0f, node7Layout.size().height, "height of node7");
        assertEquals(30.0f, node7Layout.location().x, "x of node7");
        assertEquals(80.0f, node7Layout.location().y, "y of node7");
        Layout node8Layout = tree.getLayout(node8);
        assertEquals(20.0f, node8Layout.size().width, "width of node8");
        assertEquals(20.0f, node8Layout.size().height, "height of node8");
        assertEquals(60.0f, node8Layout.location().x, "x of node8");
        assertEquals(80.0f, node8Layout.location().y, "y of node8");
    }

    @Test
    @DisplayName("gap_column_gap_start_index__border_box")
    void gapColumnGapStartIndexBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.position = Position.ABSOLUTE;
        node0Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        node3Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        NodeId node3 = tree.newLeaf(node3Style);

        Style nodeStyle = new Style();
        nodeStyle.flexWrap = FlexWrap.WRAP;
        nodeStyle.size = new Size<>(Dimension.length(80.0f), Dimension.AUTO);
        nodeStyle.gap = new Size<>(LengthPercentage.length(10.0f), LengthPercentage.length(20.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(80.0f, nodeLayout.size().width, "width of node");
        assertEquals(20.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(20.0f, node0Layout.size().width, "width of node0");
        assertEquals(20.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(20.0f, node1Layout.size().width, "width of node1");
        assertEquals(20.0f, node1Layout.size().height, "height of node1");
        assertEquals(0.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(20.0f, node2Layout.size().width, "width of node2");
        assertEquals(20.0f, node2Layout.size().height, "height of node2");
        assertEquals(30.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(20.0f, node3Layout.size().width, "width of node3");
        assertEquals(20.0f, node3Layout.size().height, "height of node3");
        assertEquals(60.0f, node3Layout.location().x, "x of node3");
        assertEquals(0.0f, node3Layout.location().y, "y of node3");
    }

    @Test
    @DisplayName("gap_column_gap_start_index__content_box")
    void gapColumnGapStartIndexContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.position = Position.ABSOLUTE;
        node0Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        node2Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        node3Style.boxSizing = BoxSizing.CONTENT_BOX;
        node3Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        NodeId node3 = tree.newLeaf(node3Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexWrap = FlexWrap.WRAP;
        nodeStyle.size = new Size<>(Dimension.length(80.0f), Dimension.AUTO);
        nodeStyle.gap = new Size<>(LengthPercentage.length(10.0f), LengthPercentage.length(20.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(80.0f, nodeLayout.size().width, "width of node");
        assertEquals(20.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(20.0f, node0Layout.size().width, "width of node0");
        assertEquals(20.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(20.0f, node1Layout.size().width, "width of node1");
        assertEquals(20.0f, node1Layout.size().height, "height of node1");
        assertEquals(0.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(20.0f, node2Layout.size().width, "width of node2");
        assertEquals(20.0f, node2Layout.size().height, "height of node2");
        assertEquals(30.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(20.0f, node3Layout.size().width, "width of node3");
        assertEquals(20.0f, node3Layout.size().height, "height of node3");
        assertEquals(60.0f, node3Layout.location().x, "x of node3");
        assertEquals(0.0f, node3Layout.location().y, "y of node3");
    }

    @Test
    @DisplayName("gap_column_gap_wrap_align_center__border_box")
    void gapColumnGapWrapAlignCenterBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        node3Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        node4Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        NodeId node4 = tree.newLeaf(node4Style);

        Style node5Style = new Style();
        node5Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        NodeId node5 = tree.newLeaf(node5Style);

        Style nodeStyle = new Style();
        nodeStyle.flexWrap = FlexWrap.WRAP;
        nodeStyle.alignContent = AlignContent.CENTER;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        nodeStyle.gap = new Size<>(LengthPercentage.length(10.0f), LengthPercentage.length(20.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(20.0f, node0Layout.size().width, "width of node0");
        assertEquals(20.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(20.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(20.0f, node1Layout.size().width, "width of node1");
        assertEquals(20.0f, node1Layout.size().height, "height of node1");
        assertEquals(30.0f, node1Layout.location().x, "x of node1");
        assertEquals(20.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(20.0f, node2Layout.size().width, "width of node2");
        assertEquals(20.0f, node2Layout.size().height, "height of node2");
        assertEquals(60.0f, node2Layout.location().x, "x of node2");
        assertEquals(20.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(20.0f, node3Layout.size().width, "width of node3");
        assertEquals(20.0f, node3Layout.size().height, "height of node3");
        assertEquals(0.0f, node3Layout.location().x, "x of node3");
        assertEquals(60.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(20.0f, node4Layout.size().width, "width of node4");
        assertEquals(20.0f, node4Layout.size().height, "height of node4");
        assertEquals(30.0f, node4Layout.location().x, "x of node4");
        assertEquals(60.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(20.0f, node5Layout.size().width, "width of node5");
        assertEquals(20.0f, node5Layout.size().height, "height of node5");
        assertEquals(60.0f, node5Layout.location().x, "x of node5");
        assertEquals(60.0f, node5Layout.location().y, "y of node5");
    }

    @Test
    @DisplayName("gap_column_gap_wrap_align_center__content_box")
    void gapColumnGapWrapAlignCenterContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        node2Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        node3Style.boxSizing = BoxSizing.CONTENT_BOX;
        node3Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        node4Style.boxSizing = BoxSizing.CONTENT_BOX;
        node4Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        NodeId node4 = tree.newLeaf(node4Style);

        Style node5Style = new Style();
        node5Style.boxSizing = BoxSizing.CONTENT_BOX;
        node5Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        NodeId node5 = tree.newLeaf(node5Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexWrap = FlexWrap.WRAP;
        nodeStyle.alignContent = AlignContent.CENTER;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        nodeStyle.gap = new Size<>(LengthPercentage.length(10.0f), LengthPercentage.length(20.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(20.0f, node0Layout.size().width, "width of node0");
        assertEquals(20.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(20.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(20.0f, node1Layout.size().width, "width of node1");
        assertEquals(20.0f, node1Layout.size().height, "height of node1");
        assertEquals(30.0f, node1Layout.location().x, "x of node1");
        assertEquals(20.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(20.0f, node2Layout.size().width, "width of node2");
        assertEquals(20.0f, node2Layout.size().height, "height of node2");
        assertEquals(60.0f, node2Layout.location().x, "x of node2");
        assertEquals(20.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(20.0f, node3Layout.size().width, "width of node3");
        assertEquals(20.0f, node3Layout.size().height, "height of node3");
        assertEquals(0.0f, node3Layout.location().x, "x of node3");
        assertEquals(60.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(20.0f, node4Layout.size().width, "width of node4");
        assertEquals(20.0f, node4Layout.size().height, "height of node4");
        assertEquals(30.0f, node4Layout.location().x, "x of node4");
        assertEquals(60.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(20.0f, node5Layout.size().width, "width of node5");
        assertEquals(20.0f, node5Layout.size().height, "height of node5");
        assertEquals(60.0f, node5Layout.location().x, "x of node5");
        assertEquals(60.0f, node5Layout.location().y, "y of node5");
    }

    @Test
    @DisplayName("gap_column_gap_wrap_align_flex_end__border_box")
    void gapColumnGapWrapAlignFlexEndBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        node3Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        node4Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        NodeId node4 = tree.newLeaf(node4Style);

        Style node5Style = new Style();
        node5Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        NodeId node5 = tree.newLeaf(node5Style);

        Style nodeStyle = new Style();
        nodeStyle.flexWrap = FlexWrap.WRAP;
        nodeStyle.alignContent = AlignContent.FLEX_END;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        nodeStyle.gap = new Size<>(LengthPercentage.length(10.0f), LengthPercentage.length(20.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(20.0f, node0Layout.size().width, "width of node0");
        assertEquals(20.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(40.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(20.0f, node1Layout.size().width, "width of node1");
        assertEquals(20.0f, node1Layout.size().height, "height of node1");
        assertEquals(30.0f, node1Layout.location().x, "x of node1");
        assertEquals(40.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(20.0f, node2Layout.size().width, "width of node2");
        assertEquals(20.0f, node2Layout.size().height, "height of node2");
        assertEquals(60.0f, node2Layout.location().x, "x of node2");
        assertEquals(40.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(20.0f, node3Layout.size().width, "width of node3");
        assertEquals(20.0f, node3Layout.size().height, "height of node3");
        assertEquals(0.0f, node3Layout.location().x, "x of node3");
        assertEquals(80.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(20.0f, node4Layout.size().width, "width of node4");
        assertEquals(20.0f, node4Layout.size().height, "height of node4");
        assertEquals(30.0f, node4Layout.location().x, "x of node4");
        assertEquals(80.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(20.0f, node5Layout.size().width, "width of node5");
        assertEquals(20.0f, node5Layout.size().height, "height of node5");
        assertEquals(60.0f, node5Layout.location().x, "x of node5");
        assertEquals(80.0f, node5Layout.location().y, "y of node5");
    }

    @Test
    @DisplayName("gap_column_gap_wrap_align_flex_end__content_box")
    void gapColumnGapWrapAlignFlexEndContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        node2Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        node3Style.boxSizing = BoxSizing.CONTENT_BOX;
        node3Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        node4Style.boxSizing = BoxSizing.CONTENT_BOX;
        node4Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        NodeId node4 = tree.newLeaf(node4Style);

        Style node5Style = new Style();
        node5Style.boxSizing = BoxSizing.CONTENT_BOX;
        node5Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        NodeId node5 = tree.newLeaf(node5Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexWrap = FlexWrap.WRAP;
        nodeStyle.alignContent = AlignContent.FLEX_END;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        nodeStyle.gap = new Size<>(LengthPercentage.length(10.0f), LengthPercentage.length(20.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(20.0f, node0Layout.size().width, "width of node0");
        assertEquals(20.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(40.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(20.0f, node1Layout.size().width, "width of node1");
        assertEquals(20.0f, node1Layout.size().height, "height of node1");
        assertEquals(30.0f, node1Layout.location().x, "x of node1");
        assertEquals(40.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(20.0f, node2Layout.size().width, "width of node2");
        assertEquals(20.0f, node2Layout.size().height, "height of node2");
        assertEquals(60.0f, node2Layout.location().x, "x of node2");
        assertEquals(40.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(20.0f, node3Layout.size().width, "width of node3");
        assertEquals(20.0f, node3Layout.size().height, "height of node3");
        assertEquals(0.0f, node3Layout.location().x, "x of node3");
        assertEquals(80.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(20.0f, node4Layout.size().width, "width of node4");
        assertEquals(20.0f, node4Layout.size().height, "height of node4");
        assertEquals(30.0f, node4Layout.location().x, "x of node4");
        assertEquals(80.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(20.0f, node5Layout.size().width, "width of node5");
        assertEquals(20.0f, node5Layout.size().height, "height of node5");
        assertEquals(60.0f, node5Layout.location().x, "x of node5");
        assertEquals(80.0f, node5Layout.location().y, "y of node5");
    }

    @Test
    @DisplayName("gap_column_gap_wrap_align_flex_start__border_box")
    void gapColumnGapWrapAlignFlexStartBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        node3Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        node4Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        NodeId node4 = tree.newLeaf(node4Style);

        Style node5Style = new Style();
        node5Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        NodeId node5 = tree.newLeaf(node5Style);

        Style nodeStyle = new Style();
        nodeStyle.flexWrap = FlexWrap.WRAP;
        nodeStyle.alignContent = AlignContent.FLEX_START;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        nodeStyle.gap = new Size<>(LengthPercentage.length(10.0f), LengthPercentage.length(20.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(20.0f, node0Layout.size().width, "width of node0");
        assertEquals(20.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(20.0f, node1Layout.size().width, "width of node1");
        assertEquals(20.0f, node1Layout.size().height, "height of node1");
        assertEquals(30.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(20.0f, node2Layout.size().width, "width of node2");
        assertEquals(20.0f, node2Layout.size().height, "height of node2");
        assertEquals(60.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(20.0f, node3Layout.size().width, "width of node3");
        assertEquals(20.0f, node3Layout.size().height, "height of node3");
        assertEquals(0.0f, node3Layout.location().x, "x of node3");
        assertEquals(40.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(20.0f, node4Layout.size().width, "width of node4");
        assertEquals(20.0f, node4Layout.size().height, "height of node4");
        assertEquals(30.0f, node4Layout.location().x, "x of node4");
        assertEquals(40.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(20.0f, node5Layout.size().width, "width of node5");
        assertEquals(20.0f, node5Layout.size().height, "height of node5");
        assertEquals(60.0f, node5Layout.location().x, "x of node5");
        assertEquals(40.0f, node5Layout.location().y, "y of node5");
    }

    @Test
    @DisplayName("gap_column_gap_wrap_align_flex_start__content_box")
    void gapColumnGapWrapAlignFlexStartContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        node2Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        node3Style.boxSizing = BoxSizing.CONTENT_BOX;
        node3Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        node4Style.boxSizing = BoxSizing.CONTENT_BOX;
        node4Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        NodeId node4 = tree.newLeaf(node4Style);

        Style node5Style = new Style();
        node5Style.boxSizing = BoxSizing.CONTENT_BOX;
        node5Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        NodeId node5 = tree.newLeaf(node5Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexWrap = FlexWrap.WRAP;
        nodeStyle.alignContent = AlignContent.FLEX_START;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        nodeStyle.gap = new Size<>(LengthPercentage.length(10.0f), LengthPercentage.length(20.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(20.0f, node0Layout.size().width, "width of node0");
        assertEquals(20.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(20.0f, node1Layout.size().width, "width of node1");
        assertEquals(20.0f, node1Layout.size().height, "height of node1");
        assertEquals(30.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(20.0f, node2Layout.size().width, "width of node2");
        assertEquals(20.0f, node2Layout.size().height, "height of node2");
        assertEquals(60.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(20.0f, node3Layout.size().width, "width of node3");
        assertEquals(20.0f, node3Layout.size().height, "height of node3");
        assertEquals(0.0f, node3Layout.location().x, "x of node3");
        assertEquals(40.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(20.0f, node4Layout.size().width, "width of node4");
        assertEquals(20.0f, node4Layout.size().height, "height of node4");
        assertEquals(30.0f, node4Layout.location().x, "x of node4");
        assertEquals(40.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(20.0f, node5Layout.size().width, "width of node5");
        assertEquals(20.0f, node5Layout.size().height, "height of node5");
        assertEquals(60.0f, node5Layout.location().x, "x of node5");
        assertEquals(40.0f, node5Layout.location().y, "y of node5");
    }

    @Test
    @DisplayName("gap_column_gap_wrap_align_space_around__border_box")
    void gapColumnGapWrapAlignSpaceAroundBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        node3Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        node4Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        NodeId node4 = tree.newLeaf(node4Style);

        Style node5Style = new Style();
        node5Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        NodeId node5 = tree.newLeaf(node5Style);

        Style nodeStyle = new Style();
        nodeStyle.flexWrap = FlexWrap.WRAP;
        nodeStyle.alignContent = AlignContent.SPACE_AROUND;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        nodeStyle.gap = new Size<>(LengthPercentage.length(10.0f), LengthPercentage.length(20.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(20.0f, node0Layout.size().width, "width of node0");
        assertEquals(20.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(10.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(20.0f, node1Layout.size().width, "width of node1");
        assertEquals(20.0f, node1Layout.size().height, "height of node1");
        assertEquals(30.0f, node1Layout.location().x, "x of node1");
        assertEquals(10.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(20.0f, node2Layout.size().width, "width of node2");
        assertEquals(20.0f, node2Layout.size().height, "height of node2");
        assertEquals(60.0f, node2Layout.location().x, "x of node2");
        assertEquals(10.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(20.0f, node3Layout.size().width, "width of node3");
        assertEquals(20.0f, node3Layout.size().height, "height of node3");
        assertEquals(0.0f, node3Layout.location().x, "x of node3");
        assertEquals(70.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(20.0f, node4Layout.size().width, "width of node4");
        assertEquals(20.0f, node4Layout.size().height, "height of node4");
        assertEquals(30.0f, node4Layout.location().x, "x of node4");
        assertEquals(70.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(20.0f, node5Layout.size().width, "width of node5");
        assertEquals(20.0f, node5Layout.size().height, "height of node5");
        assertEquals(60.0f, node5Layout.location().x, "x of node5");
        assertEquals(70.0f, node5Layout.location().y, "y of node5");
    }

    @Test
    @DisplayName("gap_column_gap_wrap_align_space_around__content_box")
    void gapColumnGapWrapAlignSpaceAroundContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        node2Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        node3Style.boxSizing = BoxSizing.CONTENT_BOX;
        node3Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        node4Style.boxSizing = BoxSizing.CONTENT_BOX;
        node4Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        NodeId node4 = tree.newLeaf(node4Style);

        Style node5Style = new Style();
        node5Style.boxSizing = BoxSizing.CONTENT_BOX;
        node5Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        NodeId node5 = tree.newLeaf(node5Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexWrap = FlexWrap.WRAP;
        nodeStyle.alignContent = AlignContent.SPACE_AROUND;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        nodeStyle.gap = new Size<>(LengthPercentage.length(10.0f), LengthPercentage.length(20.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(20.0f, node0Layout.size().width, "width of node0");
        assertEquals(20.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(10.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(20.0f, node1Layout.size().width, "width of node1");
        assertEquals(20.0f, node1Layout.size().height, "height of node1");
        assertEquals(30.0f, node1Layout.location().x, "x of node1");
        assertEquals(10.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(20.0f, node2Layout.size().width, "width of node2");
        assertEquals(20.0f, node2Layout.size().height, "height of node2");
        assertEquals(60.0f, node2Layout.location().x, "x of node2");
        assertEquals(10.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(20.0f, node3Layout.size().width, "width of node3");
        assertEquals(20.0f, node3Layout.size().height, "height of node3");
        assertEquals(0.0f, node3Layout.location().x, "x of node3");
        assertEquals(70.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(20.0f, node4Layout.size().width, "width of node4");
        assertEquals(20.0f, node4Layout.size().height, "height of node4");
        assertEquals(30.0f, node4Layout.location().x, "x of node4");
        assertEquals(70.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(20.0f, node5Layout.size().width, "width of node5");
        assertEquals(20.0f, node5Layout.size().height, "height of node5");
        assertEquals(60.0f, node5Layout.location().x, "x of node5");
        assertEquals(70.0f, node5Layout.location().y, "y of node5");
    }

    @Test
    @DisplayName("gap_column_gap_wrap_align_space_between__border_box")
    void gapColumnGapWrapAlignSpaceBetweenBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        node3Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        node4Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        NodeId node4 = tree.newLeaf(node4Style);

        Style node5Style = new Style();
        node5Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        NodeId node5 = tree.newLeaf(node5Style);

        Style nodeStyle = new Style();
        nodeStyle.flexWrap = FlexWrap.WRAP;
        nodeStyle.alignContent = AlignContent.SPACE_BETWEEN;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        nodeStyle.gap = new Size<>(LengthPercentage.length(10.0f), LengthPercentage.length(20.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(20.0f, node0Layout.size().width, "width of node0");
        assertEquals(20.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(20.0f, node1Layout.size().width, "width of node1");
        assertEquals(20.0f, node1Layout.size().height, "height of node1");
        assertEquals(30.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(20.0f, node2Layout.size().width, "width of node2");
        assertEquals(20.0f, node2Layout.size().height, "height of node2");
        assertEquals(60.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(20.0f, node3Layout.size().width, "width of node3");
        assertEquals(20.0f, node3Layout.size().height, "height of node3");
        assertEquals(0.0f, node3Layout.location().x, "x of node3");
        assertEquals(80.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(20.0f, node4Layout.size().width, "width of node4");
        assertEquals(20.0f, node4Layout.size().height, "height of node4");
        assertEquals(30.0f, node4Layout.location().x, "x of node4");
        assertEquals(80.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(20.0f, node5Layout.size().width, "width of node5");
        assertEquals(20.0f, node5Layout.size().height, "height of node5");
        assertEquals(60.0f, node5Layout.location().x, "x of node5");
        assertEquals(80.0f, node5Layout.location().y, "y of node5");
    }

    @Test
    @DisplayName("gap_column_gap_wrap_align_space_between__content_box")
    void gapColumnGapWrapAlignSpaceBetweenContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        node2Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        node3Style.boxSizing = BoxSizing.CONTENT_BOX;
        node3Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        node4Style.boxSizing = BoxSizing.CONTENT_BOX;
        node4Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        NodeId node4 = tree.newLeaf(node4Style);

        Style node5Style = new Style();
        node5Style.boxSizing = BoxSizing.CONTENT_BOX;
        node5Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        NodeId node5 = tree.newLeaf(node5Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexWrap = FlexWrap.WRAP;
        nodeStyle.alignContent = AlignContent.SPACE_BETWEEN;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        nodeStyle.gap = new Size<>(LengthPercentage.length(10.0f), LengthPercentage.length(20.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(20.0f, node0Layout.size().width, "width of node0");
        assertEquals(20.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(20.0f, node1Layout.size().width, "width of node1");
        assertEquals(20.0f, node1Layout.size().height, "height of node1");
        assertEquals(30.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(20.0f, node2Layout.size().width, "width of node2");
        assertEquals(20.0f, node2Layout.size().height, "height of node2");
        assertEquals(60.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(20.0f, node3Layout.size().width, "width of node3");
        assertEquals(20.0f, node3Layout.size().height, "height of node3");
        assertEquals(0.0f, node3Layout.location().x, "x of node3");
        assertEquals(80.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(20.0f, node4Layout.size().width, "width of node4");
        assertEquals(20.0f, node4Layout.size().height, "height of node4");
        assertEquals(30.0f, node4Layout.location().x, "x of node4");
        assertEquals(80.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(20.0f, node5Layout.size().width, "width of node5");
        assertEquals(20.0f, node5Layout.size().height, "height of node5");
        assertEquals(60.0f, node5Layout.location().x, "x of node5");
        assertEquals(80.0f, node5Layout.location().y, "y of node5");
    }

    @Test
    @DisplayName("gap_column_gap_wrap_align_stretch__border_box")
    void gapColumnGapWrapAlignStretchBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.flexGrow = 1.0f;
        node0Style.minSize = new Size<>(Dimension.length(60.0f), Dimension.AUTO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.flexGrow = 1.0f;
        node1Style.minSize = new Size<>(Dimension.length(60.0f), Dimension.AUTO);
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.flexGrow = 1.0f;
        node2Style.minSize = new Size<>(Dimension.length(60.0f), Dimension.AUTO);
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        node3Style.flexGrow = 1.0f;
        node3Style.minSize = new Size<>(Dimension.length(60.0f), Dimension.AUTO);
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        node4Style.flexGrow = 1.0f;
        node4Style.minSize = new Size<>(Dimension.length(60.0f), Dimension.AUTO);
        NodeId node4 = tree.newLeaf(node4Style);

        Style nodeStyle = new Style();
        nodeStyle.flexWrap = FlexWrap.WRAP;
        nodeStyle.alignContent = AlignContent.STRETCH;
        nodeStyle.size = new Size<>(Dimension.length(300.0f), Dimension.length(300.0f));
        nodeStyle.gap = new Size<>(LengthPercentage.length(5.0f), LengthPercentage.ZERO);
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(300.0f, nodeLayout.size().width, "width of node");
        assertEquals(300.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(71.0f, node0Layout.size().width, "width of node0");
        assertEquals(150.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(72.0f, node1Layout.size().width, "width of node1");
        assertEquals(150.0f, node1Layout.size().height, "height of node1");
        assertEquals(76.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(71.0f, node2Layout.size().width, "width of node2");
        assertEquals(150.0f, node2Layout.size().height, "height of node2");
        assertEquals(153.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(71.0f, node3Layout.size().width, "width of node3");
        assertEquals(150.0f, node3Layout.size().height, "height of node3");
        assertEquals(229.0f, node3Layout.location().x, "x of node3");
        assertEquals(0.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(300.0f, node4Layout.size().width, "width of node4");
        assertEquals(150.0f, node4Layout.size().height, "height of node4");
        assertEquals(0.0f, node4Layout.location().x, "x of node4");
        assertEquals(150.0f, node4Layout.location().y, "y of node4");
    }

    @Test
    @DisplayName("gap_column_gap_wrap_align_stretch__content_box")
    void gapColumnGapWrapAlignStretchContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.flexGrow = 1.0f;
        node0Style.minSize = new Size<>(Dimension.length(60.0f), Dimension.AUTO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.flexGrow = 1.0f;
        node1Style.minSize = new Size<>(Dimension.length(60.0f), Dimension.AUTO);
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        node2Style.flexGrow = 1.0f;
        node2Style.minSize = new Size<>(Dimension.length(60.0f), Dimension.AUTO);
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        node3Style.boxSizing = BoxSizing.CONTENT_BOX;
        node3Style.flexGrow = 1.0f;
        node3Style.minSize = new Size<>(Dimension.length(60.0f), Dimension.AUTO);
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        node4Style.boxSizing = BoxSizing.CONTENT_BOX;
        node4Style.flexGrow = 1.0f;
        node4Style.minSize = new Size<>(Dimension.length(60.0f), Dimension.AUTO);
        NodeId node4 = tree.newLeaf(node4Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexWrap = FlexWrap.WRAP;
        nodeStyle.alignContent = AlignContent.STRETCH;
        nodeStyle.size = new Size<>(Dimension.length(300.0f), Dimension.length(300.0f));
        nodeStyle.gap = new Size<>(LengthPercentage.length(5.0f), LengthPercentage.ZERO);
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(300.0f, nodeLayout.size().width, "width of node");
        assertEquals(300.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(71.0f, node0Layout.size().width, "width of node0");
        assertEquals(150.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(72.0f, node1Layout.size().width, "width of node1");
        assertEquals(150.0f, node1Layout.size().height, "height of node1");
        assertEquals(76.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(71.0f, node2Layout.size().width, "width of node2");
        assertEquals(150.0f, node2Layout.size().height, "height of node2");
        assertEquals(153.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(71.0f, node3Layout.size().width, "width of node3");
        assertEquals(150.0f, node3Layout.size().height, "height of node3");
        assertEquals(229.0f, node3Layout.location().x, "x of node3");
        assertEquals(0.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(300.0f, node4Layout.size().width, "width of node4");
        assertEquals(150.0f, node4Layout.size().height, "height of node4");
        assertEquals(0.0f, node4Layout.location().x, "x of node4");
        assertEquals(150.0f, node4Layout.location().y, "y of node4");
    }

    @Test
    @DisplayName("gap_column_row_gap_wrapping__border_box")
    void gapColumnRowGapWrappingBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        node3Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        node4Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        NodeId node4 = tree.newLeaf(node4Style);

        Style node5Style = new Style();
        node5Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        NodeId node5 = tree.newLeaf(node5Style);

        Style node6Style = new Style();
        node6Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        NodeId node6 = tree.newLeaf(node6Style);

        Style node7Style = new Style();
        node7Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        NodeId node7 = tree.newLeaf(node7Style);

        Style node8Style = new Style();
        node8Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        NodeId node8 = tree.newLeaf(node8Style);

        Style nodeStyle = new Style();
        nodeStyle.flexWrap = FlexWrap.WRAP;
        nodeStyle.size = new Size<>(Dimension.length(80.0f), Dimension.AUTO);
        nodeStyle.gap = new Size<>(LengthPercentage.length(10.0f), LengthPercentage.length(20.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5, node6, node7, node8);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(80.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(20.0f, node0Layout.size().width, "width of node0");
        assertEquals(20.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(20.0f, node1Layout.size().width, "width of node1");
        assertEquals(20.0f, node1Layout.size().height, "height of node1");
        assertEquals(30.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(20.0f, node2Layout.size().width, "width of node2");
        assertEquals(20.0f, node2Layout.size().height, "height of node2");
        assertEquals(60.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(20.0f, node3Layout.size().width, "width of node3");
        assertEquals(20.0f, node3Layout.size().height, "height of node3");
        assertEquals(0.0f, node3Layout.location().x, "x of node3");
        assertEquals(40.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(20.0f, node4Layout.size().width, "width of node4");
        assertEquals(20.0f, node4Layout.size().height, "height of node4");
        assertEquals(30.0f, node4Layout.location().x, "x of node4");
        assertEquals(40.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(20.0f, node5Layout.size().width, "width of node5");
        assertEquals(20.0f, node5Layout.size().height, "height of node5");
        assertEquals(60.0f, node5Layout.location().x, "x of node5");
        assertEquals(40.0f, node5Layout.location().y, "y of node5");
        Layout node6Layout = tree.getLayout(node6);
        assertEquals(20.0f, node6Layout.size().width, "width of node6");
        assertEquals(20.0f, node6Layout.size().height, "height of node6");
        assertEquals(0.0f, node6Layout.location().x, "x of node6");
        assertEquals(80.0f, node6Layout.location().y, "y of node6");
        Layout node7Layout = tree.getLayout(node7);
        assertEquals(20.0f, node7Layout.size().width, "width of node7");
        assertEquals(20.0f, node7Layout.size().height, "height of node7");
        assertEquals(30.0f, node7Layout.location().x, "x of node7");
        assertEquals(80.0f, node7Layout.location().y, "y of node7");
        Layout node8Layout = tree.getLayout(node8);
        assertEquals(20.0f, node8Layout.size().width, "width of node8");
        assertEquals(20.0f, node8Layout.size().height, "height of node8");
        assertEquals(60.0f, node8Layout.location().x, "x of node8");
        assertEquals(80.0f, node8Layout.location().y, "y of node8");
    }

    @Test
    @DisplayName("gap_column_row_gap_wrapping__content_box")
    void gapColumnRowGapWrappingContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        node2Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        node3Style.boxSizing = BoxSizing.CONTENT_BOX;
        node3Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        node4Style.boxSizing = BoxSizing.CONTENT_BOX;
        node4Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        NodeId node4 = tree.newLeaf(node4Style);

        Style node5Style = new Style();
        node5Style.boxSizing = BoxSizing.CONTENT_BOX;
        node5Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        NodeId node5 = tree.newLeaf(node5Style);

        Style node6Style = new Style();
        node6Style.boxSizing = BoxSizing.CONTENT_BOX;
        node6Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        NodeId node6 = tree.newLeaf(node6Style);

        Style node7Style = new Style();
        node7Style.boxSizing = BoxSizing.CONTENT_BOX;
        node7Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        NodeId node7 = tree.newLeaf(node7Style);

        Style node8Style = new Style();
        node8Style.boxSizing = BoxSizing.CONTENT_BOX;
        node8Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        NodeId node8 = tree.newLeaf(node8Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexWrap = FlexWrap.WRAP;
        nodeStyle.size = new Size<>(Dimension.length(80.0f), Dimension.AUTO);
        nodeStyle.gap = new Size<>(LengthPercentage.length(10.0f), LengthPercentage.length(20.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5, node6, node7, node8);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(80.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(20.0f, node0Layout.size().width, "width of node0");
        assertEquals(20.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(20.0f, node1Layout.size().width, "width of node1");
        assertEquals(20.0f, node1Layout.size().height, "height of node1");
        assertEquals(30.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(20.0f, node2Layout.size().width, "width of node2");
        assertEquals(20.0f, node2Layout.size().height, "height of node2");
        assertEquals(60.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(20.0f, node3Layout.size().width, "width of node3");
        assertEquals(20.0f, node3Layout.size().height, "height of node3");
        assertEquals(0.0f, node3Layout.location().x, "x of node3");
        assertEquals(40.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(20.0f, node4Layout.size().width, "width of node4");
        assertEquals(20.0f, node4Layout.size().height, "height of node4");
        assertEquals(30.0f, node4Layout.location().x, "x of node4");
        assertEquals(40.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(20.0f, node5Layout.size().width, "width of node5");
        assertEquals(20.0f, node5Layout.size().height, "height of node5");
        assertEquals(60.0f, node5Layout.location().x, "x of node5");
        assertEquals(40.0f, node5Layout.location().y, "y of node5");
        Layout node6Layout = tree.getLayout(node6);
        assertEquals(20.0f, node6Layout.size().width, "width of node6");
        assertEquals(20.0f, node6Layout.size().height, "height of node6");
        assertEquals(0.0f, node6Layout.location().x, "x of node6");
        assertEquals(80.0f, node6Layout.location().y, "y of node6");
        Layout node7Layout = tree.getLayout(node7);
        assertEquals(20.0f, node7Layout.size().width, "width of node7");
        assertEquals(20.0f, node7Layout.size().height, "height of node7");
        assertEquals(30.0f, node7Layout.location().x, "x of node7");
        assertEquals(80.0f, node7Layout.location().y, "y of node7");
        Layout node8Layout = tree.getLayout(node8);
        assertEquals(20.0f, node8Layout.size().width, "width of node8");
        assertEquals(20.0f, node8Layout.size().height, "height of node8");
        assertEquals(60.0f, node8Layout.location().x, "x of node8");
        assertEquals(80.0f, node8Layout.location().y, "y of node8");
    }

    @Test
    @DisplayName("gap_row_gap_align_items_end__border_box")
    void gapRowGapAlignItemsEndBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.length(20.0f), Dimension.AUTO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.size = new Size<>(Dimension.length(20.0f), Dimension.AUTO);
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.size = new Size<>(Dimension.length(20.0f), Dimension.AUTO);
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        node3Style.size = new Size<>(Dimension.length(20.0f), Dimension.AUTO);
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        node4Style.size = new Size<>(Dimension.length(20.0f), Dimension.AUTO);
        NodeId node4 = tree.newLeaf(node4Style);

        Style node5Style = new Style();
        node5Style.size = new Size<>(Dimension.length(20.0f), Dimension.AUTO);
        NodeId node5 = tree.newLeaf(node5Style);

        Style nodeStyle = new Style();
        nodeStyle.flexWrap = FlexWrap.WRAP;
        nodeStyle.alignItems = AlignItems.FLEX_END;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(200.0f));
        nodeStyle.gap = new Size<>(LengthPercentage.length(10.0f), LengthPercentage.length(20.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(200.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(20.0f, node0Layout.size().width, "width of node0");
        assertEquals(0.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(90.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(20.0f, node1Layout.size().width, "width of node1");
        assertEquals(0.0f, node1Layout.size().height, "height of node1");
        assertEquals(30.0f, node1Layout.location().x, "x of node1");
        assertEquals(90.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(20.0f, node2Layout.size().width, "width of node2");
        assertEquals(0.0f, node2Layout.size().height, "height of node2");
        assertEquals(60.0f, node2Layout.location().x, "x of node2");
        assertEquals(90.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(20.0f, node3Layout.size().width, "width of node3");
        assertEquals(0.0f, node3Layout.size().height, "height of node3");
        assertEquals(0.0f, node3Layout.location().x, "x of node3");
        assertEquals(200.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(20.0f, node4Layout.size().width, "width of node4");
        assertEquals(0.0f, node4Layout.size().height, "height of node4");
        assertEquals(30.0f, node4Layout.location().x, "x of node4");
        assertEquals(200.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(20.0f, node5Layout.size().width, "width of node5");
        assertEquals(0.0f, node5Layout.size().height, "height of node5");
        assertEquals(60.0f, node5Layout.location().x, "x of node5");
        assertEquals(200.0f, node5Layout.location().y, "y of node5");
    }

    @Test
    @DisplayName("gap_row_gap_align_items_end__content_box")
    void gapRowGapAlignItemsEndContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.length(20.0f), Dimension.AUTO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.size = new Size<>(Dimension.length(20.0f), Dimension.AUTO);
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        node2Style.size = new Size<>(Dimension.length(20.0f), Dimension.AUTO);
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        node3Style.boxSizing = BoxSizing.CONTENT_BOX;
        node3Style.size = new Size<>(Dimension.length(20.0f), Dimension.AUTO);
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        node4Style.boxSizing = BoxSizing.CONTENT_BOX;
        node4Style.size = new Size<>(Dimension.length(20.0f), Dimension.AUTO);
        NodeId node4 = tree.newLeaf(node4Style);

        Style node5Style = new Style();
        node5Style.boxSizing = BoxSizing.CONTENT_BOX;
        node5Style.size = new Size<>(Dimension.length(20.0f), Dimension.AUTO);
        NodeId node5 = tree.newLeaf(node5Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexWrap = FlexWrap.WRAP;
        nodeStyle.alignItems = AlignItems.FLEX_END;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(200.0f));
        nodeStyle.gap = new Size<>(LengthPercentage.length(10.0f), LengthPercentage.length(20.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(200.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(20.0f, node0Layout.size().width, "width of node0");
        assertEquals(0.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(90.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(20.0f, node1Layout.size().width, "width of node1");
        assertEquals(0.0f, node1Layout.size().height, "height of node1");
        assertEquals(30.0f, node1Layout.location().x, "x of node1");
        assertEquals(90.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(20.0f, node2Layout.size().width, "width of node2");
        assertEquals(0.0f, node2Layout.size().height, "height of node2");
        assertEquals(60.0f, node2Layout.location().x, "x of node2");
        assertEquals(90.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(20.0f, node3Layout.size().width, "width of node3");
        assertEquals(0.0f, node3Layout.size().height, "height of node3");
        assertEquals(0.0f, node3Layout.location().x, "x of node3");
        assertEquals(200.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(20.0f, node4Layout.size().width, "width of node4");
        assertEquals(0.0f, node4Layout.size().height, "height of node4");
        assertEquals(30.0f, node4Layout.location().x, "x of node4");
        assertEquals(200.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(20.0f, node5Layout.size().width, "width of node5");
        assertEquals(0.0f, node5Layout.size().height, "height of node5");
        assertEquals(60.0f, node5Layout.location().x, "x of node5");
        assertEquals(200.0f, node5Layout.location().y, "y of node5");
    }

    @Test
    @DisplayName("gap_row_gap_align_items_stretch__border_box")
    void gapRowGapAlignItemsStretchBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.length(20.0f), Dimension.AUTO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.size = new Size<>(Dimension.length(20.0f), Dimension.AUTO);
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.size = new Size<>(Dimension.length(20.0f), Dimension.AUTO);
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        node3Style.size = new Size<>(Dimension.length(20.0f), Dimension.AUTO);
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        node4Style.size = new Size<>(Dimension.length(20.0f), Dimension.AUTO);
        NodeId node4 = tree.newLeaf(node4Style);

        Style node5Style = new Style();
        node5Style.size = new Size<>(Dimension.length(20.0f), Dimension.AUTO);
        NodeId node5 = tree.newLeaf(node5Style);

        Style nodeStyle = new Style();
        nodeStyle.flexWrap = FlexWrap.WRAP;
        nodeStyle.alignItems = AlignItems.STRETCH;
        nodeStyle.alignContent = AlignContent.STRETCH;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(200.0f));
        nodeStyle.gap = new Size<>(LengthPercentage.length(10.0f), LengthPercentage.length(20.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(200.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(20.0f, node0Layout.size().width, "width of node0");
        assertEquals(90.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(20.0f, node1Layout.size().width, "width of node1");
        assertEquals(90.0f, node1Layout.size().height, "height of node1");
        assertEquals(30.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(20.0f, node2Layout.size().width, "width of node2");
        assertEquals(90.0f, node2Layout.size().height, "height of node2");
        assertEquals(60.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(20.0f, node3Layout.size().width, "width of node3");
        assertEquals(90.0f, node3Layout.size().height, "height of node3");
        assertEquals(0.0f, node3Layout.location().x, "x of node3");
        assertEquals(110.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(20.0f, node4Layout.size().width, "width of node4");
        assertEquals(90.0f, node4Layout.size().height, "height of node4");
        assertEquals(30.0f, node4Layout.location().x, "x of node4");
        assertEquals(110.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(20.0f, node5Layout.size().width, "width of node5");
        assertEquals(90.0f, node5Layout.size().height, "height of node5");
        assertEquals(60.0f, node5Layout.location().x, "x of node5");
        assertEquals(110.0f, node5Layout.location().y, "y of node5");
    }

    @Test
    @DisplayName("gap_row_gap_align_items_stretch__content_box")
    void gapRowGapAlignItemsStretchContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.length(20.0f), Dimension.AUTO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.size = new Size<>(Dimension.length(20.0f), Dimension.AUTO);
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        node2Style.size = new Size<>(Dimension.length(20.0f), Dimension.AUTO);
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        node3Style.boxSizing = BoxSizing.CONTENT_BOX;
        node3Style.size = new Size<>(Dimension.length(20.0f), Dimension.AUTO);
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        node4Style.boxSizing = BoxSizing.CONTENT_BOX;
        node4Style.size = new Size<>(Dimension.length(20.0f), Dimension.AUTO);
        NodeId node4 = tree.newLeaf(node4Style);

        Style node5Style = new Style();
        node5Style.boxSizing = BoxSizing.CONTENT_BOX;
        node5Style.size = new Size<>(Dimension.length(20.0f), Dimension.AUTO);
        NodeId node5 = tree.newLeaf(node5Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexWrap = FlexWrap.WRAP;
        nodeStyle.alignItems = AlignItems.STRETCH;
        nodeStyle.alignContent = AlignContent.STRETCH;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(200.0f));
        nodeStyle.gap = new Size<>(LengthPercentage.length(10.0f), LengthPercentage.length(20.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(200.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(20.0f, node0Layout.size().width, "width of node0");
        assertEquals(90.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(20.0f, node1Layout.size().width, "width of node1");
        assertEquals(90.0f, node1Layout.size().height, "height of node1");
        assertEquals(30.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(20.0f, node2Layout.size().width, "width of node2");
        assertEquals(90.0f, node2Layout.size().height, "height of node2");
        assertEquals(60.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(20.0f, node3Layout.size().width, "width of node3");
        assertEquals(90.0f, node3Layout.size().height, "height of node3");
        assertEquals(0.0f, node3Layout.location().x, "x of node3");
        assertEquals(110.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(20.0f, node4Layout.size().width, "width of node4");
        assertEquals(90.0f, node4Layout.size().height, "height of node4");
        assertEquals(30.0f, node4Layout.location().x, "x of node4");
        assertEquals(110.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(20.0f, node5Layout.size().width, "width of node5");
        assertEquals(90.0f, node5Layout.size().height, "height of node5");
        assertEquals(60.0f, node5Layout.location().x, "x of node5");
        assertEquals(110.0f, node5Layout.location().y, "y of node5");
    }

    @Test
    @DisplayName("gap_row_gap_column_child_margins__border_box")
    void gapRowGapColumnChildMarginsBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.flexGrow = 1.0f;
        node0Style.flexShrink = 1.0f;
        node0Style.flexBasis = Dimension.percent(0.0f);
        node0Style.margin = new Rect<>(LengthPercentageAuto.ZERO, LengthPercentageAuto.ZERO, LengthPercentageAuto.length(2.0f), LengthPercentageAuto.length(2.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.flexGrow = 1.0f;
        node1Style.flexShrink = 1.0f;
        node1Style.flexBasis = Dimension.percent(0.0f);
        node1Style.margin = new Rect<>(LengthPercentageAuto.ZERO, LengthPercentageAuto.ZERO, LengthPercentageAuto.length(10.0f), LengthPercentageAuto.length(10.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.flexGrow = 1.0f;
        node2Style.flexShrink = 1.0f;
        node2Style.flexBasis = Dimension.percent(0.0f);
        node2Style.margin = new Rect<>(LengthPercentageAuto.ZERO, LengthPercentageAuto.ZERO, LengthPercentageAuto.length(15.0f), LengthPercentageAuto.length(15.0f));
        NodeId node2 = tree.newLeaf(node2Style);

        Style nodeStyle = new Style();
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(200.0f));
        nodeStyle.gap = new Size<>(LengthPercentage.ZERO, LengthPercentage.length(10.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(200.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(100.0f, node0Layout.size().width, "width of node0");
        assertEquals(42.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(2.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(100.0f, node1Layout.size().width, "width of node1");
        assertEquals(42.0f, node1Layout.size().height, "height of node1");
        assertEquals(0.0f, node1Layout.location().x, "x of node1");
        assertEquals(66.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(100.0f, node2Layout.size().width, "width of node2");
        assertEquals(42.0f, node2Layout.size().height, "height of node2");
        assertEquals(0.0f, node2Layout.location().x, "x of node2");
        assertEquals(143.0f, node2Layout.location().y, "y of node2");
    }

    @Test
    @DisplayName("gap_row_gap_column_child_margins__content_box")
    void gapRowGapColumnChildMarginsContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.flexGrow = 1.0f;
        node0Style.flexShrink = 1.0f;
        node0Style.flexBasis = Dimension.percent(0.0f);
        node0Style.margin = new Rect<>(LengthPercentageAuto.ZERO, LengthPercentageAuto.ZERO, LengthPercentageAuto.length(2.0f), LengthPercentageAuto.length(2.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.flexGrow = 1.0f;
        node1Style.flexShrink = 1.0f;
        node1Style.flexBasis = Dimension.percent(0.0f);
        node1Style.margin = new Rect<>(LengthPercentageAuto.ZERO, LengthPercentageAuto.ZERO, LengthPercentageAuto.length(10.0f), LengthPercentageAuto.length(10.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        node2Style.flexGrow = 1.0f;
        node2Style.flexShrink = 1.0f;
        node2Style.flexBasis = Dimension.percent(0.0f);
        node2Style.margin = new Rect<>(LengthPercentageAuto.ZERO, LengthPercentageAuto.ZERO, LengthPercentageAuto.length(15.0f), LengthPercentageAuto.length(15.0f));
        NodeId node2 = tree.newLeaf(node2Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(200.0f));
        nodeStyle.gap = new Size<>(LengthPercentage.ZERO, LengthPercentage.length(10.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(200.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(100.0f, node0Layout.size().width, "width of node0");
        assertEquals(42.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(2.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(100.0f, node1Layout.size().width, "width of node1");
        assertEquals(42.0f, node1Layout.size().height, "height of node1");
        assertEquals(0.0f, node1Layout.location().x, "x of node1");
        assertEquals(66.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(100.0f, node2Layout.size().width, "width of node2");
        assertEquals(42.0f, node2Layout.size().height, "height of node2");
        assertEquals(0.0f, node2Layout.location().x, "x of node2");
        assertEquals(143.0f, node2Layout.location().y, "y of node2");
    }

    @Test
    @DisplayName("gap_row_gap_determines_parent_height__border_box")
    void gapRowGapDeterminesParentHeightBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.size = new Size<>(Dimension.AUTO, Dimension.length(20.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.size = new Size<>(Dimension.AUTO, Dimension.length(30.0f));
        NodeId node2 = tree.newLeaf(node2Style);

        Style nodeStyle = new Style();
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.alignItems = AlignItems.STRETCH;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.AUTO);
        nodeStyle.gap = new Size<>(LengthPercentage.ZERO, LengthPercentage.length(10.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(80.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(100.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(100.0f, node1Layout.size().width, "width of node1");
        assertEquals(20.0f, node1Layout.size().height, "height of node1");
        assertEquals(0.0f, node1Layout.location().x, "x of node1");
        assertEquals(20.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(100.0f, node2Layout.size().width, "width of node2");
        assertEquals(30.0f, node2Layout.size().height, "height of node2");
        assertEquals(0.0f, node2Layout.location().x, "x of node2");
        assertEquals(50.0f, node2Layout.location().y, "y of node2");
    }

    @Test
    @DisplayName("gap_row_gap_determines_parent_height__content_box")
    void gapRowGapDeterminesParentHeightContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.size = new Size<>(Dimension.AUTO, Dimension.length(20.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        node2Style.size = new Size<>(Dimension.AUTO, Dimension.length(30.0f));
        NodeId node2 = tree.newLeaf(node2Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.alignItems = AlignItems.STRETCH;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.AUTO);
        nodeStyle.gap = new Size<>(LengthPercentage.ZERO, LengthPercentage.length(10.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(80.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(100.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(100.0f, node1Layout.size().width, "width of node1");
        assertEquals(20.0f, node1Layout.size().height, "height of node1");
        assertEquals(0.0f, node1Layout.location().x, "x of node1");
        assertEquals(20.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(100.0f, node2Layout.size().width, "width of node2");
        assertEquals(30.0f, node2Layout.size().height, "height of node2");
        assertEquals(0.0f, node2Layout.location().x, "x of node2");
        assertEquals(50.0f, node2Layout.location().y, "y of node2");
    }

    @Test
    @DisplayName("gap_row_gap_percentage_wrapping__border_box")
    void gapRowGapPercentageWrappingBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        node3Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        node4Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        NodeId node4 = tree.newLeaf(node4Style);

        Style node5Style = new Style();
        node5Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        NodeId node5 = tree.newLeaf(node5Style);

        Style node6Style = new Style();
        node6Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        NodeId node6 = tree.newLeaf(node6Style);

        Style node7Style = new Style();
        node7Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        NodeId node7 = tree.newLeaf(node7Style);

        Style node8Style = new Style();
        node8Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        NodeId node8 = tree.newLeaf(node8Style);

        Style nodeStyle = new Style();
        nodeStyle.flexWrap = FlexWrap.WRAP;
        nodeStyle.size = new Size<>(Dimension.length(80.0f), Dimension.AUTO);
        nodeStyle.gap = new Size<>(LengthPercentage.length(10.0f), LengthPercentage.percent(0.1f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5, node6, node7, node8);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(80.0f, nodeLayout.size().width, "width of node");
        assertEquals(60.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(20.0f, node0Layout.size().width, "width of node0");
        assertEquals(20.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(20.0f, node1Layout.size().width, "width of node1");
        assertEquals(20.0f, node1Layout.size().height, "height of node1");
        assertEquals(30.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(20.0f, node2Layout.size().width, "width of node2");
        assertEquals(20.0f, node2Layout.size().height, "height of node2");
        assertEquals(60.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(20.0f, node3Layout.size().width, "width of node3");
        assertEquals(20.0f, node3Layout.size().height, "height of node3");
        assertEquals(0.0f, node3Layout.location().x, "x of node3");
        assertEquals(20.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(20.0f, node4Layout.size().width, "width of node4");
        assertEquals(20.0f, node4Layout.size().height, "height of node4");
        assertEquals(30.0f, node4Layout.location().x, "x of node4");
        assertEquals(20.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(20.0f, node5Layout.size().width, "width of node5");
        assertEquals(20.0f, node5Layout.size().height, "height of node5");
        assertEquals(60.0f, node5Layout.location().x, "x of node5");
        assertEquals(20.0f, node5Layout.location().y, "y of node5");
        Layout node6Layout = tree.getLayout(node6);
        assertEquals(20.0f, node6Layout.size().width, "width of node6");
        assertEquals(20.0f, node6Layout.size().height, "height of node6");
        assertEquals(0.0f, node6Layout.location().x, "x of node6");
        assertEquals(40.0f, node6Layout.location().y, "y of node6");
        Layout node7Layout = tree.getLayout(node7);
        assertEquals(20.0f, node7Layout.size().width, "width of node7");
        assertEquals(20.0f, node7Layout.size().height, "height of node7");
        assertEquals(30.0f, node7Layout.location().x, "x of node7");
        assertEquals(40.0f, node7Layout.location().y, "y of node7");
        Layout node8Layout = tree.getLayout(node8);
        assertEquals(20.0f, node8Layout.size().width, "width of node8");
        assertEquals(20.0f, node8Layout.size().height, "height of node8");
        assertEquals(60.0f, node8Layout.location().x, "x of node8");
        assertEquals(40.0f, node8Layout.location().y, "y of node8");
    }

    @Test
    @DisplayName("gap_row_gap_percentage_wrapping__content_box")
    void gapRowGapPercentageWrappingContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        node2Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        node3Style.boxSizing = BoxSizing.CONTENT_BOX;
        node3Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        node4Style.boxSizing = BoxSizing.CONTENT_BOX;
        node4Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        NodeId node4 = tree.newLeaf(node4Style);

        Style node5Style = new Style();
        node5Style.boxSizing = BoxSizing.CONTENT_BOX;
        node5Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        NodeId node5 = tree.newLeaf(node5Style);

        Style node6Style = new Style();
        node6Style.boxSizing = BoxSizing.CONTENT_BOX;
        node6Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        NodeId node6 = tree.newLeaf(node6Style);

        Style node7Style = new Style();
        node7Style.boxSizing = BoxSizing.CONTENT_BOX;
        node7Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        NodeId node7 = tree.newLeaf(node7Style);

        Style node8Style = new Style();
        node8Style.boxSizing = BoxSizing.CONTENT_BOX;
        node8Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        NodeId node8 = tree.newLeaf(node8Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexWrap = FlexWrap.WRAP;
        nodeStyle.size = new Size<>(Dimension.length(80.0f), Dimension.AUTO);
        nodeStyle.gap = new Size<>(LengthPercentage.length(10.0f), LengthPercentage.percent(0.1f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5, node6, node7, node8);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(80.0f, nodeLayout.size().width, "width of node");
        assertEquals(60.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(20.0f, node0Layout.size().width, "width of node0");
        assertEquals(20.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(20.0f, node1Layout.size().width, "width of node1");
        assertEquals(20.0f, node1Layout.size().height, "height of node1");
        assertEquals(30.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(20.0f, node2Layout.size().width, "width of node2");
        assertEquals(20.0f, node2Layout.size().height, "height of node2");
        assertEquals(60.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(20.0f, node3Layout.size().width, "width of node3");
        assertEquals(20.0f, node3Layout.size().height, "height of node3");
        assertEquals(0.0f, node3Layout.location().x, "x of node3");
        assertEquals(20.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(20.0f, node4Layout.size().width, "width of node4");
        assertEquals(20.0f, node4Layout.size().height, "height of node4");
        assertEquals(30.0f, node4Layout.location().x, "x of node4");
        assertEquals(20.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(20.0f, node5Layout.size().width, "width of node5");
        assertEquals(20.0f, node5Layout.size().height, "height of node5");
        assertEquals(60.0f, node5Layout.location().x, "x of node5");
        assertEquals(20.0f, node5Layout.location().y, "y of node5");
        Layout node6Layout = tree.getLayout(node6);
        assertEquals(20.0f, node6Layout.size().width, "width of node6");
        assertEquals(20.0f, node6Layout.size().height, "height of node6");
        assertEquals(0.0f, node6Layout.location().x, "x of node6");
        assertEquals(40.0f, node6Layout.location().y, "y of node6");
        Layout node7Layout = tree.getLayout(node7);
        assertEquals(20.0f, node7Layout.size().width, "width of node7");
        assertEquals(20.0f, node7Layout.size().height, "height of node7");
        assertEquals(30.0f, node7Layout.location().x, "x of node7");
        assertEquals(40.0f, node7Layout.location().y, "y of node7");
        Layout node8Layout = tree.getLayout(node8);
        assertEquals(20.0f, node8Layout.size().width, "width of node8");
        assertEquals(20.0f, node8Layout.size().height, "height of node8");
        assertEquals(60.0f, node8Layout.location().x, "x of node8");
        assertEquals(40.0f, node8Layout.location().y, "y of node8");
    }

    @Test
    @DisplayName("gap_row_gap_row_wrap_child_margins__border_box")
    void gapRowGapRowWrapChildMarginsBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.length(60.0f), Dimension.AUTO);
        node0Style.margin = new Rect<>(LengthPercentageAuto.ZERO, LengthPercentageAuto.ZERO, LengthPercentageAuto.length(2.0f), LengthPercentageAuto.length(2.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.size = new Size<>(Dimension.length(60.0f), Dimension.AUTO);
        node1Style.margin = new Rect<>(LengthPercentageAuto.ZERO, LengthPercentageAuto.ZERO, LengthPercentageAuto.length(10.0f), LengthPercentageAuto.length(10.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.size = new Size<>(Dimension.length(60.0f), Dimension.AUTO);
        node2Style.margin = new Rect<>(LengthPercentageAuto.ZERO, LengthPercentageAuto.ZERO, LengthPercentageAuto.length(15.0f), LengthPercentageAuto.length(15.0f));
        NodeId node2 = tree.newLeaf(node2Style);

        Style nodeStyle = new Style();
        nodeStyle.flexWrap = FlexWrap.WRAP;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(200.0f));
        nodeStyle.gap = new Size<>(LengthPercentage.ZERO, LengthPercentage.length(10.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(200.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(60.0f, node0Layout.size().width, "width of node0");
        assertEquals(42.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(2.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(60.0f, node1Layout.size().width, "width of node1");
        assertEquals(42.0f, node1Layout.size().height, "height of node1");
        assertEquals(0.0f, node1Layout.location().x, "x of node1");
        assertEquals(66.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(60.0f, node2Layout.size().width, "width of node2");
        assertEquals(42.0f, node2Layout.size().height, "height of node2");
        assertEquals(0.0f, node2Layout.location().x, "x of node2");
        assertEquals(143.0f, node2Layout.location().y, "y of node2");
    }

    @Test
    @DisplayName("gap_row_gap_row_wrap_child_margins__content_box")
    void gapRowGapRowWrapChildMarginsContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.length(60.0f), Dimension.AUTO);
        node0Style.margin = new Rect<>(LengthPercentageAuto.ZERO, LengthPercentageAuto.ZERO, LengthPercentageAuto.length(2.0f), LengthPercentageAuto.length(2.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.size = new Size<>(Dimension.length(60.0f), Dimension.AUTO);
        node1Style.margin = new Rect<>(LengthPercentageAuto.ZERO, LengthPercentageAuto.ZERO, LengthPercentageAuto.length(10.0f), LengthPercentageAuto.length(10.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        node2Style.size = new Size<>(Dimension.length(60.0f), Dimension.AUTO);
        node2Style.margin = new Rect<>(LengthPercentageAuto.ZERO, LengthPercentageAuto.ZERO, LengthPercentageAuto.length(15.0f), LengthPercentageAuto.length(15.0f));
        NodeId node2 = tree.newLeaf(node2Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexWrap = FlexWrap.WRAP;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(200.0f));
        nodeStyle.gap = new Size<>(LengthPercentage.ZERO, LengthPercentage.length(10.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(200.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(60.0f, node0Layout.size().width, "width of node0");
        assertEquals(42.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(2.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(60.0f, node1Layout.size().width, "width of node1");
        assertEquals(42.0f, node1Layout.size().height, "height of node1");
        assertEquals(0.0f, node1Layout.location().x, "x of node1");
        assertEquals(66.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(60.0f, node2Layout.size().width, "width of node2");
        assertEquals(42.0f, node2Layout.size().height, "height of node2");
        assertEquals(0.0f, node2Layout.location().x, "x of node2");
        assertEquals(143.0f, node2Layout.location().y, "y of node2");
    }

    @Test
    @DisplayName("intrinsic_sizing_cross_size_column__border_box")
    void intrinsicSizingCrossSizeColumnBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style nodeStyle = new Style();
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        MeasureFunc nodeMeasure = ahemTextMeasure("HH\u200BHH", false);
        NodeId node = tree.newLeafWithMeasure(nodeStyle, nodeMeasure);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(40.0f, nodeLayout.size().width, "width of node");
        assertEquals(10.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
    }

    @Test
    @DisplayName("intrinsic_sizing_cross_size_column__content_box")
    void intrinsicSizingCrossSizeColumnContentBox() {
        TaffyTree tree = new TaffyTree();

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        MeasureFunc nodeMeasure = ahemTextMeasure("HH\u200BHH", false);
        NodeId node = tree.newLeafWithMeasure(nodeStyle, nodeMeasure);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(40.0f, nodeLayout.size().width, "width of node");
        assertEquals(10.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
    }

    @Test
    @DisplayName("intrinsic_sizing_main_size_column__border_box")
    void intrinsicSizingMainSizeColumnBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style nodeStyle = new Style();
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        MeasureFunc nodeMeasure = ahemTextMeasure("HH\u200BHH", true);
        NodeId node = tree.newLeafWithMeasure(nodeStyle, nodeMeasure);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(10.0f, nodeLayout.size().width, "width of node");
        assertEquals(40.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
    }

    @Test
    @DisplayName("intrinsic_sizing_main_size_column__content_box")
    void intrinsicSizingMainSizeColumnContentBox() {
        TaffyTree tree = new TaffyTree();

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        MeasureFunc nodeMeasure = ahemTextMeasure("HH\u200BHH", true);
        NodeId node = tree.newLeafWithMeasure(nodeStyle, nodeMeasure);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(10.0f, nodeLayout.size().width, "width of node");
        assertEquals(40.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
    }

    @Test
    @DisplayName("intrinsic_sizing_main_size_column_nested__border_box")
    void intrinsicSizingMainSizeColumnNestedBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.flexDirection = FlexDirection.COLUMN;
        MeasureFunc node0Measure = ahemTextMeasure("HH\u200BHH", true);
        NodeId node0 = tree.newLeafWithMeasure(node0Style, node0Measure);

        Style nodeStyle = new Style();
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(10.0f, nodeLayout.size().width, "width of node");
        assertEquals(40.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(10.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("intrinsic_sizing_main_size_column_nested__content_box")
    void intrinsicSizingMainSizeColumnNestedContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.flexDirection = FlexDirection.COLUMN;
        MeasureFunc node0Measure = ahemTextMeasure("HH\u200BHH", true);
        NodeId node0 = tree.newLeafWithMeasure(node0Style, node0Measure);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(10.0f, nodeLayout.size().width, "width of node");
        assertEquals(40.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(10.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("intrinsic_sizing_main_size_column_wrap__border_box")
    void intrinsicSizingMainSizeColumnWrapBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.flexDirection = FlexDirection.COLUMN;
        MeasureFunc node0Measure = ahemTextMeasure("HH\u200BHH", true);
        NodeId node0 = tree.newLeafWithMeasure(node0Style, node0Measure);

        Style node1Style = new Style();
        node1Style.flexDirection = FlexDirection.COLUMN;
        MeasureFunc node1Measure = ahemTextMeasure("HH\u200BHH", true);
        NodeId node1 = tree.newLeafWithMeasure(node1Style, node1Measure);

        Style nodeStyle = new Style();
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.flexWrap = FlexWrap.WRAP;
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(10.0f, nodeLayout.size().width, "width of node");
        assertEquals(80.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(10.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(10.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(0.0f, node1Layout.location().x, "x of node1");
        assertEquals(40.0f, node1Layout.location().y, "y of node1");
    }

    @Test
    @DisplayName("intrinsic_sizing_main_size_column_wrap__content_box")
    void intrinsicSizingMainSizeColumnWrapContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.flexDirection = FlexDirection.COLUMN;
        MeasureFunc node0Measure = ahemTextMeasure("HH\u200BHH", true);
        NodeId node0 = tree.newLeafWithMeasure(node0Style, node0Measure);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.flexDirection = FlexDirection.COLUMN;
        MeasureFunc node1Measure = ahemTextMeasure("HH\u200BHH", true);
        NodeId node1 = tree.newLeafWithMeasure(node1Style, node1Measure);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.flexWrap = FlexWrap.WRAP;
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(10.0f, nodeLayout.size().width, "width of node");
        assertEquals(80.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(10.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(10.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(0.0f, node1Layout.location().x, "x of node1");
        assertEquals(40.0f, node1Layout.location().y, "y of node1");
    }

    @Test
    @DisplayName("intrinsic_sizing_main_size_min_size__border_box")
    void intrinsicSizingMainSizeMinSizeBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.minSize = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        node00Style.padding = new Rect<>(LengthPercentage.length(10.0f), LengthPercentage.length(10.0f), LengthPercentage.length(10.0f), LengthPercentage.length(10.0f));
        NodeId node00 = tree.newLeaf(node00Style);

        Style node0Style = new Style();
        node0Style.position = Position.ABSOLUTE;
        node0Style.alignItems = AlignItems.CENTER;
        node0Style.justifyContent = AlignContent.CENTER;
        node0Style.maxSize = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        node0Style.padding = new Rect<>(LengthPercentage.length(10.0f), LengthPercentage.length(10.0f), LengthPercentage.length(10.0f), LengthPercentage.length(10.0f));
        node0Style.inset = new Rect<>(LengthPercentageAuto.length(0.0f), LengthPercentageAuto.AUTO, LengthPercentageAuto.length(0.0f), LengthPercentageAuto.AUTO);
        NodeId node0 = tree.newWithChildren(node0Style, node00);

        Style nodeStyle = new Style();
        nodeStyle.size = new Size<>(Dimension.length(300.0f), Dimension.length(200.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(300.0f, nodeLayout.size().width, "width of node");
        assertEquals(200.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(70.0f, node0Layout.size().width, "width of node0");
        assertEquals(70.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(50.0f, node00Layout.size().width, "width of node00");
        assertEquals(50.0f, node00Layout.size().height, "height of node00");
        assertEquals(10.0f, node00Layout.location().x, "x of node00");
        assertEquals(10.0f, node00Layout.location().y, "y of node00");
    }

    @Test
    @DisplayName("intrinsic_sizing_main_size_min_size__content_box")
    void intrinsicSizingMainSizeMinSizeContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.boxSizing = BoxSizing.CONTENT_BOX;
        node00Style.minSize = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        node00Style.padding = new Rect<>(LengthPercentage.length(10.0f), LengthPercentage.length(10.0f), LengthPercentage.length(10.0f), LengthPercentage.length(10.0f));
        NodeId node00 = tree.newLeaf(node00Style);

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.position = Position.ABSOLUTE;
        node0Style.alignItems = AlignItems.CENTER;
        node0Style.justifyContent = AlignContent.CENTER;
        node0Style.maxSize = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        node0Style.padding = new Rect<>(LengthPercentage.length(10.0f), LengthPercentage.length(10.0f), LengthPercentage.length(10.0f), LengthPercentage.length(10.0f));
        node0Style.inset = new Rect<>(LengthPercentageAuto.length(0.0f), LengthPercentageAuto.AUTO, LengthPercentageAuto.length(0.0f), LengthPercentageAuto.AUTO);
        NodeId node0 = tree.newWithChildren(node0Style, node00);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.size = new Size<>(Dimension.length(300.0f), Dimension.length(200.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(300.0f, nodeLayout.size().width, "width of node");
        assertEquals(200.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(90.0f, node0Layout.size().width, "width of node0");
        assertEquals(90.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(70.0f, node00Layout.size().width, "width of node00");
        assertEquals(70.0f, node00Layout.size().height, "height of node00");
        assertEquals(10.0f, node00Layout.location().x, "x of node00");
        assertEquals(10.0f, node00Layout.location().y, "y of node00");
    }

    @Test
    @DisplayName("intrinsic_sizing_main_size_row__border_box")
    void intrinsicSizingMainSizeRowBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style nodeStyle = new Style();
        MeasureFunc nodeMeasure = ahemTextMeasure("HH\u200BHH", false);
        NodeId node = tree.newLeafWithMeasure(nodeStyle, nodeMeasure);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(40.0f, nodeLayout.size().width, "width of node");
        assertEquals(10.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
    }

    @Test
    @DisplayName("intrinsic_sizing_main_size_row__content_box")
    void intrinsicSizingMainSizeRowContentBox() {
        TaffyTree tree = new TaffyTree();

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        MeasureFunc nodeMeasure = ahemTextMeasure("HH\u200BHH", false);
        NodeId node = tree.newLeafWithMeasure(nodeStyle, nodeMeasure);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(40.0f, nodeLayout.size().width, "width of node");
        assertEquals(10.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
    }

    @Test
    @DisplayName("intrinsic_sizing_main_size_row_nested__border_box")
    void intrinsicSizingMainSizeRowNestedBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        MeasureFunc node0Measure = ahemTextMeasure("HH\u200BHH", false);
        NodeId node0 = tree.newLeafWithMeasure(node0Style, node0Measure);

        Style nodeStyle = new Style();
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(40.0f, nodeLayout.size().width, "width of node");
        assertEquals(10.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("intrinsic_sizing_main_size_row_nested__content_box")
    void intrinsicSizingMainSizeRowNestedContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        MeasureFunc node0Measure = ahemTextMeasure("HH\u200BHH", false);
        NodeId node0 = tree.newLeafWithMeasure(node0Style, node0Measure);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(40.0f, nodeLayout.size().width, "width of node");
        assertEquals(10.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("intrinsic_sizing_main_size_row_wrap__border_box")
    void intrinsicSizingMainSizeRowWrapBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        MeasureFunc node0Measure = ahemTextMeasure("HH\u200BHH", false);
        NodeId node0 = tree.newLeafWithMeasure(node0Style, node0Measure);

        Style node1Style = new Style();
        MeasureFunc node1Measure = ahemTextMeasure("HH\u200BHH", false);
        NodeId node1 = tree.newLeafWithMeasure(node1Style, node1Measure);

        Style nodeStyle = new Style();
        nodeStyle.flexWrap = FlexWrap.WRAP;
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(80.0f, nodeLayout.size().width, "width of node");
        assertEquals(10.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(40.0f, node1Layout.size().width, "width of node1");
        assertEquals(10.0f, node1Layout.size().height, "height of node1");
        assertEquals(40.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
    }

    @Test
    @DisplayName("intrinsic_sizing_main_size_row_wrap__content_box")
    void intrinsicSizingMainSizeRowWrapContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        MeasureFunc node0Measure = ahemTextMeasure("HH\u200BHH", false);
        NodeId node0 = tree.newLeafWithMeasure(node0Style, node0Measure);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        MeasureFunc node1Measure = ahemTextMeasure("HH\u200BHH", false);
        NodeId node1 = tree.newLeafWithMeasure(node1Style, node1Measure);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexWrap = FlexWrap.WRAP;
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(80.0f, nodeLayout.size().width, "width of node");
        assertEquals(10.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(40.0f, node1Layout.size().width, "width of node1");
        assertEquals(10.0f, node1Layout.size().height, "height of node1");
        assertEquals(40.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
    }

    @Test
    @DisplayName("justify_content_column_center__border_box")
    void justifyContentColumnCenterBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        NodeId node2 = tree.newLeaf(node2Style);

        Style nodeStyle = new Style();
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.justifyContent = AlignContent.CENTER;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(100.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(35.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(100.0f, node1Layout.size().width, "width of node1");
        assertEquals(10.0f, node1Layout.size().height, "height of node1");
        assertEquals(0.0f, node1Layout.location().x, "x of node1");
        assertEquals(45.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(100.0f, node2Layout.size().width, "width of node2");
        assertEquals(10.0f, node2Layout.size().height, "height of node2");
        assertEquals(0.0f, node2Layout.location().x, "x of node2");
        assertEquals(55.0f, node2Layout.location().y, "y of node2");
    }

    @Test
    @DisplayName("justify_content_column_center__content_box")
    void justifyContentColumnCenterContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        node2Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        NodeId node2 = tree.newLeaf(node2Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.justifyContent = AlignContent.CENTER;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(100.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(35.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(100.0f, node1Layout.size().width, "width of node1");
        assertEquals(10.0f, node1Layout.size().height, "height of node1");
        assertEquals(0.0f, node1Layout.location().x, "x of node1");
        assertEquals(45.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(100.0f, node2Layout.size().width, "width of node2");
        assertEquals(10.0f, node2Layout.size().height, "height of node2");
        assertEquals(0.0f, node2Layout.location().x, "x of node2");
        assertEquals(55.0f, node2Layout.location().y, "y of node2");
    }

    @Test
    @DisplayName("justify_content_column_center_negative_space__border_box")
    void justifyContentColumnCenterNegativeSpaceBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.flexShrink = 0.0f;
        node00Style.size = new Size<>(Dimension.percent(0.8f), Dimension.length(20.0f));
        NodeId node00 = tree.newLeaf(node00Style);

        Style node01Style = new Style();
        node01Style.flexShrink = 0.0f;
        node01Style.size = new Size<>(Dimension.percent(0.8f), Dimension.length(20.0f));
        NodeId node01 = tree.newLeaf(node01Style);

        Style node02Style = new Style();
        node02Style.flexShrink = 0.0f;
        node02Style.size = new Size<>(Dimension.percent(0.8f), Dimension.length(20.0f));
        NodeId node02 = tree.newLeaf(node02Style);

        Style node0Style = new Style();
        node0Style.flexDirection = FlexDirection.COLUMN;
        node0Style.alignItems = AlignItems.CENTER;
        node0Style.justifyContent = AlignContent.CENTER;
        node0Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        NodeId node0 = tree.newWithChildren(node0Style, node00, node01, node02);

        Style nodeStyle = new Style();
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.size = new Size<>(Dimension.length(320.0f), Dimension.length(320.0f));
        nodeStyle.border = new Rect<>(LengthPercentage.length(60.0f), LengthPercentage.length(60.0f), LengthPercentage.length(60.0f), LengthPercentage.length(60.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(320.0f, nodeLayout.size().width, "width of node");
        assertEquals(320.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(200.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(60.0f, node0Layout.location().x, "x of node0");
        assertEquals(60.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(160.0f, node00Layout.size().width, "width of node00");
        assertEquals(20.0f, node00Layout.size().height, "height of node00");
        assertEquals(20.0f, node00Layout.location().x, "x of node00");
        assertEquals(-25.0f, node00Layout.location().y, "y of node00");
        Layout node01Layout = tree.getLayout(node01);
        assertEquals(160.0f, node01Layout.size().width, "width of node01");
        assertEquals(20.0f, node01Layout.size().height, "height of node01");
        assertEquals(20.0f, node01Layout.location().x, "x of node01");
        assertEquals(-5.0f, node01Layout.location().y, "y of node01");
        Layout node02Layout = tree.getLayout(node02);
        assertEquals(160.0f, node02Layout.size().width, "width of node02");
        assertEquals(20.0f, node02Layout.size().height, "height of node02");
        assertEquals(20.0f, node02Layout.location().x, "x of node02");
        assertEquals(15.0f, node02Layout.location().y, "y of node02");
    }

    @Test
    @DisplayName("justify_content_column_center_negative_space__content_box")
    void justifyContentColumnCenterNegativeSpaceContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.boxSizing = BoxSizing.CONTENT_BOX;
        node00Style.flexShrink = 0.0f;
        node00Style.size = new Size<>(Dimension.percent(0.8f), Dimension.length(20.0f));
        NodeId node00 = tree.newLeaf(node00Style);

        Style node01Style = new Style();
        node01Style.boxSizing = BoxSizing.CONTENT_BOX;
        node01Style.flexShrink = 0.0f;
        node01Style.size = new Size<>(Dimension.percent(0.8f), Dimension.length(20.0f));
        NodeId node01 = tree.newLeaf(node01Style);

        Style node02Style = new Style();
        node02Style.boxSizing = BoxSizing.CONTENT_BOX;
        node02Style.flexShrink = 0.0f;
        node02Style.size = new Size<>(Dimension.percent(0.8f), Dimension.length(20.0f));
        NodeId node02 = tree.newLeaf(node02Style);

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.flexDirection = FlexDirection.COLUMN;
        node0Style.alignItems = AlignItems.CENTER;
        node0Style.justifyContent = AlignContent.CENTER;
        node0Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        NodeId node0 = tree.newWithChildren(node0Style, node00, node01, node02);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.size = new Size<>(Dimension.length(320.0f), Dimension.length(320.0f));
        nodeStyle.border = new Rect<>(LengthPercentage.length(60.0f), LengthPercentage.length(60.0f), LengthPercentage.length(60.0f), LengthPercentage.length(60.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(440.0f, nodeLayout.size().width, "width of node");
        assertEquals(440.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(320.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(60.0f, node0Layout.location().x, "x of node0");
        assertEquals(60.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(256.0f, node00Layout.size().width, "width of node00");
        assertEquals(20.0f, node00Layout.size().height, "height of node00");
        assertEquals(32.0f, node00Layout.location().x, "x of node00");
        assertEquals(-25.0f, node00Layout.location().y, "y of node00");
        Layout node01Layout = tree.getLayout(node01);
        assertEquals(256.0f, node01Layout.size().width, "width of node01");
        assertEquals(20.0f, node01Layout.size().height, "height of node01");
        assertEquals(32.0f, node01Layout.location().x, "x of node01");
        assertEquals(-5.0f, node01Layout.location().y, "y of node01");
        Layout node02Layout = tree.getLayout(node02);
        assertEquals(256.0f, node02Layout.size().width, "width of node02");
        assertEquals(20.0f, node02Layout.size().height, "height of node02");
        assertEquals(32.0f, node02Layout.location().x, "x of node02");
        assertEquals(15.0f, node02Layout.location().y, "y of node02");
    }

    @Test
    @DisplayName("justify_content_column_center_negative_space_gap__border_box")
    void justifyContentColumnCenterNegativeSpaceGapBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.flexShrink = 0.0f;
        node00Style.size = new Size<>(Dimension.percent(0.8f), Dimension.length(20.0f));
        NodeId node00 = tree.newLeaf(node00Style);

        Style node01Style = new Style();
        node01Style.flexShrink = 0.0f;
        node01Style.size = new Size<>(Dimension.percent(0.8f), Dimension.length(20.0f));
        NodeId node01 = tree.newLeaf(node01Style);

        Style node02Style = new Style();
        node02Style.flexShrink = 0.0f;
        node02Style.size = new Size<>(Dimension.percent(0.8f), Dimension.length(20.0f));
        NodeId node02 = tree.newLeaf(node02Style);

        Style node0Style = new Style();
        node0Style.flexDirection = FlexDirection.COLUMN;
        node0Style.alignItems = AlignItems.CENTER;
        node0Style.justifyContent = AlignContent.CENTER;
        node0Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        node0Style.gap = new Size<>(LengthPercentage.length(10.0f), LengthPercentage.length(10.0f));
        NodeId node0 = tree.newWithChildren(node0Style, node00, node01, node02);

        Style nodeStyle = new Style();
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.size = new Size<>(Dimension.length(320.0f), Dimension.length(320.0f));
        nodeStyle.border = new Rect<>(LengthPercentage.length(60.0f), LengthPercentage.length(60.0f), LengthPercentage.length(60.0f), LengthPercentage.length(60.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(320.0f, nodeLayout.size().width, "width of node");
        assertEquals(320.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(200.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(60.0f, node0Layout.location().x, "x of node0");
        assertEquals(60.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(160.0f, node00Layout.size().width, "width of node00");
        assertEquals(20.0f, node00Layout.size().height, "height of node00");
        assertEquals(20.0f, node00Layout.location().x, "x of node00");
        assertEquals(-35.0f, node00Layout.location().y, "y of node00");
        Layout node01Layout = tree.getLayout(node01);
        assertEquals(160.0f, node01Layout.size().width, "width of node01");
        assertEquals(20.0f, node01Layout.size().height, "height of node01");
        assertEquals(20.0f, node01Layout.location().x, "x of node01");
        assertEquals(-5.0f, node01Layout.location().y, "y of node01");
        Layout node02Layout = tree.getLayout(node02);
        assertEquals(160.0f, node02Layout.size().width, "width of node02");
        assertEquals(20.0f, node02Layout.size().height, "height of node02");
        assertEquals(20.0f, node02Layout.location().x, "x of node02");
        assertEquals(25.0f, node02Layout.location().y, "y of node02");
    }

    @Test
    @DisplayName("justify_content_column_center_negative_space_gap__content_box")
    void justifyContentColumnCenterNegativeSpaceGapContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.boxSizing = BoxSizing.CONTENT_BOX;
        node00Style.flexShrink = 0.0f;
        node00Style.size = new Size<>(Dimension.percent(0.8f), Dimension.length(20.0f));
        NodeId node00 = tree.newLeaf(node00Style);

        Style node01Style = new Style();
        node01Style.boxSizing = BoxSizing.CONTENT_BOX;
        node01Style.flexShrink = 0.0f;
        node01Style.size = new Size<>(Dimension.percent(0.8f), Dimension.length(20.0f));
        NodeId node01 = tree.newLeaf(node01Style);

        Style node02Style = new Style();
        node02Style.boxSizing = BoxSizing.CONTENT_BOX;
        node02Style.flexShrink = 0.0f;
        node02Style.size = new Size<>(Dimension.percent(0.8f), Dimension.length(20.0f));
        NodeId node02 = tree.newLeaf(node02Style);

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.flexDirection = FlexDirection.COLUMN;
        node0Style.alignItems = AlignItems.CENTER;
        node0Style.justifyContent = AlignContent.CENTER;
        node0Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        node0Style.gap = new Size<>(LengthPercentage.length(10.0f), LengthPercentage.length(10.0f));
        NodeId node0 = tree.newWithChildren(node0Style, node00, node01, node02);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.size = new Size<>(Dimension.length(320.0f), Dimension.length(320.0f));
        nodeStyle.border = new Rect<>(LengthPercentage.length(60.0f), LengthPercentage.length(60.0f), LengthPercentage.length(60.0f), LengthPercentage.length(60.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(440.0f, nodeLayout.size().width, "width of node");
        assertEquals(440.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(320.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(60.0f, node0Layout.location().x, "x of node0");
        assertEquals(60.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(256.0f, node00Layout.size().width, "width of node00");
        assertEquals(20.0f, node00Layout.size().height, "height of node00");
        assertEquals(32.0f, node00Layout.location().x, "x of node00");
        assertEquals(-35.0f, node00Layout.location().y, "y of node00");
        Layout node01Layout = tree.getLayout(node01);
        assertEquals(256.0f, node01Layout.size().width, "width of node01");
        assertEquals(20.0f, node01Layout.size().height, "height of node01");
        assertEquals(32.0f, node01Layout.location().x, "x of node01");
        assertEquals(-5.0f, node01Layout.location().y, "y of node01");
        Layout node02Layout = tree.getLayout(node02);
        assertEquals(256.0f, node02Layout.size().width, "width of node02");
        assertEquals(20.0f, node02Layout.size().height, "height of node02");
        assertEquals(32.0f, node02Layout.location().x, "x of node02");
        assertEquals(25.0f, node02Layout.location().y, "y of node02");
    }

    @Test
    @DisplayName("justify_content_column_end__border_box")
    void justifyContentColumnEndBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        NodeId node2 = tree.newLeaf(node2Style);

        Style nodeStyle = new Style();
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.justifyContent = AlignContent.FLEX_END;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(100.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(70.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(100.0f, node1Layout.size().width, "width of node1");
        assertEquals(10.0f, node1Layout.size().height, "height of node1");
        assertEquals(0.0f, node1Layout.location().x, "x of node1");
        assertEquals(80.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(100.0f, node2Layout.size().width, "width of node2");
        assertEquals(10.0f, node2Layout.size().height, "height of node2");
        assertEquals(0.0f, node2Layout.location().x, "x of node2");
        assertEquals(90.0f, node2Layout.location().y, "y of node2");
    }

    @Test
    @DisplayName("justify_content_column_end__content_box")
    void justifyContentColumnEndContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        node2Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        NodeId node2 = tree.newLeaf(node2Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.justifyContent = AlignContent.FLEX_END;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(100.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(70.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(100.0f, node1Layout.size().width, "width of node1");
        assertEquals(10.0f, node1Layout.size().height, "height of node1");
        assertEquals(0.0f, node1Layout.location().x, "x of node1");
        assertEquals(80.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(100.0f, node2Layout.size().width, "width of node2");
        assertEquals(10.0f, node2Layout.size().height, "height of node2");
        assertEquals(0.0f, node2Layout.location().x, "x of node2");
        assertEquals(90.0f, node2Layout.location().y, "y of node2");
    }

    @Test
    @DisplayName("justify_content_column_end_negative_space__border_box")
    void justifyContentColumnEndNegativeSpaceBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.flexShrink = 0.0f;
        node00Style.size = new Size<>(Dimension.percent(0.8f), Dimension.length(20.0f));
        NodeId node00 = tree.newLeaf(node00Style);

        Style node01Style = new Style();
        node01Style.flexShrink = 0.0f;
        node01Style.size = new Size<>(Dimension.percent(0.8f), Dimension.length(20.0f));
        NodeId node01 = tree.newLeaf(node01Style);

        Style node02Style = new Style();
        node02Style.flexShrink = 0.0f;
        node02Style.size = new Size<>(Dimension.percent(0.8f), Dimension.length(20.0f));
        NodeId node02 = tree.newLeaf(node02Style);

        Style node0Style = new Style();
        node0Style.flexDirection = FlexDirection.COLUMN;
        node0Style.alignItems = AlignItems.CENTER;
        node0Style.justifyContent = AlignContent.END;
        node0Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        NodeId node0 = tree.newWithChildren(node0Style, node00, node01, node02);

        Style nodeStyle = new Style();
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.size = new Size<>(Dimension.length(320.0f), Dimension.length(320.0f));
        nodeStyle.border = new Rect<>(LengthPercentage.length(60.0f), LengthPercentage.length(60.0f), LengthPercentage.length(60.0f), LengthPercentage.length(60.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(320.0f, nodeLayout.size().width, "width of node");
        assertEquals(320.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(200.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(60.0f, node0Layout.location().x, "x of node0");
        assertEquals(60.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(160.0f, node00Layout.size().width, "width of node00");
        assertEquals(20.0f, node00Layout.size().height, "height of node00");
        assertEquals(20.0f, node00Layout.location().x, "x of node00");
        assertEquals(-50.0f, node00Layout.location().y, "y of node00");
        Layout node01Layout = tree.getLayout(node01);
        assertEquals(160.0f, node01Layout.size().width, "width of node01");
        assertEquals(20.0f, node01Layout.size().height, "height of node01");
        assertEquals(20.0f, node01Layout.location().x, "x of node01");
        assertEquals(-30.0f, node01Layout.location().y, "y of node01");
        Layout node02Layout = tree.getLayout(node02);
        assertEquals(160.0f, node02Layout.size().width, "width of node02");
        assertEquals(20.0f, node02Layout.size().height, "height of node02");
        assertEquals(20.0f, node02Layout.location().x, "x of node02");
        assertEquals(-10.0f, node02Layout.location().y, "y of node02");
    }

    @Test
    @DisplayName("justify_content_column_end_negative_space__content_box")
    void justifyContentColumnEndNegativeSpaceContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.boxSizing = BoxSizing.CONTENT_BOX;
        node00Style.flexShrink = 0.0f;
        node00Style.size = new Size<>(Dimension.percent(0.8f), Dimension.length(20.0f));
        NodeId node00 = tree.newLeaf(node00Style);

        Style node01Style = new Style();
        node01Style.boxSizing = BoxSizing.CONTENT_BOX;
        node01Style.flexShrink = 0.0f;
        node01Style.size = new Size<>(Dimension.percent(0.8f), Dimension.length(20.0f));
        NodeId node01 = tree.newLeaf(node01Style);

        Style node02Style = new Style();
        node02Style.boxSizing = BoxSizing.CONTENT_BOX;
        node02Style.flexShrink = 0.0f;
        node02Style.size = new Size<>(Dimension.percent(0.8f), Dimension.length(20.0f));
        NodeId node02 = tree.newLeaf(node02Style);

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.flexDirection = FlexDirection.COLUMN;
        node0Style.alignItems = AlignItems.CENTER;
        node0Style.justifyContent = AlignContent.END;
        node0Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        NodeId node0 = tree.newWithChildren(node0Style, node00, node01, node02);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.size = new Size<>(Dimension.length(320.0f), Dimension.length(320.0f));
        nodeStyle.border = new Rect<>(LengthPercentage.length(60.0f), LengthPercentage.length(60.0f), LengthPercentage.length(60.0f), LengthPercentage.length(60.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(440.0f, nodeLayout.size().width, "width of node");
        assertEquals(440.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(320.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(60.0f, node0Layout.location().x, "x of node0");
        assertEquals(60.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(256.0f, node00Layout.size().width, "width of node00");
        assertEquals(20.0f, node00Layout.size().height, "height of node00");
        assertEquals(32.0f, node00Layout.location().x, "x of node00");
        assertEquals(-50.0f, node00Layout.location().y, "y of node00");
        Layout node01Layout = tree.getLayout(node01);
        assertEquals(256.0f, node01Layout.size().width, "width of node01");
        assertEquals(20.0f, node01Layout.size().height, "height of node01");
        assertEquals(32.0f, node01Layout.location().x, "x of node01");
        assertEquals(-30.0f, node01Layout.location().y, "y of node01");
        Layout node02Layout = tree.getLayout(node02);
        assertEquals(256.0f, node02Layout.size().width, "width of node02");
        assertEquals(20.0f, node02Layout.size().height, "height of node02");
        assertEquals(32.0f, node02Layout.location().x, "x of node02");
        assertEquals(-10.0f, node02Layout.location().y, "y of node02");
    }

    @Test
    @DisplayName("justify_content_column_end_negative_space_gap__border_box")
    void justifyContentColumnEndNegativeSpaceGapBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.flexShrink = 0.0f;
        node00Style.size = new Size<>(Dimension.percent(0.8f), Dimension.length(20.0f));
        NodeId node00 = tree.newLeaf(node00Style);

        Style node01Style = new Style();
        node01Style.flexShrink = 0.0f;
        node01Style.size = new Size<>(Dimension.percent(0.8f), Dimension.length(20.0f));
        NodeId node01 = tree.newLeaf(node01Style);

        Style node02Style = new Style();
        node02Style.flexShrink = 0.0f;
        node02Style.size = new Size<>(Dimension.percent(0.8f), Dimension.length(20.0f));
        NodeId node02 = tree.newLeaf(node02Style);

        Style node0Style = new Style();
        node0Style.flexDirection = FlexDirection.COLUMN;
        node0Style.alignItems = AlignItems.CENTER;
        node0Style.justifyContent = AlignContent.END;
        node0Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        node0Style.gap = new Size<>(LengthPercentage.length(10.0f), LengthPercentage.length(10.0f));
        NodeId node0 = tree.newWithChildren(node0Style, node00, node01, node02);

        Style nodeStyle = new Style();
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.size = new Size<>(Dimension.length(320.0f), Dimension.length(320.0f));
        nodeStyle.border = new Rect<>(LengthPercentage.length(60.0f), LengthPercentage.length(60.0f), LengthPercentage.length(60.0f), LengthPercentage.length(60.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(320.0f, nodeLayout.size().width, "width of node");
        assertEquals(320.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(200.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(60.0f, node0Layout.location().x, "x of node0");
        assertEquals(60.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(160.0f, node00Layout.size().width, "width of node00");
        assertEquals(20.0f, node00Layout.size().height, "height of node00");
        assertEquals(20.0f, node00Layout.location().x, "x of node00");
        assertEquals(-70.0f, node00Layout.location().y, "y of node00");
        Layout node01Layout = tree.getLayout(node01);
        assertEquals(160.0f, node01Layout.size().width, "width of node01");
        assertEquals(20.0f, node01Layout.size().height, "height of node01");
        assertEquals(20.0f, node01Layout.location().x, "x of node01");
        assertEquals(-40.0f, node01Layout.location().y, "y of node01");
        Layout node02Layout = tree.getLayout(node02);
        assertEquals(160.0f, node02Layout.size().width, "width of node02");
        assertEquals(20.0f, node02Layout.size().height, "height of node02");
        assertEquals(20.0f, node02Layout.location().x, "x of node02");
        assertEquals(-10.0f, node02Layout.location().y, "y of node02");
    }

    @Test
    @DisplayName("justify_content_column_end_negative_space_gap__content_box")
    void justifyContentColumnEndNegativeSpaceGapContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.boxSizing = BoxSizing.CONTENT_BOX;
        node00Style.flexShrink = 0.0f;
        node00Style.size = new Size<>(Dimension.percent(0.8f), Dimension.length(20.0f));
        NodeId node00 = tree.newLeaf(node00Style);

        Style node01Style = new Style();
        node01Style.boxSizing = BoxSizing.CONTENT_BOX;
        node01Style.flexShrink = 0.0f;
        node01Style.size = new Size<>(Dimension.percent(0.8f), Dimension.length(20.0f));
        NodeId node01 = tree.newLeaf(node01Style);

        Style node02Style = new Style();
        node02Style.boxSizing = BoxSizing.CONTENT_BOX;
        node02Style.flexShrink = 0.0f;
        node02Style.size = new Size<>(Dimension.percent(0.8f), Dimension.length(20.0f));
        NodeId node02 = tree.newLeaf(node02Style);

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.flexDirection = FlexDirection.COLUMN;
        node0Style.alignItems = AlignItems.CENTER;
        node0Style.justifyContent = AlignContent.END;
        node0Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        node0Style.gap = new Size<>(LengthPercentage.length(10.0f), LengthPercentage.length(10.0f));
        NodeId node0 = tree.newWithChildren(node0Style, node00, node01, node02);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.size = new Size<>(Dimension.length(320.0f), Dimension.length(320.0f));
        nodeStyle.border = new Rect<>(LengthPercentage.length(60.0f), LengthPercentage.length(60.0f), LengthPercentage.length(60.0f), LengthPercentage.length(60.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(440.0f, nodeLayout.size().width, "width of node");
        assertEquals(440.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(320.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(60.0f, node0Layout.location().x, "x of node0");
        assertEquals(60.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(256.0f, node00Layout.size().width, "width of node00");
        assertEquals(20.0f, node00Layout.size().height, "height of node00");
        assertEquals(32.0f, node00Layout.location().x, "x of node00");
        assertEquals(-70.0f, node00Layout.location().y, "y of node00");
        Layout node01Layout = tree.getLayout(node01);
        assertEquals(256.0f, node01Layout.size().width, "width of node01");
        assertEquals(20.0f, node01Layout.size().height, "height of node01");
        assertEquals(32.0f, node01Layout.location().x, "x of node01");
        assertEquals(-40.0f, node01Layout.location().y, "y of node01");
        Layout node02Layout = tree.getLayout(node02);
        assertEquals(256.0f, node02Layout.size().width, "width of node02");
        assertEquals(20.0f, node02Layout.size().height, "height of node02");
        assertEquals(32.0f, node02Layout.location().x, "x of node02");
        assertEquals(-10.0f, node02Layout.location().y, "y of node02");
    }

    @Test
    @DisplayName("justify_content_column_end_reverse__border_box")
    void justifyContentColumnEndReverseBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        NodeId node2 = tree.newLeaf(node2Style);

        Style nodeStyle = new Style();
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.justifyContent = AlignContent.FLEX_END;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(100.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(70.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(100.0f, node1Layout.size().width, "width of node1");
        assertEquals(10.0f, node1Layout.size().height, "height of node1");
        assertEquals(0.0f, node1Layout.location().x, "x of node1");
        assertEquals(80.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(100.0f, node2Layout.size().width, "width of node2");
        assertEquals(10.0f, node2Layout.size().height, "height of node2");
        assertEquals(0.0f, node2Layout.location().x, "x of node2");
        assertEquals(90.0f, node2Layout.location().y, "y of node2");
    }

    @Test
    @DisplayName("justify_content_column_end_reverse__content_box")
    void justifyContentColumnEndReverseContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        node2Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        NodeId node2 = tree.newLeaf(node2Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.justifyContent = AlignContent.FLEX_END;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(100.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(70.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(100.0f, node1Layout.size().width, "width of node1");
        assertEquals(10.0f, node1Layout.size().height, "height of node1");
        assertEquals(0.0f, node1Layout.location().x, "x of node1");
        assertEquals(80.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(100.0f, node2Layout.size().width, "width of node2");
        assertEquals(10.0f, node2Layout.size().height, "height of node2");
        assertEquals(0.0f, node2Layout.location().x, "x of node2");
        assertEquals(90.0f, node2Layout.location().y, "y of node2");
    }

    @Test
    @DisplayName("justify_content_column_flex_end__border_box")
    void justifyContentColumnFlexEndBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        NodeId node2 = tree.newLeaf(node2Style);

        Style nodeStyle = new Style();
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.justifyContent = AlignContent.FLEX_END;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(100.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(70.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(100.0f, node1Layout.size().width, "width of node1");
        assertEquals(10.0f, node1Layout.size().height, "height of node1");
        assertEquals(0.0f, node1Layout.location().x, "x of node1");
        assertEquals(80.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(100.0f, node2Layout.size().width, "width of node2");
        assertEquals(10.0f, node2Layout.size().height, "height of node2");
        assertEquals(0.0f, node2Layout.location().x, "x of node2");
        assertEquals(90.0f, node2Layout.location().y, "y of node2");
    }

    @Test
    @DisplayName("justify_content_column_flex_end__content_box")
    void justifyContentColumnFlexEndContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        node2Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        NodeId node2 = tree.newLeaf(node2Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.justifyContent = AlignContent.FLEX_END;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(100.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(70.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(100.0f, node1Layout.size().width, "width of node1");
        assertEquals(10.0f, node1Layout.size().height, "height of node1");
        assertEquals(0.0f, node1Layout.location().x, "x of node1");
        assertEquals(80.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(100.0f, node2Layout.size().width, "width of node2");
        assertEquals(10.0f, node2Layout.size().height, "height of node2");
        assertEquals(0.0f, node2Layout.location().x, "x of node2");
        assertEquals(90.0f, node2Layout.location().y, "y of node2");
    }

    @Test
    @DisplayName("justify_content_column_flex_end_reverse__border_box")
    void justifyContentColumnFlexEndReverseBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        NodeId node2 = tree.newLeaf(node2Style);

        Style nodeStyle = new Style();
        nodeStyle.flexDirection = FlexDirection.COLUMN_REVERSE;
        nodeStyle.justifyContent = AlignContent.FLEX_END;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(100.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(20.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(100.0f, node1Layout.size().width, "width of node1");
        assertEquals(10.0f, node1Layout.size().height, "height of node1");
        assertEquals(0.0f, node1Layout.location().x, "x of node1");
        assertEquals(10.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(100.0f, node2Layout.size().width, "width of node2");
        assertEquals(10.0f, node2Layout.size().height, "height of node2");
        assertEquals(0.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
    }

    @Test
    @DisplayName("justify_content_column_flex_end_reverse__content_box")
    void justifyContentColumnFlexEndReverseContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        node2Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        NodeId node2 = tree.newLeaf(node2Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexDirection = FlexDirection.COLUMN_REVERSE;
        nodeStyle.justifyContent = AlignContent.FLEX_END;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(100.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(20.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(100.0f, node1Layout.size().width, "width of node1");
        assertEquals(10.0f, node1Layout.size().height, "height of node1");
        assertEquals(0.0f, node1Layout.location().x, "x of node1");
        assertEquals(10.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(100.0f, node2Layout.size().width, "width of node2");
        assertEquals(10.0f, node2Layout.size().height, "height of node2");
        assertEquals(0.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
    }

    @Test
    @DisplayName("justify_content_column_flex_start__border_box")
    void justifyContentColumnFlexStartBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        NodeId node2 = tree.newLeaf(node2Style);

        Style nodeStyle = new Style();
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.justifyContent = AlignContent.FLEX_START;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(100.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(100.0f, node1Layout.size().width, "width of node1");
        assertEquals(10.0f, node1Layout.size().height, "height of node1");
        assertEquals(0.0f, node1Layout.location().x, "x of node1");
        assertEquals(10.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(100.0f, node2Layout.size().width, "width of node2");
        assertEquals(10.0f, node2Layout.size().height, "height of node2");
        assertEquals(0.0f, node2Layout.location().x, "x of node2");
        assertEquals(20.0f, node2Layout.location().y, "y of node2");
    }

    @Test
    @DisplayName("justify_content_column_flex_start__content_box")
    void justifyContentColumnFlexStartContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        node2Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        NodeId node2 = tree.newLeaf(node2Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.justifyContent = AlignContent.FLEX_START;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(100.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(100.0f, node1Layout.size().width, "width of node1");
        assertEquals(10.0f, node1Layout.size().height, "height of node1");
        assertEquals(0.0f, node1Layout.location().x, "x of node1");
        assertEquals(10.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(100.0f, node2Layout.size().width, "width of node2");
        assertEquals(10.0f, node2Layout.size().height, "height of node2");
        assertEquals(0.0f, node2Layout.location().x, "x of node2");
        assertEquals(20.0f, node2Layout.location().y, "y of node2");
    }

    @Test
    @DisplayName("justify_content_column_flex_start_reverse__border_box")
    void justifyContentColumnFlexStartReverseBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        NodeId node2 = tree.newLeaf(node2Style);

        Style nodeStyle = new Style();
        nodeStyle.flexDirection = FlexDirection.COLUMN_REVERSE;
        nodeStyle.justifyContent = AlignContent.FLEX_START;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(100.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(90.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(100.0f, node1Layout.size().width, "width of node1");
        assertEquals(10.0f, node1Layout.size().height, "height of node1");
        assertEquals(0.0f, node1Layout.location().x, "x of node1");
        assertEquals(80.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(100.0f, node2Layout.size().width, "width of node2");
        assertEquals(10.0f, node2Layout.size().height, "height of node2");
        assertEquals(0.0f, node2Layout.location().x, "x of node2");
        assertEquals(70.0f, node2Layout.location().y, "y of node2");
    }

    @Test
    @DisplayName("justify_content_column_flex_start_reverse__content_box")
    void justifyContentColumnFlexStartReverseContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        node2Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        NodeId node2 = tree.newLeaf(node2Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexDirection = FlexDirection.COLUMN_REVERSE;
        nodeStyle.justifyContent = AlignContent.FLEX_START;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(100.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(90.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(100.0f, node1Layout.size().width, "width of node1");
        assertEquals(10.0f, node1Layout.size().height, "height of node1");
        assertEquals(0.0f, node1Layout.location().x, "x of node1");
        assertEquals(80.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(100.0f, node2Layout.size().width, "width of node2");
        assertEquals(10.0f, node2Layout.size().height, "height of node2");
        assertEquals(0.0f, node2Layout.location().x, "x of node2");
        assertEquals(70.0f, node2Layout.location().y, "y of node2");
    }

    @Test
    @DisplayName("justify_content_column_max_height_and_margin__border_box")
    void justifyContentColumnMaxHeightAndMarginBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        NodeId node00 = tree.newLeaf(node00Style);

        Style node0Style = new Style();
        node0Style.flexDirection = FlexDirection.COLUMN;
        node0Style.justifyContent = AlignContent.CENTER;
        node0Style.size = new Size<>(Dimension.AUTO, Dimension.length(100.0f));
        node0Style.maxSize = new Size<>(Dimension.AUTO, Dimension.length(80.0f));
        node0Style.margin = new Rect<>(LengthPercentageAuto.ZERO, LengthPercentageAuto.ZERO, LengthPercentageAuto.length(100.0f), LengthPercentageAuto.ZERO);
        NodeId node0 = tree.newWithChildren(node0Style, node00);

        Style nodeStyle = new Style();
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(20.0f, nodeLayout.size().width, "width of node");
        assertEquals(180.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(20.0f, node0Layout.size().width, "width of node0");
        assertEquals(80.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(100.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(20.0f, node00Layout.size().width, "width of node00");
        assertEquals(20.0f, node00Layout.size().height, "height of node00");
        assertEquals(0.0f, node00Layout.location().x, "x of node00");
        assertEquals(30.0f, node00Layout.location().y, "y of node00");
    }

    @Test
    @DisplayName("justify_content_column_max_height_and_margin__content_box")
    void justifyContentColumnMaxHeightAndMarginContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.boxSizing = BoxSizing.CONTENT_BOX;
        node00Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        NodeId node00 = tree.newLeaf(node00Style);

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.flexDirection = FlexDirection.COLUMN;
        node0Style.justifyContent = AlignContent.CENTER;
        node0Style.size = new Size<>(Dimension.AUTO, Dimension.length(100.0f));
        node0Style.maxSize = new Size<>(Dimension.AUTO, Dimension.length(80.0f));
        node0Style.margin = new Rect<>(LengthPercentageAuto.ZERO, LengthPercentageAuto.ZERO, LengthPercentageAuto.length(100.0f), LengthPercentageAuto.ZERO);
        NodeId node0 = tree.newWithChildren(node0Style, node00);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(20.0f, nodeLayout.size().width, "width of node");
        assertEquals(180.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(20.0f, node0Layout.size().width, "width of node0");
        assertEquals(80.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(100.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(20.0f, node00Layout.size().width, "width of node00");
        assertEquals(20.0f, node00Layout.size().height, "height of node00");
        assertEquals(0.0f, node00Layout.location().x, "x of node00");
        assertEquals(30.0f, node00Layout.location().y, "y of node00");
    }

    @Test
    @DisplayName("justify_content_column_min_height_and_margin__border_box")
    void justifyContentColumnMinHeightAndMarginBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        NodeId node00 = tree.newLeaf(node00Style);

        Style node0Style = new Style();
        node0Style.flexDirection = FlexDirection.COLUMN;
        node0Style.justifyContent = AlignContent.CENTER;
        node0Style.minSize = new Size<>(Dimension.AUTO, Dimension.length(50.0f));
        node0Style.margin = new Rect<>(LengthPercentageAuto.ZERO, LengthPercentageAuto.ZERO, LengthPercentageAuto.length(100.0f), LengthPercentageAuto.ZERO);
        NodeId node0 = tree.newWithChildren(node0Style, node00);

        Style nodeStyle = new Style();
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(20.0f, nodeLayout.size().width, "width of node");
        assertEquals(150.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(20.0f, node0Layout.size().width, "width of node0");
        assertEquals(50.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(100.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(20.0f, node00Layout.size().width, "width of node00");
        assertEquals(20.0f, node00Layout.size().height, "height of node00");
        assertEquals(0.0f, node00Layout.location().x, "x of node00");
        assertEquals(15.0f, node00Layout.location().y, "y of node00");
    }

    @Test
    @DisplayName("justify_content_column_min_height_and_margin__content_box")
    void justifyContentColumnMinHeightAndMarginContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.boxSizing = BoxSizing.CONTENT_BOX;
        node00Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        NodeId node00 = tree.newLeaf(node00Style);

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.flexDirection = FlexDirection.COLUMN;
        node0Style.justifyContent = AlignContent.CENTER;
        node0Style.minSize = new Size<>(Dimension.AUTO, Dimension.length(50.0f));
        node0Style.margin = new Rect<>(LengthPercentageAuto.ZERO, LengthPercentageAuto.ZERO, LengthPercentageAuto.length(100.0f), LengthPercentageAuto.ZERO);
        NodeId node0 = tree.newWithChildren(node0Style, node00);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(20.0f, nodeLayout.size().width, "width of node");
        assertEquals(150.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(20.0f, node0Layout.size().width, "width of node0");
        assertEquals(50.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(100.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(20.0f, node00Layout.size().width, "width of node00");
        assertEquals(20.0f, node00Layout.size().height, "height of node00");
        assertEquals(0.0f, node00Layout.location().x, "x of node00");
        assertEquals(15.0f, node00Layout.location().y, "y of node00");
    }

    @Test
    @DisplayName("justify_content_column_min_height_and_margin_bottom__border_box")
    void justifyContentColumnMinHeightAndMarginBottomBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        node0Style.margin = new Rect<>(LengthPercentageAuto.ZERO, LengthPercentageAuto.ZERO, LengthPercentageAuto.ZERO, LengthPercentageAuto.length(10.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.justifyContent = AlignContent.CENTER;
        nodeStyle.minSize = new Size<>(Dimension.AUTO, Dimension.length(50.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(20.0f, nodeLayout.size().width, "width of node");
        assertEquals(50.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(20.0f, node0Layout.size().width, "width of node0");
        assertEquals(20.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(10.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("justify_content_column_min_height_and_margin_bottom__content_box")
    void justifyContentColumnMinHeightAndMarginBottomContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        node0Style.margin = new Rect<>(LengthPercentageAuto.ZERO, LengthPercentageAuto.ZERO, LengthPercentageAuto.ZERO, LengthPercentageAuto.length(10.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.justifyContent = AlignContent.CENTER;
        nodeStyle.minSize = new Size<>(Dimension.AUTO, Dimension.length(50.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(20.0f, nodeLayout.size().width, "width of node");
        assertEquals(50.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(20.0f, node0Layout.size().width, "width of node0");
        assertEquals(20.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(10.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("justify_content_column_min_height_and_margin_top__border_box")
    void justifyContentColumnMinHeightAndMarginTopBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        node0Style.margin = new Rect<>(LengthPercentageAuto.ZERO, LengthPercentageAuto.ZERO, LengthPercentageAuto.length(10.0f), LengthPercentageAuto.ZERO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.justifyContent = AlignContent.CENTER;
        nodeStyle.minSize = new Size<>(Dimension.AUTO, Dimension.length(50.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(20.0f, nodeLayout.size().width, "width of node");
        assertEquals(50.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(20.0f, node0Layout.size().width, "width of node0");
        assertEquals(20.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(20.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("justify_content_column_min_height_and_margin_top__content_box")
    void justifyContentColumnMinHeightAndMarginTopContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        node0Style.margin = new Rect<>(LengthPercentageAuto.ZERO, LengthPercentageAuto.ZERO, LengthPercentageAuto.length(10.0f), LengthPercentageAuto.ZERO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.justifyContent = AlignContent.CENTER;
        nodeStyle.minSize = new Size<>(Dimension.AUTO, Dimension.length(50.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(20.0f, nodeLayout.size().width, "width of node");
        assertEquals(50.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(20.0f, node0Layout.size().width, "width of node0");
        assertEquals(20.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(20.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("justify_content_column_space_around__border_box")
    void justifyContentColumnSpaceAroundBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        NodeId node2 = tree.newLeaf(node2Style);

        Style nodeStyle = new Style();
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.justifyContent = AlignContent.SPACE_AROUND;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(100.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(12.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(100.0f, node1Layout.size().width, "width of node1");
        assertEquals(10.0f, node1Layout.size().height, "height of node1");
        assertEquals(0.0f, node1Layout.location().x, "x of node1");
        assertEquals(45.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(100.0f, node2Layout.size().width, "width of node2");
        assertEquals(10.0f, node2Layout.size().height, "height of node2");
        assertEquals(0.0f, node2Layout.location().x, "x of node2");
        assertEquals(78.0f, node2Layout.location().y, "y of node2");
    }

    @Test
    @DisplayName("justify_content_column_space_around__content_box")
    void justifyContentColumnSpaceAroundContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        node2Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        NodeId node2 = tree.newLeaf(node2Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.justifyContent = AlignContent.SPACE_AROUND;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(100.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(12.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(100.0f, node1Layout.size().width, "width of node1");
        assertEquals(10.0f, node1Layout.size().height, "height of node1");
        assertEquals(0.0f, node1Layout.location().x, "x of node1");
        assertEquals(45.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(100.0f, node2Layout.size().width, "width of node2");
        assertEquals(10.0f, node2Layout.size().height, "height of node2");
        assertEquals(0.0f, node2Layout.location().x, "x of node2");
        assertEquals(78.0f, node2Layout.location().y, "y of node2");
    }

    @Test
    @DisplayName("justify_content_column_space_around_negative_space__border_box")
    void justifyContentColumnSpaceAroundNegativeSpaceBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.flexShrink = 0.0f;
        node00Style.size = new Size<>(Dimension.percent(0.8f), Dimension.length(20.0f));
        NodeId node00 = tree.newLeaf(node00Style);

        Style node01Style = new Style();
        node01Style.flexShrink = 0.0f;
        node01Style.size = new Size<>(Dimension.percent(0.8f), Dimension.length(20.0f));
        NodeId node01 = tree.newLeaf(node01Style);

        Style node02Style = new Style();
        node02Style.flexShrink = 0.0f;
        node02Style.size = new Size<>(Dimension.percent(0.8f), Dimension.length(20.0f));
        NodeId node02 = tree.newLeaf(node02Style);

        Style node0Style = new Style();
        node0Style.flexDirection = FlexDirection.COLUMN;
        node0Style.alignItems = AlignItems.CENTER;
        node0Style.justifyContent = AlignContent.SPACE_AROUND;
        node0Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        NodeId node0 = tree.newWithChildren(node0Style, node00, node01, node02);

        Style nodeStyle = new Style();
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.size = new Size<>(Dimension.length(320.0f), Dimension.length(320.0f));
        nodeStyle.border = new Rect<>(LengthPercentage.length(60.0f), LengthPercentage.length(60.0f), LengthPercentage.length(60.0f), LengthPercentage.length(60.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(320.0f, nodeLayout.size().width, "width of node");
        assertEquals(320.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(200.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(60.0f, node0Layout.location().x, "x of node0");
        assertEquals(60.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(160.0f, node00Layout.size().width, "width of node00");
        assertEquals(20.0f, node00Layout.size().height, "height of node00");
        assertEquals(20.0f, node00Layout.location().x, "x of node00");
        assertEquals(0.0f, node00Layout.location().y, "y of node00");
        Layout node01Layout = tree.getLayout(node01);
        assertEquals(160.0f, node01Layout.size().width, "width of node01");
        assertEquals(20.0f, node01Layout.size().height, "height of node01");
        assertEquals(20.0f, node01Layout.location().x, "x of node01");
        assertEquals(20.0f, node01Layout.location().y, "y of node01");
        Layout node02Layout = tree.getLayout(node02);
        assertEquals(160.0f, node02Layout.size().width, "width of node02");
        assertEquals(20.0f, node02Layout.size().height, "height of node02");
        assertEquals(20.0f, node02Layout.location().x, "x of node02");
        assertEquals(40.0f, node02Layout.location().y, "y of node02");
    }

    @Test
    @DisplayName("justify_content_column_space_around_negative_space__content_box")
    void justifyContentColumnSpaceAroundNegativeSpaceContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.boxSizing = BoxSizing.CONTENT_BOX;
        node00Style.flexShrink = 0.0f;
        node00Style.size = new Size<>(Dimension.percent(0.8f), Dimension.length(20.0f));
        NodeId node00 = tree.newLeaf(node00Style);

        Style node01Style = new Style();
        node01Style.boxSizing = BoxSizing.CONTENT_BOX;
        node01Style.flexShrink = 0.0f;
        node01Style.size = new Size<>(Dimension.percent(0.8f), Dimension.length(20.0f));
        NodeId node01 = tree.newLeaf(node01Style);

        Style node02Style = new Style();
        node02Style.boxSizing = BoxSizing.CONTENT_BOX;
        node02Style.flexShrink = 0.0f;
        node02Style.size = new Size<>(Dimension.percent(0.8f), Dimension.length(20.0f));
        NodeId node02 = tree.newLeaf(node02Style);

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.flexDirection = FlexDirection.COLUMN;
        node0Style.alignItems = AlignItems.CENTER;
        node0Style.justifyContent = AlignContent.SPACE_AROUND;
        node0Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        NodeId node0 = tree.newWithChildren(node0Style, node00, node01, node02);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.size = new Size<>(Dimension.length(320.0f), Dimension.length(320.0f));
        nodeStyle.border = new Rect<>(LengthPercentage.length(60.0f), LengthPercentage.length(60.0f), LengthPercentage.length(60.0f), LengthPercentage.length(60.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(440.0f, nodeLayout.size().width, "width of node");
        assertEquals(440.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(320.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(60.0f, node0Layout.location().x, "x of node0");
        assertEquals(60.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(256.0f, node00Layout.size().width, "width of node00");
        assertEquals(20.0f, node00Layout.size().height, "height of node00");
        assertEquals(32.0f, node00Layout.location().x, "x of node00");
        assertEquals(0.0f, node00Layout.location().y, "y of node00");
        Layout node01Layout = tree.getLayout(node01);
        assertEquals(256.0f, node01Layout.size().width, "width of node01");
        assertEquals(20.0f, node01Layout.size().height, "height of node01");
        assertEquals(32.0f, node01Layout.location().x, "x of node01");
        assertEquals(20.0f, node01Layout.location().y, "y of node01");
        Layout node02Layout = tree.getLayout(node02);
        assertEquals(256.0f, node02Layout.size().width, "width of node02");
        assertEquals(20.0f, node02Layout.size().height, "height of node02");
        assertEquals(32.0f, node02Layout.location().x, "x of node02");
        assertEquals(40.0f, node02Layout.location().y, "y of node02");
    }

    @Test
    @DisplayName("justify_content_column_space_around_negative_space_gap__border_box")
    void justifyContentColumnSpaceAroundNegativeSpaceGapBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.flexShrink = 0.0f;
        node00Style.size = new Size<>(Dimension.percent(0.8f), Dimension.length(20.0f));
        NodeId node00 = tree.newLeaf(node00Style);

        Style node01Style = new Style();
        node01Style.flexShrink = 0.0f;
        node01Style.size = new Size<>(Dimension.percent(0.8f), Dimension.length(20.0f));
        NodeId node01 = tree.newLeaf(node01Style);

        Style node02Style = new Style();
        node02Style.flexShrink = 0.0f;
        node02Style.size = new Size<>(Dimension.percent(0.8f), Dimension.length(20.0f));
        NodeId node02 = tree.newLeaf(node02Style);

        Style node0Style = new Style();
        node0Style.flexDirection = FlexDirection.COLUMN;
        node0Style.alignItems = AlignItems.CENTER;
        node0Style.justifyContent = AlignContent.SPACE_AROUND;
        node0Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        node0Style.gap = new Size<>(LengthPercentage.length(10.0f), LengthPercentage.length(10.0f));
        NodeId node0 = tree.newWithChildren(node0Style, node00, node01, node02);

        Style nodeStyle = new Style();
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.size = new Size<>(Dimension.length(320.0f), Dimension.length(320.0f));
        nodeStyle.border = new Rect<>(LengthPercentage.length(60.0f), LengthPercentage.length(60.0f), LengthPercentage.length(60.0f), LengthPercentage.length(60.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(320.0f, nodeLayout.size().width, "width of node");
        assertEquals(320.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(200.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(60.0f, node0Layout.location().x, "x of node0");
        assertEquals(60.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(160.0f, node00Layout.size().width, "width of node00");
        assertEquals(20.0f, node00Layout.size().height, "height of node00");
        assertEquals(20.0f, node00Layout.location().x, "x of node00");
        assertEquals(0.0f, node00Layout.location().y, "y of node00");
        Layout node01Layout = tree.getLayout(node01);
        assertEquals(160.0f, node01Layout.size().width, "width of node01");
        assertEquals(20.0f, node01Layout.size().height, "height of node01");
        assertEquals(20.0f, node01Layout.location().x, "x of node01");
        assertEquals(30.0f, node01Layout.location().y, "y of node01");
        Layout node02Layout = tree.getLayout(node02);
        assertEquals(160.0f, node02Layout.size().width, "width of node02");
        assertEquals(20.0f, node02Layout.size().height, "height of node02");
        assertEquals(20.0f, node02Layout.location().x, "x of node02");
        assertEquals(60.0f, node02Layout.location().y, "y of node02");
    }

    @Test
    @DisplayName("justify_content_column_space_around_negative_space_gap__content_box")
    void justifyContentColumnSpaceAroundNegativeSpaceGapContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.boxSizing = BoxSizing.CONTENT_BOX;
        node00Style.flexShrink = 0.0f;
        node00Style.size = new Size<>(Dimension.percent(0.8f), Dimension.length(20.0f));
        NodeId node00 = tree.newLeaf(node00Style);

        Style node01Style = new Style();
        node01Style.boxSizing = BoxSizing.CONTENT_BOX;
        node01Style.flexShrink = 0.0f;
        node01Style.size = new Size<>(Dimension.percent(0.8f), Dimension.length(20.0f));
        NodeId node01 = tree.newLeaf(node01Style);

        Style node02Style = new Style();
        node02Style.boxSizing = BoxSizing.CONTENT_BOX;
        node02Style.flexShrink = 0.0f;
        node02Style.size = new Size<>(Dimension.percent(0.8f), Dimension.length(20.0f));
        NodeId node02 = tree.newLeaf(node02Style);

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.flexDirection = FlexDirection.COLUMN;
        node0Style.alignItems = AlignItems.CENTER;
        node0Style.justifyContent = AlignContent.SPACE_AROUND;
        node0Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        node0Style.gap = new Size<>(LengthPercentage.length(10.0f), LengthPercentage.length(10.0f));
        NodeId node0 = tree.newWithChildren(node0Style, node00, node01, node02);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.size = new Size<>(Dimension.length(320.0f), Dimension.length(320.0f));
        nodeStyle.border = new Rect<>(LengthPercentage.length(60.0f), LengthPercentage.length(60.0f), LengthPercentage.length(60.0f), LengthPercentage.length(60.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(440.0f, nodeLayout.size().width, "width of node");
        assertEquals(440.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(320.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(60.0f, node0Layout.location().x, "x of node0");
        assertEquals(60.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(256.0f, node00Layout.size().width, "width of node00");
        assertEquals(20.0f, node00Layout.size().height, "height of node00");
        assertEquals(32.0f, node00Layout.location().x, "x of node00");
        assertEquals(0.0f, node00Layout.location().y, "y of node00");
        Layout node01Layout = tree.getLayout(node01);
        assertEquals(256.0f, node01Layout.size().width, "width of node01");
        assertEquals(20.0f, node01Layout.size().height, "height of node01");
        assertEquals(32.0f, node01Layout.location().x, "x of node01");
        assertEquals(30.0f, node01Layout.location().y, "y of node01");
        Layout node02Layout = tree.getLayout(node02);
        assertEquals(256.0f, node02Layout.size().width, "width of node02");
        assertEquals(20.0f, node02Layout.size().height, "height of node02");
        assertEquals(32.0f, node02Layout.location().x, "x of node02");
        assertEquals(60.0f, node02Layout.location().y, "y of node02");
    }

    @Test
    @DisplayName("justify_content_column_space_between__border_box")
    void justifyContentColumnSpaceBetweenBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        NodeId node2 = tree.newLeaf(node2Style);

        Style nodeStyle = new Style();
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.justifyContent = AlignContent.SPACE_BETWEEN;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(100.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(100.0f, node1Layout.size().width, "width of node1");
        assertEquals(10.0f, node1Layout.size().height, "height of node1");
        assertEquals(0.0f, node1Layout.location().x, "x of node1");
        assertEquals(45.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(100.0f, node2Layout.size().width, "width of node2");
        assertEquals(10.0f, node2Layout.size().height, "height of node2");
        assertEquals(0.0f, node2Layout.location().x, "x of node2");
        assertEquals(90.0f, node2Layout.location().y, "y of node2");
    }

    @Test
    @DisplayName("justify_content_column_space_between__content_box")
    void justifyContentColumnSpaceBetweenContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        node2Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        NodeId node2 = tree.newLeaf(node2Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.justifyContent = AlignContent.SPACE_BETWEEN;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(100.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(100.0f, node1Layout.size().width, "width of node1");
        assertEquals(10.0f, node1Layout.size().height, "height of node1");
        assertEquals(0.0f, node1Layout.location().x, "x of node1");
        assertEquals(45.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(100.0f, node2Layout.size().width, "width of node2");
        assertEquals(10.0f, node2Layout.size().height, "height of node2");
        assertEquals(0.0f, node2Layout.location().x, "x of node2");
        assertEquals(90.0f, node2Layout.location().y, "y of node2");
    }

    @Test
    @DisplayName("justify_content_column_space_between_negative_space__border_box")
    void justifyContentColumnSpaceBetweenNegativeSpaceBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.flexShrink = 0.0f;
        node00Style.size = new Size<>(Dimension.percent(0.8f), Dimension.length(20.0f));
        NodeId node00 = tree.newLeaf(node00Style);

        Style node01Style = new Style();
        node01Style.flexShrink = 0.0f;
        node01Style.size = new Size<>(Dimension.percent(0.8f), Dimension.length(20.0f));
        NodeId node01 = tree.newLeaf(node01Style);

        Style node02Style = new Style();
        node02Style.flexShrink = 0.0f;
        node02Style.size = new Size<>(Dimension.percent(0.8f), Dimension.length(20.0f));
        NodeId node02 = tree.newLeaf(node02Style);

        Style node0Style = new Style();
        node0Style.flexDirection = FlexDirection.COLUMN;
        node0Style.alignItems = AlignItems.CENTER;
        node0Style.justifyContent = AlignContent.SPACE_BETWEEN;
        node0Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        NodeId node0 = tree.newWithChildren(node0Style, node00, node01, node02);

        Style nodeStyle = new Style();
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.size = new Size<>(Dimension.length(320.0f), Dimension.length(320.0f));
        nodeStyle.border = new Rect<>(LengthPercentage.length(60.0f), LengthPercentage.length(60.0f), LengthPercentage.length(60.0f), LengthPercentage.length(60.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(320.0f, nodeLayout.size().width, "width of node");
        assertEquals(320.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(200.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(60.0f, node0Layout.location().x, "x of node0");
        assertEquals(60.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(160.0f, node00Layout.size().width, "width of node00");
        assertEquals(20.0f, node00Layout.size().height, "height of node00");
        assertEquals(20.0f, node00Layout.location().x, "x of node00");
        assertEquals(0.0f, node00Layout.location().y, "y of node00");
        Layout node01Layout = tree.getLayout(node01);
        assertEquals(160.0f, node01Layout.size().width, "width of node01");
        assertEquals(20.0f, node01Layout.size().height, "height of node01");
        assertEquals(20.0f, node01Layout.location().x, "x of node01");
        assertEquals(20.0f, node01Layout.location().y, "y of node01");
        Layout node02Layout = tree.getLayout(node02);
        assertEquals(160.0f, node02Layout.size().width, "width of node02");
        assertEquals(20.0f, node02Layout.size().height, "height of node02");
        assertEquals(20.0f, node02Layout.location().x, "x of node02");
        assertEquals(40.0f, node02Layout.location().y, "y of node02");
    }

    @Test
    @DisplayName("justify_content_column_space_between_negative_space__content_box")
    void justifyContentColumnSpaceBetweenNegativeSpaceContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.boxSizing = BoxSizing.CONTENT_BOX;
        node00Style.flexShrink = 0.0f;
        node00Style.size = new Size<>(Dimension.percent(0.8f), Dimension.length(20.0f));
        NodeId node00 = tree.newLeaf(node00Style);

        Style node01Style = new Style();
        node01Style.boxSizing = BoxSizing.CONTENT_BOX;
        node01Style.flexShrink = 0.0f;
        node01Style.size = new Size<>(Dimension.percent(0.8f), Dimension.length(20.0f));
        NodeId node01 = tree.newLeaf(node01Style);

        Style node02Style = new Style();
        node02Style.boxSizing = BoxSizing.CONTENT_BOX;
        node02Style.flexShrink = 0.0f;
        node02Style.size = new Size<>(Dimension.percent(0.8f), Dimension.length(20.0f));
        NodeId node02 = tree.newLeaf(node02Style);

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.flexDirection = FlexDirection.COLUMN;
        node0Style.alignItems = AlignItems.CENTER;
        node0Style.justifyContent = AlignContent.SPACE_BETWEEN;
        node0Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        NodeId node0 = tree.newWithChildren(node0Style, node00, node01, node02);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.size = new Size<>(Dimension.length(320.0f), Dimension.length(320.0f));
        nodeStyle.border = new Rect<>(LengthPercentage.length(60.0f), LengthPercentage.length(60.0f), LengthPercentage.length(60.0f), LengthPercentage.length(60.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(440.0f, nodeLayout.size().width, "width of node");
        assertEquals(440.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(320.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(60.0f, node0Layout.location().x, "x of node0");
        assertEquals(60.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(256.0f, node00Layout.size().width, "width of node00");
        assertEquals(20.0f, node00Layout.size().height, "height of node00");
        assertEquals(32.0f, node00Layout.location().x, "x of node00");
        assertEquals(0.0f, node00Layout.location().y, "y of node00");
        Layout node01Layout = tree.getLayout(node01);
        assertEquals(256.0f, node01Layout.size().width, "width of node01");
        assertEquals(20.0f, node01Layout.size().height, "height of node01");
        assertEquals(32.0f, node01Layout.location().x, "x of node01");
        assertEquals(20.0f, node01Layout.location().y, "y of node01");
        Layout node02Layout = tree.getLayout(node02);
        assertEquals(256.0f, node02Layout.size().width, "width of node02");
        assertEquals(20.0f, node02Layout.size().height, "height of node02");
        assertEquals(32.0f, node02Layout.location().x, "x of node02");
        assertEquals(40.0f, node02Layout.location().y, "y of node02");
    }

    @Test
    @DisplayName("justify_content_column_space_between_negative_space_gap__border_box")
    void justifyContentColumnSpaceBetweenNegativeSpaceGapBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.flexShrink = 0.0f;
        node00Style.size = new Size<>(Dimension.percent(0.8f), Dimension.length(20.0f));
        NodeId node00 = tree.newLeaf(node00Style);

        Style node01Style = new Style();
        node01Style.flexShrink = 0.0f;
        node01Style.size = new Size<>(Dimension.percent(0.8f), Dimension.length(20.0f));
        NodeId node01 = tree.newLeaf(node01Style);

        Style node02Style = new Style();
        node02Style.flexShrink = 0.0f;
        node02Style.size = new Size<>(Dimension.percent(0.8f), Dimension.length(20.0f));
        NodeId node02 = tree.newLeaf(node02Style);

        Style node0Style = new Style();
        node0Style.flexDirection = FlexDirection.COLUMN;
        node0Style.alignItems = AlignItems.CENTER;
        node0Style.justifyContent = AlignContent.SPACE_BETWEEN;
        node0Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        node0Style.gap = new Size<>(LengthPercentage.length(10.0f), LengthPercentage.length(10.0f));
        NodeId node0 = tree.newWithChildren(node0Style, node00, node01, node02);

        Style nodeStyle = new Style();
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.size = new Size<>(Dimension.length(320.0f), Dimension.length(320.0f));
        nodeStyle.border = new Rect<>(LengthPercentage.length(60.0f), LengthPercentage.length(60.0f), LengthPercentage.length(60.0f), LengthPercentage.length(60.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(320.0f, nodeLayout.size().width, "width of node");
        assertEquals(320.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(200.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(60.0f, node0Layout.location().x, "x of node0");
        assertEquals(60.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(160.0f, node00Layout.size().width, "width of node00");
        assertEquals(20.0f, node00Layout.size().height, "height of node00");
        assertEquals(20.0f, node00Layout.location().x, "x of node00");
        assertEquals(0.0f, node00Layout.location().y, "y of node00");
        Layout node01Layout = tree.getLayout(node01);
        assertEquals(160.0f, node01Layout.size().width, "width of node01");
        assertEquals(20.0f, node01Layout.size().height, "height of node01");
        assertEquals(20.0f, node01Layout.location().x, "x of node01");
        assertEquals(30.0f, node01Layout.location().y, "y of node01");
        Layout node02Layout = tree.getLayout(node02);
        assertEquals(160.0f, node02Layout.size().width, "width of node02");
        assertEquals(20.0f, node02Layout.size().height, "height of node02");
        assertEquals(20.0f, node02Layout.location().x, "x of node02");
        assertEquals(60.0f, node02Layout.location().y, "y of node02");
    }

    @Test
    @DisplayName("justify_content_column_space_between_negative_space_gap__content_box")
    void justifyContentColumnSpaceBetweenNegativeSpaceGapContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.boxSizing = BoxSizing.CONTENT_BOX;
        node00Style.flexShrink = 0.0f;
        node00Style.size = new Size<>(Dimension.percent(0.8f), Dimension.length(20.0f));
        NodeId node00 = tree.newLeaf(node00Style);

        Style node01Style = new Style();
        node01Style.boxSizing = BoxSizing.CONTENT_BOX;
        node01Style.flexShrink = 0.0f;
        node01Style.size = new Size<>(Dimension.percent(0.8f), Dimension.length(20.0f));
        NodeId node01 = tree.newLeaf(node01Style);

        Style node02Style = new Style();
        node02Style.boxSizing = BoxSizing.CONTENT_BOX;
        node02Style.flexShrink = 0.0f;
        node02Style.size = new Size<>(Dimension.percent(0.8f), Dimension.length(20.0f));
        NodeId node02 = tree.newLeaf(node02Style);

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.flexDirection = FlexDirection.COLUMN;
        node0Style.alignItems = AlignItems.CENTER;
        node0Style.justifyContent = AlignContent.SPACE_BETWEEN;
        node0Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        node0Style.gap = new Size<>(LengthPercentage.length(10.0f), LengthPercentage.length(10.0f));
        NodeId node0 = tree.newWithChildren(node0Style, node00, node01, node02);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.size = new Size<>(Dimension.length(320.0f), Dimension.length(320.0f));
        nodeStyle.border = new Rect<>(LengthPercentage.length(60.0f), LengthPercentage.length(60.0f), LengthPercentage.length(60.0f), LengthPercentage.length(60.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(440.0f, nodeLayout.size().width, "width of node");
        assertEquals(440.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(320.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(60.0f, node0Layout.location().x, "x of node0");
        assertEquals(60.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(256.0f, node00Layout.size().width, "width of node00");
        assertEquals(20.0f, node00Layout.size().height, "height of node00");
        assertEquals(32.0f, node00Layout.location().x, "x of node00");
        assertEquals(0.0f, node00Layout.location().y, "y of node00");
        Layout node01Layout = tree.getLayout(node01);
        assertEquals(256.0f, node01Layout.size().width, "width of node01");
        assertEquals(20.0f, node01Layout.size().height, "height of node01");
        assertEquals(32.0f, node01Layout.location().x, "x of node01");
        assertEquals(30.0f, node01Layout.location().y, "y of node01");
        Layout node02Layout = tree.getLayout(node02);
        assertEquals(256.0f, node02Layout.size().width, "width of node02");
        assertEquals(20.0f, node02Layout.size().height, "height of node02");
        assertEquals(32.0f, node02Layout.location().x, "x of node02");
        assertEquals(60.0f, node02Layout.location().y, "y of node02");
    }

    @Test
    @DisplayName("justify_content_column_space_evenly__border_box")
    void justifyContentColumnSpaceEvenlyBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        NodeId node2 = tree.newLeaf(node2Style);

        Style nodeStyle = new Style();
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.justifyContent = AlignContent.SPACE_EVENLY;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(100.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(18.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(100.0f, node1Layout.size().width, "width of node1");
        assertEquals(10.0f, node1Layout.size().height, "height of node1");
        assertEquals(0.0f, node1Layout.location().x, "x of node1");
        assertEquals(45.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(100.0f, node2Layout.size().width, "width of node2");
        assertEquals(10.0f, node2Layout.size().height, "height of node2");
        assertEquals(0.0f, node2Layout.location().x, "x of node2");
        assertEquals(73.0f, node2Layout.location().y, "y of node2");
    }

    @Test
    @DisplayName("justify_content_column_space_evenly__content_box")
    void justifyContentColumnSpaceEvenlyContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        node2Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        NodeId node2 = tree.newLeaf(node2Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.justifyContent = AlignContent.SPACE_EVENLY;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(100.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(18.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(100.0f, node1Layout.size().width, "width of node1");
        assertEquals(10.0f, node1Layout.size().height, "height of node1");
        assertEquals(0.0f, node1Layout.location().x, "x of node1");
        assertEquals(45.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(100.0f, node2Layout.size().width, "width of node2");
        assertEquals(10.0f, node2Layout.size().height, "height of node2");
        assertEquals(0.0f, node2Layout.location().x, "x of node2");
        assertEquals(73.0f, node2Layout.location().y, "y of node2");
    }

    @Test
    @DisplayName("justify_content_column_space_evenly_negative_space__border_box")
    void justifyContentColumnSpaceEvenlyNegativeSpaceBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.flexShrink = 0.0f;
        node00Style.size = new Size<>(Dimension.percent(0.8f), Dimension.length(20.0f));
        NodeId node00 = tree.newLeaf(node00Style);

        Style node01Style = new Style();
        node01Style.flexShrink = 0.0f;
        node01Style.size = new Size<>(Dimension.percent(0.8f), Dimension.length(20.0f));
        NodeId node01 = tree.newLeaf(node01Style);

        Style node02Style = new Style();
        node02Style.flexShrink = 0.0f;
        node02Style.size = new Size<>(Dimension.percent(0.8f), Dimension.length(20.0f));
        NodeId node02 = tree.newLeaf(node02Style);

        Style node0Style = new Style();
        node0Style.flexDirection = FlexDirection.COLUMN;
        node0Style.alignItems = AlignItems.CENTER;
        node0Style.justifyContent = AlignContent.SPACE_EVENLY;
        node0Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        NodeId node0 = tree.newWithChildren(node0Style, node00, node01, node02);

        Style nodeStyle = new Style();
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.size = new Size<>(Dimension.length(320.0f), Dimension.length(320.0f));
        nodeStyle.border = new Rect<>(LengthPercentage.length(60.0f), LengthPercentage.length(60.0f), LengthPercentage.length(60.0f), LengthPercentage.length(60.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(320.0f, nodeLayout.size().width, "width of node");
        assertEquals(320.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(200.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(60.0f, node0Layout.location().x, "x of node0");
        assertEquals(60.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(160.0f, node00Layout.size().width, "width of node00");
        assertEquals(20.0f, node00Layout.size().height, "height of node00");
        assertEquals(20.0f, node00Layout.location().x, "x of node00");
        assertEquals(0.0f, node00Layout.location().y, "y of node00");
        Layout node01Layout = tree.getLayout(node01);
        assertEquals(160.0f, node01Layout.size().width, "width of node01");
        assertEquals(20.0f, node01Layout.size().height, "height of node01");
        assertEquals(20.0f, node01Layout.location().x, "x of node01");
        assertEquals(20.0f, node01Layout.location().y, "y of node01");
        Layout node02Layout = tree.getLayout(node02);
        assertEquals(160.0f, node02Layout.size().width, "width of node02");
        assertEquals(20.0f, node02Layout.size().height, "height of node02");
        assertEquals(20.0f, node02Layout.location().x, "x of node02");
        assertEquals(40.0f, node02Layout.location().y, "y of node02");
    }

    @Test
    @DisplayName("justify_content_column_space_evenly_negative_space__content_box")
    void justifyContentColumnSpaceEvenlyNegativeSpaceContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.boxSizing = BoxSizing.CONTENT_BOX;
        node00Style.flexShrink = 0.0f;
        node00Style.size = new Size<>(Dimension.percent(0.8f), Dimension.length(20.0f));
        NodeId node00 = tree.newLeaf(node00Style);

        Style node01Style = new Style();
        node01Style.boxSizing = BoxSizing.CONTENT_BOX;
        node01Style.flexShrink = 0.0f;
        node01Style.size = new Size<>(Dimension.percent(0.8f), Dimension.length(20.0f));
        NodeId node01 = tree.newLeaf(node01Style);

        Style node02Style = new Style();
        node02Style.boxSizing = BoxSizing.CONTENT_BOX;
        node02Style.flexShrink = 0.0f;
        node02Style.size = new Size<>(Dimension.percent(0.8f), Dimension.length(20.0f));
        NodeId node02 = tree.newLeaf(node02Style);

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.flexDirection = FlexDirection.COLUMN;
        node0Style.alignItems = AlignItems.CENTER;
        node0Style.justifyContent = AlignContent.SPACE_EVENLY;
        node0Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        NodeId node0 = tree.newWithChildren(node0Style, node00, node01, node02);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.size = new Size<>(Dimension.length(320.0f), Dimension.length(320.0f));
        nodeStyle.border = new Rect<>(LengthPercentage.length(60.0f), LengthPercentage.length(60.0f), LengthPercentage.length(60.0f), LengthPercentage.length(60.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(440.0f, nodeLayout.size().width, "width of node");
        assertEquals(440.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(320.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(60.0f, node0Layout.location().x, "x of node0");
        assertEquals(60.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(256.0f, node00Layout.size().width, "width of node00");
        assertEquals(20.0f, node00Layout.size().height, "height of node00");
        assertEquals(32.0f, node00Layout.location().x, "x of node00");
        assertEquals(0.0f, node00Layout.location().y, "y of node00");
        Layout node01Layout = tree.getLayout(node01);
        assertEquals(256.0f, node01Layout.size().width, "width of node01");
        assertEquals(20.0f, node01Layout.size().height, "height of node01");
        assertEquals(32.0f, node01Layout.location().x, "x of node01");
        assertEquals(20.0f, node01Layout.location().y, "y of node01");
        Layout node02Layout = tree.getLayout(node02);
        assertEquals(256.0f, node02Layout.size().width, "width of node02");
        assertEquals(20.0f, node02Layout.size().height, "height of node02");
        assertEquals(32.0f, node02Layout.location().x, "x of node02");
        assertEquals(40.0f, node02Layout.location().y, "y of node02");
    }

    @Test
    @DisplayName("justify_content_column_space_evenly_negative_space_gap__border_box")
    void justifyContentColumnSpaceEvenlyNegativeSpaceGapBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.flexShrink = 0.0f;
        node00Style.size = new Size<>(Dimension.percent(0.8f), Dimension.length(20.0f));
        NodeId node00 = tree.newLeaf(node00Style);

        Style node01Style = new Style();
        node01Style.flexShrink = 0.0f;
        node01Style.size = new Size<>(Dimension.percent(0.8f), Dimension.length(20.0f));
        NodeId node01 = tree.newLeaf(node01Style);

        Style node02Style = new Style();
        node02Style.flexShrink = 0.0f;
        node02Style.size = new Size<>(Dimension.percent(0.8f), Dimension.length(20.0f));
        NodeId node02 = tree.newLeaf(node02Style);

        Style node0Style = new Style();
        node0Style.flexDirection = FlexDirection.COLUMN;
        node0Style.alignItems = AlignItems.CENTER;
        node0Style.justifyContent = AlignContent.SPACE_EVENLY;
        node0Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        node0Style.gap = new Size<>(LengthPercentage.length(10.0f), LengthPercentage.length(10.0f));
        NodeId node0 = tree.newWithChildren(node0Style, node00, node01, node02);

        Style nodeStyle = new Style();
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.size = new Size<>(Dimension.length(320.0f), Dimension.length(320.0f));
        nodeStyle.border = new Rect<>(LengthPercentage.length(60.0f), LengthPercentage.length(60.0f), LengthPercentage.length(60.0f), LengthPercentage.length(60.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(320.0f, nodeLayout.size().width, "width of node");
        assertEquals(320.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(200.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(60.0f, node0Layout.location().x, "x of node0");
        assertEquals(60.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(160.0f, node00Layout.size().width, "width of node00");
        assertEquals(20.0f, node00Layout.size().height, "height of node00");
        assertEquals(20.0f, node00Layout.location().x, "x of node00");
        assertEquals(0.0f, node00Layout.location().y, "y of node00");
        Layout node01Layout = tree.getLayout(node01);
        assertEquals(160.0f, node01Layout.size().width, "width of node01");
        assertEquals(20.0f, node01Layout.size().height, "height of node01");
        assertEquals(20.0f, node01Layout.location().x, "x of node01");
        assertEquals(30.0f, node01Layout.location().y, "y of node01");
        Layout node02Layout = tree.getLayout(node02);
        assertEquals(160.0f, node02Layout.size().width, "width of node02");
        assertEquals(20.0f, node02Layout.size().height, "height of node02");
        assertEquals(20.0f, node02Layout.location().x, "x of node02");
        assertEquals(60.0f, node02Layout.location().y, "y of node02");
    }

    @Test
    @DisplayName("justify_content_column_space_evenly_negative_space_gap__content_box")
    void justifyContentColumnSpaceEvenlyNegativeSpaceGapContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.boxSizing = BoxSizing.CONTENT_BOX;
        node00Style.flexShrink = 0.0f;
        node00Style.size = new Size<>(Dimension.percent(0.8f), Dimension.length(20.0f));
        NodeId node00 = tree.newLeaf(node00Style);

        Style node01Style = new Style();
        node01Style.boxSizing = BoxSizing.CONTENT_BOX;
        node01Style.flexShrink = 0.0f;
        node01Style.size = new Size<>(Dimension.percent(0.8f), Dimension.length(20.0f));
        NodeId node01 = tree.newLeaf(node01Style);

        Style node02Style = new Style();
        node02Style.boxSizing = BoxSizing.CONTENT_BOX;
        node02Style.flexShrink = 0.0f;
        node02Style.size = new Size<>(Dimension.percent(0.8f), Dimension.length(20.0f));
        NodeId node02 = tree.newLeaf(node02Style);

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.flexDirection = FlexDirection.COLUMN;
        node0Style.alignItems = AlignItems.CENTER;
        node0Style.justifyContent = AlignContent.SPACE_EVENLY;
        node0Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        node0Style.gap = new Size<>(LengthPercentage.length(10.0f), LengthPercentage.length(10.0f));
        NodeId node0 = tree.newWithChildren(node0Style, node00, node01, node02);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.size = new Size<>(Dimension.length(320.0f), Dimension.length(320.0f));
        nodeStyle.border = new Rect<>(LengthPercentage.length(60.0f), LengthPercentage.length(60.0f), LengthPercentage.length(60.0f), LengthPercentage.length(60.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(440.0f, nodeLayout.size().width, "width of node");
        assertEquals(440.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(320.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(60.0f, node0Layout.location().x, "x of node0");
        assertEquals(60.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(256.0f, node00Layout.size().width, "width of node00");
        assertEquals(20.0f, node00Layout.size().height, "height of node00");
        assertEquals(32.0f, node00Layout.location().x, "x of node00");
        assertEquals(0.0f, node00Layout.location().y, "y of node00");
        Layout node01Layout = tree.getLayout(node01);
        assertEquals(256.0f, node01Layout.size().width, "width of node01");
        assertEquals(20.0f, node01Layout.size().height, "height of node01");
        assertEquals(32.0f, node01Layout.location().x, "x of node01");
        assertEquals(30.0f, node01Layout.location().y, "y of node01");
        Layout node02Layout = tree.getLayout(node02);
        assertEquals(256.0f, node02Layout.size().width, "width of node02");
        assertEquals(20.0f, node02Layout.size().height, "height of node02");
        assertEquals(32.0f, node02Layout.location().x, "x of node02");
        assertEquals(60.0f, node02Layout.location().y, "y of node02");
    }

    @Test
    @DisplayName("justify_content_column_start__border_box")
    void justifyContentColumnStartBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        NodeId node2 = tree.newLeaf(node2Style);

        Style nodeStyle = new Style();
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.justifyContent = AlignContent.START;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(100.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(100.0f, node1Layout.size().width, "width of node1");
        assertEquals(10.0f, node1Layout.size().height, "height of node1");
        assertEquals(0.0f, node1Layout.location().x, "x of node1");
        assertEquals(10.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(100.0f, node2Layout.size().width, "width of node2");
        assertEquals(10.0f, node2Layout.size().height, "height of node2");
        assertEquals(0.0f, node2Layout.location().x, "x of node2");
        assertEquals(20.0f, node2Layout.location().y, "y of node2");
    }

    @Test
    @DisplayName("justify_content_column_start__content_box")
    void justifyContentColumnStartContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        node2Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        NodeId node2 = tree.newLeaf(node2Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.justifyContent = AlignContent.START;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(100.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(100.0f, node1Layout.size().width, "width of node1");
        assertEquals(10.0f, node1Layout.size().height, "height of node1");
        assertEquals(0.0f, node1Layout.location().x, "x of node1");
        assertEquals(10.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(100.0f, node2Layout.size().width, "width of node2");
        assertEquals(10.0f, node2Layout.size().height, "height of node2");
        assertEquals(0.0f, node2Layout.location().x, "x of node2");
        assertEquals(20.0f, node2Layout.location().y, "y of node2");
    }

    @Test
    @DisplayName("justify_content_column_start_negative_space__border_box")
    void justifyContentColumnStartNegativeSpaceBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.flexShrink = 0.0f;
        node00Style.size = new Size<>(Dimension.percent(0.8f), Dimension.length(20.0f));
        NodeId node00 = tree.newLeaf(node00Style);

        Style node01Style = new Style();
        node01Style.flexShrink = 0.0f;
        node01Style.size = new Size<>(Dimension.percent(0.8f), Dimension.length(20.0f));
        NodeId node01 = tree.newLeaf(node01Style);

        Style node02Style = new Style();
        node02Style.flexShrink = 0.0f;
        node02Style.size = new Size<>(Dimension.percent(0.8f), Dimension.length(20.0f));
        NodeId node02 = tree.newLeaf(node02Style);

        Style node0Style = new Style();
        node0Style.flexDirection = FlexDirection.COLUMN;
        node0Style.alignItems = AlignItems.CENTER;
        node0Style.justifyContent = AlignContent.START;
        node0Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        NodeId node0 = tree.newWithChildren(node0Style, node00, node01, node02);

        Style nodeStyle = new Style();
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.size = new Size<>(Dimension.length(320.0f), Dimension.length(320.0f));
        nodeStyle.border = new Rect<>(LengthPercentage.length(60.0f), LengthPercentage.length(60.0f), LengthPercentage.length(60.0f), LengthPercentage.length(60.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(320.0f, nodeLayout.size().width, "width of node");
        assertEquals(320.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(200.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(60.0f, node0Layout.location().x, "x of node0");
        assertEquals(60.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(160.0f, node00Layout.size().width, "width of node00");
        assertEquals(20.0f, node00Layout.size().height, "height of node00");
        assertEquals(20.0f, node00Layout.location().x, "x of node00");
        assertEquals(0.0f, node00Layout.location().y, "y of node00");
        Layout node01Layout = tree.getLayout(node01);
        assertEquals(160.0f, node01Layout.size().width, "width of node01");
        assertEquals(20.0f, node01Layout.size().height, "height of node01");
        assertEquals(20.0f, node01Layout.location().x, "x of node01");
        assertEquals(20.0f, node01Layout.location().y, "y of node01");
        Layout node02Layout = tree.getLayout(node02);
        assertEquals(160.0f, node02Layout.size().width, "width of node02");
        assertEquals(20.0f, node02Layout.size().height, "height of node02");
        assertEquals(20.0f, node02Layout.location().x, "x of node02");
        assertEquals(40.0f, node02Layout.location().y, "y of node02");
    }

    @Test
    @DisplayName("justify_content_column_start_negative_space__content_box")
    void justifyContentColumnStartNegativeSpaceContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.boxSizing = BoxSizing.CONTENT_BOX;
        node00Style.flexShrink = 0.0f;
        node00Style.size = new Size<>(Dimension.percent(0.8f), Dimension.length(20.0f));
        NodeId node00 = tree.newLeaf(node00Style);

        Style node01Style = new Style();
        node01Style.boxSizing = BoxSizing.CONTENT_BOX;
        node01Style.flexShrink = 0.0f;
        node01Style.size = new Size<>(Dimension.percent(0.8f), Dimension.length(20.0f));
        NodeId node01 = tree.newLeaf(node01Style);

        Style node02Style = new Style();
        node02Style.boxSizing = BoxSizing.CONTENT_BOX;
        node02Style.flexShrink = 0.0f;
        node02Style.size = new Size<>(Dimension.percent(0.8f), Dimension.length(20.0f));
        NodeId node02 = tree.newLeaf(node02Style);

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.flexDirection = FlexDirection.COLUMN;
        node0Style.alignItems = AlignItems.CENTER;
        node0Style.justifyContent = AlignContent.START;
        node0Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        NodeId node0 = tree.newWithChildren(node0Style, node00, node01, node02);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.size = new Size<>(Dimension.length(320.0f), Dimension.length(320.0f));
        nodeStyle.border = new Rect<>(LengthPercentage.length(60.0f), LengthPercentage.length(60.0f), LengthPercentage.length(60.0f), LengthPercentage.length(60.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(440.0f, nodeLayout.size().width, "width of node");
        assertEquals(440.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(320.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(60.0f, node0Layout.location().x, "x of node0");
        assertEquals(60.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(256.0f, node00Layout.size().width, "width of node00");
        assertEquals(20.0f, node00Layout.size().height, "height of node00");
        assertEquals(32.0f, node00Layout.location().x, "x of node00");
        assertEquals(0.0f, node00Layout.location().y, "y of node00");
        Layout node01Layout = tree.getLayout(node01);
        assertEquals(256.0f, node01Layout.size().width, "width of node01");
        assertEquals(20.0f, node01Layout.size().height, "height of node01");
        assertEquals(32.0f, node01Layout.location().x, "x of node01");
        assertEquals(20.0f, node01Layout.location().y, "y of node01");
        Layout node02Layout = tree.getLayout(node02);
        assertEquals(256.0f, node02Layout.size().width, "width of node02");
        assertEquals(20.0f, node02Layout.size().height, "height of node02");
        assertEquals(32.0f, node02Layout.location().x, "x of node02");
        assertEquals(40.0f, node02Layout.location().y, "y of node02");
    }

    @Test
    @DisplayName("justify_content_column_start_negative_space_gap__border_box")
    void justifyContentColumnStartNegativeSpaceGapBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.flexShrink = 0.0f;
        node00Style.size = new Size<>(Dimension.percent(0.8f), Dimension.length(20.0f));
        NodeId node00 = tree.newLeaf(node00Style);

        Style node01Style = new Style();
        node01Style.flexShrink = 0.0f;
        node01Style.size = new Size<>(Dimension.percent(0.8f), Dimension.length(20.0f));
        NodeId node01 = tree.newLeaf(node01Style);

        Style node02Style = new Style();
        node02Style.flexShrink = 0.0f;
        node02Style.size = new Size<>(Dimension.percent(0.8f), Dimension.length(20.0f));
        NodeId node02 = tree.newLeaf(node02Style);

        Style node0Style = new Style();
        node0Style.flexDirection = FlexDirection.COLUMN;
        node0Style.alignItems = AlignItems.CENTER;
        node0Style.justifyContent = AlignContent.START;
        node0Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        node0Style.gap = new Size<>(LengthPercentage.length(10.0f), LengthPercentage.length(10.0f));
        NodeId node0 = tree.newWithChildren(node0Style, node00, node01, node02);

        Style nodeStyle = new Style();
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.size = new Size<>(Dimension.length(320.0f), Dimension.length(320.0f));
        nodeStyle.border = new Rect<>(LengthPercentage.length(60.0f), LengthPercentage.length(60.0f), LengthPercentage.length(60.0f), LengthPercentage.length(60.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(320.0f, nodeLayout.size().width, "width of node");
        assertEquals(320.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(200.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(60.0f, node0Layout.location().x, "x of node0");
        assertEquals(60.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(160.0f, node00Layout.size().width, "width of node00");
        assertEquals(20.0f, node00Layout.size().height, "height of node00");
        assertEquals(20.0f, node00Layout.location().x, "x of node00");
        assertEquals(0.0f, node00Layout.location().y, "y of node00");
        Layout node01Layout = tree.getLayout(node01);
        assertEquals(160.0f, node01Layout.size().width, "width of node01");
        assertEquals(20.0f, node01Layout.size().height, "height of node01");
        assertEquals(20.0f, node01Layout.location().x, "x of node01");
        assertEquals(30.0f, node01Layout.location().y, "y of node01");
        Layout node02Layout = tree.getLayout(node02);
        assertEquals(160.0f, node02Layout.size().width, "width of node02");
        assertEquals(20.0f, node02Layout.size().height, "height of node02");
        assertEquals(20.0f, node02Layout.location().x, "x of node02");
        assertEquals(60.0f, node02Layout.location().y, "y of node02");
    }

    @Test
    @DisplayName("justify_content_column_start_negative_space_gap__content_box")
    void justifyContentColumnStartNegativeSpaceGapContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.boxSizing = BoxSizing.CONTENT_BOX;
        node00Style.flexShrink = 0.0f;
        node00Style.size = new Size<>(Dimension.percent(0.8f), Dimension.length(20.0f));
        NodeId node00 = tree.newLeaf(node00Style);

        Style node01Style = new Style();
        node01Style.boxSizing = BoxSizing.CONTENT_BOX;
        node01Style.flexShrink = 0.0f;
        node01Style.size = new Size<>(Dimension.percent(0.8f), Dimension.length(20.0f));
        NodeId node01 = tree.newLeaf(node01Style);

        Style node02Style = new Style();
        node02Style.boxSizing = BoxSizing.CONTENT_BOX;
        node02Style.flexShrink = 0.0f;
        node02Style.size = new Size<>(Dimension.percent(0.8f), Dimension.length(20.0f));
        NodeId node02 = tree.newLeaf(node02Style);

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.flexDirection = FlexDirection.COLUMN;
        node0Style.alignItems = AlignItems.CENTER;
        node0Style.justifyContent = AlignContent.START;
        node0Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        node0Style.gap = new Size<>(LengthPercentage.length(10.0f), LengthPercentage.length(10.0f));
        NodeId node0 = tree.newWithChildren(node0Style, node00, node01, node02);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.size = new Size<>(Dimension.length(320.0f), Dimension.length(320.0f));
        nodeStyle.border = new Rect<>(LengthPercentage.length(60.0f), LengthPercentage.length(60.0f), LengthPercentage.length(60.0f), LengthPercentage.length(60.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(440.0f, nodeLayout.size().width, "width of node");
        assertEquals(440.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(320.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(60.0f, node0Layout.location().x, "x of node0");
        assertEquals(60.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(256.0f, node00Layout.size().width, "width of node00");
        assertEquals(20.0f, node00Layout.size().height, "height of node00");
        assertEquals(32.0f, node00Layout.location().x, "x of node00");
        assertEquals(0.0f, node00Layout.location().y, "y of node00");
        Layout node01Layout = tree.getLayout(node01);
        assertEquals(256.0f, node01Layout.size().width, "width of node01");
        assertEquals(20.0f, node01Layout.size().height, "height of node01");
        assertEquals(32.0f, node01Layout.location().x, "x of node01");
        assertEquals(30.0f, node01Layout.location().y, "y of node01");
        Layout node02Layout = tree.getLayout(node02);
        assertEquals(256.0f, node02Layout.size().width, "width of node02");
        assertEquals(20.0f, node02Layout.size().height, "height of node02");
        assertEquals(32.0f, node02Layout.location().x, "x of node02");
        assertEquals(60.0f, node02Layout.location().y, "y of node02");
    }

    @Test
    @DisplayName("justify_content_column_start_reverse__border_box")
    void justifyContentColumnStartReverseBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        NodeId node2 = tree.newLeaf(node2Style);

        Style nodeStyle = new Style();
        nodeStyle.flexDirection = FlexDirection.COLUMN_REVERSE;
        nodeStyle.justifyContent = AlignContent.START;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(100.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(20.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(100.0f, node1Layout.size().width, "width of node1");
        assertEquals(10.0f, node1Layout.size().height, "height of node1");
        assertEquals(0.0f, node1Layout.location().x, "x of node1");
        assertEquals(10.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(100.0f, node2Layout.size().width, "width of node2");
        assertEquals(10.0f, node2Layout.size().height, "height of node2");
        assertEquals(0.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
    }

    @Test
    @DisplayName("justify_content_column_start_reverse__content_box")
    void justifyContentColumnStartReverseContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        node2Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        NodeId node2 = tree.newLeaf(node2Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexDirection = FlexDirection.COLUMN_REVERSE;
        nodeStyle.justifyContent = AlignContent.START;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(100.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(20.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(100.0f, node1Layout.size().width, "width of node1");
        assertEquals(10.0f, node1Layout.size().height, "height of node1");
        assertEquals(0.0f, node1Layout.location().x, "x of node1");
        assertEquals(10.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(100.0f, node2Layout.size().width, "width of node2");
        assertEquals(10.0f, node2Layout.size().height, "height of node2");
        assertEquals(0.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
    }

    @Test
    @DisplayName("justify_content_min_max__border_box")
    void justifyContentMinMaxBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.length(60.0f), Dimension.length(60.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.justifyContent = AlignContent.CENTER;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.AUTO);
        nodeStyle.minSize = new Size<>(Dimension.AUTO, Dimension.length(100.0f));
        nodeStyle.maxSize = new Size<>(Dimension.AUTO, Dimension.length(200.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(60.0f, node0Layout.size().width, "width of node0");
        assertEquals(60.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(20.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("justify_content_min_max__content_box")
    void justifyContentMinMaxContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.length(60.0f), Dimension.length(60.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.justifyContent = AlignContent.CENTER;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.AUTO);
        nodeStyle.minSize = new Size<>(Dimension.AUTO, Dimension.length(100.0f));
        nodeStyle.maxSize = new Size<>(Dimension.AUTO, Dimension.length(200.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(60.0f, node0Layout.size().width, "width of node0");
        assertEquals(60.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(20.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("justify_content_min_width_with_padding_child_width_greater_than_parent__border_box")
    void justifyContentMinWidthWithPaddingChildWidthGreaterThanParentBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node000Style = new Style();
        node000Style.alignContent = AlignContent.STRETCH;
        node000Style.size = new Size<>(Dimension.length(300.0f), Dimension.length(100.0f));
        NodeId node000 = tree.newLeaf(node000Style);

        Style node00Style = new Style();
        node00Style.alignContent = AlignContent.STRETCH;
        node00Style.justifyContent = AlignContent.CENTER;
        node00Style.minSize = new Size<>(Dimension.length(400.0f), Dimension.AUTO);
        node00Style.padding = new Rect<>(LengthPercentage.length(100.0f), LengthPercentage.length(100.0f), LengthPercentage.ZERO, LengthPercentage.ZERO);
        NodeId node00 = tree.newWithChildren(node00Style, node000);

        Style node0Style = new Style();
        node0Style.alignContent = AlignContent.STRETCH;
        NodeId node0 = tree.newWithChildren(node0Style, node00);

        Style nodeStyle = new Style();
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.alignContent = AlignContent.STRETCH;
        nodeStyle.size = new Size<>(Dimension.length(1000.0f), Dimension.length(1584.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(1000.0f, nodeLayout.size().width, "width of node");
        assertEquals(1584.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(1000.0f, node0Layout.size().width, "width of node0");
        assertEquals(100.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(500.0f, node00Layout.size().width, "width of node00");
        assertEquals(100.0f, node00Layout.size().height, "height of node00");
        assertEquals(0.0f, node00Layout.location().x, "x of node00");
        assertEquals(0.0f, node00Layout.location().y, "y of node00");
        Layout node000Layout = tree.getLayout(node000);
        assertEquals(300.0f, node000Layout.size().width, "width of node000");
        assertEquals(100.0f, node000Layout.size().height, "height of node000");
        assertEquals(100.0f, node000Layout.location().x, "x of node000");
        assertEquals(0.0f, node000Layout.location().y, "y of node000");
    }

    @Test
    @DisplayName("justify_content_min_width_with_padding_child_width_greater_than_parent__content_box")
    void justifyContentMinWidthWithPaddingChildWidthGreaterThanParentContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node000Style = new Style();
        node000Style.boxSizing = BoxSizing.CONTENT_BOX;
        node000Style.alignContent = AlignContent.STRETCH;
        node000Style.size = new Size<>(Dimension.length(300.0f), Dimension.length(100.0f));
        NodeId node000 = tree.newLeaf(node000Style);

        Style node00Style = new Style();
        node00Style.boxSizing = BoxSizing.CONTENT_BOX;
        node00Style.alignContent = AlignContent.STRETCH;
        node00Style.justifyContent = AlignContent.CENTER;
        node00Style.minSize = new Size<>(Dimension.length(400.0f), Dimension.AUTO);
        node00Style.padding = new Rect<>(LengthPercentage.length(100.0f), LengthPercentage.length(100.0f), LengthPercentage.ZERO, LengthPercentage.ZERO);
        NodeId node00 = tree.newWithChildren(node00Style, node000);

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.alignContent = AlignContent.STRETCH;
        NodeId node0 = tree.newWithChildren(node0Style, node00);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.alignContent = AlignContent.STRETCH;
        nodeStyle.size = new Size<>(Dimension.length(1000.0f), Dimension.length(1584.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(1000.0f, nodeLayout.size().width, "width of node");
        assertEquals(1584.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(1000.0f, node0Layout.size().width, "width of node0");
        assertEquals(100.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(600.0f, node00Layout.size().width, "width of node00");
        assertEquals(100.0f, node00Layout.size().height, "height of node00");
        assertEquals(0.0f, node00Layout.location().x, "x of node00");
        assertEquals(0.0f, node00Layout.location().y, "y of node00");
        Layout node000Layout = tree.getLayout(node000);
        assertEquals(300.0f, node000Layout.size().width, "width of node000");
        assertEquals(100.0f, node000Layout.size().height, "height of node000");
        assertEquals(150.0f, node000Layout.location().x, "x of node000");
        assertEquals(0.0f, node000Layout.location().y, "y of node000");
    }

    @Test
    @DisplayName("justify_content_min_width_with_padding_child_width_lower_than_parent__border_box")
    void justifyContentMinWidthWithPaddingChildWidthLowerThanParentBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node000Style = new Style();
        node000Style.alignContent = AlignContent.STRETCH;
        node000Style.size = new Size<>(Dimension.length(199.0f), Dimension.length(100.0f));
        NodeId node000 = tree.newLeaf(node000Style);

        Style node00Style = new Style();
        node00Style.alignContent = AlignContent.STRETCH;
        node00Style.justifyContent = AlignContent.CENTER;
        node00Style.minSize = new Size<>(Dimension.length(400.0f), Dimension.AUTO);
        node00Style.padding = new Rect<>(LengthPercentage.length(100.0f), LengthPercentage.length(100.0f), LengthPercentage.ZERO, LengthPercentage.ZERO);
        NodeId node00 = tree.newWithChildren(node00Style, node000);

        Style node0Style = new Style();
        node0Style.alignContent = AlignContent.STRETCH;
        NodeId node0 = tree.newWithChildren(node0Style, node00);

        Style nodeStyle = new Style();
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.alignContent = AlignContent.STRETCH;
        nodeStyle.size = new Size<>(Dimension.length(1080.0f), Dimension.length(1584.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(1080.0f, nodeLayout.size().width, "width of node");
        assertEquals(1584.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(1080.0f, node0Layout.size().width, "width of node0");
        assertEquals(100.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(400.0f, node00Layout.size().width, "width of node00");
        assertEquals(100.0f, node00Layout.size().height, "height of node00");
        assertEquals(0.0f, node00Layout.location().x, "x of node00");
        assertEquals(0.0f, node00Layout.location().y, "y of node00");
        Layout node000Layout = tree.getLayout(node000);
        assertEquals(199.0f, node000Layout.size().width, "width of node000");
        assertEquals(100.0f, node000Layout.size().height, "height of node000");
        assertEquals(101.0f, node000Layout.location().x, "x of node000");
        assertEquals(0.0f, node000Layout.location().y, "y of node000");
    }

    @Test
    @DisplayName("justify_content_min_width_with_padding_child_width_lower_than_parent__content_box")
    void justifyContentMinWidthWithPaddingChildWidthLowerThanParentContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node000Style = new Style();
        node000Style.boxSizing = BoxSizing.CONTENT_BOX;
        node000Style.alignContent = AlignContent.STRETCH;
        node000Style.size = new Size<>(Dimension.length(199.0f), Dimension.length(100.0f));
        NodeId node000 = tree.newLeaf(node000Style);

        Style node00Style = new Style();
        node00Style.boxSizing = BoxSizing.CONTENT_BOX;
        node00Style.alignContent = AlignContent.STRETCH;
        node00Style.justifyContent = AlignContent.CENTER;
        node00Style.minSize = new Size<>(Dimension.length(400.0f), Dimension.AUTO);
        node00Style.padding = new Rect<>(LengthPercentage.length(100.0f), LengthPercentage.length(100.0f), LengthPercentage.ZERO, LengthPercentage.ZERO);
        NodeId node00 = tree.newWithChildren(node00Style, node000);

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.alignContent = AlignContent.STRETCH;
        NodeId node0 = tree.newWithChildren(node0Style, node00);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.alignContent = AlignContent.STRETCH;
        nodeStyle.size = new Size<>(Dimension.length(1080.0f), Dimension.length(1584.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(1080.0f, nodeLayout.size().width, "width of node");
        assertEquals(1584.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(1080.0f, node0Layout.size().width, "width of node0");
        assertEquals(100.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(600.0f, node00Layout.size().width, "width of node00");
        assertEquals(100.0f, node00Layout.size().height, "height of node00");
        assertEquals(0.0f, node00Layout.location().x, "x of node00");
        assertEquals(0.0f, node00Layout.location().y, "y of node00");
        Layout node000Layout = tree.getLayout(node000);
        assertEquals(199.0f, node000Layout.size().width, "width of node000");
        assertEquals(100.0f, node000Layout.size().height, "height of node000");
        assertEquals(201.0f, node000Layout.location().x, "x of node000");
        assertEquals(0.0f, node000Layout.location().y, "y of node000");
    }

    @Test
    @DisplayName("justify_content_overflow_min_max__border_box")
    void justifyContentOverflowMinMaxBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.flexShrink = 0.0f;
        node0Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.flexShrink = 0.0f;
        node1Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.flexShrink = 0.0f;
        node2Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        NodeId node2 = tree.newLeaf(node2Style);

        Style nodeStyle = new Style();
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.justifyContent = AlignContent.CENTER;
        nodeStyle.minSize = new Size<>(Dimension.AUTO, Dimension.length(100.0f));
        nodeStyle.maxSize = new Size<>(Dimension.AUTO, Dimension.length(110.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(50.0f, nodeLayout.size().width, "width of node");
        assertEquals(110.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(50.0f, node0Layout.size().width, "width of node0");
        assertEquals(50.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(-20.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(50.0f, node1Layout.size().width, "width of node1");
        assertEquals(50.0f, node1Layout.size().height, "height of node1");
        assertEquals(0.0f, node1Layout.location().x, "x of node1");
        assertEquals(30.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(50.0f, node2Layout.size().width, "width of node2");
        assertEquals(50.0f, node2Layout.size().height, "height of node2");
        assertEquals(0.0f, node2Layout.location().x, "x of node2");
        assertEquals(80.0f, node2Layout.location().y, "y of node2");
    }

    @Test
    @DisplayName("justify_content_overflow_min_max__content_box")
    void justifyContentOverflowMinMaxContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.flexShrink = 0.0f;
        node0Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.flexShrink = 0.0f;
        node1Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        node2Style.flexShrink = 0.0f;
        node2Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        NodeId node2 = tree.newLeaf(node2Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.justifyContent = AlignContent.CENTER;
        nodeStyle.minSize = new Size<>(Dimension.AUTO, Dimension.length(100.0f));
        nodeStyle.maxSize = new Size<>(Dimension.AUTO, Dimension.length(110.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(50.0f, nodeLayout.size().width, "width of node");
        assertEquals(110.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(50.0f, node0Layout.size().width, "width of node0");
        assertEquals(50.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(-20.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(50.0f, node1Layout.size().width, "width of node1");
        assertEquals(50.0f, node1Layout.size().height, "height of node1");
        assertEquals(0.0f, node1Layout.location().x, "x of node1");
        assertEquals(30.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(50.0f, node2Layout.size().width, "width of node2");
        assertEquals(50.0f, node2Layout.size().height, "height of node2");
        assertEquals(0.0f, node2Layout.location().x, "x of node2");
        assertEquals(80.0f, node2Layout.location().y, "y of node2");
    }

    @Test
    @DisplayName("justify_content_row_center__border_box")
    void justifyContentRowCenterBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.length(10.0f), Dimension.AUTO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.size = new Size<>(Dimension.length(10.0f), Dimension.AUTO);
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.size = new Size<>(Dimension.length(10.0f), Dimension.AUTO);
        NodeId node2 = tree.newLeaf(node2Style);

        Style nodeStyle = new Style();
        nodeStyle.justifyContent = AlignContent.CENTER;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(10.0f, node0Layout.size().width, "width of node0");
        assertEquals(100.0f, node0Layout.size().height, "height of node0");
        assertEquals(35.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(10.0f, node1Layout.size().width, "width of node1");
        assertEquals(100.0f, node1Layout.size().height, "height of node1");
        assertEquals(45.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(10.0f, node2Layout.size().width, "width of node2");
        assertEquals(100.0f, node2Layout.size().height, "height of node2");
        assertEquals(55.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
    }

    @Test
    @DisplayName("justify_content_row_center__content_box")
    void justifyContentRowCenterContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.length(10.0f), Dimension.AUTO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.size = new Size<>(Dimension.length(10.0f), Dimension.AUTO);
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        node2Style.size = new Size<>(Dimension.length(10.0f), Dimension.AUTO);
        NodeId node2 = tree.newLeaf(node2Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.justifyContent = AlignContent.CENTER;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(10.0f, node0Layout.size().width, "width of node0");
        assertEquals(100.0f, node0Layout.size().height, "height of node0");
        assertEquals(35.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(10.0f, node1Layout.size().width, "width of node1");
        assertEquals(100.0f, node1Layout.size().height, "height of node1");
        assertEquals(45.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(10.0f, node2Layout.size().width, "width of node2");
        assertEquals(100.0f, node2Layout.size().height, "height of node2");
        assertEquals(55.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
    }

    @Test
    @DisplayName("justify_content_row_flex_end__border_box")
    void justifyContentRowFlexEndBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.length(10.0f), Dimension.AUTO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.size = new Size<>(Dimension.length(10.0f), Dimension.AUTO);
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.size = new Size<>(Dimension.length(10.0f), Dimension.AUTO);
        NodeId node2 = tree.newLeaf(node2Style);

        Style nodeStyle = new Style();
        nodeStyle.justifyContent = AlignContent.FLEX_END;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(10.0f, node0Layout.size().width, "width of node0");
        assertEquals(100.0f, node0Layout.size().height, "height of node0");
        assertEquals(70.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(10.0f, node1Layout.size().width, "width of node1");
        assertEquals(100.0f, node1Layout.size().height, "height of node1");
        assertEquals(80.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(10.0f, node2Layout.size().width, "width of node2");
        assertEquals(100.0f, node2Layout.size().height, "height of node2");
        assertEquals(90.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
    }

    @Test
    @DisplayName("justify_content_row_flex_end__content_box")
    void justifyContentRowFlexEndContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.length(10.0f), Dimension.AUTO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.size = new Size<>(Dimension.length(10.0f), Dimension.AUTO);
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        node2Style.size = new Size<>(Dimension.length(10.0f), Dimension.AUTO);
        NodeId node2 = tree.newLeaf(node2Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.justifyContent = AlignContent.FLEX_END;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(10.0f, node0Layout.size().width, "width of node0");
        assertEquals(100.0f, node0Layout.size().height, "height of node0");
        assertEquals(70.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(10.0f, node1Layout.size().width, "width of node1");
        assertEquals(100.0f, node1Layout.size().height, "height of node1");
        assertEquals(80.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(10.0f, node2Layout.size().width, "width of node2");
        assertEquals(100.0f, node2Layout.size().height, "height of node2");
        assertEquals(90.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
    }

    @Test
    @DisplayName("justify_content_row_flex_start__border_box")
    void justifyContentRowFlexStartBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.length(10.0f), Dimension.AUTO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.size = new Size<>(Dimension.length(10.0f), Dimension.AUTO);
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.size = new Size<>(Dimension.length(10.0f), Dimension.AUTO);
        NodeId node2 = tree.newLeaf(node2Style);

        Style nodeStyle = new Style();
        nodeStyle.justifyContent = AlignContent.FLEX_START;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(10.0f, node0Layout.size().width, "width of node0");
        assertEquals(100.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(10.0f, node1Layout.size().width, "width of node1");
        assertEquals(100.0f, node1Layout.size().height, "height of node1");
        assertEquals(10.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(10.0f, node2Layout.size().width, "width of node2");
        assertEquals(100.0f, node2Layout.size().height, "height of node2");
        assertEquals(20.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
    }

    @Test
    @DisplayName("justify_content_row_flex_start__content_box")
    void justifyContentRowFlexStartContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.length(10.0f), Dimension.AUTO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.size = new Size<>(Dimension.length(10.0f), Dimension.AUTO);
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        node2Style.size = new Size<>(Dimension.length(10.0f), Dimension.AUTO);
        NodeId node2 = tree.newLeaf(node2Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.justifyContent = AlignContent.FLEX_START;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(10.0f, node0Layout.size().width, "width of node0");
        assertEquals(100.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(10.0f, node1Layout.size().width, "width of node1");
        assertEquals(100.0f, node1Layout.size().height, "height of node1");
        assertEquals(10.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(10.0f, node2Layout.size().width, "width of node2");
        assertEquals(100.0f, node2Layout.size().height, "height of node2");
        assertEquals(20.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
    }

    @Test
    @DisplayName("justify_content_row_max_width_and_margin__border_box")
    void justifyContentRowMaxWidthAndMarginBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        node0Style.margin = new Rect<>(LengthPercentageAuto.length(100.0f), LengthPercentageAuto.ZERO, LengthPercentageAuto.ZERO, LengthPercentageAuto.ZERO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.justifyContent = AlignContent.CENTER;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.AUTO);
        nodeStyle.maxSize = new Size<>(Dimension.length(80.0f), Dimension.AUTO);
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(80.0f, nodeLayout.size().width, "width of node");
        assertEquals(20.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(0.0f, node0Layout.size().width, "width of node0");
        assertEquals(20.0f, node0Layout.size().height, "height of node0");
        assertEquals(90.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("justify_content_row_max_width_and_margin__content_box")
    void justifyContentRowMaxWidthAndMarginContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        node0Style.margin = new Rect<>(LengthPercentageAuto.length(100.0f), LengthPercentageAuto.ZERO, LengthPercentageAuto.ZERO, LengthPercentageAuto.ZERO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.justifyContent = AlignContent.CENTER;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.AUTO);
        nodeStyle.maxSize = new Size<>(Dimension.length(80.0f), Dimension.AUTO);
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(80.0f, nodeLayout.size().width, "width of node");
        assertEquals(20.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(0.0f, node0Layout.size().width, "width of node0");
        assertEquals(20.0f, node0Layout.size().height, "height of node0");
        assertEquals(90.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("justify_content_row_min_width_and_margin__border_box")
    void justifyContentRowMinWidthAndMarginBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        node0Style.margin = new Rect<>(LengthPercentageAuto.length(10.0f), LengthPercentageAuto.ZERO, LengthPercentageAuto.ZERO, LengthPercentageAuto.ZERO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.justifyContent = AlignContent.CENTER;
        nodeStyle.minSize = new Size<>(Dimension.length(50.0f), Dimension.AUTO);
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(50.0f, nodeLayout.size().width, "width of node");
        assertEquals(20.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(20.0f, node0Layout.size().width, "width of node0");
        assertEquals(20.0f, node0Layout.size().height, "height of node0");
        assertEquals(20.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("justify_content_row_min_width_and_margin__content_box")
    void justifyContentRowMinWidthAndMarginContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        node0Style.margin = new Rect<>(LengthPercentageAuto.length(10.0f), LengthPercentageAuto.ZERO, LengthPercentageAuto.ZERO, LengthPercentageAuto.ZERO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.justifyContent = AlignContent.CENTER;
        nodeStyle.minSize = new Size<>(Dimension.length(50.0f), Dimension.AUTO);
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(50.0f, nodeLayout.size().width, "width of node");
        assertEquals(20.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(20.0f, node0Layout.size().width, "width of node0");
        assertEquals(20.0f, node0Layout.size().height, "height of node0");
        assertEquals(20.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("justify_content_row_space_around__border_box")
    void justifyContentRowSpaceAroundBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.length(10.0f), Dimension.AUTO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.size = new Size<>(Dimension.length(10.0f), Dimension.AUTO);
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.size = new Size<>(Dimension.length(10.0f), Dimension.AUTO);
        NodeId node2 = tree.newLeaf(node2Style);

        Style nodeStyle = new Style();
        nodeStyle.justifyContent = AlignContent.SPACE_AROUND;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(10.0f, node0Layout.size().width, "width of node0");
        assertEquals(100.0f, node0Layout.size().height, "height of node0");
        assertEquals(12.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(10.0f, node1Layout.size().width, "width of node1");
        assertEquals(100.0f, node1Layout.size().height, "height of node1");
        assertEquals(45.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(10.0f, node2Layout.size().width, "width of node2");
        assertEquals(100.0f, node2Layout.size().height, "height of node2");
        assertEquals(78.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
    }

    @Test
    @DisplayName("justify_content_row_space_around__content_box")
    void justifyContentRowSpaceAroundContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.length(10.0f), Dimension.AUTO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.size = new Size<>(Dimension.length(10.0f), Dimension.AUTO);
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        node2Style.size = new Size<>(Dimension.length(10.0f), Dimension.AUTO);
        NodeId node2 = tree.newLeaf(node2Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.justifyContent = AlignContent.SPACE_AROUND;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(10.0f, node0Layout.size().width, "width of node0");
        assertEquals(100.0f, node0Layout.size().height, "height of node0");
        assertEquals(12.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(10.0f, node1Layout.size().width, "width of node1");
        assertEquals(100.0f, node1Layout.size().height, "height of node1");
        assertEquals(45.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(10.0f, node2Layout.size().width, "width of node2");
        assertEquals(100.0f, node2Layout.size().height, "height of node2");
        assertEquals(78.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
    }

    @Test
    @DisplayName("justify_content_row_space_between__border_box")
    void justifyContentRowSpaceBetweenBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.length(10.0f), Dimension.AUTO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.size = new Size<>(Dimension.length(10.0f), Dimension.AUTO);
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.size = new Size<>(Dimension.length(10.0f), Dimension.AUTO);
        NodeId node2 = tree.newLeaf(node2Style);

        Style nodeStyle = new Style();
        nodeStyle.justifyContent = AlignContent.SPACE_BETWEEN;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(10.0f, node0Layout.size().width, "width of node0");
        assertEquals(100.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(10.0f, node1Layout.size().width, "width of node1");
        assertEquals(100.0f, node1Layout.size().height, "height of node1");
        assertEquals(45.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(10.0f, node2Layout.size().width, "width of node2");
        assertEquals(100.0f, node2Layout.size().height, "height of node2");
        assertEquals(90.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
    }

    @Test
    @DisplayName("justify_content_row_space_between__content_box")
    void justifyContentRowSpaceBetweenContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.length(10.0f), Dimension.AUTO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.size = new Size<>(Dimension.length(10.0f), Dimension.AUTO);
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        node2Style.size = new Size<>(Dimension.length(10.0f), Dimension.AUTO);
        NodeId node2 = tree.newLeaf(node2Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.justifyContent = AlignContent.SPACE_BETWEEN;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(10.0f, node0Layout.size().width, "width of node0");
        assertEquals(100.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(10.0f, node1Layout.size().width, "width of node1");
        assertEquals(100.0f, node1Layout.size().height, "height of node1");
        assertEquals(45.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(10.0f, node2Layout.size().width, "width of node2");
        assertEquals(100.0f, node2Layout.size().height, "height of node2");
        assertEquals(90.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
    }

    @Test
    @DisplayName("justify_content_row_space_evenly__border_box")
    void justifyContentRowSpaceEvenlyBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        NodeId node2 = tree.newLeaf(node2Style);

        Style nodeStyle = new Style();
        nodeStyle.justifyContent = AlignContent.SPACE_EVENLY;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(0.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(25.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(0.0f, node1Layout.size().width, "width of node1");
        assertEquals(10.0f, node1Layout.size().height, "height of node1");
        assertEquals(50.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(0.0f, node2Layout.size().width, "width of node2");
        assertEquals(10.0f, node2Layout.size().height, "height of node2");
        assertEquals(75.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
    }

    @Test
    @DisplayName("justify_content_row_space_evenly__content_box")
    void justifyContentRowSpaceEvenlyContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        node2Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        NodeId node2 = tree.newLeaf(node2Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.justifyContent = AlignContent.SPACE_EVENLY;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(0.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(25.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(0.0f, node1Layout.size().width, "width of node1");
        assertEquals(10.0f, node1Layout.size().height, "height of node1");
        assertEquals(50.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(0.0f, node2Layout.size().width, "width of node2");
        assertEquals(10.0f, node2Layout.size().height, "height of node2");
        assertEquals(75.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
    }

    @Test
    @DisplayName("margin_and_flex_column__border_box")
    void marginAndFlexColumnBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.flexGrow = 1.0f;
        node0Style.margin = new Rect<>(LengthPercentageAuto.ZERO, LengthPercentageAuto.ZERO, LengthPercentageAuto.length(10.0f), LengthPercentageAuto.length(10.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(100.0f, node0Layout.size().width, "width of node0");
        assertEquals(80.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(10.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("margin_and_flex_column__content_box")
    void marginAndFlexColumnContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.flexGrow = 1.0f;
        node0Style.margin = new Rect<>(LengthPercentageAuto.ZERO, LengthPercentageAuto.ZERO, LengthPercentageAuto.length(10.0f), LengthPercentageAuto.length(10.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(100.0f, node0Layout.size().width, "width of node0");
        assertEquals(80.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(10.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("margin_and_flex_row__border_box")
    void marginAndFlexRowBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.flexGrow = 1.0f;
        node0Style.margin = new Rect<>(LengthPercentageAuto.length(10.0f), LengthPercentageAuto.length(10.0f), LengthPercentageAuto.ZERO, LengthPercentageAuto.ZERO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(80.0f, node0Layout.size().width, "width of node0");
        assertEquals(100.0f, node0Layout.size().height, "height of node0");
        assertEquals(10.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("margin_and_flex_row__content_box")
    void marginAndFlexRowContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.flexGrow = 1.0f;
        node0Style.margin = new Rect<>(LengthPercentageAuto.length(10.0f), LengthPercentageAuto.length(10.0f), LengthPercentageAuto.ZERO, LengthPercentageAuto.ZERO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(80.0f, node0Layout.size().width, "width of node0");
        assertEquals(100.0f, node0Layout.size().height, "height of node0");
        assertEquals(10.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("margin_and_stretch_column__border_box")
    void marginAndStretchColumnBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.flexGrow = 1.0f;
        node0Style.margin = new Rect<>(LengthPercentageAuto.length(10.0f), LengthPercentageAuto.length(10.0f), LengthPercentageAuto.ZERO, LengthPercentageAuto.ZERO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(80.0f, node0Layout.size().width, "width of node0");
        assertEquals(100.0f, node0Layout.size().height, "height of node0");
        assertEquals(10.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("margin_and_stretch_column__content_box")
    void marginAndStretchColumnContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.flexGrow = 1.0f;
        node0Style.margin = new Rect<>(LengthPercentageAuto.length(10.0f), LengthPercentageAuto.length(10.0f), LengthPercentageAuto.ZERO, LengthPercentageAuto.ZERO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(80.0f, node0Layout.size().width, "width of node0");
        assertEquals(100.0f, node0Layout.size().height, "height of node0");
        assertEquals(10.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("margin_and_stretch_row__border_box")
    void marginAndStretchRowBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.flexGrow = 1.0f;
        node0Style.margin = new Rect<>(LengthPercentageAuto.ZERO, LengthPercentageAuto.ZERO, LengthPercentageAuto.length(10.0f), LengthPercentageAuto.length(10.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(100.0f, node0Layout.size().width, "width of node0");
        assertEquals(80.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(10.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("margin_and_stretch_row__content_box")
    void marginAndStretchRowContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.flexGrow = 1.0f;
        node0Style.margin = new Rect<>(LengthPercentageAuto.ZERO, LengthPercentageAuto.ZERO, LengthPercentageAuto.length(10.0f), LengthPercentageAuto.length(10.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(100.0f, node0Layout.size().width, "width of node0");
        assertEquals(80.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(10.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("margin_auto_bottom__border_box")
    void marginAutoBottomBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        node0Style.margin = new Rect<>(LengthPercentageAuto.ZERO, LengthPercentageAuto.ZERO, LengthPercentageAuto.ZERO, LengthPercentageAuto.AUTO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style nodeStyle = new Style();
        nodeStyle.alignItems = AlignItems.CENTER;
        nodeStyle.size = new Size<>(Dimension.length(200.0f), Dimension.length(200.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(200.0f, nodeLayout.size().width, "width of node");
        assertEquals(200.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(50.0f, node0Layout.size().width, "width of node0");
        assertEquals(50.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(50.0f, node1Layout.size().width, "width of node1");
        assertEquals(50.0f, node1Layout.size().height, "height of node1");
        assertEquals(50.0f, node1Layout.location().x, "x of node1");
        assertEquals(75.0f, node1Layout.location().y, "y of node1");
    }

    @Test
    @DisplayName("margin_auto_bottom__content_box")
    void marginAutoBottomContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        node0Style.margin = new Rect<>(LengthPercentageAuto.ZERO, LengthPercentageAuto.ZERO, LengthPercentageAuto.ZERO, LengthPercentageAuto.AUTO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.alignItems = AlignItems.CENTER;
        nodeStyle.size = new Size<>(Dimension.length(200.0f), Dimension.length(200.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(200.0f, nodeLayout.size().width, "width of node");
        assertEquals(200.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(50.0f, node0Layout.size().width, "width of node0");
        assertEquals(50.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(50.0f, node1Layout.size().width, "width of node1");
        assertEquals(50.0f, node1Layout.size().height, "height of node1");
        assertEquals(50.0f, node1Layout.location().x, "x of node1");
        assertEquals(75.0f, node1Layout.location().y, "y of node1");
    }

    @Test
    @DisplayName("margin_auto_bottom_and_top__border_box")
    void marginAutoBottomAndTopBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        node0Style.margin = new Rect<>(LengthPercentageAuto.ZERO, LengthPercentageAuto.ZERO, LengthPercentageAuto.AUTO, LengthPercentageAuto.AUTO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style nodeStyle = new Style();
        nodeStyle.alignItems = AlignItems.CENTER;
        nodeStyle.size = new Size<>(Dimension.length(200.0f), Dimension.length(200.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(200.0f, nodeLayout.size().width, "width of node");
        assertEquals(200.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(50.0f, node0Layout.size().width, "width of node0");
        assertEquals(50.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(75.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(50.0f, node1Layout.size().width, "width of node1");
        assertEquals(50.0f, node1Layout.size().height, "height of node1");
        assertEquals(50.0f, node1Layout.location().x, "x of node1");
        assertEquals(75.0f, node1Layout.location().y, "y of node1");
    }

    @Test
    @DisplayName("margin_auto_bottom_and_top__content_box")
    void marginAutoBottomAndTopContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        node0Style.margin = new Rect<>(LengthPercentageAuto.ZERO, LengthPercentageAuto.ZERO, LengthPercentageAuto.AUTO, LengthPercentageAuto.AUTO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.alignItems = AlignItems.CENTER;
        nodeStyle.size = new Size<>(Dimension.length(200.0f), Dimension.length(200.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(200.0f, nodeLayout.size().width, "width of node");
        assertEquals(200.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(50.0f, node0Layout.size().width, "width of node0");
        assertEquals(50.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(75.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(50.0f, node1Layout.size().width, "width of node1");
        assertEquals(50.0f, node1Layout.size().height, "height of node1");
        assertEquals(50.0f, node1Layout.location().x, "x of node1");
        assertEquals(75.0f, node1Layout.location().y, "y of node1");
    }

    @Test
    @DisplayName("margin_auto_bottom_and_top_justify_center__border_box")
    void marginAutoBottomAndTopJustifyCenterBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        node0Style.margin = new Rect<>(LengthPercentageAuto.ZERO, LengthPercentageAuto.ZERO, LengthPercentageAuto.AUTO, LengthPercentageAuto.AUTO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style nodeStyle = new Style();
        nodeStyle.justifyContent = AlignContent.CENTER;
        nodeStyle.size = new Size<>(Dimension.length(200.0f), Dimension.length(200.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(200.0f, nodeLayout.size().width, "width of node");
        assertEquals(200.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(50.0f, node0Layout.size().width, "width of node0");
        assertEquals(50.0f, node0Layout.size().height, "height of node0");
        assertEquals(50.0f, node0Layout.location().x, "x of node0");
        assertEquals(75.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(50.0f, node1Layout.size().width, "width of node1");
        assertEquals(50.0f, node1Layout.size().height, "height of node1");
        assertEquals(100.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
    }

    @Test
    @DisplayName("margin_auto_bottom_and_top_justify_center__content_box")
    void marginAutoBottomAndTopJustifyCenterContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        node0Style.margin = new Rect<>(LengthPercentageAuto.ZERO, LengthPercentageAuto.ZERO, LengthPercentageAuto.AUTO, LengthPercentageAuto.AUTO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.justifyContent = AlignContent.CENTER;
        nodeStyle.size = new Size<>(Dimension.length(200.0f), Dimension.length(200.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(200.0f, nodeLayout.size().width, "width of node");
        assertEquals(200.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(50.0f, node0Layout.size().width, "width of node0");
        assertEquals(50.0f, node0Layout.size().height, "height of node0");
        assertEquals(50.0f, node0Layout.location().x, "x of node0");
        assertEquals(75.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(50.0f, node1Layout.size().width, "width of node1");
        assertEquals(50.0f, node1Layout.size().height, "height of node1");
        assertEquals(100.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
    }

    @Test
    @DisplayName("margin_auto_left__border_box")
    void marginAutoLeftBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        node0Style.margin = new Rect<>(LengthPercentageAuto.AUTO, LengthPercentageAuto.ZERO, LengthPercentageAuto.ZERO, LengthPercentageAuto.ZERO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style nodeStyle = new Style();
        nodeStyle.alignItems = AlignItems.CENTER;
        nodeStyle.size = new Size<>(Dimension.length(200.0f), Dimension.length(200.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(200.0f, nodeLayout.size().width, "width of node");
        assertEquals(200.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(50.0f, node0Layout.size().width, "width of node0");
        assertEquals(50.0f, node0Layout.size().height, "height of node0");
        assertEquals(100.0f, node0Layout.location().x, "x of node0");
        assertEquals(75.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(50.0f, node1Layout.size().width, "width of node1");
        assertEquals(50.0f, node1Layout.size().height, "height of node1");
        assertEquals(150.0f, node1Layout.location().x, "x of node1");
        assertEquals(75.0f, node1Layout.location().y, "y of node1");
    }

    @Test
    @DisplayName("margin_auto_left__content_box")
    void marginAutoLeftContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        node0Style.margin = new Rect<>(LengthPercentageAuto.AUTO, LengthPercentageAuto.ZERO, LengthPercentageAuto.ZERO, LengthPercentageAuto.ZERO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.alignItems = AlignItems.CENTER;
        nodeStyle.size = new Size<>(Dimension.length(200.0f), Dimension.length(200.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(200.0f, nodeLayout.size().width, "width of node");
        assertEquals(200.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(50.0f, node0Layout.size().width, "width of node0");
        assertEquals(50.0f, node0Layout.size().height, "height of node0");
        assertEquals(100.0f, node0Layout.location().x, "x of node0");
        assertEquals(75.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(50.0f, node1Layout.size().width, "width of node1");
        assertEquals(50.0f, node1Layout.size().height, "height of node1");
        assertEquals(150.0f, node1Layout.location().x, "x of node1");
        assertEquals(75.0f, node1Layout.location().y, "y of node1");
    }

    @Test
    @DisplayName("margin_auto_left_and_right__border_box")
    void marginAutoLeftAndRightBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        node0Style.margin = new Rect<>(LengthPercentageAuto.AUTO, LengthPercentageAuto.AUTO, LengthPercentageAuto.ZERO, LengthPercentageAuto.ZERO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style nodeStyle = new Style();
        nodeStyle.size = new Size<>(Dimension.length(200.0f), Dimension.length(200.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(200.0f, nodeLayout.size().width, "width of node");
        assertEquals(200.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(50.0f, node0Layout.size().width, "width of node0");
        assertEquals(50.0f, node0Layout.size().height, "height of node0");
        assertEquals(50.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(50.0f, node1Layout.size().width, "width of node1");
        assertEquals(50.0f, node1Layout.size().height, "height of node1");
        assertEquals(150.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
    }

    @Test
    @DisplayName("margin_auto_left_and_right__content_box")
    void marginAutoLeftAndRightContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        node0Style.margin = new Rect<>(LengthPercentageAuto.AUTO, LengthPercentageAuto.AUTO, LengthPercentageAuto.ZERO, LengthPercentageAuto.ZERO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.size = new Size<>(Dimension.length(200.0f), Dimension.length(200.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(200.0f, nodeLayout.size().width, "width of node");
        assertEquals(200.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(50.0f, node0Layout.size().width, "width of node0");
        assertEquals(50.0f, node0Layout.size().height, "height of node0");
        assertEquals(50.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(50.0f, node1Layout.size().width, "width of node1");
        assertEquals(50.0f, node1Layout.size().height, "height of node1");
        assertEquals(150.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
    }

    @Test
    @DisplayName("margin_auto_left_and_right_column__border_box")
    void marginAutoLeftAndRightColumnBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        node0Style.margin = new Rect<>(LengthPercentageAuto.AUTO, LengthPercentageAuto.AUTO, LengthPercentageAuto.ZERO, LengthPercentageAuto.ZERO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style nodeStyle = new Style();
        nodeStyle.alignItems = AlignItems.CENTER;
        nodeStyle.size = new Size<>(Dimension.length(200.0f), Dimension.length(200.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(200.0f, nodeLayout.size().width, "width of node");
        assertEquals(200.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(50.0f, node0Layout.size().width, "width of node0");
        assertEquals(50.0f, node0Layout.size().height, "height of node0");
        assertEquals(50.0f, node0Layout.location().x, "x of node0");
        assertEquals(75.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(50.0f, node1Layout.size().width, "width of node1");
        assertEquals(50.0f, node1Layout.size().height, "height of node1");
        assertEquals(150.0f, node1Layout.location().x, "x of node1");
        assertEquals(75.0f, node1Layout.location().y, "y of node1");
    }

    @Test
    @DisplayName("margin_auto_left_and_right_column__content_box")
    void marginAutoLeftAndRightColumnContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        node0Style.margin = new Rect<>(LengthPercentageAuto.AUTO, LengthPercentageAuto.AUTO, LengthPercentageAuto.ZERO, LengthPercentageAuto.ZERO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.alignItems = AlignItems.CENTER;
        nodeStyle.size = new Size<>(Dimension.length(200.0f), Dimension.length(200.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(200.0f, nodeLayout.size().width, "width of node");
        assertEquals(200.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(50.0f, node0Layout.size().width, "width of node0");
        assertEquals(50.0f, node0Layout.size().height, "height of node0");
        assertEquals(50.0f, node0Layout.location().x, "x of node0");
        assertEquals(75.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(50.0f, node1Layout.size().width, "width of node1");
        assertEquals(50.0f, node1Layout.size().height, "height of node1");
        assertEquals(150.0f, node1Layout.location().x, "x of node1");
        assertEquals(75.0f, node1Layout.location().y, "y of node1");
    }

    @Test
    @DisplayName("margin_auto_left_and_right_column_and_center__border_box")
    void marginAutoLeftAndRightColumnAndCenterBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        node0Style.margin = new Rect<>(LengthPercentageAuto.AUTO, LengthPercentageAuto.AUTO, LengthPercentageAuto.ZERO, LengthPercentageAuto.ZERO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style nodeStyle = new Style();
        nodeStyle.alignItems = AlignItems.CENTER;
        nodeStyle.size = new Size<>(Dimension.length(200.0f), Dimension.length(200.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(200.0f, nodeLayout.size().width, "width of node");
        assertEquals(200.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(50.0f, node0Layout.size().width, "width of node0");
        assertEquals(50.0f, node0Layout.size().height, "height of node0");
        assertEquals(50.0f, node0Layout.location().x, "x of node0");
        assertEquals(75.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(50.0f, node1Layout.size().width, "width of node1");
        assertEquals(50.0f, node1Layout.size().height, "height of node1");
        assertEquals(150.0f, node1Layout.location().x, "x of node1");
        assertEquals(75.0f, node1Layout.location().y, "y of node1");
    }

    @Test
    @DisplayName("margin_auto_left_and_right_column_and_center__content_box")
    void marginAutoLeftAndRightColumnAndCenterContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        node0Style.margin = new Rect<>(LengthPercentageAuto.AUTO, LengthPercentageAuto.AUTO, LengthPercentageAuto.ZERO, LengthPercentageAuto.ZERO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.alignItems = AlignItems.CENTER;
        nodeStyle.size = new Size<>(Dimension.length(200.0f), Dimension.length(200.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(200.0f, nodeLayout.size().width, "width of node");
        assertEquals(200.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(50.0f, node0Layout.size().width, "width of node0");
        assertEquals(50.0f, node0Layout.size().height, "height of node0");
        assertEquals(50.0f, node0Layout.location().x, "x of node0");
        assertEquals(75.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(50.0f, node1Layout.size().width, "width of node1");
        assertEquals(50.0f, node1Layout.size().height, "height of node1");
        assertEquals(150.0f, node1Layout.location().x, "x of node1");
        assertEquals(75.0f, node1Layout.location().y, "y of node1");
    }

    @Test
    @DisplayName("margin_auto_left_and_right_stretch__border_box")
    void marginAutoLeftAndRightStretchBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        node0Style.margin = new Rect<>(LengthPercentageAuto.AUTO, LengthPercentageAuto.AUTO, LengthPercentageAuto.ZERO, LengthPercentageAuto.ZERO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style nodeStyle = new Style();
        nodeStyle.alignItems = AlignItems.STRETCH;
        nodeStyle.size = new Size<>(Dimension.length(200.0f), Dimension.length(200.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(200.0f, nodeLayout.size().width, "width of node");
        assertEquals(200.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(50.0f, node0Layout.size().width, "width of node0");
        assertEquals(50.0f, node0Layout.size().height, "height of node0");
        assertEquals(50.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(50.0f, node1Layout.size().width, "width of node1");
        assertEquals(50.0f, node1Layout.size().height, "height of node1");
        assertEquals(150.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
    }

    @Test
    @DisplayName("margin_auto_left_and_right_stretch__content_box")
    void marginAutoLeftAndRightStretchContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        node0Style.margin = new Rect<>(LengthPercentageAuto.AUTO, LengthPercentageAuto.AUTO, LengthPercentageAuto.ZERO, LengthPercentageAuto.ZERO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.alignItems = AlignItems.STRETCH;
        nodeStyle.size = new Size<>(Dimension.length(200.0f), Dimension.length(200.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(200.0f, nodeLayout.size().width, "width of node");
        assertEquals(200.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(50.0f, node0Layout.size().width, "width of node0");
        assertEquals(50.0f, node0Layout.size().height, "height of node0");
        assertEquals(50.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(50.0f, node1Layout.size().width, "width of node1");
        assertEquals(50.0f, node1Layout.size().height, "height of node1");
        assertEquals(150.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
    }

    @Test
    @DisplayName("margin_auto_left_child_bigger_than_parent__border_box")
    void marginAutoLeftChildBiggerThanParentBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.length(72.0f), Dimension.length(72.0f));
        node0Style.margin = new Rect<>(LengthPercentageAuto.AUTO, LengthPercentageAuto.ZERO, LengthPercentageAuto.ZERO, LengthPercentageAuto.ZERO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.justifyContent = AlignContent.CENTER;
        nodeStyle.size = new Size<>(Dimension.length(52.0f), Dimension.length(52.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(52.0f, nodeLayout.size().width, "width of node");
        assertEquals(52.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(52.0f, node0Layout.size().width, "width of node0");
        assertEquals(72.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("margin_auto_left_child_bigger_than_parent__content_box")
    void marginAutoLeftChildBiggerThanParentContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.length(72.0f), Dimension.length(72.0f));
        node0Style.margin = new Rect<>(LengthPercentageAuto.AUTO, LengthPercentageAuto.ZERO, LengthPercentageAuto.ZERO, LengthPercentageAuto.ZERO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.justifyContent = AlignContent.CENTER;
        nodeStyle.size = new Size<>(Dimension.length(52.0f), Dimension.length(52.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(52.0f, nodeLayout.size().width, "width of node");
        assertEquals(52.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(52.0f, node0Layout.size().width, "width of node0");
        assertEquals(72.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("margin_auto_left_fix_right_child_bigger_than_parent__border_box")
    void marginAutoLeftFixRightChildBiggerThanParentBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.length(72.0f), Dimension.length(72.0f));
        node0Style.margin = new Rect<>(LengthPercentageAuto.AUTO, LengthPercentageAuto.length(10.0f), LengthPercentageAuto.ZERO, LengthPercentageAuto.ZERO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.justifyContent = AlignContent.CENTER;
        nodeStyle.size = new Size<>(Dimension.length(52.0f), Dimension.length(52.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(52.0f, nodeLayout.size().width, "width of node");
        assertEquals(52.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(42.0f, node0Layout.size().width, "width of node0");
        assertEquals(72.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("margin_auto_left_fix_right_child_bigger_than_parent__content_box")
    void marginAutoLeftFixRightChildBiggerThanParentContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.length(72.0f), Dimension.length(72.0f));
        node0Style.margin = new Rect<>(LengthPercentageAuto.AUTO, LengthPercentageAuto.length(10.0f), LengthPercentageAuto.ZERO, LengthPercentageAuto.ZERO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.justifyContent = AlignContent.CENTER;
        nodeStyle.size = new Size<>(Dimension.length(52.0f), Dimension.length(52.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(52.0f, nodeLayout.size().width, "width of node");
        assertEquals(52.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(42.0f, node0Layout.size().width, "width of node0");
        assertEquals(72.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("margin_auto_left_right_child_bigger_than_parent__border_box")
    void marginAutoLeftRightChildBiggerThanParentBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.length(72.0f), Dimension.length(72.0f));
        node0Style.margin = new Rect<>(LengthPercentageAuto.AUTO, LengthPercentageAuto.AUTO, LengthPercentageAuto.ZERO, LengthPercentageAuto.ZERO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.justifyContent = AlignContent.CENTER;
        nodeStyle.size = new Size<>(Dimension.length(52.0f), Dimension.length(52.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(52.0f, nodeLayout.size().width, "width of node");
        assertEquals(52.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(52.0f, node0Layout.size().width, "width of node0");
        assertEquals(72.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("margin_auto_left_right_child_bigger_than_parent__content_box")
    void marginAutoLeftRightChildBiggerThanParentContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.length(72.0f), Dimension.length(72.0f));
        node0Style.margin = new Rect<>(LengthPercentageAuto.AUTO, LengthPercentageAuto.AUTO, LengthPercentageAuto.ZERO, LengthPercentageAuto.ZERO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.justifyContent = AlignContent.CENTER;
        nodeStyle.size = new Size<>(Dimension.length(52.0f), Dimension.length(52.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(52.0f, nodeLayout.size().width, "width of node");
        assertEquals(52.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(52.0f, node0Layout.size().width, "width of node0");
        assertEquals(72.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("margin_auto_left_stretching_child__border_box")
    void marginAutoLeftStretchingChildBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.flexGrow = 1.0f;
        node0Style.flexShrink = 1.0f;
        node0Style.flexBasis = Dimension.percent(0.0f);
        node0Style.margin = new Rect<>(LengthPercentageAuto.AUTO, LengthPercentageAuto.ZERO, LengthPercentageAuto.ZERO, LengthPercentageAuto.ZERO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style nodeStyle = new Style();
        nodeStyle.alignItems = AlignItems.CENTER;
        nodeStyle.size = new Size<>(Dimension.length(200.0f), Dimension.length(200.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(200.0f, nodeLayout.size().width, "width of node");
        assertEquals(200.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(150.0f, node0Layout.size().width, "width of node0");
        assertEquals(0.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(100.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(50.0f, node1Layout.size().width, "width of node1");
        assertEquals(50.0f, node1Layout.size().height, "height of node1");
        assertEquals(150.0f, node1Layout.location().x, "x of node1");
        assertEquals(75.0f, node1Layout.location().y, "y of node1");
    }

    @Test
    @DisplayName("margin_auto_left_stretching_child__content_box")
    void marginAutoLeftStretchingChildContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.flexGrow = 1.0f;
        node0Style.flexShrink = 1.0f;
        node0Style.flexBasis = Dimension.percent(0.0f);
        node0Style.margin = new Rect<>(LengthPercentageAuto.AUTO, LengthPercentageAuto.ZERO, LengthPercentageAuto.ZERO, LengthPercentageAuto.ZERO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.alignItems = AlignItems.CENTER;
        nodeStyle.size = new Size<>(Dimension.length(200.0f), Dimension.length(200.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(200.0f, nodeLayout.size().width, "width of node");
        assertEquals(200.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(150.0f, node0Layout.size().width, "width of node0");
        assertEquals(0.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(100.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(50.0f, node1Layout.size().width, "width of node1");
        assertEquals(50.0f, node1Layout.size().height, "height of node1");
        assertEquals(150.0f, node1Layout.location().x, "x of node1");
        assertEquals(75.0f, node1Layout.location().y, "y of node1");
    }

    @Test
    @DisplayName("margin_auto_multiple_children_column__border_box")
    void marginAutoMultipleChildrenColumnBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        node0Style.margin = new Rect<>(LengthPercentageAuto.ZERO, LengthPercentageAuto.ZERO, LengthPercentageAuto.AUTO, LengthPercentageAuto.ZERO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        node1Style.margin = new Rect<>(LengthPercentageAuto.ZERO, LengthPercentageAuto.ZERO, LengthPercentageAuto.AUTO, LengthPercentageAuto.ZERO);
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        NodeId node2 = tree.newLeaf(node2Style);

        Style nodeStyle = new Style();
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.alignItems = AlignItems.CENTER;
        nodeStyle.size = new Size<>(Dimension.length(200.0f), Dimension.length(200.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(200.0f, nodeLayout.size().width, "width of node");
        assertEquals(200.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(50.0f, node0Layout.size().width, "width of node0");
        assertEquals(50.0f, node0Layout.size().height, "height of node0");
        assertEquals(75.0f, node0Layout.location().x, "x of node0");
        assertEquals(25.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(50.0f, node1Layout.size().width, "width of node1");
        assertEquals(50.0f, node1Layout.size().height, "height of node1");
        assertEquals(75.0f, node1Layout.location().x, "x of node1");
        assertEquals(100.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(50.0f, node2Layout.size().width, "width of node2");
        assertEquals(50.0f, node2Layout.size().height, "height of node2");
        assertEquals(75.0f, node2Layout.location().x, "x of node2");
        assertEquals(150.0f, node2Layout.location().y, "y of node2");
    }

    @Test
    @DisplayName("margin_auto_multiple_children_column__content_box")
    void marginAutoMultipleChildrenColumnContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        node0Style.margin = new Rect<>(LengthPercentageAuto.ZERO, LengthPercentageAuto.ZERO, LengthPercentageAuto.AUTO, LengthPercentageAuto.ZERO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        node1Style.margin = new Rect<>(LengthPercentageAuto.ZERO, LengthPercentageAuto.ZERO, LengthPercentageAuto.AUTO, LengthPercentageAuto.ZERO);
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        node2Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        NodeId node2 = tree.newLeaf(node2Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.alignItems = AlignItems.CENTER;
        nodeStyle.size = new Size<>(Dimension.length(200.0f), Dimension.length(200.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(200.0f, nodeLayout.size().width, "width of node");
        assertEquals(200.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(50.0f, node0Layout.size().width, "width of node0");
        assertEquals(50.0f, node0Layout.size().height, "height of node0");
        assertEquals(75.0f, node0Layout.location().x, "x of node0");
        assertEquals(25.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(50.0f, node1Layout.size().width, "width of node1");
        assertEquals(50.0f, node1Layout.size().height, "height of node1");
        assertEquals(75.0f, node1Layout.location().x, "x of node1");
        assertEquals(100.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(50.0f, node2Layout.size().width, "width of node2");
        assertEquals(50.0f, node2Layout.size().height, "height of node2");
        assertEquals(75.0f, node2Layout.location().x, "x of node2");
        assertEquals(150.0f, node2Layout.location().y, "y of node2");
    }

    @Test
    @DisplayName("margin_auto_multiple_children_row__border_box")
    void marginAutoMultipleChildrenRowBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        node0Style.margin = new Rect<>(LengthPercentageAuto.ZERO, LengthPercentageAuto.AUTO, LengthPercentageAuto.ZERO, LengthPercentageAuto.ZERO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        node1Style.margin = new Rect<>(LengthPercentageAuto.ZERO, LengthPercentageAuto.AUTO, LengthPercentageAuto.ZERO, LengthPercentageAuto.ZERO);
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        NodeId node2 = tree.newLeaf(node2Style);

        Style nodeStyle = new Style();
        nodeStyle.alignItems = AlignItems.CENTER;
        nodeStyle.size = new Size<>(Dimension.length(200.0f), Dimension.length(200.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(200.0f, nodeLayout.size().width, "width of node");
        assertEquals(200.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(50.0f, node0Layout.size().width, "width of node0");
        assertEquals(50.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(75.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(50.0f, node1Layout.size().width, "width of node1");
        assertEquals(50.0f, node1Layout.size().height, "height of node1");
        assertEquals(75.0f, node1Layout.location().x, "x of node1");
        assertEquals(75.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(50.0f, node2Layout.size().width, "width of node2");
        assertEquals(50.0f, node2Layout.size().height, "height of node2");
        assertEquals(150.0f, node2Layout.location().x, "x of node2");
        assertEquals(75.0f, node2Layout.location().y, "y of node2");
    }

    @Test
    @DisplayName("margin_auto_multiple_children_row__content_box")
    void marginAutoMultipleChildrenRowContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        node0Style.margin = new Rect<>(LengthPercentageAuto.ZERO, LengthPercentageAuto.AUTO, LengthPercentageAuto.ZERO, LengthPercentageAuto.ZERO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        node1Style.margin = new Rect<>(LengthPercentageAuto.ZERO, LengthPercentageAuto.AUTO, LengthPercentageAuto.ZERO, LengthPercentageAuto.ZERO);
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        node2Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        NodeId node2 = tree.newLeaf(node2Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.alignItems = AlignItems.CENTER;
        nodeStyle.size = new Size<>(Dimension.length(200.0f), Dimension.length(200.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(200.0f, nodeLayout.size().width, "width of node");
        assertEquals(200.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(50.0f, node0Layout.size().width, "width of node0");
        assertEquals(50.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(75.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(50.0f, node1Layout.size().width, "width of node1");
        assertEquals(50.0f, node1Layout.size().height, "height of node1");
        assertEquals(75.0f, node1Layout.location().x, "x of node1");
        assertEquals(75.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(50.0f, node2Layout.size().width, "width of node2");
        assertEquals(50.0f, node2Layout.size().height, "height of node2");
        assertEquals(150.0f, node2Layout.location().x, "x of node2");
        assertEquals(75.0f, node2Layout.location().y, "y of node2");
    }

    @Test
    @DisplayName("margin_auto_right__border_box")
    void marginAutoRightBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        node0Style.margin = new Rect<>(LengthPercentageAuto.ZERO, LengthPercentageAuto.AUTO, LengthPercentageAuto.ZERO, LengthPercentageAuto.ZERO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style nodeStyle = new Style();
        nodeStyle.alignItems = AlignItems.CENTER;
        nodeStyle.size = new Size<>(Dimension.length(200.0f), Dimension.length(200.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(200.0f, nodeLayout.size().width, "width of node");
        assertEquals(200.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(50.0f, node0Layout.size().width, "width of node0");
        assertEquals(50.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(75.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(50.0f, node1Layout.size().width, "width of node1");
        assertEquals(50.0f, node1Layout.size().height, "height of node1");
        assertEquals(150.0f, node1Layout.location().x, "x of node1");
        assertEquals(75.0f, node1Layout.location().y, "y of node1");
    }

    @Test
    @DisplayName("margin_auto_right__content_box")
    void marginAutoRightContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        node0Style.margin = new Rect<>(LengthPercentageAuto.ZERO, LengthPercentageAuto.AUTO, LengthPercentageAuto.ZERO, LengthPercentageAuto.ZERO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.alignItems = AlignItems.CENTER;
        nodeStyle.size = new Size<>(Dimension.length(200.0f), Dimension.length(200.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(200.0f, nodeLayout.size().width, "width of node");
        assertEquals(200.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(50.0f, node0Layout.size().width, "width of node0");
        assertEquals(50.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(75.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(50.0f, node1Layout.size().width, "width of node1");
        assertEquals(50.0f, node1Layout.size().height, "height of node1");
        assertEquals(150.0f, node1Layout.location().x, "x of node1");
        assertEquals(75.0f, node1Layout.location().y, "y of node1");
    }

    @Test
    @DisplayName("margin_auto_top__border_box")
    void marginAutoTopBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        node0Style.margin = new Rect<>(LengthPercentageAuto.ZERO, LengthPercentageAuto.ZERO, LengthPercentageAuto.AUTO, LengthPercentageAuto.ZERO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style nodeStyle = new Style();
        nodeStyle.alignItems = AlignItems.CENTER;
        nodeStyle.size = new Size<>(Dimension.length(200.0f), Dimension.length(200.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(200.0f, nodeLayout.size().width, "width of node");
        assertEquals(200.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(50.0f, node0Layout.size().width, "width of node0");
        assertEquals(50.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(150.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(50.0f, node1Layout.size().width, "width of node1");
        assertEquals(50.0f, node1Layout.size().height, "height of node1");
        assertEquals(50.0f, node1Layout.location().x, "x of node1");
        assertEquals(75.0f, node1Layout.location().y, "y of node1");
    }

    @Test
    @DisplayName("margin_auto_top__content_box")
    void marginAutoTopContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        node0Style.margin = new Rect<>(LengthPercentageAuto.ZERO, LengthPercentageAuto.ZERO, LengthPercentageAuto.AUTO, LengthPercentageAuto.ZERO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.alignItems = AlignItems.CENTER;
        nodeStyle.size = new Size<>(Dimension.length(200.0f), Dimension.length(200.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(200.0f, nodeLayout.size().width, "width of node");
        assertEquals(200.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(50.0f, node0Layout.size().width, "width of node0");
        assertEquals(50.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(150.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(50.0f, node1Layout.size().width, "width of node1");
        assertEquals(50.0f, node1Layout.size().height, "height of node1");
        assertEquals(50.0f, node1Layout.location().x, "x of node1");
        assertEquals(75.0f, node1Layout.location().y, "y of node1");
    }

    @Test
    @DisplayName("margin_auto_top_and_bottom_stretch__border_box")
    void marginAutoTopAndBottomStretchBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        node0Style.margin = new Rect<>(LengthPercentageAuto.ZERO, LengthPercentageAuto.ZERO, LengthPercentageAuto.AUTO, LengthPercentageAuto.AUTO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style nodeStyle = new Style();
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.alignItems = AlignItems.STRETCH;
        nodeStyle.size = new Size<>(Dimension.length(200.0f), Dimension.length(200.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(200.0f, nodeLayout.size().width, "width of node");
        assertEquals(200.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(50.0f, node0Layout.size().width, "width of node0");
        assertEquals(50.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(50.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(50.0f, node1Layout.size().width, "width of node1");
        assertEquals(50.0f, node1Layout.size().height, "height of node1");
        assertEquals(0.0f, node1Layout.location().x, "x of node1");
        assertEquals(150.0f, node1Layout.location().y, "y of node1");
    }

    @Test
    @DisplayName("margin_auto_top_and_bottom_stretch__content_box")
    void marginAutoTopAndBottomStretchContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        node0Style.margin = new Rect<>(LengthPercentageAuto.ZERO, LengthPercentageAuto.ZERO, LengthPercentageAuto.AUTO, LengthPercentageAuto.AUTO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.alignItems = AlignItems.STRETCH;
        nodeStyle.size = new Size<>(Dimension.length(200.0f), Dimension.length(200.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(200.0f, nodeLayout.size().width, "width of node");
        assertEquals(200.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(50.0f, node0Layout.size().width, "width of node0");
        assertEquals(50.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(50.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(50.0f, node1Layout.size().width, "width of node1");
        assertEquals(50.0f, node1Layout.size().height, "height of node1");
        assertEquals(0.0f, node1Layout.location().x, "x of node1");
        assertEquals(150.0f, node1Layout.location().y, "y of node1");
    }

    @Test
    @DisplayName("margin_auto_top_stretching_child__border_box")
    void marginAutoTopStretchingChildBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.flexGrow = 1.0f;
        node0Style.flexShrink = 1.0f;
        node0Style.flexBasis = Dimension.percent(0.0f);
        node0Style.margin = new Rect<>(LengthPercentageAuto.ZERO, LengthPercentageAuto.ZERO, LengthPercentageAuto.AUTO, LengthPercentageAuto.ZERO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style nodeStyle = new Style();
        nodeStyle.alignItems = AlignItems.CENTER;
        nodeStyle.size = new Size<>(Dimension.length(200.0f), Dimension.length(200.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(200.0f, nodeLayout.size().width, "width of node");
        assertEquals(200.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(150.0f, node0Layout.size().width, "width of node0");
        assertEquals(0.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(200.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(50.0f, node1Layout.size().width, "width of node1");
        assertEquals(50.0f, node1Layout.size().height, "height of node1");
        assertEquals(150.0f, node1Layout.location().x, "x of node1");
        assertEquals(75.0f, node1Layout.location().y, "y of node1");
    }

    @Test
    @DisplayName("margin_auto_top_stretching_child__content_box")
    void marginAutoTopStretchingChildContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.flexGrow = 1.0f;
        node0Style.flexShrink = 1.0f;
        node0Style.flexBasis = Dimension.percent(0.0f);
        node0Style.margin = new Rect<>(LengthPercentageAuto.ZERO, LengthPercentageAuto.ZERO, LengthPercentageAuto.AUTO, LengthPercentageAuto.ZERO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.alignItems = AlignItems.CENTER;
        nodeStyle.size = new Size<>(Dimension.length(200.0f), Dimension.length(200.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(200.0f, nodeLayout.size().width, "width of node");
        assertEquals(200.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(150.0f, node0Layout.size().width, "width of node0");
        assertEquals(0.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(200.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(50.0f, node1Layout.size().width, "width of node1");
        assertEquals(50.0f, node1Layout.size().height, "height of node1");
        assertEquals(150.0f, node1Layout.location().x, "x of node1");
        assertEquals(75.0f, node1Layout.location().y, "y of node1");
    }

    @Test
    @DisplayName("margin_bottom__border_box")
    void marginBottomBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        node0Style.margin = new Rect<>(LengthPercentageAuto.ZERO, LengthPercentageAuto.ZERO, LengthPercentageAuto.ZERO, LengthPercentageAuto.length(10.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.justifyContent = AlignContent.FLEX_END;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(100.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(80.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("margin_bottom__content_box")
    void marginBottomContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        node0Style.margin = new Rect<>(LengthPercentageAuto.ZERO, LengthPercentageAuto.ZERO, LengthPercentageAuto.ZERO, LengthPercentageAuto.length(10.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.justifyContent = AlignContent.FLEX_END;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(100.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(80.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("margin_fix_left_auto_right_child_bigger_than_parent__border_box")
    void marginFixLeftAutoRightChildBiggerThanParentBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.length(72.0f), Dimension.length(72.0f));
        node0Style.margin = new Rect<>(LengthPercentageAuto.length(10.0f), LengthPercentageAuto.AUTO, LengthPercentageAuto.ZERO, LengthPercentageAuto.ZERO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.justifyContent = AlignContent.CENTER;
        nodeStyle.size = new Size<>(Dimension.length(52.0f), Dimension.length(52.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(52.0f, nodeLayout.size().width, "width of node");
        assertEquals(52.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(42.0f, node0Layout.size().width, "width of node0");
        assertEquals(72.0f, node0Layout.size().height, "height of node0");
        assertEquals(10.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("margin_fix_left_auto_right_child_bigger_than_parent__content_box")
    void marginFixLeftAutoRightChildBiggerThanParentContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.length(72.0f), Dimension.length(72.0f));
        node0Style.margin = new Rect<>(LengthPercentageAuto.length(10.0f), LengthPercentageAuto.AUTO, LengthPercentageAuto.ZERO, LengthPercentageAuto.ZERO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.justifyContent = AlignContent.CENTER;
        nodeStyle.size = new Size<>(Dimension.length(52.0f), Dimension.length(52.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(52.0f, nodeLayout.size().width, "width of node");
        assertEquals(52.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(42.0f, node0Layout.size().width, "width of node0");
        assertEquals(72.0f, node0Layout.size().height, "height of node0");
        assertEquals(10.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("margin_left__border_box")
    void marginLeftBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.length(10.0f), Dimension.AUTO);
        node0Style.margin = new Rect<>(LengthPercentageAuto.length(10.0f), LengthPercentageAuto.ZERO, LengthPercentageAuto.ZERO, LengthPercentageAuto.ZERO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(10.0f, node0Layout.size().width, "width of node0");
        assertEquals(100.0f, node0Layout.size().height, "height of node0");
        assertEquals(10.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("margin_left__content_box")
    void marginLeftContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.length(10.0f), Dimension.AUTO);
        node0Style.margin = new Rect<>(LengthPercentageAuto.length(10.0f), LengthPercentageAuto.ZERO, LengthPercentageAuto.ZERO, LengthPercentageAuto.ZERO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(10.0f, node0Layout.size().width, "width of node0");
        assertEquals(100.0f, node0Layout.size().height, "height of node0");
        assertEquals(10.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("margin_right__border_box")
    void marginRightBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.length(10.0f), Dimension.AUTO);
        node0Style.margin = new Rect<>(LengthPercentageAuto.ZERO, LengthPercentageAuto.length(10.0f), LengthPercentageAuto.ZERO, LengthPercentageAuto.ZERO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.justifyContent = AlignContent.FLEX_END;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(10.0f, node0Layout.size().width, "width of node0");
        assertEquals(100.0f, node0Layout.size().height, "height of node0");
        assertEquals(80.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("margin_right__content_box")
    void marginRightContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.length(10.0f), Dimension.AUTO);
        node0Style.margin = new Rect<>(LengthPercentageAuto.ZERO, LengthPercentageAuto.length(10.0f), LengthPercentageAuto.ZERO, LengthPercentageAuto.ZERO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.justifyContent = AlignContent.FLEX_END;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(10.0f, node0Layout.size().width, "width of node0");
        assertEquals(100.0f, node0Layout.size().height, "height of node0");
        assertEquals(80.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("margin_should_not_be_part_of_max_height__border_box")
    void marginShouldNotBePartOfMaxHeightBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        node0Style.maxSize = new Size<>(Dimension.AUTO, Dimension.length(100.0f));
        node0Style.margin = new Rect<>(LengthPercentageAuto.ZERO, LengthPercentageAuto.ZERO, LengthPercentageAuto.length(20.0f), LengthPercentageAuto.ZERO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.size = new Size<>(Dimension.length(250.0f), Dimension.length(250.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(250.0f, nodeLayout.size().width, "width of node");
        assertEquals(250.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(100.0f, node0Layout.size().width, "width of node0");
        assertEquals(100.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(20.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("margin_should_not_be_part_of_max_height__content_box")
    void marginShouldNotBePartOfMaxHeightContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        node0Style.maxSize = new Size<>(Dimension.AUTO, Dimension.length(100.0f));
        node0Style.margin = new Rect<>(LengthPercentageAuto.ZERO, LengthPercentageAuto.ZERO, LengthPercentageAuto.length(20.0f), LengthPercentageAuto.ZERO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.size = new Size<>(Dimension.length(250.0f), Dimension.length(250.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(250.0f, nodeLayout.size().width, "width of node");
        assertEquals(250.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(100.0f, node0Layout.size().width, "width of node0");
        assertEquals(100.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(20.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("margin_should_not_be_part_of_max_width__border_box")
    void marginShouldNotBePartOfMaxWidthBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        node0Style.maxSize = new Size<>(Dimension.length(100.0f), Dimension.AUTO);
        node0Style.margin = new Rect<>(LengthPercentageAuto.length(20.0f), LengthPercentageAuto.ZERO, LengthPercentageAuto.ZERO, LengthPercentageAuto.ZERO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.size = new Size<>(Dimension.length(250.0f), Dimension.length(250.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(250.0f, nodeLayout.size().width, "width of node");
        assertEquals(250.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(100.0f, node0Layout.size().width, "width of node0");
        assertEquals(100.0f, node0Layout.size().height, "height of node0");
        assertEquals(20.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("margin_should_not_be_part_of_max_width__content_box")
    void marginShouldNotBePartOfMaxWidthContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        node0Style.maxSize = new Size<>(Dimension.length(100.0f), Dimension.AUTO);
        node0Style.margin = new Rect<>(LengthPercentageAuto.length(20.0f), LengthPercentageAuto.ZERO, LengthPercentageAuto.ZERO, LengthPercentageAuto.ZERO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.size = new Size<>(Dimension.length(250.0f), Dimension.length(250.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(250.0f, nodeLayout.size().width, "width of node");
        assertEquals(250.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(100.0f, node0Layout.size().width, "width of node0");
        assertEquals(100.0f, node0Layout.size().height, "height of node0");
        assertEquals(20.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("margin_top__border_box")
    void marginTopBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        node0Style.margin = new Rect<>(LengthPercentageAuto.ZERO, LengthPercentageAuto.ZERO, LengthPercentageAuto.length(10.0f), LengthPercentageAuto.ZERO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(100.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(10.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("margin_top__content_box")
    void marginTopContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        node0Style.margin = new Rect<>(LengthPercentageAuto.ZERO, LengthPercentageAuto.ZERO, LengthPercentageAuto.length(10.0f), LengthPercentageAuto.ZERO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(100.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(10.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("margin_with_sibling_column__border_box")
    void marginWithSiblingColumnBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.flexGrow = 1.0f;
        node0Style.margin = new Rect<>(LengthPercentageAuto.ZERO, LengthPercentageAuto.ZERO, LengthPercentageAuto.ZERO, LengthPercentageAuto.length(10.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.flexGrow = 1.0f;
        NodeId node1 = tree.newLeaf(node1Style);

        Style nodeStyle = new Style();
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(100.0f, node0Layout.size().width, "width of node0");
        assertEquals(45.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(100.0f, node1Layout.size().width, "width of node1");
        assertEquals(45.0f, node1Layout.size().height, "height of node1");
        assertEquals(0.0f, node1Layout.location().x, "x of node1");
        assertEquals(55.0f, node1Layout.location().y, "y of node1");
    }

    @Test
    @DisplayName("margin_with_sibling_column__content_box")
    void marginWithSiblingColumnContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.flexGrow = 1.0f;
        node0Style.margin = new Rect<>(LengthPercentageAuto.ZERO, LengthPercentageAuto.ZERO, LengthPercentageAuto.ZERO, LengthPercentageAuto.length(10.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.flexGrow = 1.0f;
        NodeId node1 = tree.newLeaf(node1Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(100.0f, node0Layout.size().width, "width of node0");
        assertEquals(45.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(100.0f, node1Layout.size().width, "width of node1");
        assertEquals(45.0f, node1Layout.size().height, "height of node1");
        assertEquals(0.0f, node1Layout.location().x, "x of node1");
        assertEquals(55.0f, node1Layout.location().y, "y of node1");
    }

    @Test
    @DisplayName("margin_with_sibling_row__border_box")
    void marginWithSiblingRowBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.flexGrow = 1.0f;
        node0Style.margin = new Rect<>(LengthPercentageAuto.ZERO, LengthPercentageAuto.length(10.0f), LengthPercentageAuto.ZERO, LengthPercentageAuto.ZERO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.flexGrow = 1.0f;
        NodeId node1 = tree.newLeaf(node1Style);

        Style nodeStyle = new Style();
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(45.0f, node0Layout.size().width, "width of node0");
        assertEquals(100.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(45.0f, node1Layout.size().width, "width of node1");
        assertEquals(100.0f, node1Layout.size().height, "height of node1");
        assertEquals(55.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
    }

    @Test
    @DisplayName("margin_with_sibling_row__content_box")
    void marginWithSiblingRowContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.flexGrow = 1.0f;
        node0Style.margin = new Rect<>(LengthPercentageAuto.ZERO, LengthPercentageAuto.length(10.0f), LengthPercentageAuto.ZERO, LengthPercentageAuto.ZERO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.flexGrow = 1.0f;
        NodeId node1 = tree.newLeaf(node1Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(45.0f, node0Layout.size().width, "width of node0");
        assertEquals(100.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(45.0f, node1Layout.size().width, "width of node1");
        assertEquals(100.0f, node1Layout.size().height, "height of node1");
        assertEquals(55.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
    }

    @Test
    @DisplayName("max_height__border_box")
    void maxHeightBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.length(10.0f), Dimension.AUTO);
        node0Style.maxSize = new Size<>(Dimension.AUTO, Dimension.length(50.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(10.0f, node0Layout.size().width, "width of node0");
        assertEquals(50.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("max_height__content_box")
    void maxHeightContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.length(10.0f), Dimension.AUTO);
        node0Style.maxSize = new Size<>(Dimension.AUTO, Dimension.length(50.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(10.0f, node0Layout.size().width, "width of node0");
        assertEquals(50.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("max_height_overrides_height__border_box")
    void maxHeightOverridesHeightBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.AUTO, Dimension.length(200.0f));
        node0Style.maxSize = new Size<>(Dimension.AUTO, Dimension.length(100.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(0.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(0.0f, node0Layout.size().width, "width of node0");
        assertEquals(100.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("max_height_overrides_height__content_box")
    void maxHeightOverridesHeightContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.AUTO, Dimension.length(200.0f));
        node0Style.maxSize = new Size<>(Dimension.AUTO, Dimension.length(100.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(0.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(0.0f, node0Layout.size().width, "width of node0");
        assertEquals(100.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("max_height_overrides_height_on_root__border_box")
    void maxHeightOverridesHeightOnRootBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style nodeStyle = new Style();
        nodeStyle.size = new Size<>(Dimension.AUTO, Dimension.length(200.0f));
        nodeStyle.maxSize = new Size<>(Dimension.AUTO, Dimension.length(100.0f));
        NodeId node = tree.newLeaf(nodeStyle);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(0.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
    }

    @Test
    @DisplayName("max_height_overrides_height_on_root__content_box")
    void maxHeightOverridesHeightOnRootContentBox() {
        TaffyTree tree = new TaffyTree();

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.size = new Size<>(Dimension.AUTO, Dimension.length(200.0f));
        nodeStyle.maxSize = new Size<>(Dimension.AUTO, Dimension.length(100.0f));
        NodeId node = tree.newLeaf(nodeStyle);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(0.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
    }

    @Test
    @DisplayName("max_width__border_box")
    void maxWidthBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        node0Style.maxSize = new Size<>(Dimension.length(50.0f), Dimension.AUTO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(50.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("max_width__content_box")
    void maxWidthContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        node0Style.maxSize = new Size<>(Dimension.length(50.0f), Dimension.AUTO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(50.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("max_width_overrides_width__border_box")
    void maxWidthOverridesWidthBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.length(200.0f), Dimension.AUTO);
        node0Style.maxSize = new Size<>(Dimension.length(100.0f), Dimension.AUTO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(0.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(100.0f, node0Layout.size().width, "width of node0");
        assertEquals(0.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("max_width_overrides_width__content_box")
    void maxWidthOverridesWidthContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.length(200.0f), Dimension.AUTO);
        node0Style.maxSize = new Size<>(Dimension.length(100.0f), Dimension.AUTO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(0.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(100.0f, node0Layout.size().width, "width of node0");
        assertEquals(0.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("max_width_overrides_width_on_root__border_box")
    void maxWidthOverridesWidthOnRootBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style nodeStyle = new Style();
        nodeStyle.size = new Size<>(Dimension.length(200.0f), Dimension.AUTO);
        nodeStyle.maxSize = new Size<>(Dimension.length(100.0f), Dimension.AUTO);
        NodeId node = tree.newLeaf(nodeStyle);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(0.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
    }

    @Test
    @DisplayName("max_width_overrides_width_on_root__content_box")
    void maxWidthOverridesWidthOnRootContentBox() {
        TaffyTree tree = new TaffyTree();

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.size = new Size<>(Dimension.length(200.0f), Dimension.AUTO);
        nodeStyle.maxSize = new Size<>(Dimension.length(100.0f), Dimension.AUTO);
        NodeId node = tree.newLeaf(nodeStyle);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(0.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
    }

    @Test
    @DisplayName("measure_child__border_box")
    void measureChildBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        MeasureFunc node0Measure = ahemTextMeasure("HHHHHH", false);
        NodeId node0 = tree.newLeafWithMeasure(node0Style, node0Measure);

        Style nodeStyle = new Style();
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(60.0f, nodeLayout.size().width, "width of node");
        assertEquals(10.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(60.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("measure_child__content_box")
    void measureChildContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        MeasureFunc node0Measure = ahemTextMeasure("HHHHHH", false);
        NodeId node0 = tree.newLeafWithMeasure(node0Style, node0Measure);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(60.0f, nodeLayout.size().width, "width of node");
        assertEquals(10.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(60.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("measure_child_absolute__border_box")
    void measureChildAbsoluteBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.position = Position.ABSOLUTE;
        MeasureFunc node0Measure = ahemTextMeasure("HHHHHH", false);
        NodeId node0 = tree.newLeafWithMeasure(node0Style, node0Measure);

        Style nodeStyle = new Style();
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(60.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("measure_child_absolute__content_box")
    void measureChildAbsoluteContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.position = Position.ABSOLUTE;
        MeasureFunc node0Measure = ahemTextMeasure("HHHHHH", false);
        NodeId node0 = tree.newLeafWithMeasure(node0Style, node0Measure);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(60.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("measure_child_constraint__border_box")
    void measureChildConstraintBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        MeasureFunc node0Measure = ahemTextMeasure("HHHHHHHHHH\u200BHHHHHHHHHH\u200BHHHHHHHHHH\u200BHHHHHHHHHH\u200BHHHHHHHHHH\u200BHHHHHHHHHH\u200BHHHHHHHHHH\u200BHHHHHHHHHH\u200BHHHHHHHHHH\u200BHHHHHHHHHH", false);
        NodeId node0 = tree.newLeafWithMeasure(node0Style, node0Measure);

        Style nodeStyle = new Style();
        nodeStyle.size = new Size<>(Dimension.length(50.0f), Dimension.AUTO);
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(50.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(100.0f, node0Layout.size().width, "width of node0");
        assertEquals(100.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("measure_child_constraint__content_box")
    void measureChildConstraintContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        MeasureFunc node0Measure = ahemTextMeasure("HHHHHHHHHH\u200BHHHHHHHHHH\u200BHHHHHHHHHH\u200BHHHHHHHHHH\u200BHHHHHHHHHH\u200BHHHHHHHHHH\u200BHHHHHHHHHH\u200BHHHHHHHHHH\u200BHHHHHHHHHH\u200BHHHHHHHHHH", false);
        NodeId node0 = tree.newLeafWithMeasure(node0Style, node0Measure);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.size = new Size<>(Dimension.length(50.0f), Dimension.AUTO);
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(50.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(100.0f, node0Layout.size().width, "width of node0");
        assertEquals(100.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("measure_child_constraint_padding_parent__border_box")
    void measureChildConstraintPaddingParentBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        MeasureFunc node0Measure = ahemTextMeasure("HHHHHHHHHH\u200BHHHHHHHHHH\u200BHHHHHHHHHH\u200BHHHHHHHHHH\u200BHHHHHHHHHH\u200BHHHHHHHHHH\u200BHHHHHHHHHH\u200BHHHHHHHHHH\u200BHHHHHHHHHH\u200BHHHHHHHHHH", false);
        NodeId node0 = tree.newLeafWithMeasure(node0Style, node0Measure);

        Style nodeStyle = new Style();
        nodeStyle.size = new Size<>(Dimension.length(50.0f), Dimension.AUTO);
        nodeStyle.padding = new Rect<>(LengthPercentage.length(10.0f), LengthPercentage.length(10.0f), LengthPercentage.length(10.0f), LengthPercentage.length(10.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(50.0f, nodeLayout.size().width, "width of node");
        assertEquals(120.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(100.0f, node0Layout.size().width, "width of node0");
        assertEquals(100.0f, node0Layout.size().height, "height of node0");
        assertEquals(10.0f, node0Layout.location().x, "x of node0");
        assertEquals(10.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("measure_child_constraint_padding_parent__content_box")
    void measureChildConstraintPaddingParentContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        MeasureFunc node0Measure = ahemTextMeasure("HHHHHHHHHH\u200BHHHHHHHHHH\u200BHHHHHHHHHH\u200BHHHHHHHHHH\u200BHHHHHHHHHH\u200BHHHHHHHHHH\u200BHHHHHHHHHH\u200BHHHHHHHHHH\u200BHHHHHHHHHH\u200BHHHHHHHHHH", false);
        NodeId node0 = tree.newLeafWithMeasure(node0Style, node0Measure);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.size = new Size<>(Dimension.length(50.0f), Dimension.AUTO);
        nodeStyle.padding = new Rect<>(LengthPercentage.length(10.0f), LengthPercentage.length(10.0f), LengthPercentage.length(10.0f), LengthPercentage.length(10.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(70.0f, nodeLayout.size().width, "width of node");
        assertEquals(120.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(100.0f, node0Layout.size().width, "width of node0");
        assertEquals(100.0f, node0Layout.size().height, "height of node0");
        assertEquals(10.0f, node0Layout.location().x, "x of node0");
        assertEquals(10.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("measure_child_with_flex_grow__border_box")
    void measureChildWithFlexGrowBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        MeasureFunc node1Measure = ahemTextMeasure("H\u200BH\u200BH\u200BH\u200BH", false);
        NodeId node1 = tree.newLeafWithMeasure(node1Style, node1Measure);

        Style nodeStyle = new Style();
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.AUTO);
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(50.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(50.0f, node0Layout.size().width, "width of node0");
        assertEquals(50.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(50.0f, node1Layout.size().width, "width of node1");
        assertEquals(50.0f, node1Layout.size().height, "height of node1");
        assertEquals(50.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
    }

    @Test
    @DisplayName("measure_child_with_flex_grow__content_box")
    void measureChildWithFlexGrowContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        MeasureFunc node1Measure = ahemTextMeasure("H\u200BH\u200BH\u200BH\u200BH", false);
        NodeId node1 = tree.newLeafWithMeasure(node1Style, node1Measure);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.AUTO);
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(50.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(50.0f, node0Layout.size().width, "width of node0");
        assertEquals(50.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(50.0f, node1Layout.size().width, "width of node1");
        assertEquals(50.0f, node1Layout.size().height, "height of node1");
        assertEquals(50.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
    }

    @Test
    @DisplayName("measure_child_with_flex_shrink__border_box")
    void measureChildWithFlexShrinkBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        MeasureFunc node1Measure = ahemTextMeasure("HHHHHHHHHH\u200BHHHHHHHHHH\u200BHHHHHHHHHH\u200BHHHHHHHHHH\u200BHHHHHHHHHH", false);
        NodeId node1 = tree.newLeafWithMeasure(node1Style, node1Measure);

        Style nodeStyle = new Style();
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.AUTO);
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(50.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(0.0f, node0Layout.size().width, "width of node0");
        assertEquals(50.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(100.0f, node1Layout.size().width, "width of node1");
        assertEquals(50.0f, node1Layout.size().height, "height of node1");
        assertEquals(0.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
    }

    @Test
    @DisplayName("measure_child_with_flex_shrink__content_box")
    void measureChildWithFlexShrinkContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        MeasureFunc node1Measure = ahemTextMeasure("HHHHHHHHHH\u200BHHHHHHHHHH\u200BHHHHHHHHHH\u200BHHHHHHHHHH\u200BHHHHHHHHHH", false);
        NodeId node1 = tree.newLeafWithMeasure(node1Style, node1Measure);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.AUTO);
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(50.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(0.0f, node0Layout.size().width, "width of node0");
        assertEquals(50.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(100.0f, node1Layout.size().width, "width of node1");
        assertEquals(50.0f, node1Layout.size().height, "height of node1");
        assertEquals(0.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
    }

    @Test
    @DisplayName("measure_child_with_flex_shrink_hidden__border_box")
    void measureChildWithFlexShrinkHiddenBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.overflow = new Point<>(Overflow.HIDDEN, Overflow.HIDDEN);
        MeasureFunc node1Measure = ahemTextMeasure("HHHHHHHHHH\u200BHHHHHHHHHH\u200BHHHHHHHHHH\u200BHHHHHHHHHH\u200BHHHHHHHHHH", false);
        NodeId node1 = tree.newLeafWithMeasure(node1Style, node1Measure);

        Style nodeStyle = new Style();
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.AUTO);
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(50.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(9.0f, node0Layout.size().width, "width of node0");
        assertEquals(50.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(91.0f, node1Layout.size().width, "width of node1");
        assertEquals(50.0f, node1Layout.size().height, "height of node1");
        assertEquals(9.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
    }

    @Test
    @DisplayName("measure_child_with_flex_shrink_hidden__content_box")
    void measureChildWithFlexShrinkHiddenContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.overflow = new Point<>(Overflow.HIDDEN, Overflow.HIDDEN);
        MeasureFunc node1Measure = ahemTextMeasure("HHHHHHHHHH\u200BHHHHHHHHHH\u200BHHHHHHHHHH\u200BHHHHHHHHHH\u200BHHHHHHHHHH", false);
        NodeId node1 = tree.newLeafWithMeasure(node1Style, node1Measure);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.AUTO);
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(50.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(9.0f, node0Layout.size().width, "width of node0");
        assertEquals(50.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(91.0f, node1Layout.size().width, "width of node1");
        assertEquals(50.0f, node1Layout.size().height, "height of node1");
        assertEquals(9.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
    }

    @Test
    @DisplayName("measure_child_with_min_size_greater_than_available_space__border_box")
    void measureChildWithMinSizeGreaterThanAvailableSpaceBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.minSize = new Size<>(Dimension.length(200.0f), Dimension.AUTO);
        MeasureFunc node0Measure = ahemTextMeasure("HHHHHHHH\u200BHHHHHHHH", false);
        NodeId node0 = tree.newLeafWithMeasure(node0Style, node0Measure);

        Style nodeStyle = new Style();
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.AUTO);
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(10.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(200.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("measure_child_with_min_size_greater_than_available_space__content_box")
    void measureChildWithMinSizeGreaterThanAvailableSpaceContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.minSize = new Size<>(Dimension.length(200.0f), Dimension.AUTO);
        MeasureFunc node0Measure = ahemTextMeasure("HHHHHHHH\u200BHHHHHHHH", false);
        NodeId node0 = tree.newLeafWithMeasure(node0Style, node0Measure);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.AUTO);
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(10.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(200.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("measure_flex_basis_overrides_measure__border_box")
    void measureFlexBasisOverridesMeasureBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        MeasureFunc node0Measure = ahemTextMeasure("H", false);
        NodeId node0 = tree.newLeafWithMeasure(node0Style, node0Measure);

        Style nodeStyle = new Style();
        nodeStyle.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(50.0f, nodeLayout.size().width, "width of node");
        assertEquals(50.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(10.0f, node0Layout.size().width, "width of node0");
        assertEquals(50.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("measure_flex_basis_overrides_measure__content_box")
    void measureFlexBasisOverridesMeasureContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        MeasureFunc node0Measure = ahemTextMeasure("H", false);
        NodeId node0 = tree.newLeafWithMeasure(node0Style, node0Measure);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(50.0f, nodeLayout.size().width, "width of node");
        assertEquals(50.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(10.0f, node0Layout.size().width, "width of node0");
        assertEquals(50.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("measure_height_overrides_measure__border_box")
    void measureHeightOverridesMeasureBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.AUTO, Dimension.length(5.0f));
        MeasureFunc node0Measure = ahemTextMeasure("H", false);
        NodeId node0 = tree.newLeafWithMeasure(node0Style, node0Measure);

        Style nodeStyle = new Style();
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(10.0f, nodeLayout.size().width, "width of node");
        assertEquals(5.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(10.0f, node0Layout.size().width, "width of node0");
        assertEquals(5.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("measure_height_overrides_measure__content_box")
    void measureHeightOverridesMeasureContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.AUTO, Dimension.length(5.0f));
        MeasureFunc node0Measure = ahemTextMeasure("H", false);
        NodeId node0 = tree.newLeafWithMeasure(node0Style, node0Measure);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(10.0f, nodeLayout.size().width, "width of node");
        assertEquals(5.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(10.0f, node0Layout.size().width, "width of node0");
        assertEquals(5.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("measure_remeasure_child_after_growing__border_box")
    void measureRemeasureChildAfterGrowingBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        MeasureFunc node1Measure = ahemTextMeasure("HH", false);
        NodeId node1 = tree.newLeafWithMeasure(node1Style, node1Measure);

        Style nodeStyle = new Style();
        nodeStyle.alignItems = AlignItems.START;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.AUTO);
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(50.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(50.0f, node0Layout.size().width, "width of node0");
        assertEquals(50.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(20.0f, node1Layout.size().width, "width of node1");
        assertEquals(10.0f, node1Layout.size().height, "height of node1");
        assertEquals(50.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
    }

    @Test
    @DisplayName("measure_remeasure_child_after_growing__content_box")
    void measureRemeasureChildAfterGrowingContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        MeasureFunc node1Measure = ahemTextMeasure("HH", false);
        NodeId node1 = tree.newLeafWithMeasure(node1Style, node1Measure);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.alignItems = AlignItems.START;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.AUTO);
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(50.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(50.0f, node0Layout.size().width, "width of node0");
        assertEquals(50.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(20.0f, node1Layout.size().width, "width of node1");
        assertEquals(10.0f, node1Layout.size().height, "height of node1");
        assertEquals(50.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
    }

    @Test
    @DisplayName("measure_remeasure_child_after_shrinking__border_box")
    void measureRemeasureChildAfterShrinkingBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.flexShrink = 0.0f;
        node0Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        MeasureFunc node1Measure = ahemTextMeasure("HH", false);
        NodeId node1 = tree.newLeafWithMeasure(node1Style, node1Measure);

        Style nodeStyle = new Style();
        nodeStyle.alignItems = AlignItems.START;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.AUTO);
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(50.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(50.0f, node0Layout.size().width, "width of node0");
        assertEquals(50.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(20.0f, node1Layout.size().width, "width of node1");
        assertEquals(10.0f, node1Layout.size().height, "height of node1");
        assertEquals(50.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
    }

    @Test
    @DisplayName("measure_remeasure_child_after_shrinking__content_box")
    void measureRemeasureChildAfterShrinkingContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.flexShrink = 0.0f;
        node0Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        MeasureFunc node1Measure = ahemTextMeasure("HH", false);
        NodeId node1 = tree.newLeafWithMeasure(node1Style, node1Measure);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.alignItems = AlignItems.START;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.AUTO);
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(50.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(50.0f, node0Layout.size().width, "width of node0");
        assertEquals(50.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(20.0f, node1Layout.size().width, "width of node1");
        assertEquals(10.0f, node1Layout.size().height, "height of node1");
        assertEquals(50.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
    }

    @Test
    @DisplayName("measure_remeasure_child_after_stretching__border_box")
    void measureRemeasureChildAfterStretchingBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        MeasureFunc node0Measure = ahemTextMeasure("HH", false);
        NodeId node0 = tree.newLeafWithMeasure(node0Style, node0Measure);

        Style nodeStyle = new Style();
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(20.0f, node0Layout.size().width, "width of node0");
        assertEquals(100.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("measure_remeasure_child_after_stretching__content_box")
    void measureRemeasureChildAfterStretchingContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        MeasureFunc node0Measure = ahemTextMeasure("HH", false);
        NodeId node0 = tree.newLeafWithMeasure(node0Style, node0Measure);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(20.0f, node0Layout.size().width, "width of node0");
        assertEquals(100.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("measure_root__border_box")
    void measureRootBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style nodeStyle = new Style();
        MeasureFunc nodeMeasure = ahemTextMeasure("HHHHHH", false);
        NodeId node = tree.newLeafWithMeasure(nodeStyle, nodeMeasure);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(60.0f, nodeLayout.size().width, "width of node");
        assertEquals(10.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
    }

    @Test
    @DisplayName("measure_root__content_box")
    void measureRootContentBox() {
        TaffyTree tree = new TaffyTree();

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        MeasureFunc nodeMeasure = ahemTextMeasure("HHHHHH", false);
        NodeId node = tree.newLeafWithMeasure(nodeStyle, nodeMeasure);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(60.0f, nodeLayout.size().width, "width of node");
        assertEquals(10.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
    }

    @Test
    @DisplayName("measure_stretch_overrides_measure__border_box")
    void measureStretchOverridesMeasureBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.flexGrow = 1.0f;
        node0Style.flexBasis = Dimension.length(5.0f);
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.flexGrow = 1.0f;
        node1Style.flexBasis = Dimension.length(5.0f);
        MeasureFunc node1Measure = ahemTextMeasure("H", false);
        NodeId node1 = tree.newLeafWithMeasure(node1Style, node1Measure);

        Style nodeStyle = new Style();
        nodeStyle.size = new Size<>(Dimension.length(20.0f), Dimension.length(10.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(20.0f, nodeLayout.size().width, "width of node");
        assertEquals(10.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(10.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(10.0f, node1Layout.size().width, "width of node1");
        assertEquals(10.0f, node1Layout.size().height, "height of node1");
        assertEquals(10.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
    }

    @Test
    @DisplayName("measure_stretch_overrides_measure__content_box")
    void measureStretchOverridesMeasureContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.flexGrow = 1.0f;
        node0Style.flexBasis = Dimension.length(5.0f);
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.flexGrow = 1.0f;
        node1Style.flexBasis = Dimension.length(5.0f);
        MeasureFunc node1Measure = ahemTextMeasure("H", false);
        NodeId node1 = tree.newLeafWithMeasure(node1Style, node1Measure);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.size = new Size<>(Dimension.length(20.0f), Dimension.length(10.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(20.0f, nodeLayout.size().width, "width of node");
        assertEquals(10.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(10.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(10.0f, node1Layout.size().width, "width of node1");
        assertEquals(10.0f, node1Layout.size().height, "height of node1");
        assertEquals(10.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
    }

    @Test
    @DisplayName("measure_width_overrides_measure__border_box")
    void measureWidthOverridesMeasureBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.length(50.0f), Dimension.AUTO);
        MeasureFunc node0Measure = ahemTextMeasure("HHHHHHHHHH", false);
        NodeId node0 = tree.newLeafWithMeasure(node0Style, node0Measure);

        Style nodeStyle = new Style();
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(50.0f, nodeLayout.size().width, "width of node");
        assertEquals(10.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(50.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("measure_width_overrides_measure__content_box")
    void measureWidthOverridesMeasureContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.length(50.0f), Dimension.AUTO);
        MeasureFunc node0Measure = ahemTextMeasure("HHHHHHHHHH", false);
        NodeId node0 = tree.newLeafWithMeasure(node0Style, node0Measure);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(50.0f, nodeLayout.size().width, "width of node");
        assertEquals(10.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(50.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("min_height__border_box")
    void minHeightBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.flexGrow = 1.0f;
        node0Style.minSize = new Size<>(Dimension.AUTO, Dimension.length(60.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.flexGrow = 1.0f;
        NodeId node1 = tree.newLeaf(node1Style);

        Style nodeStyle = new Style();
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(100.0f, node0Layout.size().width, "width of node0");
        assertEquals(60.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(100.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(0.0f, node1Layout.location().x, "x of node1");
        assertEquals(60.0f, node1Layout.location().y, "y of node1");
    }

    @Test
    @DisplayName("min_height__content_box")
    void minHeightContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.flexGrow = 1.0f;
        node0Style.minSize = new Size<>(Dimension.AUTO, Dimension.length(60.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.flexGrow = 1.0f;
        NodeId node1 = tree.newLeaf(node1Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(100.0f, node0Layout.size().width, "width of node0");
        assertEquals(60.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(100.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(0.0f, node1Layout.location().x, "x of node1");
        assertEquals(60.0f, node1Layout.location().y, "y of node1");
    }

    @Test
    @DisplayName("min_height_larger_than_height__border_box")
    void minHeightLargerThanHeightBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.AUTO, Dimension.length(25.0f));
        node0Style.minSize = new Size<>(Dimension.AUTO, Dimension.length(50.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(0.0f, node0Layout.size().width, "width of node0");
        assertEquals(50.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("min_height_larger_than_height__content_box")
    void minHeightLargerThanHeightContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.AUTO, Dimension.length(25.0f));
        node0Style.minSize = new Size<>(Dimension.AUTO, Dimension.length(50.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(0.0f, node0Layout.size().width, "width of node0");
        assertEquals(50.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("min_height_overrides_height__border_box")
    void minHeightOverridesHeightBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.AUTO, Dimension.length(50.0f));
        node0Style.minSize = new Size<>(Dimension.AUTO, Dimension.length(100.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(0.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(0.0f, node0Layout.size().width, "width of node0");
        assertEquals(100.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("min_height_overrides_height__content_box")
    void minHeightOverridesHeightContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.AUTO, Dimension.length(50.0f));
        node0Style.minSize = new Size<>(Dimension.AUTO, Dimension.length(100.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(0.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(0.0f, node0Layout.size().width, "width of node0");
        assertEquals(100.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("min_height_overrides_height_on_root__border_box")
    void minHeightOverridesHeightOnRootBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style nodeStyle = new Style();
        nodeStyle.size = new Size<>(Dimension.AUTO, Dimension.length(50.0f));
        nodeStyle.minSize = new Size<>(Dimension.AUTO, Dimension.length(100.0f));
        NodeId node = tree.newLeaf(nodeStyle);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(0.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
    }

    @Test
    @DisplayName("min_height_overrides_height_on_root__content_box")
    void minHeightOverridesHeightOnRootContentBox() {
        TaffyTree tree = new TaffyTree();

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.size = new Size<>(Dimension.AUTO, Dimension.length(50.0f));
        nodeStyle.minSize = new Size<>(Dimension.AUTO, Dimension.length(100.0f));
        NodeId node = tree.newLeaf(nodeStyle);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(0.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
    }

    @Test
    @DisplayName("min_height_overrides_max_height__border_box")
    void minHeightOverridesMaxHeightBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.minSize = new Size<>(Dimension.AUTO, Dimension.length(100.0f));
        node0Style.maxSize = new Size<>(Dimension.AUTO, Dimension.length(50.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(0.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(0.0f, node0Layout.size().width, "width of node0");
        assertEquals(100.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("min_height_overrides_max_height__content_box")
    void minHeightOverridesMaxHeightContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.minSize = new Size<>(Dimension.AUTO, Dimension.length(100.0f));
        node0Style.maxSize = new Size<>(Dimension.AUTO, Dimension.length(50.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(0.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(0.0f, node0Layout.size().width, "width of node0");
        assertEquals(100.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("min_height_with_nested_fixed_height__border_box")
    void minHeightWithNestedFixedHeightBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.size = new Size<>(Dimension.length(40.0f), Dimension.length(40.0f));
        NodeId node00 = tree.newLeaf(node00Style);

        Style node0Style = new Style();
        node0Style.flexDirection = FlexDirection.COLUMN;
        node0Style.alignSelf = AlignItems.FLEX_START;
        node0Style.flexShrink = 0.0f;
        node0Style.minSize = new Size<>(Dimension.AUTO, Dimension.length(28.0f));
        node0Style.margin = new Rect<>(LengthPercentageAuto.ZERO, LengthPercentageAuto.ZERO, LengthPercentageAuto.length(8.0f), LengthPercentageAuto.length(9.0f));
        NodeId node0 = tree.newWithChildren(node0Style, node00);

        Style nodeStyle = new Style();
        nodeStyle.size = new Size<>(Dimension.length(320.0f), Dimension.AUTO);
        nodeStyle.minSize = new Size<>(Dimension.AUTO, Dimension.length(44.0f));
        nodeStyle.padding = new Rect<>(LengthPercentage.length(16.0f), LengthPercentage.length(16.0f), LengthPercentage.ZERO, LengthPercentage.ZERO);
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(320.0f, nodeLayout.size().width, "width of node");
        assertEquals(57.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(16.0f, node0Layout.location().x, "x of node0");
        assertEquals(8.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(40.0f, node00Layout.size().width, "width of node00");
        assertEquals(40.0f, node00Layout.size().height, "height of node00");
        assertEquals(0.0f, node00Layout.location().x, "x of node00");
        assertEquals(0.0f, node00Layout.location().y, "y of node00");
    }

    @Test
    @DisplayName("min_height_with_nested_fixed_height__content_box")
    void minHeightWithNestedFixedHeightContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.boxSizing = BoxSizing.CONTENT_BOX;
        node00Style.size = new Size<>(Dimension.length(40.0f), Dimension.length(40.0f));
        NodeId node00 = tree.newLeaf(node00Style);

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.flexDirection = FlexDirection.COLUMN;
        node0Style.alignSelf = AlignItems.FLEX_START;
        node0Style.flexShrink = 0.0f;
        node0Style.minSize = new Size<>(Dimension.AUTO, Dimension.length(28.0f));
        node0Style.margin = new Rect<>(LengthPercentageAuto.ZERO, LengthPercentageAuto.ZERO, LengthPercentageAuto.length(8.0f), LengthPercentageAuto.length(9.0f));
        NodeId node0 = tree.newWithChildren(node0Style, node00);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.size = new Size<>(Dimension.length(320.0f), Dimension.AUTO);
        nodeStyle.minSize = new Size<>(Dimension.AUTO, Dimension.length(44.0f));
        nodeStyle.padding = new Rect<>(LengthPercentage.length(16.0f), LengthPercentage.length(16.0f), LengthPercentage.ZERO, LengthPercentage.ZERO);
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(352.0f, nodeLayout.size().width, "width of node");
        assertEquals(57.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(16.0f, node0Layout.location().x, "x of node0");
        assertEquals(8.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(40.0f, node00Layout.size().width, "width of node00");
        assertEquals(40.0f, node00Layout.size().height, "height of node00");
        assertEquals(0.0f, node00Layout.location().x, "x of node00");
        assertEquals(0.0f, node00Layout.location().y, "y of node00");
    }

    @Test
    @DisplayName("min_max_percent_different_width_height__border_box")
    void minMaxPercentDifferentWidthHeightBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.minSize = new Size<>(Dimension.percent(0.1f), Dimension.percent(0.1f));
        node0Style.maxSize = new Size<>(Dimension.percent(0.1f), Dimension.percent(0.1f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.alignItems = AlignItems.FLEX_START;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(200.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(200.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(10.0f, node0Layout.size().width, "width of node0");
        assertEquals(20.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("min_max_percent_different_width_height__content_box")
    void minMaxPercentDifferentWidthHeightContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.minSize = new Size<>(Dimension.percent(0.1f), Dimension.percent(0.1f));
        node0Style.maxSize = new Size<>(Dimension.percent(0.1f), Dimension.percent(0.1f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.alignItems = AlignItems.FLEX_START;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(200.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(200.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(10.0f, node0Layout.size().width, "width of node0");
        assertEquals(20.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("min_max_percent_no_width_height__border_box")
    void minMaxPercentNoWidthHeightBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.minSize = new Size<>(Dimension.percent(0.1f), Dimension.percent(0.1f));
        node0Style.maxSize = new Size<>(Dimension.percent(0.1f), Dimension.percent(0.1f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.alignItems = AlignItems.FLEX_START;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(10.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("min_max_percent_no_width_height__content_box")
    void minMaxPercentNoWidthHeightContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.minSize = new Size<>(Dimension.percent(0.1f), Dimension.percent(0.1f));
        node0Style.maxSize = new Size<>(Dimension.percent(0.1f), Dimension.percent(0.1f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.alignItems = AlignItems.FLEX_START;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(10.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("min_width__border_box")
    void minWidthBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.flexGrow = 1.0f;
        node0Style.minSize = new Size<>(Dimension.length(60.0f), Dimension.AUTO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.flexGrow = 1.0f;
        NodeId node1 = tree.newLeaf(node1Style);

        Style nodeStyle = new Style();
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(60.0f, node0Layout.size().width, "width of node0");
        assertEquals(100.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(40.0f, node1Layout.size().width, "width of node1");
        assertEquals(100.0f, node1Layout.size().height, "height of node1");
        assertEquals(60.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
    }

    @Test
    @DisplayName("min_width__content_box")
    void minWidthContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.flexGrow = 1.0f;
        node0Style.minSize = new Size<>(Dimension.length(60.0f), Dimension.AUTO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.flexGrow = 1.0f;
        NodeId node1 = tree.newLeaf(node1Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(60.0f, node0Layout.size().width, "width of node0");
        assertEquals(100.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(40.0f, node1Layout.size().width, "width of node1");
        assertEquals(100.0f, node1Layout.size().height, "height of node1");
        assertEquals(60.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
    }

    @Test
    @DisplayName("min_width_larger_than_width__border_box")
    void minWidthLargerThanWidthBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.length(25.0f), Dimension.AUTO);
        node0Style.minSize = new Size<>(Dimension.length(50.0f), Dimension.AUTO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(50.0f, node0Layout.size().width, "width of node0");
        assertEquals(0.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("min_width_larger_than_width__content_box")
    void minWidthLargerThanWidthContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.length(25.0f), Dimension.AUTO);
        node0Style.minSize = new Size<>(Dimension.length(50.0f), Dimension.AUTO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(50.0f, node0Layout.size().width, "width of node0");
        assertEquals(0.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("min_width_overrides_max_width__border_box")
    void minWidthOverridesMaxWidthBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.minSize = new Size<>(Dimension.length(100.0f), Dimension.AUTO);
        node0Style.maxSize = new Size<>(Dimension.length(50.0f), Dimension.AUTO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(0.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(100.0f, node0Layout.size().width, "width of node0");
        assertEquals(0.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("min_width_overrides_max_width__content_box")
    void minWidthOverridesMaxWidthContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.minSize = new Size<>(Dimension.length(100.0f), Dimension.AUTO);
        node0Style.maxSize = new Size<>(Dimension.length(50.0f), Dimension.AUTO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(0.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(100.0f, node0Layout.size().width, "width of node0");
        assertEquals(0.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("min_width_overrides_width__border_box")
    void minWidthOverridesWidthBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.length(50.0f), Dimension.AUTO);
        node0Style.minSize = new Size<>(Dimension.length(100.0f), Dimension.AUTO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(0.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(100.0f, node0Layout.size().width, "width of node0");
        assertEquals(0.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("min_width_overrides_width__content_box")
    void minWidthOverridesWidthContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.length(50.0f), Dimension.AUTO);
        node0Style.minSize = new Size<>(Dimension.length(100.0f), Dimension.AUTO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(0.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(100.0f, node0Layout.size().width, "width of node0");
        assertEquals(0.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("min_width_overrides_width_on_root__border_box")
    void minWidthOverridesWidthOnRootBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style nodeStyle = new Style();
        nodeStyle.size = new Size<>(Dimension.length(50.0f), Dimension.AUTO);
        nodeStyle.minSize = new Size<>(Dimension.length(100.0f), Dimension.AUTO);
        NodeId node = tree.newLeaf(nodeStyle);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(0.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
    }

    @Test
    @DisplayName("min_width_overrides_width_on_root__content_box")
    void minWidthOverridesWidthOnRootContentBox() {
        TaffyTree tree = new TaffyTree();

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.size = new Size<>(Dimension.length(50.0f), Dimension.AUTO);
        nodeStyle.minSize = new Size<>(Dimension.length(100.0f), Dimension.AUTO);
        NodeId node = tree.newLeaf(nodeStyle);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(0.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
    }

    @Test
    @DisplayName("multiline_column_max_height__border_box")
    void multilineColumnMaxHeightBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.flexShrink = 0.0f;
        node0Style.size = new Size<>(Dimension.length(40.0f), Dimension.length(20.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.flexShrink = 0.0f;
        node1Style.size = new Size<>(Dimension.length(40.0f), Dimension.length(20.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.flexShrink = 0.0f;
        node2Style.size = new Size<>(Dimension.length(40.0f), Dimension.length(20.0f));
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        node3Style.flexShrink = 0.0f;
        node3Style.size = new Size<>(Dimension.length(40.0f), Dimension.length(20.0f));
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        node4Style.flexShrink = 0.0f;
        node4Style.size = new Size<>(Dimension.length(40.0f), Dimension.length(20.0f));
        NodeId node4 = tree.newLeaf(node4Style);

        Style node5Style = new Style();
        node5Style.flexShrink = 0.0f;
        node5Style.size = new Size<>(Dimension.length(40.0f), Dimension.length(20.0f));
        NodeId node5 = tree.newLeaf(node5Style);

        Style node6Style = new Style();
        node6Style.flexShrink = 0.0f;
        node6Style.size = new Size<>(Dimension.length(40.0f), Dimension.length(20.0f));
        NodeId node6 = tree.newLeaf(node6Style);

        Style node7Style = new Style();
        node7Style.flexShrink = 0.0f;
        node7Style.size = new Size<>(Dimension.length(40.0f), Dimension.length(20.0f));
        NodeId node7 = tree.newLeaf(node7Style);

        Style node8Style = new Style();
        node8Style.flexShrink = 0.0f;
        node8Style.size = new Size<>(Dimension.length(40.0f), Dimension.length(20.0f));
        NodeId node8 = tree.newLeaf(node8Style);

        Style node9Style = new Style();
        node9Style.flexShrink = 0.0f;
        node9Style.size = new Size<>(Dimension.length(40.0f), Dimension.length(20.0f));
        NodeId node9 = tree.newLeaf(node9Style);

        Style node10Style = new Style();
        node10Style.flexShrink = 0.0f;
        node10Style.size = new Size<>(Dimension.length(40.0f), Dimension.length(20.0f));
        NodeId node10 = tree.newLeaf(node10Style);

        Style node11Style = new Style();
        node11Style.flexShrink = 0.0f;
        node11Style.size = new Size<>(Dimension.length(40.0f), Dimension.length(20.0f));
        NodeId node11 = tree.newLeaf(node11Style);

        Style node12Style = new Style();
        node12Style.flexShrink = 0.0f;
        node12Style.size = new Size<>(Dimension.length(40.0f), Dimension.length(20.0f));
        NodeId node12 = tree.newLeaf(node12Style);

        Style node13Style = new Style();
        node13Style.flexShrink = 0.0f;
        node13Style.size = new Size<>(Dimension.length(40.0f), Dimension.length(20.0f));
        NodeId node13 = tree.newLeaf(node13Style);

        Style node14Style = new Style();
        node14Style.flexShrink = 0.0f;
        node14Style.size = new Size<>(Dimension.length(40.0f), Dimension.length(20.0f));
        NodeId node14 = tree.newLeaf(node14Style);

        Style node15Style = new Style();
        node15Style.flexShrink = 0.0f;
        node15Style.size = new Size<>(Dimension.length(40.0f), Dimension.length(20.0f));
        NodeId node15 = tree.newLeaf(node15Style);

        Style node16Style = new Style();
        node16Style.flexShrink = 0.0f;
        node16Style.size = new Size<>(Dimension.length(40.0f), Dimension.length(20.0f));
        NodeId node16 = tree.newLeaf(node16Style);

        Style node17Style = new Style();
        node17Style.flexShrink = 0.0f;
        node17Style.size = new Size<>(Dimension.length(40.0f), Dimension.length(20.0f));
        NodeId node17 = tree.newLeaf(node17Style);

        Style node18Style = new Style();
        node18Style.flexShrink = 0.0f;
        node18Style.size = new Size<>(Dimension.length(40.0f), Dimension.length(20.0f));
        NodeId node18 = tree.newLeaf(node18Style);

        Style node19Style = new Style();
        node19Style.flexShrink = 0.0f;
        node19Style.size = new Size<>(Dimension.length(40.0f), Dimension.length(20.0f));
        NodeId node19 = tree.newLeaf(node19Style);

        Style nodeStyle = new Style();
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.flexWrap = FlexWrap.WRAP;
        nodeStyle.maxSize = new Size<>(Dimension.AUTO, Dimension.length(200.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5, node6, node7, node8, node9, node10, node11, node12, node13, node14, node15, node16, node17, node18, node19);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(80.0f, nodeLayout.size().width, "width of node");
        assertEquals(200.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(20.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(40.0f, node1Layout.size().width, "width of node1");
        assertEquals(20.0f, node1Layout.size().height, "height of node1");
        assertEquals(0.0f, node1Layout.location().x, "x of node1");
        assertEquals(20.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(40.0f, node2Layout.size().width, "width of node2");
        assertEquals(20.0f, node2Layout.size().height, "height of node2");
        assertEquals(0.0f, node2Layout.location().x, "x of node2");
        assertEquals(40.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(40.0f, node3Layout.size().width, "width of node3");
        assertEquals(20.0f, node3Layout.size().height, "height of node3");
        assertEquals(0.0f, node3Layout.location().x, "x of node3");
        assertEquals(60.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(40.0f, node4Layout.size().width, "width of node4");
        assertEquals(20.0f, node4Layout.size().height, "height of node4");
        assertEquals(0.0f, node4Layout.location().x, "x of node4");
        assertEquals(80.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(40.0f, node5Layout.size().width, "width of node5");
        assertEquals(20.0f, node5Layout.size().height, "height of node5");
        assertEquals(0.0f, node5Layout.location().x, "x of node5");
        assertEquals(100.0f, node5Layout.location().y, "y of node5");
        Layout node6Layout = tree.getLayout(node6);
        assertEquals(40.0f, node6Layout.size().width, "width of node6");
        assertEquals(20.0f, node6Layout.size().height, "height of node6");
        assertEquals(0.0f, node6Layout.location().x, "x of node6");
        assertEquals(120.0f, node6Layout.location().y, "y of node6");
        Layout node7Layout = tree.getLayout(node7);
        assertEquals(40.0f, node7Layout.size().width, "width of node7");
        assertEquals(20.0f, node7Layout.size().height, "height of node7");
        assertEquals(0.0f, node7Layout.location().x, "x of node7");
        assertEquals(140.0f, node7Layout.location().y, "y of node7");
        Layout node8Layout = tree.getLayout(node8);
        assertEquals(40.0f, node8Layout.size().width, "width of node8");
        assertEquals(20.0f, node8Layout.size().height, "height of node8");
        assertEquals(0.0f, node8Layout.location().x, "x of node8");
        assertEquals(160.0f, node8Layout.location().y, "y of node8");
        Layout node9Layout = tree.getLayout(node9);
        assertEquals(40.0f, node9Layout.size().width, "width of node9");
        assertEquals(20.0f, node9Layout.size().height, "height of node9");
        assertEquals(0.0f, node9Layout.location().x, "x of node9");
        assertEquals(180.0f, node9Layout.location().y, "y of node9");
        Layout node10Layout = tree.getLayout(node10);
        assertEquals(40.0f, node10Layout.size().width, "width of node10");
        assertEquals(20.0f, node10Layout.size().height, "height of node10");
        assertEquals(40.0f, node10Layout.location().x, "x of node10");
        assertEquals(0.0f, node10Layout.location().y, "y of node10");
        Layout node11Layout = tree.getLayout(node11);
        assertEquals(40.0f, node11Layout.size().width, "width of node11");
        assertEquals(20.0f, node11Layout.size().height, "height of node11");
        assertEquals(40.0f, node11Layout.location().x, "x of node11");
        assertEquals(20.0f, node11Layout.location().y, "y of node11");
        Layout node12Layout = tree.getLayout(node12);
        assertEquals(40.0f, node12Layout.size().width, "width of node12");
        assertEquals(20.0f, node12Layout.size().height, "height of node12");
        assertEquals(40.0f, node12Layout.location().x, "x of node12");
        assertEquals(40.0f, node12Layout.location().y, "y of node12");
        Layout node13Layout = tree.getLayout(node13);
        assertEquals(40.0f, node13Layout.size().width, "width of node13");
        assertEquals(20.0f, node13Layout.size().height, "height of node13");
        assertEquals(40.0f, node13Layout.location().x, "x of node13");
        assertEquals(60.0f, node13Layout.location().y, "y of node13");
        Layout node14Layout = tree.getLayout(node14);
        assertEquals(40.0f, node14Layout.size().width, "width of node14");
        assertEquals(20.0f, node14Layout.size().height, "height of node14");
        assertEquals(40.0f, node14Layout.location().x, "x of node14");
        assertEquals(80.0f, node14Layout.location().y, "y of node14");
        Layout node15Layout = tree.getLayout(node15);
        assertEquals(40.0f, node15Layout.size().width, "width of node15");
        assertEquals(20.0f, node15Layout.size().height, "height of node15");
        assertEquals(40.0f, node15Layout.location().x, "x of node15");
        assertEquals(100.0f, node15Layout.location().y, "y of node15");
        Layout node16Layout = tree.getLayout(node16);
        assertEquals(40.0f, node16Layout.size().width, "width of node16");
        assertEquals(20.0f, node16Layout.size().height, "height of node16");
        assertEquals(40.0f, node16Layout.location().x, "x of node16");
        assertEquals(120.0f, node16Layout.location().y, "y of node16");
        Layout node17Layout = tree.getLayout(node17);
        assertEquals(40.0f, node17Layout.size().width, "width of node17");
        assertEquals(20.0f, node17Layout.size().height, "height of node17");
        assertEquals(40.0f, node17Layout.location().x, "x of node17");
        assertEquals(140.0f, node17Layout.location().y, "y of node17");
        Layout node18Layout = tree.getLayout(node18);
        assertEquals(40.0f, node18Layout.size().width, "width of node18");
        assertEquals(20.0f, node18Layout.size().height, "height of node18");
        assertEquals(40.0f, node18Layout.location().x, "x of node18");
        assertEquals(160.0f, node18Layout.location().y, "y of node18");
        Layout node19Layout = tree.getLayout(node19);
        assertEquals(40.0f, node19Layout.size().width, "width of node19");
        assertEquals(20.0f, node19Layout.size().height, "height of node19");
        assertEquals(40.0f, node19Layout.location().x, "x of node19");
        assertEquals(180.0f, node19Layout.location().y, "y of node19");
    }

    @Test
    @DisplayName("multiline_column_max_height__content_box")
    void multilineColumnMaxHeightContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.flexShrink = 0.0f;
        node0Style.size = new Size<>(Dimension.length(40.0f), Dimension.length(20.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.flexShrink = 0.0f;
        node1Style.size = new Size<>(Dimension.length(40.0f), Dimension.length(20.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        node2Style.flexShrink = 0.0f;
        node2Style.size = new Size<>(Dimension.length(40.0f), Dimension.length(20.0f));
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        node3Style.boxSizing = BoxSizing.CONTENT_BOX;
        node3Style.flexShrink = 0.0f;
        node3Style.size = new Size<>(Dimension.length(40.0f), Dimension.length(20.0f));
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        node4Style.boxSizing = BoxSizing.CONTENT_BOX;
        node4Style.flexShrink = 0.0f;
        node4Style.size = new Size<>(Dimension.length(40.0f), Dimension.length(20.0f));
        NodeId node4 = tree.newLeaf(node4Style);

        Style node5Style = new Style();
        node5Style.boxSizing = BoxSizing.CONTENT_BOX;
        node5Style.flexShrink = 0.0f;
        node5Style.size = new Size<>(Dimension.length(40.0f), Dimension.length(20.0f));
        NodeId node5 = tree.newLeaf(node5Style);

        Style node6Style = new Style();
        node6Style.boxSizing = BoxSizing.CONTENT_BOX;
        node6Style.flexShrink = 0.0f;
        node6Style.size = new Size<>(Dimension.length(40.0f), Dimension.length(20.0f));
        NodeId node6 = tree.newLeaf(node6Style);

        Style node7Style = new Style();
        node7Style.boxSizing = BoxSizing.CONTENT_BOX;
        node7Style.flexShrink = 0.0f;
        node7Style.size = new Size<>(Dimension.length(40.0f), Dimension.length(20.0f));
        NodeId node7 = tree.newLeaf(node7Style);

        Style node8Style = new Style();
        node8Style.boxSizing = BoxSizing.CONTENT_BOX;
        node8Style.flexShrink = 0.0f;
        node8Style.size = new Size<>(Dimension.length(40.0f), Dimension.length(20.0f));
        NodeId node8 = tree.newLeaf(node8Style);

        Style node9Style = new Style();
        node9Style.boxSizing = BoxSizing.CONTENT_BOX;
        node9Style.flexShrink = 0.0f;
        node9Style.size = new Size<>(Dimension.length(40.0f), Dimension.length(20.0f));
        NodeId node9 = tree.newLeaf(node9Style);

        Style node10Style = new Style();
        node10Style.boxSizing = BoxSizing.CONTENT_BOX;
        node10Style.flexShrink = 0.0f;
        node10Style.size = new Size<>(Dimension.length(40.0f), Dimension.length(20.0f));
        NodeId node10 = tree.newLeaf(node10Style);

        Style node11Style = new Style();
        node11Style.boxSizing = BoxSizing.CONTENT_BOX;
        node11Style.flexShrink = 0.0f;
        node11Style.size = new Size<>(Dimension.length(40.0f), Dimension.length(20.0f));
        NodeId node11 = tree.newLeaf(node11Style);

        Style node12Style = new Style();
        node12Style.boxSizing = BoxSizing.CONTENT_BOX;
        node12Style.flexShrink = 0.0f;
        node12Style.size = new Size<>(Dimension.length(40.0f), Dimension.length(20.0f));
        NodeId node12 = tree.newLeaf(node12Style);

        Style node13Style = new Style();
        node13Style.boxSizing = BoxSizing.CONTENT_BOX;
        node13Style.flexShrink = 0.0f;
        node13Style.size = new Size<>(Dimension.length(40.0f), Dimension.length(20.0f));
        NodeId node13 = tree.newLeaf(node13Style);

        Style node14Style = new Style();
        node14Style.boxSizing = BoxSizing.CONTENT_BOX;
        node14Style.flexShrink = 0.0f;
        node14Style.size = new Size<>(Dimension.length(40.0f), Dimension.length(20.0f));
        NodeId node14 = tree.newLeaf(node14Style);

        Style node15Style = new Style();
        node15Style.boxSizing = BoxSizing.CONTENT_BOX;
        node15Style.flexShrink = 0.0f;
        node15Style.size = new Size<>(Dimension.length(40.0f), Dimension.length(20.0f));
        NodeId node15 = tree.newLeaf(node15Style);

        Style node16Style = new Style();
        node16Style.boxSizing = BoxSizing.CONTENT_BOX;
        node16Style.flexShrink = 0.0f;
        node16Style.size = new Size<>(Dimension.length(40.0f), Dimension.length(20.0f));
        NodeId node16 = tree.newLeaf(node16Style);

        Style node17Style = new Style();
        node17Style.boxSizing = BoxSizing.CONTENT_BOX;
        node17Style.flexShrink = 0.0f;
        node17Style.size = new Size<>(Dimension.length(40.0f), Dimension.length(20.0f));
        NodeId node17 = tree.newLeaf(node17Style);

        Style node18Style = new Style();
        node18Style.boxSizing = BoxSizing.CONTENT_BOX;
        node18Style.flexShrink = 0.0f;
        node18Style.size = new Size<>(Dimension.length(40.0f), Dimension.length(20.0f));
        NodeId node18 = tree.newLeaf(node18Style);

        Style node19Style = new Style();
        node19Style.boxSizing = BoxSizing.CONTENT_BOX;
        node19Style.flexShrink = 0.0f;
        node19Style.size = new Size<>(Dimension.length(40.0f), Dimension.length(20.0f));
        NodeId node19 = tree.newLeaf(node19Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.flexWrap = FlexWrap.WRAP;
        nodeStyle.maxSize = new Size<>(Dimension.AUTO, Dimension.length(200.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5, node6, node7, node8, node9, node10, node11, node12, node13, node14, node15, node16, node17, node18, node19);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(80.0f, nodeLayout.size().width, "width of node");
        assertEquals(200.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(20.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(40.0f, node1Layout.size().width, "width of node1");
        assertEquals(20.0f, node1Layout.size().height, "height of node1");
        assertEquals(0.0f, node1Layout.location().x, "x of node1");
        assertEquals(20.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(40.0f, node2Layout.size().width, "width of node2");
        assertEquals(20.0f, node2Layout.size().height, "height of node2");
        assertEquals(0.0f, node2Layout.location().x, "x of node2");
        assertEquals(40.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(40.0f, node3Layout.size().width, "width of node3");
        assertEquals(20.0f, node3Layout.size().height, "height of node3");
        assertEquals(0.0f, node3Layout.location().x, "x of node3");
        assertEquals(60.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(40.0f, node4Layout.size().width, "width of node4");
        assertEquals(20.0f, node4Layout.size().height, "height of node4");
        assertEquals(0.0f, node4Layout.location().x, "x of node4");
        assertEquals(80.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(40.0f, node5Layout.size().width, "width of node5");
        assertEquals(20.0f, node5Layout.size().height, "height of node5");
        assertEquals(0.0f, node5Layout.location().x, "x of node5");
        assertEquals(100.0f, node5Layout.location().y, "y of node5");
        Layout node6Layout = tree.getLayout(node6);
        assertEquals(40.0f, node6Layout.size().width, "width of node6");
        assertEquals(20.0f, node6Layout.size().height, "height of node6");
        assertEquals(0.0f, node6Layout.location().x, "x of node6");
        assertEquals(120.0f, node6Layout.location().y, "y of node6");
        Layout node7Layout = tree.getLayout(node7);
        assertEquals(40.0f, node7Layout.size().width, "width of node7");
        assertEquals(20.0f, node7Layout.size().height, "height of node7");
        assertEquals(0.0f, node7Layout.location().x, "x of node7");
        assertEquals(140.0f, node7Layout.location().y, "y of node7");
        Layout node8Layout = tree.getLayout(node8);
        assertEquals(40.0f, node8Layout.size().width, "width of node8");
        assertEquals(20.0f, node8Layout.size().height, "height of node8");
        assertEquals(0.0f, node8Layout.location().x, "x of node8");
        assertEquals(160.0f, node8Layout.location().y, "y of node8");
        Layout node9Layout = tree.getLayout(node9);
        assertEquals(40.0f, node9Layout.size().width, "width of node9");
        assertEquals(20.0f, node9Layout.size().height, "height of node9");
        assertEquals(0.0f, node9Layout.location().x, "x of node9");
        assertEquals(180.0f, node9Layout.location().y, "y of node9");
        Layout node10Layout = tree.getLayout(node10);
        assertEquals(40.0f, node10Layout.size().width, "width of node10");
        assertEquals(20.0f, node10Layout.size().height, "height of node10");
        assertEquals(40.0f, node10Layout.location().x, "x of node10");
        assertEquals(0.0f, node10Layout.location().y, "y of node10");
        Layout node11Layout = tree.getLayout(node11);
        assertEquals(40.0f, node11Layout.size().width, "width of node11");
        assertEquals(20.0f, node11Layout.size().height, "height of node11");
        assertEquals(40.0f, node11Layout.location().x, "x of node11");
        assertEquals(20.0f, node11Layout.location().y, "y of node11");
        Layout node12Layout = tree.getLayout(node12);
        assertEquals(40.0f, node12Layout.size().width, "width of node12");
        assertEquals(20.0f, node12Layout.size().height, "height of node12");
        assertEquals(40.0f, node12Layout.location().x, "x of node12");
        assertEquals(40.0f, node12Layout.location().y, "y of node12");
        Layout node13Layout = tree.getLayout(node13);
        assertEquals(40.0f, node13Layout.size().width, "width of node13");
        assertEquals(20.0f, node13Layout.size().height, "height of node13");
        assertEquals(40.0f, node13Layout.location().x, "x of node13");
        assertEquals(60.0f, node13Layout.location().y, "y of node13");
        Layout node14Layout = tree.getLayout(node14);
        assertEquals(40.0f, node14Layout.size().width, "width of node14");
        assertEquals(20.0f, node14Layout.size().height, "height of node14");
        assertEquals(40.0f, node14Layout.location().x, "x of node14");
        assertEquals(80.0f, node14Layout.location().y, "y of node14");
        Layout node15Layout = tree.getLayout(node15);
        assertEquals(40.0f, node15Layout.size().width, "width of node15");
        assertEquals(20.0f, node15Layout.size().height, "height of node15");
        assertEquals(40.0f, node15Layout.location().x, "x of node15");
        assertEquals(100.0f, node15Layout.location().y, "y of node15");
        Layout node16Layout = tree.getLayout(node16);
        assertEquals(40.0f, node16Layout.size().width, "width of node16");
        assertEquals(20.0f, node16Layout.size().height, "height of node16");
        assertEquals(40.0f, node16Layout.location().x, "x of node16");
        assertEquals(120.0f, node16Layout.location().y, "y of node16");
        Layout node17Layout = tree.getLayout(node17);
        assertEquals(40.0f, node17Layout.size().width, "width of node17");
        assertEquals(20.0f, node17Layout.size().height, "height of node17");
        assertEquals(40.0f, node17Layout.location().x, "x of node17");
        assertEquals(140.0f, node17Layout.location().y, "y of node17");
        Layout node18Layout = tree.getLayout(node18);
        assertEquals(40.0f, node18Layout.size().width, "width of node18");
        assertEquals(20.0f, node18Layout.size().height, "height of node18");
        assertEquals(40.0f, node18Layout.location().x, "x of node18");
        assertEquals(160.0f, node18Layout.location().y, "y of node18");
        Layout node19Layout = tree.getLayout(node19);
        assertEquals(40.0f, node19Layout.size().width, "width of node19");
        assertEquals(20.0f, node19Layout.size().height, "height of node19");
        assertEquals(40.0f, node19Layout.location().x, "x of node19");
        assertEquals(180.0f, node19Layout.location().y, "y of node19");
    }

    @Test
    @DisplayName("multiline_min_max_12__border_box")
    void multilineMinMax12BorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.flexGrow = 1.0f;
        node0Style.flexShrink = 1.0f;
        node0Style.flexBasis = Dimension.length(600.0f);
        node0Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        node0Style.maxSize = new Size<>(Dimension.length(300.0f), Dimension.AUTO);
        node0Style.padding = new Rect<>(LengthPercentage.length(10.0f), LengthPercentage.ZERO, LengthPercentage.ZERO, LengthPercentage.ZERO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.flexGrow = 1.0f;
        node1Style.flexShrink = 1.0f;
        node1Style.flexBasis = Dimension.AUTO;
        node1Style.size = new Size<>(Dimension.length(100.0f), Dimension.length(10.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.flexGrow = 1.0f;
        node2Style.flexShrink = 1.0f;
        node2Style.flexBasis = Dimension.AUTO;
        node2Style.size = new Size<>(Dimension.length(100.0f), Dimension.length(10.0f));
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        node3Style.flexGrow = 1.0f;
        node3Style.flexShrink = 1.0f;
        node3Style.flexBasis = Dimension.AUTO;
        node3Style.size = new Size<>(Dimension.length(100.0f), Dimension.length(10.0f));
        NodeId node3 = tree.newLeaf(node3Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexWrap = FlexWrap.WRAP;
        nodeStyle.size = new Size<>(Dimension.length(600.0f), Dimension.length(20.0f));
        nodeStyle.border = new Rect<>(LengthPercentage.length(5.0f), LengthPercentage.length(5.0f), LengthPercentage.length(5.0f), LengthPercentage.length(5.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(610.0f, nodeLayout.size().width, "width of node");
        assertEquals(30.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(300.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(5.0f, node0Layout.location().x, "x of node0");
        assertEquals(5.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(100.0f, node1Layout.size().width, "width of node1");
        assertEquals(10.0f, node1Layout.size().height, "height of node1");
        assertEquals(305.0f, node1Layout.location().x, "x of node1");
        assertEquals(5.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(100.0f, node2Layout.size().width, "width of node2");
        assertEquals(10.0f, node2Layout.size().height, "height of node2");
        assertEquals(405.0f, node2Layout.location().x, "x of node2");
        assertEquals(5.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(100.0f, node3Layout.size().width, "width of node3");
        assertEquals(10.0f, node3Layout.size().height, "height of node3");
        assertEquals(505.0f, node3Layout.location().x, "x of node3");
        assertEquals(5.0f, node3Layout.location().y, "y of node3");
    }

    @Test
    @DisplayName("multiline_min_max_12__content_box")
    void multilineMinMax12ContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.flexGrow = 1.0f;
        node0Style.flexShrink = 1.0f;
        node0Style.flexBasis = Dimension.length(600.0f);
        node0Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        node0Style.maxSize = new Size<>(Dimension.length(300.0f), Dimension.AUTO);
        node0Style.padding = new Rect<>(LengthPercentage.length(10.0f), LengthPercentage.ZERO, LengthPercentage.ZERO, LengthPercentage.ZERO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.flexGrow = 1.0f;
        node1Style.flexShrink = 1.0f;
        node1Style.flexBasis = Dimension.AUTO;
        node1Style.size = new Size<>(Dimension.length(100.0f), Dimension.length(10.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.flexGrow = 1.0f;
        node2Style.flexShrink = 1.0f;
        node2Style.flexBasis = Dimension.AUTO;
        node2Style.size = new Size<>(Dimension.length(100.0f), Dimension.length(10.0f));
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        node3Style.flexGrow = 1.0f;
        node3Style.flexShrink = 1.0f;
        node3Style.flexBasis = Dimension.AUTO;
        node3Style.size = new Size<>(Dimension.length(100.0f), Dimension.length(10.0f));
        NodeId node3 = tree.newLeaf(node3Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexWrap = FlexWrap.WRAP;
        nodeStyle.size = new Size<>(Dimension.length(600.0f), Dimension.length(20.0f));
        nodeStyle.border = new Rect<>(LengthPercentage.length(5.0f), LengthPercentage.length(5.0f), LengthPercentage.length(5.0f), LengthPercentage.length(5.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(610.0f, nodeLayout.size().width, "width of node");
        assertEquals(30.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(300.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(5.0f, node0Layout.location().x, "x of node0");
        assertEquals(5.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(100.0f, node1Layout.size().width, "width of node1");
        assertEquals(10.0f, node1Layout.size().height, "height of node1");
        assertEquals(305.0f, node1Layout.location().x, "x of node1");
        assertEquals(5.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(100.0f, node2Layout.size().width, "width of node2");
        assertEquals(10.0f, node2Layout.size().height, "height of node2");
        assertEquals(405.0f, node2Layout.location().x, "x of node2");
        assertEquals(5.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(100.0f, node3Layout.size().width, "width of node3");
        assertEquals(10.0f, node3Layout.size().height, "height of node3");
        assertEquals(505.0f, node3Layout.location().x, "x of node3");
        assertEquals(5.0f, node3Layout.location().y, "y of node3");
    }

    @Test
    @DisplayName("multiline_min_max_13__border_box")
    void multilineMinMax13BorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.flexGrow = 1.0f;
        node0Style.flexShrink = 1.0f;
        node0Style.flexBasis = Dimension.length(600.0f);
        node0Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        node0Style.maxSize = new Size<>(Dimension.length(300.0f), Dimension.AUTO);
        node0Style.border = new Rect<>(LengthPercentage.length(10.0f), LengthPercentage.ZERO, LengthPercentage.ZERO, LengthPercentage.ZERO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.flexGrow = 1.0f;
        node1Style.flexShrink = 1.0f;
        node1Style.flexBasis = Dimension.AUTO;
        node1Style.size = new Size<>(Dimension.length(100.0f), Dimension.length(10.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.flexGrow = 1.0f;
        node2Style.flexShrink = 1.0f;
        node2Style.flexBasis = Dimension.AUTO;
        node2Style.size = new Size<>(Dimension.length(100.0f), Dimension.length(10.0f));
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        node3Style.flexGrow = 1.0f;
        node3Style.flexShrink = 1.0f;
        node3Style.flexBasis = Dimension.AUTO;
        node3Style.size = new Size<>(Dimension.length(100.0f), Dimension.length(10.0f));
        NodeId node3 = tree.newLeaf(node3Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexWrap = FlexWrap.WRAP;
        nodeStyle.size = new Size<>(Dimension.length(600.0f), Dimension.length(20.0f));
        nodeStyle.border = new Rect<>(LengthPercentage.length(5.0f), LengthPercentage.length(5.0f), LengthPercentage.length(5.0f), LengthPercentage.length(5.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(610.0f, nodeLayout.size().width, "width of node");
        assertEquals(30.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(300.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(5.0f, node0Layout.location().x, "x of node0");
        assertEquals(5.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(100.0f, node1Layout.size().width, "width of node1");
        assertEquals(10.0f, node1Layout.size().height, "height of node1");
        assertEquals(305.0f, node1Layout.location().x, "x of node1");
        assertEquals(5.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(100.0f, node2Layout.size().width, "width of node2");
        assertEquals(10.0f, node2Layout.size().height, "height of node2");
        assertEquals(405.0f, node2Layout.location().x, "x of node2");
        assertEquals(5.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(100.0f, node3Layout.size().width, "width of node3");
        assertEquals(10.0f, node3Layout.size().height, "height of node3");
        assertEquals(505.0f, node3Layout.location().x, "x of node3");
        assertEquals(5.0f, node3Layout.location().y, "y of node3");
    }

    @Test
    @DisplayName("multiline_min_max_13__content_box")
    void multilineMinMax13ContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.flexGrow = 1.0f;
        node0Style.flexShrink = 1.0f;
        node0Style.flexBasis = Dimension.length(600.0f);
        node0Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        node0Style.maxSize = new Size<>(Dimension.length(300.0f), Dimension.AUTO);
        node0Style.border = new Rect<>(LengthPercentage.length(10.0f), LengthPercentage.ZERO, LengthPercentage.ZERO, LengthPercentage.ZERO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.flexGrow = 1.0f;
        node1Style.flexShrink = 1.0f;
        node1Style.flexBasis = Dimension.AUTO;
        node1Style.size = new Size<>(Dimension.length(100.0f), Dimension.length(10.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.flexGrow = 1.0f;
        node2Style.flexShrink = 1.0f;
        node2Style.flexBasis = Dimension.AUTO;
        node2Style.size = new Size<>(Dimension.length(100.0f), Dimension.length(10.0f));
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        node3Style.flexGrow = 1.0f;
        node3Style.flexShrink = 1.0f;
        node3Style.flexBasis = Dimension.AUTO;
        node3Style.size = new Size<>(Dimension.length(100.0f), Dimension.length(10.0f));
        NodeId node3 = tree.newLeaf(node3Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexWrap = FlexWrap.WRAP;
        nodeStyle.size = new Size<>(Dimension.length(600.0f), Dimension.length(20.0f));
        nodeStyle.border = new Rect<>(LengthPercentage.length(5.0f), LengthPercentage.length(5.0f), LengthPercentage.length(5.0f), LengthPercentage.length(5.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(610.0f, nodeLayout.size().width, "width of node");
        assertEquals(30.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(300.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(5.0f, node0Layout.location().x, "x of node0");
        assertEquals(5.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(100.0f, node1Layout.size().width, "width of node1");
        assertEquals(10.0f, node1Layout.size().height, "height of node1");
        assertEquals(305.0f, node1Layout.location().x, "x of node1");
        assertEquals(5.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(100.0f, node2Layout.size().width, "width of node2");
        assertEquals(10.0f, node2Layout.size().height, "height of node2");
        assertEquals(405.0f, node2Layout.location().x, "x of node2");
        assertEquals(5.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(100.0f, node3Layout.size().width, "width of node3");
        assertEquals(10.0f, node3Layout.size().height, "height of node3");
        assertEquals(505.0f, node3Layout.location().x, "x of node3");
        assertEquals(5.0f, node3Layout.location().y, "y of node3");
    }

    @Test
    @DisplayName("multiline_min_max_14__border_box")
    void multilineMinMax14BorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.flexGrow = 1.0f;
        node0Style.flexShrink = 1.0f;
        node0Style.flexBasis = Dimension.length(600.0f);
        node0Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        node0Style.maxSize = new Size<>(Dimension.length(300.0f), Dimension.AUTO);
        node0Style.margin = new Rect<>(LengthPercentageAuto.length(10.0f), LengthPercentageAuto.ZERO, LengthPercentageAuto.ZERO, LengthPercentageAuto.ZERO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.flexGrow = 1.0f;
        node1Style.flexShrink = 1.0f;
        node1Style.flexBasis = Dimension.AUTO;
        node1Style.size = new Size<>(Dimension.length(100.0f), Dimension.length(10.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.flexGrow = 1.0f;
        node2Style.flexShrink = 1.0f;
        node2Style.flexBasis = Dimension.AUTO;
        node2Style.size = new Size<>(Dimension.length(100.0f), Dimension.length(10.0f));
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        node3Style.flexGrow = 1.0f;
        node3Style.flexShrink = 1.0f;
        node3Style.flexBasis = Dimension.AUTO;
        node3Style.size = new Size<>(Dimension.length(100.0f), Dimension.length(10.0f));
        NodeId node3 = tree.newLeaf(node3Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexWrap = FlexWrap.WRAP;
        nodeStyle.size = new Size<>(Dimension.length(600.0f), Dimension.length(20.0f));
        nodeStyle.border = new Rect<>(LengthPercentage.length(5.0f), LengthPercentage.length(5.0f), LengthPercentage.length(5.0f), LengthPercentage.length(5.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(610.0f, nodeLayout.size().width, "width of node");
        assertEquals(30.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(300.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(15.0f, node0Layout.location().x, "x of node0");
        assertEquals(5.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(145.0f, node1Layout.size().width, "width of node1");
        assertEquals(10.0f, node1Layout.size().height, "height of node1");
        assertEquals(315.0f, node1Layout.location().x, "x of node1");
        assertEquals(5.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(145.0f, node2Layout.size().width, "width of node2");
        assertEquals(10.0f, node2Layout.size().height, "height of node2");
        assertEquals(460.0f, node2Layout.location().x, "x of node2");
        assertEquals(5.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(600.0f, node3Layout.size().width, "width of node3");
        assertEquals(10.0f, node3Layout.size().height, "height of node3");
        assertEquals(5.0f, node3Layout.location().x, "x of node3");
        assertEquals(15.0f, node3Layout.location().y, "y of node3");
    }

    @Test
    @DisplayName("multiline_min_max_14__content_box")
    void multilineMinMax14ContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.flexGrow = 1.0f;
        node0Style.flexShrink = 1.0f;
        node0Style.flexBasis = Dimension.length(600.0f);
        node0Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        node0Style.maxSize = new Size<>(Dimension.length(300.0f), Dimension.AUTO);
        node0Style.margin = new Rect<>(LengthPercentageAuto.length(10.0f), LengthPercentageAuto.ZERO, LengthPercentageAuto.ZERO, LengthPercentageAuto.ZERO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.flexGrow = 1.0f;
        node1Style.flexShrink = 1.0f;
        node1Style.flexBasis = Dimension.AUTO;
        node1Style.size = new Size<>(Dimension.length(100.0f), Dimension.length(10.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.flexGrow = 1.0f;
        node2Style.flexShrink = 1.0f;
        node2Style.flexBasis = Dimension.AUTO;
        node2Style.size = new Size<>(Dimension.length(100.0f), Dimension.length(10.0f));
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        node3Style.flexGrow = 1.0f;
        node3Style.flexShrink = 1.0f;
        node3Style.flexBasis = Dimension.AUTO;
        node3Style.size = new Size<>(Dimension.length(100.0f), Dimension.length(10.0f));
        NodeId node3 = tree.newLeaf(node3Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexWrap = FlexWrap.WRAP;
        nodeStyle.size = new Size<>(Dimension.length(600.0f), Dimension.length(20.0f));
        nodeStyle.border = new Rect<>(LengthPercentage.length(5.0f), LengthPercentage.length(5.0f), LengthPercentage.length(5.0f), LengthPercentage.length(5.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(610.0f, nodeLayout.size().width, "width of node");
        assertEquals(30.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(300.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(15.0f, node0Layout.location().x, "x of node0");
        assertEquals(5.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(145.0f, node1Layout.size().width, "width of node1");
        assertEquals(10.0f, node1Layout.size().height, "height of node1");
        assertEquals(315.0f, node1Layout.location().x, "x of node1");
        assertEquals(5.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(145.0f, node2Layout.size().width, "width of node2");
        assertEquals(10.0f, node2Layout.size().height, "height of node2");
        assertEquals(460.0f, node2Layout.location().x, "x of node2");
        assertEquals(5.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(600.0f, node3Layout.size().width, "width of node3");
        assertEquals(10.0f, node3Layout.size().height, "height of node3");
        assertEquals(5.0f, node3Layout.location().x, "x of node3");
        assertEquals(15.0f, node3Layout.location().y, "y of node3");
    }

    @Test
    @DisplayName("multiline_min_max_5__border_box")
    void multilineMinMax5BorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.flexGrow = 1.0f;
        node0Style.flexShrink = 1.0f;
        node0Style.flexBasis = Dimension.length(600.0f);
        node0Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        node0Style.maxSize = new Size<>(Dimension.length(300.0f), Dimension.AUTO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.flexGrow = 1.0f;
        node1Style.flexShrink = 1.0f;
        node1Style.flexBasis = Dimension.AUTO;
        node1Style.size = new Size<>(Dimension.length(100.0f), Dimension.length(10.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        node2Style.flexGrow = 1.0f;
        node2Style.flexShrink = 1.0f;
        node2Style.flexBasis = Dimension.AUTO;
        node2Style.size = new Size<>(Dimension.length(100.0f), Dimension.length(10.0f));
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        node3Style.boxSizing = BoxSizing.CONTENT_BOX;
        node3Style.flexGrow = 1.0f;
        node3Style.flexShrink = 1.0f;
        node3Style.flexBasis = Dimension.AUTO;
        node3Style.size = new Size<>(Dimension.length(100.0f), Dimension.length(10.0f));
        NodeId node3 = tree.newLeaf(node3Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexWrap = FlexWrap.WRAP;
        nodeStyle.size = new Size<>(Dimension.length(600.0f), Dimension.length(20.0f));
        nodeStyle.border = new Rect<>(LengthPercentage.length(5.0f), LengthPercentage.length(5.0f), LengthPercentage.length(5.0f), LengthPercentage.length(5.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(610.0f, nodeLayout.size().width, "width of node");
        assertEquals(30.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(300.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(5.0f, node0Layout.location().x, "x of node0");
        assertEquals(5.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(100.0f, node1Layout.size().width, "width of node1");
        assertEquals(10.0f, node1Layout.size().height, "height of node1");
        assertEquals(305.0f, node1Layout.location().x, "x of node1");
        assertEquals(5.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(100.0f, node2Layout.size().width, "width of node2");
        assertEquals(10.0f, node2Layout.size().height, "height of node2");
        assertEquals(405.0f, node2Layout.location().x, "x of node2");
        assertEquals(5.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(100.0f, node3Layout.size().width, "width of node3");
        assertEquals(10.0f, node3Layout.size().height, "height of node3");
        assertEquals(505.0f, node3Layout.location().x, "x of node3");
        assertEquals(5.0f, node3Layout.location().y, "y of node3");
    }

    @Test
    @DisplayName("multiline_min_max_5__content_box")
    void multilineMinMax5ContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.flexGrow = 1.0f;
        node0Style.flexShrink = 1.0f;
        node0Style.flexBasis = Dimension.length(600.0f);
        node0Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        node0Style.maxSize = new Size<>(Dimension.length(300.0f), Dimension.AUTO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.flexGrow = 1.0f;
        node1Style.flexShrink = 1.0f;
        node1Style.flexBasis = Dimension.AUTO;
        node1Style.size = new Size<>(Dimension.length(100.0f), Dimension.length(10.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        node2Style.flexGrow = 1.0f;
        node2Style.flexShrink = 1.0f;
        node2Style.flexBasis = Dimension.AUTO;
        node2Style.size = new Size<>(Dimension.length(100.0f), Dimension.length(10.0f));
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        node3Style.boxSizing = BoxSizing.CONTENT_BOX;
        node3Style.flexGrow = 1.0f;
        node3Style.flexShrink = 1.0f;
        node3Style.flexBasis = Dimension.AUTO;
        node3Style.size = new Size<>(Dimension.length(100.0f), Dimension.length(10.0f));
        NodeId node3 = tree.newLeaf(node3Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexWrap = FlexWrap.WRAP;
        nodeStyle.size = new Size<>(Dimension.length(600.0f), Dimension.length(20.0f));
        nodeStyle.border = new Rect<>(LengthPercentage.length(5.0f), LengthPercentage.length(5.0f), LengthPercentage.length(5.0f), LengthPercentage.length(5.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(610.0f, nodeLayout.size().width, "width of node");
        assertEquals(30.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(300.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(5.0f, node0Layout.location().x, "x of node0");
        assertEquals(5.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(100.0f, node1Layout.size().width, "width of node1");
        assertEquals(10.0f, node1Layout.size().height, "height of node1");
        assertEquals(305.0f, node1Layout.location().x, "x of node1");
        assertEquals(5.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(100.0f, node2Layout.size().width, "width of node2");
        assertEquals(10.0f, node2Layout.size().height, "height of node2");
        assertEquals(405.0f, node2Layout.location().x, "x of node2");
        assertEquals(5.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(100.0f, node3Layout.size().width, "width of node3");
        assertEquals(10.0f, node3Layout.size().height, "height of node3");
        assertEquals(505.0f, node3Layout.location().x, "x of node3");
        assertEquals(5.0f, node3Layout.location().y, "y of node3");
    }

    @Test
    @DisplayName("multiline_min_max_8__border_box")
    void multilineMinMax8BorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.flexGrow = 1.0f;
        node0Style.flexShrink = 1.0f;
        node0Style.flexBasis = Dimension.length(600.0f);
        node0Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        node0Style.maxSize = new Size<>(Dimension.length(300.0f), Dimension.AUTO);
        node0Style.margin = new Rect<>(LengthPercentageAuto.length(10.0f), LengthPercentageAuto.ZERO, LengthPercentageAuto.ZERO, LengthPercentageAuto.ZERO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.flexGrow = 1.0f;
        node1Style.flexShrink = 1.0f;
        node1Style.flexBasis = Dimension.AUTO;
        node1Style.size = new Size<>(Dimension.length(100.0f), Dimension.length(10.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.flexGrow = 1.0f;
        node2Style.flexShrink = 1.0f;
        node2Style.flexBasis = Dimension.AUTO;
        node2Style.size = new Size<>(Dimension.length(100.0f), Dimension.length(10.0f));
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        node3Style.flexGrow = 1.0f;
        node3Style.flexShrink = 1.0f;
        node3Style.flexBasis = Dimension.AUTO;
        node3Style.size = new Size<>(Dimension.length(100.0f), Dimension.length(10.0f));
        NodeId node3 = tree.newLeaf(node3Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexWrap = FlexWrap.WRAP;
        nodeStyle.size = new Size<>(Dimension.length(600.0f), Dimension.length(20.0f));
        nodeStyle.border = new Rect<>(LengthPercentage.length(5.0f), LengthPercentage.length(5.0f), LengthPercentage.length(5.0f), LengthPercentage.length(5.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(610.0f, nodeLayout.size().width, "width of node");
        assertEquals(30.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(300.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(15.0f, node0Layout.location().x, "x of node0");
        assertEquals(5.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(145.0f, node1Layout.size().width, "width of node1");
        assertEquals(10.0f, node1Layout.size().height, "height of node1");
        assertEquals(315.0f, node1Layout.location().x, "x of node1");
        assertEquals(5.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(145.0f, node2Layout.size().width, "width of node2");
        assertEquals(10.0f, node2Layout.size().height, "height of node2");
        assertEquals(460.0f, node2Layout.location().x, "x of node2");
        assertEquals(5.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(600.0f, node3Layout.size().width, "width of node3");
        assertEquals(10.0f, node3Layout.size().height, "height of node3");
        assertEquals(5.0f, node3Layout.location().x, "x of node3");
        assertEquals(15.0f, node3Layout.location().y, "y of node3");
    }

    @Test
    @DisplayName("multiline_min_max_8__content_box")
    void multilineMinMax8ContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.flexGrow = 1.0f;
        node0Style.flexShrink = 1.0f;
        node0Style.flexBasis = Dimension.length(600.0f);
        node0Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        node0Style.maxSize = new Size<>(Dimension.length(300.0f), Dimension.AUTO);
        node0Style.margin = new Rect<>(LengthPercentageAuto.length(10.0f), LengthPercentageAuto.ZERO, LengthPercentageAuto.ZERO, LengthPercentageAuto.ZERO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.flexGrow = 1.0f;
        node1Style.flexShrink = 1.0f;
        node1Style.flexBasis = Dimension.AUTO;
        node1Style.size = new Size<>(Dimension.length(100.0f), Dimension.length(10.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        node2Style.flexGrow = 1.0f;
        node2Style.flexShrink = 1.0f;
        node2Style.flexBasis = Dimension.AUTO;
        node2Style.size = new Size<>(Dimension.length(100.0f), Dimension.length(10.0f));
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        node3Style.boxSizing = BoxSizing.CONTENT_BOX;
        node3Style.flexGrow = 1.0f;
        node3Style.flexShrink = 1.0f;
        node3Style.flexBasis = Dimension.AUTO;
        node3Style.size = new Size<>(Dimension.length(100.0f), Dimension.length(10.0f));
        NodeId node3 = tree.newLeaf(node3Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexWrap = FlexWrap.WRAP;
        nodeStyle.size = new Size<>(Dimension.length(600.0f), Dimension.length(20.0f));
        nodeStyle.border = new Rect<>(LengthPercentage.length(5.0f), LengthPercentage.length(5.0f), LengthPercentage.length(5.0f), LengthPercentage.length(5.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(610.0f, nodeLayout.size().width, "width of node");
        assertEquals(30.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(300.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(15.0f, node0Layout.location().x, "x of node0");
        assertEquals(5.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(145.0f, node1Layout.size().width, "width of node1");
        assertEquals(10.0f, node1Layout.size().height, "height of node1");
        assertEquals(315.0f, node1Layout.location().x, "x of node1");
        assertEquals(5.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(145.0f, node2Layout.size().width, "width of node2");
        assertEquals(10.0f, node2Layout.size().height, "height of node2");
        assertEquals(460.0f, node2Layout.location().x, "x of node2");
        assertEquals(5.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(600.0f, node3Layout.size().width, "width of node3");
        assertEquals(10.0f, node3Layout.size().height, "height of node3");
        assertEquals(5.0f, node3Layout.location().x, "x of node3");
        assertEquals(15.0f, node3Layout.location().y, "y of node3");
    }

    @Test
    @DisplayName("nested_overflowing_child__border_box")
    void nestedOverflowingChildBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.size = new Size<>(Dimension.length(200.0f), Dimension.length(200.0f));
        NodeId node00 = tree.newLeaf(node00Style);

        Style node0Style = new Style();
        NodeId node0 = tree.newWithChildren(node0Style, node00);

        Style nodeStyle = new Style();
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(200.0f, node0Layout.size().width, "width of node0");
        assertEquals(100.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(200.0f, node00Layout.size().width, "width of node00");
        assertEquals(200.0f, node00Layout.size().height, "height of node00");
        assertEquals(0.0f, node00Layout.location().x, "x of node00");
        assertEquals(0.0f, node00Layout.location().y, "y of node00");
    }

    @Test
    @DisplayName("nested_overflowing_child__content_box")
    void nestedOverflowingChildContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.boxSizing = BoxSizing.CONTENT_BOX;
        node00Style.size = new Size<>(Dimension.length(200.0f), Dimension.length(200.0f));
        NodeId node00 = tree.newLeaf(node00Style);

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node0 = tree.newWithChildren(node0Style, node00);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(200.0f, node0Layout.size().width, "width of node0");
        assertEquals(100.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(200.0f, node00Layout.size().width, "width of node00");
        assertEquals(200.0f, node00Layout.size().height, "height of node00");
        assertEquals(0.0f, node00Layout.location().x, "x of node00");
        assertEquals(0.0f, node00Layout.location().y, "y of node00");
    }

    @Test
    @DisplayName("nested_overflowing_child_in_constraint_parent__border_box")
    void nestedOverflowingChildInConstraintParentBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.size = new Size<>(Dimension.length(200.0f), Dimension.length(200.0f));
        NodeId node00 = tree.newLeaf(node00Style);

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node0 = tree.newWithChildren(node0Style, node00);

        Style nodeStyle = new Style();
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(100.0f, node0Layout.size().width, "width of node0");
        assertEquals(100.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(100.0f, node00Layout.size().width, "width of node00");
        assertEquals(200.0f, node00Layout.size().height, "height of node00");
        assertEquals(0.0f, node00Layout.location().x, "x of node00");
        assertEquals(0.0f, node00Layout.location().y, "y of node00");
    }

    @Test
    @DisplayName("nested_overflowing_child_in_constraint_parent__content_box")
    void nestedOverflowingChildInConstraintParentContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.boxSizing = BoxSizing.CONTENT_BOX;
        node00Style.size = new Size<>(Dimension.length(200.0f), Dimension.length(200.0f));
        NodeId node00 = tree.newLeaf(node00Style);

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node0 = tree.newWithChildren(node0Style, node00);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(100.0f, node0Layout.size().width, "width of node0");
        assertEquals(100.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(100.0f, node00Layout.size().width, "width of node00");
        assertEquals(200.0f, node00Layout.size().height, "height of node00");
        assertEquals(0.0f, node00Layout.location().x, "x of node00");
        assertEquals(0.0f, node00Layout.location().y, "y of node00");
    }

    @Test
    @DisplayName("only_shrinkable_item_with_flex_basis_zero__border_box")
    void onlyShrinkableItemWithFlexBasisZeroBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.flexShrink = 1.0f;
        node0Style.flexBasis = Dimension.length(0.0f);
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.flexShrink = 0.0f;
        node1Style.flexBasis = Dimension.length(93.0f);
        node1Style.margin = new Rect<>(LengthPercentageAuto.ZERO, LengthPercentageAuto.ZERO, LengthPercentageAuto.ZERO, LengthPercentageAuto.length(6.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.flexShrink = 0.0f;
        node2Style.flexBasis = Dimension.length(764.0f);
        NodeId node2 = tree.newLeaf(node2Style);

        Style nodeStyle = new Style();
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.size = new Size<>(Dimension.length(480.0f), Dimension.AUTO);
        nodeStyle.maxSize = new Size<>(Dimension.AUTO, Dimension.length(764.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(480.0f, nodeLayout.size().width, "width of node");
        assertEquals(764.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(480.0f, node0Layout.size().width, "width of node0");
        assertEquals(0.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(480.0f, node1Layout.size().width, "width of node1");
        assertEquals(93.0f, node1Layout.size().height, "height of node1");
        assertEquals(0.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(480.0f, node2Layout.size().width, "width of node2");
        assertEquals(764.0f, node2Layout.size().height, "height of node2");
        assertEquals(0.0f, node2Layout.location().x, "x of node2");
        assertEquals(99.0f, node2Layout.location().y, "y of node2");
    }

    @Test
    @DisplayName("only_shrinkable_item_with_flex_basis_zero__content_box")
    void onlyShrinkableItemWithFlexBasisZeroContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.flexShrink = 1.0f;
        node0Style.flexBasis = Dimension.length(0.0f);
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.flexShrink = 0.0f;
        node1Style.flexBasis = Dimension.length(93.0f);
        node1Style.margin = new Rect<>(LengthPercentageAuto.ZERO, LengthPercentageAuto.ZERO, LengthPercentageAuto.ZERO, LengthPercentageAuto.length(6.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        node2Style.flexShrink = 0.0f;
        node2Style.flexBasis = Dimension.length(764.0f);
        NodeId node2 = tree.newLeaf(node2Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.size = new Size<>(Dimension.length(480.0f), Dimension.AUTO);
        nodeStyle.maxSize = new Size<>(Dimension.AUTO, Dimension.length(764.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(480.0f, nodeLayout.size().width, "width of node");
        assertEquals(764.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(480.0f, node0Layout.size().width, "width of node0");
        assertEquals(0.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(480.0f, node1Layout.size().width, "width of node1");
        assertEquals(93.0f, node1Layout.size().height, "height of node1");
        assertEquals(0.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(480.0f, node2Layout.size().width, "width of node2");
        assertEquals(764.0f, node2Layout.size().height, "height of node2");
        assertEquals(0.0f, node2Layout.location().x, "x of node2");
        assertEquals(99.0f, node2Layout.location().y, "y of node2");
    }

    @Test
    @DisplayName("overflow_cross_axis__border_box")
    void overflowCrossAxisBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.length(100.0f), Dimension.length(200.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(100.0f, node0Layout.size().width, "width of node0");
        assertEquals(200.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("overflow_cross_axis__content_box")
    void overflowCrossAxisContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.length(100.0f), Dimension.length(200.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(100.0f, node0Layout.size().width, "width of node0");
        assertEquals(200.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("overflow_main_axis__border_box")
    void overflowMainAxisBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.flexShrink = 0.0f;
        node0Style.size = new Size<>(Dimension.length(200.0f), Dimension.AUTO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(200.0f, node0Layout.size().width, "width of node0");
        assertEquals(100.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("overflow_main_axis__content_box")
    void overflowMainAxisContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.flexShrink = 0.0f;
        node0Style.size = new Size<>(Dimension.length(200.0f), Dimension.AUTO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(200.0f, node0Layout.size().width, "width of node0");
        assertEquals(100.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("overflow_main_axis_shrink_hidden__border_box")
    void overflowMainAxisShrinkHiddenBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.flexShrink = 1.0f;
        node0Style.overflow = new Point<>(Overflow.HIDDEN, Overflow.HIDDEN);
        MeasureFunc node0Measure = ahemTextMeasure("HHHHHHHHHH", false);
        NodeId node0 = tree.newLeafWithMeasure(node0Style, node0Measure);

        Style nodeStyle = new Style();
        nodeStyle.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(50.0f, nodeLayout.size().width, "width of node");
        assertEquals(50.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(50.0f, node0Layout.size().width, "width of node0");
        assertEquals(50.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("overflow_main_axis_shrink_hidden__content_box")
    void overflowMainAxisShrinkHiddenContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.flexShrink = 1.0f;
        node0Style.overflow = new Point<>(Overflow.HIDDEN, Overflow.HIDDEN);
        MeasureFunc node0Measure = ahemTextMeasure("HHHHHHHHHH", false);
        NodeId node0 = tree.newLeafWithMeasure(node0Style, node0Measure);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(50.0f, nodeLayout.size().width, "width of node");
        assertEquals(50.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(50.0f, node0Layout.size().width, "width of node0");
        assertEquals(50.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("overflow_main_axis_shrink_scroll__border_box")
    void overflowMainAxisShrinkScrollBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.flexShrink = 1.0f;
        node0Style.overflow = new Point<>(Overflow.SCROLL, Overflow.SCROLL);
        node0Style.scrollbarWidth = 15.0f;
        MeasureFunc node0Measure = ahemTextMeasure("HHHHHHHHHH", false);
        NodeId node0 = tree.newLeafWithMeasure(node0Style, node0Measure);

        Style nodeStyle = new Style();
        nodeStyle.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(50.0f, nodeLayout.size().width, "width of node");
        assertEquals(50.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(50.0f, node0Layout.size().width, "width of node0");
        assertEquals(50.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("overflow_main_axis_shrink_scroll__content_box")
    void overflowMainAxisShrinkScrollContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.flexShrink = 1.0f;
        node0Style.overflow = new Point<>(Overflow.SCROLL, Overflow.SCROLL);
        node0Style.scrollbarWidth = 15.0f;
        MeasureFunc node0Measure = ahemTextMeasure("HHHHHHHHHH", false);
        NodeId node0 = tree.newLeafWithMeasure(node0Style, node0Measure);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(50.0f, nodeLayout.size().width, "width of node");
        assertEquals(50.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(50.0f, node0Layout.size().width, "width of node0");
        assertEquals(50.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("overflow_main_axis_shrink_visible__border_box")
    void overflowMainAxisShrinkVisibleBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.flexShrink = 1.0f;
        MeasureFunc node0Measure = ahemTextMeasure("HHHHHHHHHH", false);
        NodeId node0 = tree.newLeafWithMeasure(node0Style, node0Measure);

        Style nodeStyle = new Style();
        nodeStyle.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(50.0f, nodeLayout.size().width, "width of node");
        assertEquals(50.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(100.0f, node0Layout.size().width, "width of node0");
        assertEquals(50.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("overflow_main_axis_shrink_visible__content_box")
    void overflowMainAxisShrinkVisibleContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.flexShrink = 1.0f;
        MeasureFunc node0Measure = ahemTextMeasure("HHHHHHHHHH", false);
        NodeId node0 = tree.newLeafWithMeasure(node0Style, node0Measure);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(50.0f, nodeLayout.size().width, "width of node");
        assertEquals(50.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(100.0f, node0Layout.size().width, "width of node0");
        assertEquals(50.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("overflow_scroll_main_axis_justify_content_end__border_box")
    void overflowScrollMainAxisJustifyContentEndBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.flexShrink = 0.0f;
        node0Style.size = new Size<>(Dimension.length(200.0f), Dimension.AUTO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.justifyContent = AlignContent.END;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(200.0f, node0Layout.size().width, "width of node0");
        assertEquals(100.0f, node0Layout.size().height, "height of node0");
        assertEquals(-100.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("overflow_scroll_main_axis_justify_content_end__content_box")
    void overflowScrollMainAxisJustifyContentEndContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.flexShrink = 0.0f;
        node0Style.size = new Size<>(Dimension.length(200.0f), Dimension.AUTO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.justifyContent = AlignContent.END;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(200.0f, node0Layout.size().width, "width of node0");
        assertEquals(100.0f, node0Layout.size().height, "height of node0");
        assertEquals(-100.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("overflow_scrollbars_overridden_by_available_space__border_box")
    void overflowScrollbarsOverriddenByAvailableSpaceBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.flexGrow = 1.0f;
        NodeId node00 = tree.newLeaf(node00Style);

        Style node0Style = new Style();
        node0Style.flexGrow = 1.0f;
        node0Style.overflow = new Point<>(Overflow.SCROLL, Overflow.SCROLL);
        node0Style.scrollbarWidth = 15.0f;
        NodeId node0 = tree.newWithChildren(node0Style, node00);

        Style nodeStyle = new Style();
        nodeStyle.size = new Size<>(Dimension.length(2.0f), Dimension.length(4.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(2.0f, nodeLayout.size().width, "width of node");
        assertEquals(4.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(2.0f, node0Layout.size().width, "width of node0");
        assertEquals(4.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(0.0f, node00Layout.size().width, "width of node00");
        assertEquals(0.0f, node00Layout.size().height, "height of node00");
        assertEquals(0.0f, node00Layout.location().x, "x of node00");
        assertEquals(0.0f, node00Layout.location().y, "y of node00");
    }

    @Test
    @DisplayName("overflow_scrollbars_overridden_by_available_space__content_box")
    void overflowScrollbarsOverriddenByAvailableSpaceContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.boxSizing = BoxSizing.CONTENT_BOX;
        node00Style.flexGrow = 1.0f;
        NodeId node00 = tree.newLeaf(node00Style);

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.flexGrow = 1.0f;
        node0Style.overflow = new Point<>(Overflow.SCROLL, Overflow.SCROLL);
        node0Style.scrollbarWidth = 15.0f;
        NodeId node0 = tree.newWithChildren(node0Style, node00);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.size = new Size<>(Dimension.length(2.0f), Dimension.length(4.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(2.0f, nodeLayout.size().width, "width of node");
        assertEquals(4.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(2.0f, node0Layout.size().width, "width of node0");
        assertEquals(4.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(0.0f, node00Layout.size().width, "width of node00");
        assertEquals(0.0f, node00Layout.size().height, "height of node00");
        assertEquals(0.0f, node00Layout.location().x, "x of node00");
        assertEquals(0.0f, node00Layout.location().y, "y of node00");
    }

    @Test
    @DisplayName("overflow_scrollbars_overridden_by_max_size__border_box")
    void overflowScrollbarsOverriddenByMaxSizeBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.flexGrow = 1.0f;
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.maxSize = new Size<>(Dimension.length(2.0f), Dimension.length(4.0f));
        nodeStyle.overflow = new Point<>(Overflow.SCROLL, Overflow.SCROLL);
        nodeStyle.scrollbarWidth = 15.0f;
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(2.0f, nodeLayout.size().width, "width of node");
        assertEquals(4.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(0.0f, node0Layout.size().width, "width of node0");
        assertEquals(0.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("overflow_scrollbars_overridden_by_max_size__content_box")
    void overflowScrollbarsOverriddenByMaxSizeContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.flexGrow = 1.0f;
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.maxSize = new Size<>(Dimension.length(2.0f), Dimension.length(4.0f));
        nodeStyle.overflow = new Point<>(Overflow.SCROLL, Overflow.SCROLL);
        nodeStyle.scrollbarWidth = 15.0f;
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(2.0f, nodeLayout.size().width, "width of node");
        assertEquals(4.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(0.0f, node0Layout.size().width, "width of node0");
        assertEquals(0.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("overflow_scrollbars_overridden_by_size__border_box")
    void overflowScrollbarsOverriddenBySizeBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.flexGrow = 1.0f;
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.size = new Size<>(Dimension.length(2.0f), Dimension.length(4.0f));
        nodeStyle.overflow = new Point<>(Overflow.SCROLL, Overflow.SCROLL);
        nodeStyle.scrollbarWidth = 15.0f;
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(2.0f, nodeLayout.size().width, "width of node");
        assertEquals(4.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(0.0f, node0Layout.size().width, "width of node0");
        assertEquals(0.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("overflow_scrollbars_overridden_by_size__content_box")
    void overflowScrollbarsOverriddenBySizeContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.flexGrow = 1.0f;
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.size = new Size<>(Dimension.length(2.0f), Dimension.length(4.0f));
        nodeStyle.overflow = new Point<>(Overflow.SCROLL, Overflow.SCROLL);
        nodeStyle.scrollbarWidth = 15.0f;
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(2.0f, nodeLayout.size().width, "width of node");
        assertEquals(4.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(0.0f, node0Layout.size().width, "width of node0");
        assertEquals(0.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("overflow_scrollbars_take_up_space_both_axis__border_box")
    void overflowScrollbarsTakeUpSpaceBothAxisBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.flexGrow = 1.0f;
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        nodeStyle.overflow = new Point<>(Overflow.SCROLL, Overflow.SCROLL);
        nodeStyle.scrollbarWidth = 15.0f;
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(50.0f, nodeLayout.size().width, "width of node");
        assertEquals(50.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(35.0f, node0Layout.size().width, "width of node0");
        assertEquals(35.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("overflow_scrollbars_take_up_space_both_axis__content_box")
    void overflowScrollbarsTakeUpSpaceBothAxisContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.flexGrow = 1.0f;
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        nodeStyle.overflow = new Point<>(Overflow.SCROLL, Overflow.SCROLL);
        nodeStyle.scrollbarWidth = 15.0f;
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(50.0f, nodeLayout.size().width, "width of node");
        assertEquals(50.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(35.0f, node0Layout.size().width, "width of node0");
        assertEquals(35.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("overflow_scrollbars_take_up_space_cross_axis__border_box")
    void overflowScrollbarsTakeUpSpaceCrossAxisBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.flexGrow = 1.0f;
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        nodeStyle.overflow = new Point<>(Overflow.VISIBLE, Overflow.SCROLL);
        nodeStyle.scrollbarWidth = 15.0f;
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(50.0f, nodeLayout.size().width, "width of node");
        assertEquals(50.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(35.0f, node0Layout.size().width, "width of node0");
        assertEquals(50.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("overflow_scrollbars_take_up_space_cross_axis__content_box")
    void overflowScrollbarsTakeUpSpaceCrossAxisContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.flexGrow = 1.0f;
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        nodeStyle.overflow = new Point<>(Overflow.VISIBLE, Overflow.SCROLL);
        nodeStyle.scrollbarWidth = 15.0f;
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(50.0f, nodeLayout.size().width, "width of node");
        assertEquals(50.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(35.0f, node0Layout.size().width, "width of node0");
        assertEquals(50.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("overflow_scrollbars_take_up_space_main_axis__border_box")
    void overflowScrollbarsTakeUpSpaceMainAxisBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.flexGrow = 1.0f;
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        nodeStyle.overflow = new Point<>(Overflow.SCROLL, Overflow.VISIBLE);
        nodeStyle.scrollbarWidth = 15.0f;
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(50.0f, nodeLayout.size().width, "width of node");
        assertEquals(50.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(50.0f, node0Layout.size().width, "width of node0");
        assertEquals(35.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("overflow_scrollbars_take_up_space_main_axis__content_box")
    void overflowScrollbarsTakeUpSpaceMainAxisContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.flexGrow = 1.0f;
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        nodeStyle.overflow = new Point<>(Overflow.SCROLL, Overflow.VISIBLE);
        nodeStyle.scrollbarWidth = 15.0f;
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(50.0f, nodeLayout.size().width, "width of node");
        assertEquals(50.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(50.0f, node0Layout.size().width, "width of node0");
        assertEquals(35.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("padding_align_end_child__border_box")
    void paddingAlignEndChildBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        node0Style.padding = new Rect<>(LengthPercentage.length(20.0f), LengthPercentage.length(20.0f), LengthPercentage.length(20.0f), LengthPercentage.length(20.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.alignItems = AlignItems.FLEX_END;
        nodeStyle.justifyContent = AlignContent.FLEX_END;
        nodeStyle.size = new Size<>(Dimension.length(200.0f), Dimension.length(200.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(200.0f, nodeLayout.size().width, "width of node");
        assertEquals(200.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(100.0f, node0Layout.size().width, "width of node0");
        assertEquals(100.0f, node0Layout.size().height, "height of node0");
        assertEquals(100.0f, node0Layout.location().x, "x of node0");
        assertEquals(100.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("padding_align_end_child__content_box")
    void paddingAlignEndChildContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        node0Style.padding = new Rect<>(LengthPercentage.length(20.0f), LengthPercentage.length(20.0f), LengthPercentage.length(20.0f), LengthPercentage.length(20.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.alignItems = AlignItems.FLEX_END;
        nodeStyle.justifyContent = AlignContent.FLEX_END;
        nodeStyle.size = new Size<>(Dimension.length(200.0f), Dimension.length(200.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(200.0f, nodeLayout.size().width, "width of node");
        assertEquals(200.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(140.0f, node0Layout.size().width, "width of node0");
        assertEquals(140.0f, node0Layout.size().height, "height of node0");
        assertEquals(60.0f, node0Layout.location().x, "x of node0");
        assertEquals(60.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("padding_border_overrides_max_size__border_box")
    void paddingBorderOverridesMaxSizeBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.maxSize = new Size<>(Dimension.length(12.0f), Dimension.length(12.0f));
        node0Style.padding = new Rect<>(LengthPercentage.length(8.0f), LengthPercentage.length(4.0f), LengthPercentage.length(2.0f), LengthPercentage.length(6.0f));
        node0Style.border = new Rect<>(LengthPercentage.length(7.0f), LengthPercentage.length(3.0f), LengthPercentage.length(1.0f), LengthPercentage.length(5.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(22.0f, nodeLayout.size().width, "width of node");
        assertEquals(14.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(22.0f, node0Layout.size().width, "width of node0");
        assertEquals(14.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("padding_border_overrides_max_size__content_box")
    void paddingBorderOverridesMaxSizeContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.maxSize = new Size<>(Dimension.length(12.0f), Dimension.length(12.0f));
        node0Style.padding = new Rect<>(LengthPercentage.length(8.0f), LengthPercentage.length(4.0f), LengthPercentage.length(2.0f), LengthPercentage.length(6.0f));
        node0Style.border = new Rect<>(LengthPercentage.length(7.0f), LengthPercentage.length(3.0f), LengthPercentage.length(1.0f), LengthPercentage.length(5.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(22.0f, nodeLayout.size().width, "width of node");
        assertEquals(14.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(22.0f, node0Layout.size().width, "width of node0");
        assertEquals(14.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("padding_border_overrides_min_size__border_box")
    void paddingBorderOverridesMinSizeBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.minSize = new Size<>(Dimension.length(0.0f), Dimension.length(0.0f));
        node0Style.padding = new Rect<>(LengthPercentage.length(8.0f), LengthPercentage.length(4.0f), LengthPercentage.length(2.0f), LengthPercentage.length(6.0f));
        node0Style.border = new Rect<>(LengthPercentage.length(7.0f), LengthPercentage.length(3.0f), LengthPercentage.length(1.0f), LengthPercentage.length(5.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(22.0f, nodeLayout.size().width, "width of node");
        assertEquals(14.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(22.0f, node0Layout.size().width, "width of node0");
        assertEquals(14.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("padding_border_overrides_min_size__content_box")
    void paddingBorderOverridesMinSizeContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.minSize = new Size<>(Dimension.length(0.0f), Dimension.length(0.0f));
        node0Style.padding = new Rect<>(LengthPercentage.length(8.0f), LengthPercentage.length(4.0f), LengthPercentage.length(2.0f), LengthPercentage.length(6.0f));
        node0Style.border = new Rect<>(LengthPercentage.length(7.0f), LengthPercentage.length(3.0f), LengthPercentage.length(1.0f), LengthPercentage.length(5.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(22.0f, nodeLayout.size().width, "width of node");
        assertEquals(14.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(22.0f, node0Layout.size().width, "width of node0");
        assertEquals(14.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("padding_border_overrides_size__border_box")
    void paddingBorderOverridesSizeBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.length(12.0f), Dimension.length(12.0f));
        node0Style.padding = new Rect<>(LengthPercentage.length(8.0f), LengthPercentage.length(4.0f), LengthPercentage.length(2.0f), LengthPercentage.length(6.0f));
        node0Style.border = new Rect<>(LengthPercentage.length(7.0f), LengthPercentage.length(3.0f), LengthPercentage.length(1.0f), LengthPercentage.length(5.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(22.0f, nodeLayout.size().width, "width of node");
        assertEquals(14.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(22.0f, node0Layout.size().width, "width of node0");
        assertEquals(14.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("padding_border_overrides_size__content_box")
    void paddingBorderOverridesSizeContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.length(12.0f), Dimension.length(12.0f));
        node0Style.padding = new Rect<>(LengthPercentage.length(8.0f), LengthPercentage.length(4.0f), LengthPercentage.length(2.0f), LengthPercentage.length(6.0f));
        node0Style.border = new Rect<>(LengthPercentage.length(7.0f), LengthPercentage.length(3.0f), LengthPercentage.length(1.0f), LengthPercentage.length(5.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(34.0f, nodeLayout.size().width, "width of node");
        assertEquals(26.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(34.0f, node0Layout.size().width, "width of node0");
        assertEquals(26.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("padding_border_overrides_size_flex_basis_0_growable__border_box")
    void paddingBorderOverridesSizeFlexBasis0GrowableBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.flexGrow = 1.0f;
        node0Style.flexBasis = Dimension.length(0.0f);
        node0Style.size = new Size<>(Dimension.length(12.0f), Dimension.length(12.0f));
        node0Style.padding = new Rect<>(LengthPercentage.length(8.0f), LengthPercentage.length(4.0f), LengthPercentage.length(2.0f), LengthPercentage.length(6.0f));
        node0Style.border = new Rect<>(LengthPercentage.length(7.0f), LengthPercentage.length(3.0f), LengthPercentage.length(1.0f), LengthPercentage.length(5.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.flexGrow = 1.0f;
        node1Style.flexBasis = Dimension.length(0.0f);
        node1Style.size = new Size<>(Dimension.length(12.0f), Dimension.length(12.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style nodeStyle = new Style();
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(34.0f, nodeLayout.size().width, "width of node");
        assertEquals(14.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(28.0f, node0Layout.size().width, "width of node0");
        assertEquals(14.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(6.0f, node1Layout.size().width, "width of node1");
        assertEquals(12.0f, node1Layout.size().height, "height of node1");
        assertEquals(28.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
    }

    @Test
    @DisplayName("padding_border_overrides_size_flex_basis_0_growable__content_box")
    void paddingBorderOverridesSizeFlexBasis0GrowableContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.flexGrow = 1.0f;
        node0Style.flexBasis = Dimension.length(0.0f);
        node0Style.size = new Size<>(Dimension.length(12.0f), Dimension.length(12.0f));
        node0Style.padding = new Rect<>(LengthPercentage.length(8.0f), LengthPercentage.length(4.0f), LengthPercentage.length(2.0f), LengthPercentage.length(6.0f));
        node0Style.border = new Rect<>(LengthPercentage.length(7.0f), LengthPercentage.length(3.0f), LengthPercentage.length(1.0f), LengthPercentage.length(5.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.flexGrow = 1.0f;
        node1Style.flexBasis = Dimension.length(0.0f);
        node1Style.size = new Size<>(Dimension.length(12.0f), Dimension.length(12.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(46.0f, nodeLayout.size().width, "width of node");
        assertEquals(26.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(34.0f, node0Layout.size().width, "width of node0");
        assertEquals(26.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(12.0f, node1Layout.size().width, "width of node1");
        assertEquals(12.0f, node1Layout.size().height, "height of node1");
        assertEquals(34.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
    }

    @Test
    @DisplayName("padding_border_overrides_size_root__border_box")
    void paddingBorderOverridesSizeRootBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.size = new Size<>(Dimension.length(12.0f), Dimension.length(12.0f));
        nodeStyle.padding = new Rect<>(LengthPercentage.length(8.0f), LengthPercentage.length(4.0f), LengthPercentage.length(2.0f), LengthPercentage.length(6.0f));
        nodeStyle.border = new Rect<>(LengthPercentage.length(7.0f), LengthPercentage.length(3.0f), LengthPercentage.length(1.0f), LengthPercentage.length(5.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(22.0f, nodeLayout.size().width, "width of node");
        assertEquals(14.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(0.0f, node0Layout.size().width, "width of node0");
        assertEquals(0.0f, node0Layout.size().height, "height of node0");
        assertEquals(15.0f, node0Layout.location().x, "x of node0");
        assertEquals(3.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("padding_border_overrides_size_root__content_box")
    void paddingBorderOverridesSizeRootContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.size = new Size<>(Dimension.length(12.0f), Dimension.length(12.0f));
        nodeStyle.padding = new Rect<>(LengthPercentage.length(8.0f), LengthPercentage.length(4.0f), LengthPercentage.length(2.0f), LengthPercentage.length(6.0f));
        nodeStyle.border = new Rect<>(LengthPercentage.length(7.0f), LengthPercentage.length(3.0f), LengthPercentage.length(1.0f), LengthPercentage.length(5.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(34.0f, nodeLayout.size().width, "width of node");
        assertEquals(26.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(0.0f, node0Layout.size().width, "width of node0");
        assertEquals(12.0f, node0Layout.size().height, "height of node0");
        assertEquals(15.0f, node0Layout.location().x, "x of node0");
        assertEquals(3.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("padding_center_child__border_box")
    void paddingCenterChildBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.length(10.0f), Dimension.length(10.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.alignItems = AlignItems.CENTER;
        nodeStyle.justifyContent = AlignContent.CENTER;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        nodeStyle.padding = new Rect<>(LengthPercentage.length(10.0f), LengthPercentage.length(20.0f), LengthPercentage.length(10.0f), LengthPercentage.length(20.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(10.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(40.0f, node0Layout.location().x, "x of node0");
        assertEquals(40.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("padding_center_child__content_box")
    void paddingCenterChildContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.length(10.0f), Dimension.length(10.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.alignItems = AlignItems.CENTER;
        nodeStyle.justifyContent = AlignContent.CENTER;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        nodeStyle.padding = new Rect<>(LengthPercentage.length(10.0f), LengthPercentage.length(20.0f), LengthPercentage.length(10.0f), LengthPercentage.length(20.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(130.0f, nodeLayout.size().width, "width of node");
        assertEquals(130.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(10.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(55.0f, node0Layout.location().x, "x of node0");
        assertEquals(55.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("padding_container_match_child__border_box")
    void paddingContainerMatchChildBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.length(10.0f), Dimension.length(10.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.padding = new Rect<>(LengthPercentage.length(10.0f), LengthPercentage.length(10.0f), LengthPercentage.length(10.0f), LengthPercentage.length(10.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(30.0f, nodeLayout.size().width, "width of node");
        assertEquals(30.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(10.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(10.0f, node0Layout.location().x, "x of node0");
        assertEquals(10.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("padding_container_match_child__content_box")
    void paddingContainerMatchChildContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.length(10.0f), Dimension.length(10.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.padding = new Rect<>(LengthPercentage.length(10.0f), LengthPercentage.length(10.0f), LengthPercentage.length(10.0f), LengthPercentage.length(10.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(30.0f, nodeLayout.size().width, "width of node");
        assertEquals(30.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(10.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(10.0f, node0Layout.location().x, "x of node0");
        assertEquals(10.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("padding_flex_child__border_box")
    void paddingFlexChildBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.flexGrow = 1.0f;
        node0Style.size = new Size<>(Dimension.length(10.0f), Dimension.AUTO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        nodeStyle.padding = new Rect<>(LengthPercentage.length(10.0f), LengthPercentage.length(10.0f), LengthPercentage.length(10.0f), LengthPercentage.length(10.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(80.0f, node0Layout.size().width, "width of node0");
        assertEquals(80.0f, node0Layout.size().height, "height of node0");
        assertEquals(10.0f, node0Layout.location().x, "x of node0");
        assertEquals(10.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("padding_flex_child__content_box")
    void paddingFlexChildContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.flexGrow = 1.0f;
        node0Style.size = new Size<>(Dimension.length(10.0f), Dimension.AUTO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        nodeStyle.padding = new Rect<>(LengthPercentage.length(10.0f), LengthPercentage.length(10.0f), LengthPercentage.length(10.0f), LengthPercentage.length(10.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(120.0f, nodeLayout.size().width, "width of node");
        assertEquals(120.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(100.0f, node0Layout.size().width, "width of node0");
        assertEquals(100.0f, node0Layout.size().height, "height of node0");
        assertEquals(10.0f, node0Layout.location().x, "x of node0");
        assertEquals(10.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("padding_no_child__border_box")
    void paddingNoChildBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style nodeStyle = new Style();
        nodeStyle.padding = new Rect<>(LengthPercentage.length(10.0f), LengthPercentage.length(10.0f), LengthPercentage.length(10.0f), LengthPercentage.length(10.0f));
        NodeId node = tree.newLeaf(nodeStyle);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(20.0f, nodeLayout.size().width, "width of node");
        assertEquals(20.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
    }

    @Test
    @DisplayName("padding_no_child__content_box")
    void paddingNoChildContentBox() {
        TaffyTree tree = new TaffyTree();

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.padding = new Rect<>(LengthPercentage.length(10.0f), LengthPercentage.length(10.0f), LengthPercentage.length(10.0f), LengthPercentage.length(10.0f));
        NodeId node = tree.newLeaf(nodeStyle);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(20.0f, nodeLayout.size().width, "width of node");
        assertEquals(20.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
    }

    @Test
    @DisplayName("padding_no_size__border_box")
    void paddingNoSizeBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style nodeStyle = new Style();
        nodeStyle.padding = new Rect<>(LengthPercentage.length(10.0f), LengthPercentage.length(10.0f), LengthPercentage.length(10.0f), LengthPercentage.length(10.0f));
        NodeId node = tree.newLeaf(nodeStyle);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(20.0f, nodeLayout.size().width, "width of node");
        assertEquals(20.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
    }

    @Test
    @DisplayName("padding_no_size__content_box")
    void paddingNoSizeContentBox() {
        TaffyTree tree = new TaffyTree();

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.padding = new Rect<>(LengthPercentage.length(10.0f), LengthPercentage.length(10.0f), LengthPercentage.length(10.0f), LengthPercentage.length(10.0f));
        NodeId node = tree.newLeaf(nodeStyle);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(20.0f, nodeLayout.size().width, "width of node");
        assertEquals(20.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
    }

    @Test
    @DisplayName("padding_stretch_child__border_box")
    void paddingStretchChildBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        nodeStyle.padding = new Rect<>(LengthPercentage.length(10.0f), LengthPercentage.length(10.0f), LengthPercentage.length(10.0f), LengthPercentage.length(10.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(0.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(10.0f, node0Layout.location().x, "x of node0");
        assertEquals(10.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("padding_stretch_child__content_box")
    void paddingStretchChildContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        nodeStyle.padding = new Rect<>(LengthPercentage.length(10.0f), LengthPercentage.length(10.0f), LengthPercentage.length(10.0f), LengthPercentage.length(10.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(120.0f, nodeLayout.size().width, "width of node");
        assertEquals(120.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(0.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(10.0f, node0Layout.location().x, "x of node0");
        assertEquals(10.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("parent_wrap_child_size_overflowing_parent__border_box")
    void parentWrapChildSizeOverflowingParentBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.size = new Size<>(Dimension.length(100.0f), Dimension.length(200.0f));
        NodeId node00 = tree.newLeaf(node00Style);

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.length(100.0f), Dimension.AUTO);
        NodeId node0 = tree.newWithChildren(node0Style, node00);

        Style nodeStyle = new Style();
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(100.0f, node0Layout.size().width, "width of node0");
        assertEquals(100.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(100.0f, node00Layout.size().width, "width of node00");
        assertEquals(200.0f, node00Layout.size().height, "height of node00");
        assertEquals(0.0f, node00Layout.location().x, "x of node00");
        assertEquals(0.0f, node00Layout.location().y, "y of node00");
    }

    @Test
    @DisplayName("parent_wrap_child_size_overflowing_parent__content_box")
    void parentWrapChildSizeOverflowingParentContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.boxSizing = BoxSizing.CONTENT_BOX;
        node00Style.size = new Size<>(Dimension.length(100.0f), Dimension.length(200.0f));
        NodeId node00 = tree.newLeaf(node00Style);

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.length(100.0f), Dimension.AUTO);
        NodeId node0 = tree.newWithChildren(node0Style, node00);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(100.0f, node0Layout.size().width, "width of node0");
        assertEquals(100.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(100.0f, node00Layout.size().width, "width of node00");
        assertEquals(200.0f, node00Layout.size().height, "height of node00");
        assertEquals(0.0f, node00Layout.location().x, "x of node00");
        assertEquals(0.0f, node00Layout.location().y, "y of node00");
    }

    @Test
    @DisplayName("percent_absolute_position__border_box")
    void percentAbsolutePositionBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.size = new Size<>(Dimension.percent(1.0f), Dimension.AUTO);
        NodeId node00 = tree.newLeaf(node00Style);

        Style node01Style = new Style();
        node01Style.size = new Size<>(Dimension.percent(1.0f), Dimension.AUTO);
        NodeId node01 = tree.newLeaf(node01Style);

        Style node0Style = new Style();
        node0Style.position = Position.ABSOLUTE;
        node0Style.size = new Size<>(Dimension.percent(1.0f), Dimension.length(50.0f));
        node0Style.inset = new Rect<>(LengthPercentageAuto.percent(0.5f), LengthPercentageAuto.AUTO, LengthPercentageAuto.AUTO, LengthPercentageAuto.AUTO);
        NodeId node0 = tree.newWithChildren(node0Style, node00, node01);

        Style nodeStyle = new Style();
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.size = new Size<>(Dimension.length(60.0f), Dimension.length(50.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(60.0f, nodeLayout.size().width, "width of node");
        assertEquals(50.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(60.0f, node0Layout.size().width, "width of node0");
        assertEquals(50.0f, node0Layout.size().height, "height of node0");
        assertEquals(30.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(30.0f, node00Layout.size().width, "width of node00");
        assertEquals(50.0f, node00Layout.size().height, "height of node00");
        assertEquals(0.0f, node00Layout.location().x, "x of node00");
        assertEquals(0.0f, node00Layout.location().y, "y of node00");
        Layout node01Layout = tree.getLayout(node01);
        assertEquals(30.0f, node01Layout.size().width, "width of node01");
        assertEquals(50.0f, node01Layout.size().height, "height of node01");
        assertEquals(30.0f, node01Layout.location().x, "x of node01");
        assertEquals(0.0f, node01Layout.location().y, "y of node01");
    }

    @Test
    @DisplayName("percent_absolute_position__content_box")
    void percentAbsolutePositionContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.boxSizing = BoxSizing.CONTENT_BOX;
        node00Style.size = new Size<>(Dimension.percent(1.0f), Dimension.AUTO);
        NodeId node00 = tree.newLeaf(node00Style);

        Style node01Style = new Style();
        node01Style.boxSizing = BoxSizing.CONTENT_BOX;
        node01Style.size = new Size<>(Dimension.percent(1.0f), Dimension.AUTO);
        NodeId node01 = tree.newLeaf(node01Style);

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.position = Position.ABSOLUTE;
        node0Style.size = new Size<>(Dimension.percent(1.0f), Dimension.length(50.0f));
        node0Style.inset = new Rect<>(LengthPercentageAuto.percent(0.5f), LengthPercentageAuto.AUTO, LengthPercentageAuto.AUTO, LengthPercentageAuto.AUTO);
        NodeId node0 = tree.newWithChildren(node0Style, node00, node01);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.size = new Size<>(Dimension.length(60.0f), Dimension.length(50.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(60.0f, nodeLayout.size().width, "width of node");
        assertEquals(50.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(60.0f, node0Layout.size().width, "width of node0");
        assertEquals(50.0f, node0Layout.size().height, "height of node0");
        assertEquals(30.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(30.0f, node00Layout.size().width, "width of node00");
        assertEquals(50.0f, node00Layout.size().height, "height of node00");
        assertEquals(0.0f, node00Layout.location().x, "x of node00");
        assertEquals(0.0f, node00Layout.location().y, "y of node00");
        Layout node01Layout = tree.getLayout(node01);
        assertEquals(30.0f, node01Layout.size().width, "width of node01");
        assertEquals(50.0f, node01Layout.size().height, "height of node01");
        assertEquals(30.0f, node01Layout.location().x, "x of node01");
        assertEquals(0.0f, node01Layout.location().y, "y of node01");
    }

    @Test
    @DisplayName("percent_within_flex_grow__border_box")
    void percentWithinFlexGrowBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.length(100.0f), Dimension.AUTO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style node10Style = new Style();
        node10Style.size = new Size<>(Dimension.percent(1.0f), Dimension.AUTO);
        NodeId node10 = tree.newLeaf(node10Style);

        Style node1Style = new Style();
        node1Style.flexDirection = FlexDirection.COLUMN;
        node1Style.flexGrow = 1.0f;
        NodeId node1 = tree.newWithChildren(node1Style, node10);

        Style node2Style = new Style();
        node2Style.size = new Size<>(Dimension.length(100.0f), Dimension.AUTO);
        NodeId node2 = tree.newLeaf(node2Style);

        Style nodeStyle = new Style();
        nodeStyle.size = new Size<>(Dimension.length(350.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(350.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(100.0f, node0Layout.size().width, "width of node0");
        assertEquals(100.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(150.0f, node1Layout.size().width, "width of node1");
        assertEquals(100.0f, node1Layout.size().height, "height of node1");
        assertEquals(100.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node10Layout = tree.getLayout(node10);
        assertEquals(150.0f, node10Layout.size().width, "width of node10");
        assertEquals(0.0f, node10Layout.size().height, "height of node10");
        assertEquals(0.0f, node10Layout.location().x, "x of node10");
        assertEquals(0.0f, node10Layout.location().y, "y of node10");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(100.0f, node2Layout.size().width, "width of node2");
        assertEquals(100.0f, node2Layout.size().height, "height of node2");
        assertEquals(250.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
    }

    @Test
    @DisplayName("percent_within_flex_grow__content_box")
    void percentWithinFlexGrowContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.length(100.0f), Dimension.AUTO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style node10Style = new Style();
        node10Style.boxSizing = BoxSizing.CONTENT_BOX;
        node10Style.size = new Size<>(Dimension.percent(1.0f), Dimension.AUTO);
        NodeId node10 = tree.newLeaf(node10Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.flexDirection = FlexDirection.COLUMN;
        node1Style.flexGrow = 1.0f;
        NodeId node1 = tree.newWithChildren(node1Style, node10);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        node2Style.size = new Size<>(Dimension.length(100.0f), Dimension.AUTO);
        NodeId node2 = tree.newLeaf(node2Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.size = new Size<>(Dimension.length(350.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(350.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(100.0f, node0Layout.size().width, "width of node0");
        assertEquals(100.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(150.0f, node1Layout.size().width, "width of node1");
        assertEquals(100.0f, node1Layout.size().height, "height of node1");
        assertEquals(100.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node10Layout = tree.getLayout(node10);
        assertEquals(150.0f, node10Layout.size().width, "width of node10");
        assertEquals(0.0f, node10Layout.size().height, "height of node10");
        assertEquals(0.0f, node10Layout.location().x, "x of node10");
        assertEquals(0.0f, node10Layout.location().y, "y of node10");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(100.0f, node2Layout.size().width, "width of node2");
        assertEquals(100.0f, node2Layout.size().height, "height of node2");
        assertEquals(250.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
    }

    @Test
    @DisplayName("percentage_absolute_position__border_box")
    void percentageAbsolutePositionBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.position = Position.ABSOLUTE;
        node0Style.size = new Size<>(Dimension.length(10.0f), Dimension.length(10.0f));
        node0Style.inset = new Rect<>(LengthPercentageAuto.percent(0.3f), LengthPercentageAuto.AUTO, LengthPercentageAuto.percent(0.1f), LengthPercentageAuto.AUTO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.size = new Size<>(Dimension.length(200.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(200.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(10.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(60.0f, node0Layout.location().x, "x of node0");
        assertEquals(10.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("percentage_absolute_position__content_box")
    void percentageAbsolutePositionContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.position = Position.ABSOLUTE;
        node0Style.size = new Size<>(Dimension.length(10.0f), Dimension.length(10.0f));
        node0Style.inset = new Rect<>(LengthPercentageAuto.percent(0.3f), LengthPercentageAuto.AUTO, LengthPercentageAuto.percent(0.1f), LengthPercentageAuto.AUTO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.size = new Size<>(Dimension.length(200.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(200.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(10.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(60.0f, node0Layout.location().x, "x of node0");
        assertEquals(10.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("percentage_container_in_wrapping_container__border_box")
    void percentageContainerInWrappingContainerBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node000Style = new Style();
        node000Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        NodeId node000 = tree.newLeaf(node000Style);

        Style node001Style = new Style();
        node001Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        NodeId node001 = tree.newLeaf(node001Style);

        Style node00Style = new Style();
        node00Style.justifyContent = AlignContent.CENTER;
        node00Style.size = new Size<>(Dimension.percent(1.0f), Dimension.AUTO);
        NodeId node00 = tree.newWithChildren(node00Style, node000, node001);

        Style node0Style = new Style();
        node0Style.flexDirection = FlexDirection.COLUMN;
        NodeId node0 = tree.newWithChildren(node0Style, node00);

        Style nodeStyle = new Style();
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.alignItems = AlignItems.CENTER;
        nodeStyle.justifyContent = AlignContent.CENTER;
        nodeStyle.size = new Size<>(Dimension.length(200.0f), Dimension.length(200.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(200.0f, nodeLayout.size().width, "width of node");
        assertEquals(200.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(100.0f, node0Layout.size().width, "width of node0");
        assertEquals(50.0f, node0Layout.size().height, "height of node0");
        assertEquals(50.0f, node0Layout.location().x, "x of node0");
        assertEquals(75.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(100.0f, node00Layout.size().width, "width of node00");
        assertEquals(50.0f, node00Layout.size().height, "height of node00");
        assertEquals(0.0f, node00Layout.location().x, "x of node00");
        assertEquals(0.0f, node00Layout.location().y, "y of node00");
        Layout node000Layout = tree.getLayout(node000);
        assertEquals(50.0f, node000Layout.size().width, "width of node000");
        assertEquals(50.0f, node000Layout.size().height, "height of node000");
        assertEquals(0.0f, node000Layout.location().x, "x of node000");
        assertEquals(0.0f, node000Layout.location().y, "y of node000");
        Layout node001Layout = tree.getLayout(node001);
        assertEquals(50.0f, node001Layout.size().width, "width of node001");
        assertEquals(50.0f, node001Layout.size().height, "height of node001");
        assertEquals(50.0f, node001Layout.location().x, "x of node001");
        assertEquals(0.0f, node001Layout.location().y, "y of node001");
    }

    @Test
    @DisplayName("percentage_container_in_wrapping_container__content_box")
    void percentageContainerInWrappingContainerContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node000Style = new Style();
        node000Style.boxSizing = BoxSizing.CONTENT_BOX;
        node000Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        NodeId node000 = tree.newLeaf(node000Style);

        Style node001Style = new Style();
        node001Style.boxSizing = BoxSizing.CONTENT_BOX;
        node001Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        NodeId node001 = tree.newLeaf(node001Style);

        Style node00Style = new Style();
        node00Style.boxSizing = BoxSizing.CONTENT_BOX;
        node00Style.justifyContent = AlignContent.CENTER;
        node00Style.size = new Size<>(Dimension.percent(1.0f), Dimension.AUTO);
        NodeId node00 = tree.newWithChildren(node00Style, node000, node001);

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.flexDirection = FlexDirection.COLUMN;
        NodeId node0 = tree.newWithChildren(node0Style, node00);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.alignItems = AlignItems.CENTER;
        nodeStyle.justifyContent = AlignContent.CENTER;
        nodeStyle.size = new Size<>(Dimension.length(200.0f), Dimension.length(200.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(200.0f, nodeLayout.size().width, "width of node");
        assertEquals(200.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(100.0f, node0Layout.size().width, "width of node0");
        assertEquals(50.0f, node0Layout.size().height, "height of node0");
        assertEquals(50.0f, node0Layout.location().x, "x of node0");
        assertEquals(75.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(100.0f, node00Layout.size().width, "width of node00");
        assertEquals(50.0f, node00Layout.size().height, "height of node00");
        assertEquals(0.0f, node00Layout.location().x, "x of node00");
        assertEquals(0.0f, node00Layout.location().y, "y of node00");
        Layout node000Layout = tree.getLayout(node000);
        assertEquals(50.0f, node000Layout.size().width, "width of node000");
        assertEquals(50.0f, node000Layout.size().height, "height of node000");
        assertEquals(0.0f, node000Layout.location().x, "x of node000");
        assertEquals(0.0f, node000Layout.location().y, "y of node000");
        Layout node001Layout = tree.getLayout(node001);
        assertEquals(50.0f, node001Layout.size().width, "width of node001");
        assertEquals(50.0f, node001Layout.size().height, "height of node001");
        assertEquals(50.0f, node001Layout.location().x, "x of node001");
        assertEquals(0.0f, node001Layout.location().y, "y of node001");
    }

    @Test
    @DisplayName("percentage_different_width_height__border_box")
    void percentageDifferentWidthHeightBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.flexGrow = 1.0f;
        node0Style.size = new Size<>(Dimension.AUTO, Dimension.percent(0.3f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.size = new Size<>(Dimension.AUTO, Dimension.percent(0.3f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style nodeStyle = new Style();
        nodeStyle.size = new Size<>(Dimension.length(200.0f), Dimension.length(300.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(200.0f, nodeLayout.size().width, "width of node");
        assertEquals(300.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(200.0f, node0Layout.size().width, "width of node0");
        assertEquals(90.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(0.0f, node1Layout.size().width, "width of node1");
        assertEquals(90.0f, node1Layout.size().height, "height of node1");
        assertEquals(200.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
    }

    @Test
    @DisplayName("percentage_different_width_height__content_box")
    void percentageDifferentWidthHeightContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.flexGrow = 1.0f;
        node0Style.size = new Size<>(Dimension.AUTO, Dimension.percent(0.3f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.size = new Size<>(Dimension.AUTO, Dimension.percent(0.3f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.size = new Size<>(Dimension.length(200.0f), Dimension.length(300.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(200.0f, nodeLayout.size().width, "width of node");
        assertEquals(300.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(200.0f, node0Layout.size().width, "width of node0");
        assertEquals(90.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(0.0f, node1Layout.size().width, "width of node1");
        assertEquals(90.0f, node1Layout.size().height, "height of node1");
        assertEquals(200.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
    }

    @Test
    @DisplayName("percentage_different_width_height_column__border_box")
    void percentageDifferentWidthHeightColumnBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.flexGrow = 1.0f;
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.size = new Size<>(Dimension.AUTO, Dimension.percent(0.3f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style nodeStyle = new Style();
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.size = new Size<>(Dimension.length(200.0f), Dimension.length(300.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(200.0f, nodeLayout.size().width, "width of node");
        assertEquals(300.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(200.0f, node0Layout.size().width, "width of node0");
        assertEquals(210.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(200.0f, node1Layout.size().width, "width of node1");
        assertEquals(90.0f, node1Layout.size().height, "height of node1");
        assertEquals(0.0f, node1Layout.location().x, "x of node1");
        assertEquals(210.0f, node1Layout.location().y, "y of node1");
    }

    @Test
    @DisplayName("percentage_different_width_height_column__content_box")
    void percentageDifferentWidthHeightColumnContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.flexGrow = 1.0f;
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.size = new Size<>(Dimension.AUTO, Dimension.percent(0.3f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.size = new Size<>(Dimension.length(200.0f), Dimension.length(300.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(200.0f, nodeLayout.size().width, "width of node");
        assertEquals(300.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(200.0f, node0Layout.size().width, "width of node0");
        assertEquals(210.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(200.0f, node1Layout.size().width, "width of node1");
        assertEquals(90.0f, node1Layout.size().height, "height of node1");
        assertEquals(0.0f, node1Layout.location().x, "x of node1");
        assertEquals(210.0f, node1Layout.location().y, "y of node1");
    }

    @Test
    @DisplayName("percentage_flex_basis__border_box")
    void percentageFlexBasisBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.flexGrow = 1.0f;
        node0Style.flexBasis = Dimension.percent(0.5f);
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.flexGrow = 1.0f;
        node1Style.flexBasis = Dimension.percent(0.25f);
        NodeId node1 = tree.newLeaf(node1Style);

        Style nodeStyle = new Style();
        nodeStyle.size = new Size<>(Dimension.length(200.0f), Dimension.length(200.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(200.0f, nodeLayout.size().width, "width of node");
        assertEquals(200.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(125.0f, node0Layout.size().width, "width of node0");
        assertEquals(200.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(75.0f, node1Layout.size().width, "width of node1");
        assertEquals(200.0f, node1Layout.size().height, "height of node1");
        assertEquals(125.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
    }

    @Test
    @DisplayName("percentage_flex_basis__content_box")
    void percentageFlexBasisContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.flexGrow = 1.0f;
        node0Style.flexBasis = Dimension.percent(0.5f);
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.flexGrow = 1.0f;
        node1Style.flexBasis = Dimension.percent(0.25f);
        NodeId node1 = tree.newLeaf(node1Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.size = new Size<>(Dimension.length(200.0f), Dimension.length(200.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(200.0f, nodeLayout.size().width, "width of node");
        assertEquals(200.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(125.0f, node0Layout.size().width, "width of node0");
        assertEquals(200.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(75.0f, node1Layout.size().width, "width of node1");
        assertEquals(200.0f, node1Layout.size().height, "height of node1");
        assertEquals(125.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
    }

    @Test
    @DisplayName("percentage_flex_basis_cross__border_box")
    void percentageFlexBasisCrossBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.flexGrow = 1.0f;
        node0Style.flexBasis = Dimension.percent(0.5f);
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.flexGrow = 1.0f;
        node1Style.flexBasis = Dimension.percent(0.25f);
        NodeId node1 = tree.newLeaf(node1Style);

        Style nodeStyle = new Style();
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.size = new Size<>(Dimension.length(200.0f), Dimension.length(400.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(200.0f, nodeLayout.size().width, "width of node");
        assertEquals(400.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(200.0f, node0Layout.size().width, "width of node0");
        assertEquals(250.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(200.0f, node1Layout.size().width, "width of node1");
        assertEquals(150.0f, node1Layout.size().height, "height of node1");
        assertEquals(0.0f, node1Layout.location().x, "x of node1");
        assertEquals(250.0f, node1Layout.location().y, "y of node1");
    }

    @Test
    @DisplayName("percentage_flex_basis_cross__content_box")
    void percentageFlexBasisCrossContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.flexGrow = 1.0f;
        node0Style.flexBasis = Dimension.percent(0.5f);
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.flexGrow = 1.0f;
        node1Style.flexBasis = Dimension.percent(0.25f);
        NodeId node1 = tree.newLeaf(node1Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.size = new Size<>(Dimension.length(200.0f), Dimension.length(400.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(200.0f, nodeLayout.size().width, "width of node");
        assertEquals(400.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(200.0f, node0Layout.size().width, "width of node0");
        assertEquals(250.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(200.0f, node1Layout.size().width, "width of node1");
        assertEquals(150.0f, node1Layout.size().height, "height of node1");
        assertEquals(0.0f, node1Layout.location().x, "x of node1");
        assertEquals(250.0f, node1Layout.location().y, "y of node1");
    }

    @Test
    @DisplayName("percentage_flex_basis_cross_max_height__border_box")
    void percentageFlexBasisCrossMaxHeightBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.flexGrow = 1.0f;
        node0Style.flexBasis = Dimension.percent(0.1f);
        node0Style.maxSize = new Size<>(Dimension.AUTO, Dimension.percent(0.6f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.flexGrow = 4.0f;
        node1Style.flexBasis = Dimension.percent(0.1f);
        node1Style.maxSize = new Size<>(Dimension.AUTO, Dimension.percent(0.2f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style nodeStyle = new Style();
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.size = new Size<>(Dimension.length(200.0f), Dimension.length(400.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(200.0f, nodeLayout.size().width, "width of node");
        assertEquals(400.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(200.0f, node0Layout.size().width, "width of node0");
        assertEquals(240.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(200.0f, node1Layout.size().width, "width of node1");
        assertEquals(80.0f, node1Layout.size().height, "height of node1");
        assertEquals(0.0f, node1Layout.location().x, "x of node1");
        assertEquals(240.0f, node1Layout.location().y, "y of node1");
    }

    @Test
    @DisplayName("percentage_flex_basis_cross_max_height__content_box")
    void percentageFlexBasisCrossMaxHeightContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.flexGrow = 1.0f;
        node0Style.flexBasis = Dimension.percent(0.1f);
        node0Style.maxSize = new Size<>(Dimension.AUTO, Dimension.percent(0.6f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.flexGrow = 4.0f;
        node1Style.flexBasis = Dimension.percent(0.1f);
        node1Style.maxSize = new Size<>(Dimension.AUTO, Dimension.percent(0.2f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.size = new Size<>(Dimension.length(200.0f), Dimension.length(400.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(200.0f, nodeLayout.size().width, "width of node");
        assertEquals(400.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(200.0f, node0Layout.size().width, "width of node0");
        assertEquals(240.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(200.0f, node1Layout.size().width, "width of node1");
        assertEquals(80.0f, node1Layout.size().height, "height of node1");
        assertEquals(0.0f, node1Layout.location().x, "x of node1");
        assertEquals(240.0f, node1Layout.location().y, "y of node1");
    }

    @Test
    @DisplayName("percentage_flex_basis_cross_max_width__border_box")
    void percentageFlexBasisCrossMaxWidthBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.flexGrow = 1.0f;
        node0Style.flexBasis = Dimension.percent(0.1f);
        node0Style.maxSize = new Size<>(Dimension.percent(0.6f), Dimension.AUTO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.flexGrow = 4.0f;
        node1Style.flexBasis = Dimension.percent(0.15f);
        node1Style.maxSize = new Size<>(Dimension.percent(0.2f), Dimension.AUTO);
        NodeId node1 = tree.newLeaf(node1Style);

        Style nodeStyle = new Style();
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.size = new Size<>(Dimension.length(200.0f), Dimension.length(400.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(200.0f, nodeLayout.size().width, "width of node");
        assertEquals(400.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(120.0f, node0Layout.size().width, "width of node0");
        assertEquals(100.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(40.0f, node1Layout.size().width, "width of node1");
        assertEquals(300.0f, node1Layout.size().height, "height of node1");
        assertEquals(0.0f, node1Layout.location().x, "x of node1");
        assertEquals(100.0f, node1Layout.location().y, "y of node1");
    }

    @Test
    @DisplayName("percentage_flex_basis_cross_max_width__content_box")
    void percentageFlexBasisCrossMaxWidthContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.flexGrow = 1.0f;
        node0Style.flexBasis = Dimension.percent(0.1f);
        node0Style.maxSize = new Size<>(Dimension.percent(0.6f), Dimension.AUTO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.flexGrow = 4.0f;
        node1Style.flexBasis = Dimension.percent(0.15f);
        node1Style.maxSize = new Size<>(Dimension.percent(0.2f), Dimension.AUTO);
        NodeId node1 = tree.newLeaf(node1Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.size = new Size<>(Dimension.length(200.0f), Dimension.length(400.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(200.0f, nodeLayout.size().width, "width of node");
        assertEquals(400.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(120.0f, node0Layout.size().width, "width of node0");
        assertEquals(100.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(40.0f, node1Layout.size().width, "width of node1");
        assertEquals(300.0f, node1Layout.size().height, "height of node1");
        assertEquals(0.0f, node1Layout.location().x, "x of node1");
        assertEquals(100.0f, node1Layout.location().y, "y of node1");
    }

    @Test
    @DisplayName("percentage_flex_basis_cross_min_height__border_box")
    void percentageFlexBasisCrossMinHeightBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.flexGrow = 1.0f;
        node0Style.minSize = new Size<>(Dimension.AUTO, Dimension.percent(0.6f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.flexGrow = 2.0f;
        node1Style.minSize = new Size<>(Dimension.AUTO, Dimension.percent(0.1f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style nodeStyle = new Style();
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.size = new Size<>(Dimension.length(200.0f), Dimension.length(400.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(200.0f, nodeLayout.size().width, "width of node");
        assertEquals(400.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(200.0f, node0Layout.size().width, "width of node0");
        assertEquals(240.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(200.0f, node1Layout.size().width, "width of node1");
        assertEquals(160.0f, node1Layout.size().height, "height of node1");
        assertEquals(0.0f, node1Layout.location().x, "x of node1");
        assertEquals(240.0f, node1Layout.location().y, "y of node1");
    }

    @Test
    @DisplayName("percentage_flex_basis_cross_min_height__content_box")
    void percentageFlexBasisCrossMinHeightContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.flexGrow = 1.0f;
        node0Style.minSize = new Size<>(Dimension.AUTO, Dimension.percent(0.6f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.flexGrow = 2.0f;
        node1Style.minSize = new Size<>(Dimension.AUTO, Dimension.percent(0.1f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.size = new Size<>(Dimension.length(200.0f), Dimension.length(400.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(200.0f, nodeLayout.size().width, "width of node");
        assertEquals(400.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(200.0f, node0Layout.size().width, "width of node0");
        assertEquals(240.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(200.0f, node1Layout.size().width, "width of node1");
        assertEquals(160.0f, node1Layout.size().height, "height of node1");
        assertEquals(0.0f, node1Layout.location().x, "x of node1");
        assertEquals(240.0f, node1Layout.location().y, "y of node1");
    }

    @Test
    @DisplayName("percentage_flex_basis_cross_min_width__border_box")
    void percentageFlexBasisCrossMinWidthBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.flexGrow = 1.0f;
        node0Style.flexBasis = Dimension.percent(0.1f);
        node0Style.minSize = new Size<>(Dimension.percent(0.6f), Dimension.AUTO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.flexGrow = 4.0f;
        node1Style.flexBasis = Dimension.percent(0.15f);
        node1Style.minSize = new Size<>(Dimension.percent(0.2f), Dimension.AUTO);
        NodeId node1 = tree.newLeaf(node1Style);

        Style nodeStyle = new Style();
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.size = new Size<>(Dimension.length(200.0f), Dimension.length(400.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(200.0f, nodeLayout.size().width, "width of node");
        assertEquals(400.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(200.0f, node0Layout.size().width, "width of node0");
        assertEquals(100.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(200.0f, node1Layout.size().width, "width of node1");
        assertEquals(300.0f, node1Layout.size().height, "height of node1");
        assertEquals(0.0f, node1Layout.location().x, "x of node1");
        assertEquals(100.0f, node1Layout.location().y, "y of node1");
    }

    @Test
    @DisplayName("percentage_flex_basis_cross_min_width__content_box")
    void percentageFlexBasisCrossMinWidthContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.flexGrow = 1.0f;
        node0Style.flexBasis = Dimension.percent(0.1f);
        node0Style.minSize = new Size<>(Dimension.percent(0.6f), Dimension.AUTO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.flexGrow = 4.0f;
        node1Style.flexBasis = Dimension.percent(0.15f);
        node1Style.minSize = new Size<>(Dimension.percent(0.2f), Dimension.AUTO);
        NodeId node1 = tree.newLeaf(node1Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.size = new Size<>(Dimension.length(200.0f), Dimension.length(400.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(200.0f, nodeLayout.size().width, "width of node");
        assertEquals(400.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(200.0f, node0Layout.size().width, "width of node0");
        assertEquals(100.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(200.0f, node1Layout.size().width, "width of node1");
        assertEquals(300.0f, node1Layout.size().height, "height of node1");
        assertEquals(0.0f, node1Layout.location().x, "x of node1");
        assertEquals(100.0f, node1Layout.location().y, "y of node1");
    }

    @Test
    @DisplayName("percentage_flex_basis_main_max_height__border_box")
    void percentageFlexBasisMainMaxHeightBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.flexGrow = 1.0f;
        node0Style.flexBasis = Dimension.percent(0.1f);
        node0Style.maxSize = new Size<>(Dimension.AUTO, Dimension.percent(0.6f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.flexGrow = 4.0f;
        node1Style.flexBasis = Dimension.percent(0.1f);
        node1Style.maxSize = new Size<>(Dimension.AUTO, Dimension.percent(0.2f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style nodeStyle = new Style();
        nodeStyle.size = new Size<>(Dimension.length(200.0f), Dimension.length(400.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(200.0f, nodeLayout.size().width, "width of node");
        assertEquals(400.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(52.0f, node0Layout.size().width, "width of node0");
        assertEquals(240.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(148.0f, node1Layout.size().width, "width of node1");
        assertEquals(80.0f, node1Layout.size().height, "height of node1");
        assertEquals(52.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
    }

    @Test
    @DisplayName("percentage_flex_basis_main_max_height__content_box")
    void percentageFlexBasisMainMaxHeightContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.flexGrow = 1.0f;
        node0Style.flexBasis = Dimension.percent(0.1f);
        node0Style.maxSize = new Size<>(Dimension.AUTO, Dimension.percent(0.6f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.flexGrow = 4.0f;
        node1Style.flexBasis = Dimension.percent(0.1f);
        node1Style.maxSize = new Size<>(Dimension.AUTO, Dimension.percent(0.2f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.size = new Size<>(Dimension.length(200.0f), Dimension.length(400.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(200.0f, nodeLayout.size().width, "width of node");
        assertEquals(400.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(52.0f, node0Layout.size().width, "width of node0");
        assertEquals(240.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(148.0f, node1Layout.size().width, "width of node1");
        assertEquals(80.0f, node1Layout.size().height, "height of node1");
        assertEquals(52.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
    }

    @Test
    @DisplayName("percentage_flex_basis_main_max_width__border_box")
    void percentageFlexBasisMainMaxWidthBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.flexGrow = 1.0f;
        node0Style.flexBasis = Dimension.percent(0.15f);
        node0Style.maxSize = new Size<>(Dimension.percent(0.6f), Dimension.AUTO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.flexGrow = 4.0f;
        node1Style.flexBasis = Dimension.percent(0.1f);
        node1Style.maxSize = new Size<>(Dimension.percent(0.2f), Dimension.AUTO);
        NodeId node1 = tree.newLeaf(node1Style);

        Style nodeStyle = new Style();
        nodeStyle.size = new Size<>(Dimension.length(200.0f), Dimension.length(400.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(200.0f, nodeLayout.size().width, "width of node");
        assertEquals(400.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(120.0f, node0Layout.size().width, "width of node0");
        assertEquals(400.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(40.0f, node1Layout.size().width, "width of node1");
        assertEquals(400.0f, node1Layout.size().height, "height of node1");
        assertEquals(120.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
    }

    @Test
    @DisplayName("percentage_flex_basis_main_max_width__content_box")
    void percentageFlexBasisMainMaxWidthContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.flexGrow = 1.0f;
        node0Style.flexBasis = Dimension.percent(0.15f);
        node0Style.maxSize = new Size<>(Dimension.percent(0.6f), Dimension.AUTO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.flexGrow = 4.0f;
        node1Style.flexBasis = Dimension.percent(0.1f);
        node1Style.maxSize = new Size<>(Dimension.percent(0.2f), Dimension.AUTO);
        NodeId node1 = tree.newLeaf(node1Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.size = new Size<>(Dimension.length(200.0f), Dimension.length(400.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(200.0f, nodeLayout.size().width, "width of node");
        assertEquals(400.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(120.0f, node0Layout.size().width, "width of node0");
        assertEquals(400.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(40.0f, node1Layout.size().width, "width of node1");
        assertEquals(400.0f, node1Layout.size().height, "height of node1");
        assertEquals(120.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
    }

    @Test
    @DisplayName("percentage_flex_basis_main_min_width__border_box")
    void percentageFlexBasisMainMinWidthBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.flexGrow = 1.0f;
        node0Style.flexBasis = Dimension.percent(0.15f);
        node0Style.minSize = new Size<>(Dimension.percent(0.6f), Dimension.AUTO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.flexGrow = 4.0f;
        node1Style.flexBasis = Dimension.percent(0.1f);
        node1Style.minSize = new Size<>(Dimension.percent(0.2f), Dimension.AUTO);
        NodeId node1 = tree.newLeaf(node1Style);

        Style nodeStyle = new Style();
        nodeStyle.size = new Size<>(Dimension.length(200.0f), Dimension.length(400.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(200.0f, nodeLayout.size().width, "width of node");
        assertEquals(400.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(120.0f, node0Layout.size().width, "width of node0");
        assertEquals(400.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(80.0f, node1Layout.size().width, "width of node1");
        assertEquals(400.0f, node1Layout.size().height, "height of node1");
        assertEquals(120.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
    }

    @Test
    @DisplayName("percentage_flex_basis_main_min_width__content_box")
    void percentageFlexBasisMainMinWidthContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.flexGrow = 1.0f;
        node0Style.flexBasis = Dimension.percent(0.15f);
        node0Style.minSize = new Size<>(Dimension.percent(0.6f), Dimension.AUTO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.flexGrow = 4.0f;
        node1Style.flexBasis = Dimension.percent(0.1f);
        node1Style.minSize = new Size<>(Dimension.percent(0.2f), Dimension.AUTO);
        NodeId node1 = tree.newLeaf(node1Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.size = new Size<>(Dimension.length(200.0f), Dimension.length(400.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(200.0f, nodeLayout.size().width, "width of node");
        assertEquals(400.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(120.0f, node0Layout.size().width, "width of node0");
        assertEquals(400.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(80.0f, node1Layout.size().width, "width of node1");
        assertEquals(400.0f, node1Layout.size().height, "height of node1");
        assertEquals(120.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
    }

    @Test
    @DisplayName("percentage_main_max_height__border_box")
    void percentageMainMaxHeightBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.flexBasis = Dimension.length(15.0f);
        NodeId node00 = tree.newLeaf(node00Style);

        Style node01Style = new Style();
        node01Style.flexBasis = Dimension.length(48.0f);
        node01Style.maxSize = new Size<>(Dimension.AUTO, Dimension.percent(0.33f));
        NodeId node01 = tree.newLeaf(node01Style);

        Style node0Style = new Style();
        node0Style.flexDirection = FlexDirection.COLUMN;
        node0Style.alignItems = AlignItems.FLEX_START;
        node0Style.size = new Size<>(Dimension.AUTO, Dimension.length(151.0f));
        NodeId node0 = tree.newWithChildren(node0Style, node00, node01);

        Style nodeStyle = new Style();
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.size = new Size<>(Dimension.length(71.0f), Dimension.AUTO);
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(71.0f, nodeLayout.size().width, "width of node");
        assertEquals(151.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(71.0f, node0Layout.size().width, "width of node0");
        assertEquals(151.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(0.0f, node00Layout.size().width, "width of node00");
        assertEquals(15.0f, node00Layout.size().height, "height of node00");
        assertEquals(0.0f, node00Layout.location().x, "x of node00");
        assertEquals(0.0f, node00Layout.location().y, "y of node00");
        Layout node01Layout = tree.getLayout(node01);
        assertEquals(0.0f, node01Layout.size().width, "width of node01");
        assertEquals(48.0f, node01Layout.size().height, "height of node01");
        assertEquals(0.0f, node01Layout.location().x, "x of node01");
        assertEquals(15.0f, node01Layout.location().y, "y of node01");
    }

    @Test
    @DisplayName("percentage_main_max_height__content_box")
    void percentageMainMaxHeightContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.boxSizing = BoxSizing.CONTENT_BOX;
        node00Style.flexBasis = Dimension.length(15.0f);
        NodeId node00 = tree.newLeaf(node00Style);

        Style node01Style = new Style();
        node01Style.boxSizing = BoxSizing.CONTENT_BOX;
        node01Style.flexBasis = Dimension.length(48.0f);
        node01Style.maxSize = new Size<>(Dimension.AUTO, Dimension.percent(0.33f));
        NodeId node01 = tree.newLeaf(node01Style);

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.flexDirection = FlexDirection.COLUMN;
        node0Style.alignItems = AlignItems.FLEX_START;
        node0Style.size = new Size<>(Dimension.AUTO, Dimension.length(151.0f));
        NodeId node0 = tree.newWithChildren(node0Style, node00, node01);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.size = new Size<>(Dimension.length(71.0f), Dimension.AUTO);
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(71.0f, nodeLayout.size().width, "width of node");
        assertEquals(151.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(71.0f, node0Layout.size().width, "width of node0");
        assertEquals(151.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(0.0f, node00Layout.size().width, "width of node00");
        assertEquals(15.0f, node00Layout.size().height, "height of node00");
        assertEquals(0.0f, node00Layout.location().x, "x of node00");
        assertEquals(0.0f, node00Layout.location().y, "y of node00");
        Layout node01Layout = tree.getLayout(node01);
        assertEquals(0.0f, node01Layout.size().width, "width of node01");
        assertEquals(48.0f, node01Layout.size().height, "height of node01");
        assertEquals(0.0f, node01Layout.location().x, "x of node01");
        assertEquals(15.0f, node01Layout.location().y, "y of node01");
    }

    @Test
    @DisplayName("percentage_margin_should_calculate_based_only_on_width__border_box")
    void percentageMarginShouldCalculateBasedOnlyOnWidthBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.size = new Size<>(Dimension.length(10.0f), Dimension.length(10.0f));
        NodeId node00 = tree.newLeaf(node00Style);

        Style node0Style = new Style();
        node0Style.flexDirection = FlexDirection.COLUMN;
        node0Style.flexGrow = 1.0f;
        node0Style.margin = new Rect<>(LengthPercentageAuto.percent(0.1f), LengthPercentageAuto.percent(0.1f), LengthPercentageAuto.percent(0.1f), LengthPercentageAuto.percent(0.1f));
        NodeId node0 = tree.newWithChildren(node0Style, node00);

        Style nodeStyle = new Style();
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.size = new Size<>(Dimension.length(200.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(200.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(160.0f, node0Layout.size().width, "width of node0");
        assertEquals(60.0f, node0Layout.size().height, "height of node0");
        assertEquals(20.0f, node0Layout.location().x, "x of node0");
        assertEquals(20.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(10.0f, node00Layout.size().width, "width of node00");
        assertEquals(10.0f, node00Layout.size().height, "height of node00");
        assertEquals(0.0f, node00Layout.location().x, "x of node00");
        assertEquals(0.0f, node00Layout.location().y, "y of node00");
    }

    @Test
    @DisplayName("percentage_margin_should_calculate_based_only_on_width__content_box")
    void percentageMarginShouldCalculateBasedOnlyOnWidthContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.boxSizing = BoxSizing.CONTENT_BOX;
        node00Style.size = new Size<>(Dimension.length(10.0f), Dimension.length(10.0f));
        NodeId node00 = tree.newLeaf(node00Style);

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.flexDirection = FlexDirection.COLUMN;
        node0Style.flexGrow = 1.0f;
        node0Style.margin = new Rect<>(LengthPercentageAuto.percent(0.1f), LengthPercentageAuto.percent(0.1f), LengthPercentageAuto.percent(0.1f), LengthPercentageAuto.percent(0.1f));
        NodeId node0 = tree.newWithChildren(node0Style, node00);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.size = new Size<>(Dimension.length(200.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(200.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(160.0f, node0Layout.size().width, "width of node0");
        assertEquals(60.0f, node0Layout.size().height, "height of node0");
        assertEquals(20.0f, node0Layout.location().x, "x of node0");
        assertEquals(20.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(10.0f, node00Layout.size().width, "width of node00");
        assertEquals(10.0f, node00Layout.size().height, "height of node00");
        assertEquals(0.0f, node00Layout.location().x, "x of node00");
        assertEquals(0.0f, node00Layout.location().y, "y of node00");
    }

    @Test
    @DisplayName("percentage_moderate_complexity__border_box")
    void percentageModerateComplexityBorderBox() {
        TaffyTree tree = new TaffyTree();
        tree.disableRounding();

        Style node00Style = new Style();
        node00Style.size = new Size<>(Dimension.percent(0.45f), Dimension.AUTO);
        node00Style.margin = new Rect<>(LengthPercentageAuto.percent(0.05f), LengthPercentageAuto.percent(0.05f), LengthPercentageAuto.percent(0.05f), LengthPercentageAuto.percent(0.05f));
        node00Style.padding = new Rect<>(LengthPercentage.length(3.0f), LengthPercentage.length(3.0f), LengthPercentage.length(3.0f), LengthPercentage.length(3.0f));
        NodeId node00 = tree.newLeaf(node00Style);

        Style node0Style = new Style();
        node0Style.flexDirection = FlexDirection.COLUMN;
        node0Style.size = new Size<>(Dimension.percent(0.5f), Dimension.AUTO);
        node0Style.margin = new Rect<>(LengthPercentageAuto.length(5.0f), LengthPercentageAuto.length(5.0f), LengthPercentageAuto.length(5.0f), LengthPercentageAuto.length(5.0f));
        node0Style.padding = new Rect<>(LengthPercentage.percent(0.03f), LengthPercentage.percent(0.03f), LengthPercentage.percent(0.03f), LengthPercentage.percent(0.03f));
        NodeId node0 = tree.newWithChildren(node0Style, node00);

        Style nodeStyle = new Style();
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.size = new Size<>(Dimension.length(200.0f), Dimension.AUTO);
        nodeStyle.padding = new Rect<>(LengthPercentage.length(3.0f), LengthPercentage.length(3.0f), LengthPercentage.length(3.0f), LengthPercentage.length(3.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(200.0f, nodeLayout.size().width, EPSILON, "width of node");
        assertEquals(42.15625f, nodeLayout.size().height, EPSILON, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, EPSILON, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, EPSILON, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(97.0f, node0Layout.size().width, EPSILON, "width of node0");
        assertEquals(26.15625f, node0Layout.size().height, EPSILON, "height of node0");
        assertEquals(8.0f, node0Layout.location().x, EPSILON, "x of node0");
        assertEquals(8.0f, node0Layout.location().y, EPSILON, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(38.40625f, node00Layout.size().width, EPSILON, "width of node00");
        assertEquals(6.0f, node00Layout.size().height, EPSILON, "height of node00");
        assertEquals(10.078125f, node00Layout.location().x, EPSILON, "x of node00");
        assertEquals(10.078125f, node00Layout.location().y, EPSILON, "y of node00");
    }

    @Test
    @DisplayName("percentage_moderate_complexity__content_box")
    void percentageModerateComplexityContentBox() {
        TaffyTree tree = new TaffyTree();
        tree.disableRounding();

        Style node00Style = new Style();
        node00Style.boxSizing = BoxSizing.CONTENT_BOX;
        node00Style.size = new Size<>(Dimension.percent(0.45f), Dimension.AUTO);
        node00Style.margin = new Rect<>(LengthPercentageAuto.percent(0.05f), LengthPercentageAuto.percent(0.05f), LengthPercentageAuto.percent(0.05f), LengthPercentageAuto.percent(0.05f));
        node00Style.padding = new Rect<>(LengthPercentage.length(3.0f), LengthPercentage.length(3.0f), LengthPercentage.length(3.0f), LengthPercentage.length(3.0f));
        NodeId node00 = tree.newLeaf(node00Style);

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.flexDirection = FlexDirection.COLUMN;
        node0Style.size = new Size<>(Dimension.percent(0.5f), Dimension.AUTO);
        node0Style.margin = new Rect<>(LengthPercentageAuto.length(5.0f), LengthPercentageAuto.length(5.0f), LengthPercentageAuto.length(5.0f), LengthPercentageAuto.length(5.0f));
        node0Style.padding = new Rect<>(LengthPercentage.percent(0.03f), LengthPercentage.percent(0.03f), LengthPercentage.percent(0.03f), LengthPercentage.percent(0.03f));
        NodeId node0 = tree.newWithChildren(node0Style, node00);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.size = new Size<>(Dimension.length(200.0f), Dimension.AUTO);
        nodeStyle.padding = new Rect<>(LengthPercentage.length(3.0f), LengthPercentage.length(3.0f), LengthPercentage.length(3.0f), LengthPercentage.length(3.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(206.0f, nodeLayout.size().width, EPSILON, "width of node");
        assertEquals(44.0f, nodeLayout.size().height, EPSILON, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, EPSILON, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, EPSILON, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(112.0f, node0Layout.size().width, EPSILON, "width of node0");
        assertEquals(28.0f, node0Layout.size().height, EPSILON, "height of node0");
        assertEquals(8.0f, node0Layout.location().x, EPSILON, "x of node0");
        assertEquals(8.0f, node0Layout.location().y, EPSILON, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(51.0f, node00Layout.size().width, EPSILON, "width of node00");
        assertEquals(6.0f, node00Layout.size().height, EPSILON, "height of node00");
        assertEquals(11.0f, node00Layout.location().x, EPSILON, "x of node00");
        assertEquals(11.0f, node00Layout.location().y, EPSILON, "y of node00");
    }

    @Test
    @DisplayName("percentage_moderate_complexity2__border_box")
    void percentageModerateComplexity2BorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        NodeId node00 = tree.newLeaf(node00Style);

        Style node0Style = new Style();
        node0Style.flexDirection = FlexDirection.COLUMN;
        node0Style.size = new Size<>(Dimension.percent(0.5f), Dimension.AUTO);
        node0Style.padding = new Rect<>(LengthPercentage.percent(0.1f), LengthPercentage.percent(0.1f), LengthPercentage.percent(0.1f), LengthPercentage.percent(0.1f));
        NodeId node0 = tree.newWithChildren(node0Style, node00);

        Style nodeStyle = new Style();
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.size = new Size<>(Dimension.length(200.0f), Dimension.length(200.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(200.0f, nodeLayout.size().width, "width of node");
        assertEquals(200.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(100.0f, node0Layout.size().width, "width of node0");
        assertEquals(60.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(20.0f, node00Layout.size().width, "width of node00");
        assertEquals(20.0f, node00Layout.size().height, "height of node00");
        assertEquals(20.0f, node00Layout.location().x, "x of node00");
        assertEquals(20.0f, node00Layout.location().y, "y of node00");
    }

    @Test
    @DisplayName("percentage_moderate_complexity2__content_box")
    void percentageModerateComplexity2ContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.boxSizing = BoxSizing.CONTENT_BOX;
        node00Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        NodeId node00 = tree.newLeaf(node00Style);

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.flexDirection = FlexDirection.COLUMN;
        node0Style.size = new Size<>(Dimension.percent(0.5f), Dimension.AUTO);
        node0Style.padding = new Rect<>(LengthPercentage.percent(0.1f), LengthPercentage.percent(0.1f), LengthPercentage.percent(0.1f), LengthPercentage.percent(0.1f));
        NodeId node0 = tree.newWithChildren(node0Style, node00);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.size = new Size<>(Dimension.length(200.0f), Dimension.length(200.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(200.0f, nodeLayout.size().width, "width of node");
        assertEquals(200.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(140.0f, node0Layout.size().width, "width of node0");
        assertEquals(60.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(20.0f, node00Layout.size().width, "width of node00");
        assertEquals(20.0f, node00Layout.size().height, "height of node00");
        assertEquals(20.0f, node00Layout.location().x, "x of node00");
        assertEquals(20.0f, node00Layout.location().y, "y of node00");
    }

    @Test
    @DisplayName("percentage_multiple_nested_with_padding_margin_and_percentage_values__border_box")
    void percentageMultipleNestedWithPaddingMarginAndPercentageValuesBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node000Style = new Style();
        node000Style.size = new Size<>(Dimension.percent(0.45f), Dimension.AUTO);
        node000Style.margin = new Rect<>(LengthPercentageAuto.percent(0.05f), LengthPercentageAuto.percent(0.05f), LengthPercentageAuto.percent(0.05f), LengthPercentageAuto.percent(0.05f));
        node000Style.padding = new Rect<>(LengthPercentage.length(3.0f), LengthPercentage.length(3.0f), LengthPercentage.length(3.0f), LengthPercentage.length(3.0f));
        NodeId node000 = tree.newLeaf(node000Style);

        Style node00Style = new Style();
        node00Style.flexDirection = FlexDirection.COLUMN;
        node00Style.size = new Size<>(Dimension.percent(0.5f), Dimension.AUTO);
        node00Style.margin = new Rect<>(LengthPercentageAuto.length(5.0f), LengthPercentageAuto.length(5.0f), LengthPercentageAuto.length(5.0f), LengthPercentageAuto.length(5.0f));
        node00Style.padding = new Rect<>(LengthPercentage.percent(0.03f), LengthPercentage.percent(0.03f), LengthPercentage.percent(0.03f), LengthPercentage.percent(0.03f));
        NodeId node00 = tree.newWithChildren(node00Style, node000);

        Style node0Style = new Style();
        node0Style.flexDirection = FlexDirection.COLUMN;
        node0Style.flexGrow = 1.0f;
        node0Style.flexBasis = Dimension.percent(0.1f);
        node0Style.minSize = new Size<>(Dimension.percent(0.6f), Dimension.AUTO);
        node0Style.margin = new Rect<>(LengthPercentageAuto.length(5.0f), LengthPercentageAuto.length(5.0f), LengthPercentageAuto.length(5.0f), LengthPercentageAuto.length(5.0f));
        node0Style.padding = new Rect<>(LengthPercentage.length(3.0f), LengthPercentage.length(3.0f), LengthPercentage.length(3.0f), LengthPercentage.length(3.0f));
        NodeId node0 = tree.newWithChildren(node0Style, node00);

        Style node1Style = new Style();
        node1Style.flexGrow = 4.0f;
        node1Style.flexBasis = Dimension.percent(0.15f);
        node1Style.minSize = new Size<>(Dimension.percent(0.2f), Dimension.AUTO);
        NodeId node1 = tree.newLeaf(node1Style);

        Style nodeStyle = new Style();
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.size = new Size<>(Dimension.length(200.0f), Dimension.length(200.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(200.0f, nodeLayout.size().width, "width of node");
        assertEquals(200.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(190.0f, node0Layout.size().width, "width of node0");
        assertEquals(48.0f, node0Layout.size().height, "height of node0");
        assertEquals(5.0f, node0Layout.location().x, "x of node0");
        assertEquals(5.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(92.0f, node00Layout.size().width, "width of node00");
        assertEquals(25.0f, node00Layout.size().height, "height of node00");
        assertEquals(8.0f, node00Layout.location().x, "x of node00");
        assertEquals(8.0f, node00Layout.location().y, "y of node00");
        Layout node000Layout = tree.getLayout(node000);
        assertEquals(36.0f, node000Layout.size().width, "width of node000");
        assertEquals(6.0f, node000Layout.size().height, "height of node000");
        assertEquals(10.0f, node000Layout.location().x, "x of node000");
        assertEquals(10.0f, node000Layout.location().y, "y of node000");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(200.0f, node1Layout.size().width, "width of node1");
        assertEquals(142.0f, node1Layout.size().height, "height of node1");
        assertEquals(0.0f, node1Layout.location().x, "x of node1");
        assertEquals(58.0f, node1Layout.location().y, "y of node1");
    }

    @Test
    @DisplayName("percentage_multiple_nested_with_padding_margin_and_percentage_values__content_box")
    void percentageMultipleNestedWithPaddingMarginAndPercentageValuesContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node000Style = new Style();
        node000Style.boxSizing = BoxSizing.CONTENT_BOX;
        node000Style.size = new Size<>(Dimension.percent(0.45f), Dimension.AUTO);
        node000Style.margin = new Rect<>(LengthPercentageAuto.percent(0.05f), LengthPercentageAuto.percent(0.05f), LengthPercentageAuto.percent(0.05f), LengthPercentageAuto.percent(0.05f));
        node000Style.padding = new Rect<>(LengthPercentage.length(3.0f), LengthPercentage.length(3.0f), LengthPercentage.length(3.0f), LengthPercentage.length(3.0f));
        NodeId node000 = tree.newLeaf(node000Style);

        Style node00Style = new Style();
        node00Style.boxSizing = BoxSizing.CONTENT_BOX;
        node00Style.flexDirection = FlexDirection.COLUMN;
        node00Style.size = new Size<>(Dimension.percent(0.5f), Dimension.AUTO);
        node00Style.margin = new Rect<>(LengthPercentageAuto.length(5.0f), LengthPercentageAuto.length(5.0f), LengthPercentageAuto.length(5.0f), LengthPercentageAuto.length(5.0f));
        node00Style.padding = new Rect<>(LengthPercentage.percent(0.03f), LengthPercentage.percent(0.03f), LengthPercentage.percent(0.03f), LengthPercentage.percent(0.03f));
        NodeId node00 = tree.newWithChildren(node00Style, node000);

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.flexDirection = FlexDirection.COLUMN;
        node0Style.flexGrow = 1.0f;
        node0Style.flexBasis = Dimension.percent(0.1f);
        node0Style.minSize = new Size<>(Dimension.percent(0.6f), Dimension.AUTO);
        node0Style.margin = new Rect<>(LengthPercentageAuto.length(5.0f), LengthPercentageAuto.length(5.0f), LengthPercentageAuto.length(5.0f), LengthPercentageAuto.length(5.0f));
        node0Style.padding = new Rect<>(LengthPercentage.length(3.0f), LengthPercentage.length(3.0f), LengthPercentage.length(3.0f), LengthPercentage.length(3.0f));
        NodeId node0 = tree.newWithChildren(node0Style, node00);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.flexGrow = 4.0f;
        node1Style.flexBasis = Dimension.percent(0.15f);
        node1Style.minSize = new Size<>(Dimension.percent(0.2f), Dimension.AUTO);
        NodeId node1 = tree.newLeaf(node1Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.size = new Size<>(Dimension.length(200.0f), Dimension.length(200.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(200.0f, nodeLayout.size().width, "width of node");
        assertEquals(200.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(190.0f, node0Layout.size().width, "width of node0");
        assertEquals(53.0f, node0Layout.size().height, "height of node0");
        assertEquals(5.0f, node0Layout.location().x, "x of node0");
        assertEquals(5.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(103.0f, node00Layout.size().width, "width of node00");
        assertEquals(26.0f, node00Layout.size().height, "height of node00");
        assertEquals(8.0f, node00Layout.location().x, "x of node00");
        assertEquals(8.0f, node00Layout.location().y, "y of node00");
        Layout node000Layout = tree.getLayout(node000);
        assertEquals(48.0f, node000Layout.size().width, "width of node000");
        assertEquals(6.0f, node000Layout.size().height, "height of node000");
        assertEquals(10.0f, node000Layout.location().x, "x of node000");
        assertEquals(10.0f, node000Layout.location().y, "y of node000");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(200.0f, node1Layout.size().width, "width of node1");
        assertEquals(137.0f, node1Layout.size().height, "height of node1");
        assertEquals(0.0f, node1Layout.location().x, "x of node1");
        assertEquals(63.0f, node1Layout.location().y, "y of node1");
    }

    @Test
    @DisplayName("percentage_padding_should_calculate_based_only_on_width__border_box")
    void percentagePaddingShouldCalculateBasedOnlyOnWidthBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.size = new Size<>(Dimension.length(10.0f), Dimension.length(10.0f));
        NodeId node00 = tree.newLeaf(node00Style);

        Style node0Style = new Style();
        node0Style.flexDirection = FlexDirection.COLUMN;
        node0Style.flexGrow = 1.0f;
        node0Style.padding = new Rect<>(LengthPercentage.percent(0.1f), LengthPercentage.percent(0.1f), LengthPercentage.percent(0.1f), LengthPercentage.percent(0.1f));
        NodeId node0 = tree.newWithChildren(node0Style, node00);

        Style nodeStyle = new Style();
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.size = new Size<>(Dimension.length(200.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(200.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(200.0f, node0Layout.size().width, "width of node0");
        assertEquals(100.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(10.0f, node00Layout.size().width, "width of node00");
        assertEquals(10.0f, node00Layout.size().height, "height of node00");
        assertEquals(20.0f, node00Layout.location().x, "x of node00");
        assertEquals(20.0f, node00Layout.location().y, "y of node00");
    }

    @Test
    @DisplayName("percentage_padding_should_calculate_based_only_on_width__content_box")
    void percentagePaddingShouldCalculateBasedOnlyOnWidthContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.boxSizing = BoxSizing.CONTENT_BOX;
        node00Style.size = new Size<>(Dimension.length(10.0f), Dimension.length(10.0f));
        NodeId node00 = tree.newLeaf(node00Style);

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.flexDirection = FlexDirection.COLUMN;
        node0Style.flexGrow = 1.0f;
        node0Style.padding = new Rect<>(LengthPercentage.percent(0.1f), LengthPercentage.percent(0.1f), LengthPercentage.percent(0.1f), LengthPercentage.percent(0.1f));
        NodeId node0 = tree.newWithChildren(node0Style, node00);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.size = new Size<>(Dimension.length(200.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(200.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(200.0f, node0Layout.size().width, "width of node0");
        assertEquals(100.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(10.0f, node00Layout.size().width, "width of node00");
        assertEquals(10.0f, node00Layout.size().height, "height of node00");
        assertEquals(20.0f, node00Layout.location().x, "x of node00");
        assertEquals(20.0f, node00Layout.location().y, "y of node00");
    }

    @Test
    @DisplayName("percentage_position_bottom_right__border_box")
    void percentagePositionBottomRightBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.percent(0.55f), Dimension.percent(0.15f));
        node0Style.inset = new Rect<>(LengthPercentageAuto.AUTO, LengthPercentageAuto.percent(0.2f), LengthPercentageAuto.AUTO, LengthPercentageAuto.percent(0.1f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.size = new Size<>(Dimension.length(500.0f), Dimension.length(500.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(500.0f, nodeLayout.size().width, "width of node");
        assertEquals(500.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(275.0f, node0Layout.size().width, "width of node0");
        assertEquals(75.0f, node0Layout.size().height, "height of node0");
        assertEquals(-100.0f, node0Layout.location().x, "x of node0");
        assertEquals(-50.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("percentage_position_bottom_right__content_box")
    void percentagePositionBottomRightContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.percent(0.55f), Dimension.percent(0.15f));
        node0Style.inset = new Rect<>(LengthPercentageAuto.AUTO, LengthPercentageAuto.percent(0.2f), LengthPercentageAuto.AUTO, LengthPercentageAuto.percent(0.1f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.size = new Size<>(Dimension.length(500.0f), Dimension.length(500.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(500.0f, nodeLayout.size().width, "width of node");
        assertEquals(500.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(275.0f, node0Layout.size().width, "width of node0");
        assertEquals(75.0f, node0Layout.size().height, "height of node0");
        assertEquals(-100.0f, node0Layout.location().x, "x of node0");
        assertEquals(-50.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("percentage_position_left_top__border_box")
    void percentagePositionLeftTopBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.percent(0.45f), Dimension.percent(0.55f));
        node0Style.inset = new Rect<>(LengthPercentageAuto.percent(0.1f), LengthPercentageAuto.AUTO, LengthPercentageAuto.percent(0.2f), LengthPercentageAuto.AUTO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.size = new Size<>(Dimension.length(400.0f), Dimension.length(400.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(400.0f, nodeLayout.size().width, "width of node");
        assertEquals(400.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(180.0f, node0Layout.size().width, "width of node0");
        assertEquals(220.0f, node0Layout.size().height, "height of node0");
        assertEquals(40.0f, node0Layout.location().x, "x of node0");
        assertEquals(80.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("percentage_position_left_top__content_box")
    void percentagePositionLeftTopContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.percent(0.45f), Dimension.percent(0.55f));
        node0Style.inset = new Rect<>(LengthPercentageAuto.percent(0.1f), LengthPercentageAuto.AUTO, LengthPercentageAuto.percent(0.2f), LengthPercentageAuto.AUTO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.size = new Size<>(Dimension.length(400.0f), Dimension.length(400.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(400.0f, nodeLayout.size().width, "width of node");
        assertEquals(400.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(180.0f, node0Layout.size().width, "width of node0");
        assertEquals(220.0f, node0Layout.size().height, "height of node0");
        assertEquals(40.0f, node0Layout.location().x, "x of node0");
        assertEquals(80.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("percentage_size_based_on_parent_inner_size__border_box")
    void percentageSizeBasedOnParentInnerSizeBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.percent(0.5f), Dimension.percent(0.5f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.size = new Size<>(Dimension.length(200.0f), Dimension.length(400.0f));
        nodeStyle.padding = new Rect<>(LengthPercentage.length(20.0f), LengthPercentage.length(20.0f), LengthPercentage.length(20.0f), LengthPercentage.length(20.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(200.0f, nodeLayout.size().width, "width of node");
        assertEquals(400.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(80.0f, node0Layout.size().width, "width of node0");
        assertEquals(180.0f, node0Layout.size().height, "height of node0");
        assertEquals(20.0f, node0Layout.location().x, "x of node0");
        assertEquals(20.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("percentage_size_based_on_parent_inner_size__content_box")
    void percentageSizeBasedOnParentInnerSizeContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.percent(0.5f), Dimension.percent(0.5f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.size = new Size<>(Dimension.length(200.0f), Dimension.length(400.0f));
        nodeStyle.padding = new Rect<>(LengthPercentage.length(20.0f), LengthPercentage.length(20.0f), LengthPercentage.length(20.0f), LengthPercentage.length(20.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(240.0f, nodeLayout.size().width, "width of node");
        assertEquals(440.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(100.0f, node0Layout.size().width, "width of node0");
        assertEquals(200.0f, node0Layout.size().height, "height of node0");
        assertEquals(20.0f, node0Layout.location().x, "x of node0");
        assertEquals(20.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("percentage_size_of_flex_basis__border_box")
    void percentageSizeOfFlexBasisBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.size = new Size<>(Dimension.percent(1.0f), Dimension.length(100.0f));
        NodeId node00 = tree.newLeaf(node00Style);

        Style node0Style = new Style();
        node0Style.flexBasis = Dimension.length(50.0f);
        NodeId node0 = tree.newWithChildren(node0Style, node00);

        Style nodeStyle = new Style();
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.AUTO);
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(50.0f, node0Layout.size().width, "width of node0");
        assertEquals(100.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(50.0f, node00Layout.size().width, "width of node00");
        assertEquals(100.0f, node00Layout.size().height, "height of node00");
        assertEquals(0.0f, node00Layout.location().x, "x of node00");
        assertEquals(0.0f, node00Layout.location().y, "y of node00");
    }

    @Test
    @DisplayName("percentage_size_of_flex_basis__content_box")
    void percentageSizeOfFlexBasisContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.boxSizing = BoxSizing.CONTENT_BOX;
        node00Style.size = new Size<>(Dimension.percent(1.0f), Dimension.length(100.0f));
        NodeId node00 = tree.newLeaf(node00Style);

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.flexBasis = Dimension.length(50.0f);
        NodeId node0 = tree.newWithChildren(node0Style, node00);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.AUTO);
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(50.0f, node0Layout.size().width, "width of node0");
        assertEquals(100.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(50.0f, node00Layout.size().width, "width of node00");
        assertEquals(100.0f, node00Layout.size().height, "height of node00");
        assertEquals(0.0f, node00Layout.location().x, "x of node00");
        assertEquals(0.0f, node00Layout.location().y, "y of node00");
    }

    @Test
    @DisplayName("percentage_sizes_should_not_prevent_flex_shrinking__border_box")
    void percentageSizesShouldNotPreventFlexShrinkingBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        NodeId node00 = tree.newLeaf(node00Style);

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.percent(1.2f), Dimension.AUTO);
        NodeId node0 = tree.newWithChildren(node0Style, node00);

        Style nodeStyle = new Style();
        nodeStyle.size = new Size<>(Dimension.length(200.0f), Dimension.length(200.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(200.0f, nodeLayout.size().width, "width of node");
        assertEquals(200.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(200.0f, node0Layout.size().width, "width of node0");
        assertEquals(200.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(0.0f, node00Layout.size().width, "width of node00");
        assertEquals(200.0f, node00Layout.size().height, "height of node00");
        assertEquals(0.0f, node00Layout.location().x, "x of node00");
        assertEquals(0.0f, node00Layout.location().y, "y of node00");
    }

    @Test
    @DisplayName("percentage_sizes_should_not_prevent_flex_shrinking__content_box")
    void percentageSizesShouldNotPreventFlexShrinkingContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node00 = tree.newLeaf(node00Style);

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.percent(1.2f), Dimension.AUTO);
        NodeId node0 = tree.newWithChildren(node0Style, node00);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.size = new Size<>(Dimension.length(200.0f), Dimension.length(200.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(200.0f, nodeLayout.size().width, "width of node");
        assertEquals(200.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(200.0f, node0Layout.size().width, "width of node0");
        assertEquals(200.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(0.0f, node00Layout.size().width, "width of node00");
        assertEquals(200.0f, node00Layout.size().height, "height of node00");
        assertEquals(0.0f, node00Layout.location().x, "x of node00");
        assertEquals(0.0f, node00Layout.location().y, "y of node00");
    }

    @Test
    @DisplayName("percentage_width_height__border_box")
    void percentageWidthHeightBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.percent(0.3f), Dimension.percent(0.3f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.size = new Size<>(Dimension.length(200.0f), Dimension.length(400.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(200.0f, nodeLayout.size().width, "width of node");
        assertEquals(400.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(60.0f, node0Layout.size().width, "width of node0");
        assertEquals(120.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("percentage_width_height__content_box")
    void percentageWidthHeightContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.percent(0.3f), Dimension.percent(0.3f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.size = new Size<>(Dimension.length(200.0f), Dimension.length(400.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(200.0f, nodeLayout.size().width, "width of node");
        assertEquals(400.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(60.0f, node0Layout.size().width, "width of node0");
        assertEquals(120.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("percentage_width_height_undefined_parent_size__border_box")
    void percentageWidthHeightUndefinedParentSizeBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.percent(0.5f), Dimension.percent(0.5f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(0.0f, nodeLayout.size().width, "width of node");
        assertEquals(0.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(0.0f, node0Layout.size().width, "width of node0");
        assertEquals(0.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("percentage_width_height_undefined_parent_size__content_box")
    void percentageWidthHeightUndefinedParentSizeContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.percent(0.5f), Dimension.percent(0.5f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(0.0f, nodeLayout.size().width, "width of node");
        assertEquals(0.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(0.0f, node0Layout.size().width, "width of node0");
        assertEquals(0.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("position_root_with_rtl_should_position_withoutdirection__border_box")
    void positionRootWithRtlShouldPositionWithoutdirectionBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.length(52.0f), Dimension.length(52.0f));
        node0Style.inset = new Rect<>(LengthPercentageAuto.length(72.0f), LengthPercentageAuto.AUTO, LengthPercentageAuto.AUTO, LengthPercentageAuto.AUTO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(52.0f, nodeLayout.size().width, "width of node");
        assertEquals(52.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(52.0f, node0Layout.size().width, "width of node0");
        assertEquals(52.0f, node0Layout.size().height, "height of node0");
        assertEquals(72.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("position_root_with_rtl_should_position_withoutdirection__content_box")
    void positionRootWithRtlShouldPositionWithoutdirectionContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.length(52.0f), Dimension.length(52.0f));
        node0Style.inset = new Rect<>(LengthPercentageAuto.length(72.0f), LengthPercentageAuto.AUTO, LengthPercentageAuto.AUTO, LengthPercentageAuto.AUTO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(52.0f, nodeLayout.size().width, "width of node");
        assertEquals(52.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(52.0f, node0Layout.size().width, "width of node0");
        assertEquals(52.0f, node0Layout.size().height, "height of node0");
        assertEquals(72.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("relative_position_should_not_nudge_siblings__border_box")
    void relativePositionShouldNotNudgeSiblingsBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        node0Style.inset = new Rect<>(LengthPercentageAuto.AUTO, LengthPercentageAuto.AUTO, LengthPercentageAuto.length(15.0f), LengthPercentageAuto.AUTO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        node1Style.inset = new Rect<>(LengthPercentageAuto.AUTO, LengthPercentageAuto.AUTO, LengthPercentageAuto.length(15.0f), LengthPercentageAuto.AUTO);
        NodeId node1 = tree.newLeaf(node1Style);

        Style nodeStyle = new Style();
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(100.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(15.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(100.0f, node1Layout.size().width, "width of node1");
        assertEquals(10.0f, node1Layout.size().height, "height of node1");
        assertEquals(0.0f, node1Layout.location().x, "x of node1");
        assertEquals(25.0f, node1Layout.location().y, "y of node1");
    }

    @Test
    @DisplayName("relative_position_should_not_nudge_siblings__content_box")
    void relativePositionShouldNotNudgeSiblingsContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        node0Style.inset = new Rect<>(LengthPercentageAuto.AUTO, LengthPercentageAuto.AUTO, LengthPercentageAuto.length(15.0f), LengthPercentageAuto.AUTO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        node1Style.inset = new Rect<>(LengthPercentageAuto.AUTO, LengthPercentageAuto.AUTO, LengthPercentageAuto.length(15.0f), LengthPercentageAuto.AUTO);
        NodeId node1 = tree.newLeaf(node1Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(100.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(15.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(100.0f, node1Layout.size().width, "width of node1");
        assertEquals(10.0f, node1Layout.size().height, "height of node1");
        assertEquals(0.0f, node1Layout.location().x, "x of node1");
        assertEquals(25.0f, node1Layout.location().y, "y of node1");
    }

    @Test
    @DisplayName("rounding_flex_basis_flex_grow_row_prime_number_width__border_box")
    void roundingFlexBasisFlexGrowRowPrimeNumberWidthBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.flexGrow = 1.0f;
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.flexGrow = 1.0f;
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.flexGrow = 1.0f;
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        node3Style.flexGrow = 1.0f;
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        node4Style.flexGrow = 1.0f;
        NodeId node4 = tree.newLeaf(node4Style);

        Style nodeStyle = new Style();
        nodeStyle.size = new Size<>(Dimension.length(113.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(113.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(23.0f, node0Layout.size().width, "width of node0");
        assertEquals(100.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(22.0f, node1Layout.size().width, "width of node1");
        assertEquals(100.0f, node1Layout.size().height, "height of node1");
        assertEquals(23.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(23.0f, node2Layout.size().width, "width of node2");
        assertEquals(100.0f, node2Layout.size().height, "height of node2");
        assertEquals(45.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(22.0f, node3Layout.size().width, "width of node3");
        assertEquals(100.0f, node3Layout.size().height, "height of node3");
        assertEquals(68.0f, node3Layout.location().x, "x of node3");
        assertEquals(0.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(23.0f, node4Layout.size().width, "width of node4");
        assertEquals(100.0f, node4Layout.size().height, "height of node4");
        assertEquals(90.0f, node4Layout.location().x, "x of node4");
        assertEquals(0.0f, node4Layout.location().y, "y of node4");
    }

    @Test
    @DisplayName("rounding_flex_basis_flex_grow_row_prime_number_width__content_box")
    void roundingFlexBasisFlexGrowRowPrimeNumberWidthContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.flexGrow = 1.0f;
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.flexGrow = 1.0f;
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        node2Style.flexGrow = 1.0f;
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        node3Style.boxSizing = BoxSizing.CONTENT_BOX;
        node3Style.flexGrow = 1.0f;
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        node4Style.boxSizing = BoxSizing.CONTENT_BOX;
        node4Style.flexGrow = 1.0f;
        NodeId node4 = tree.newLeaf(node4Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.size = new Size<>(Dimension.length(113.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(113.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(23.0f, node0Layout.size().width, "width of node0");
        assertEquals(100.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(22.0f, node1Layout.size().width, "width of node1");
        assertEquals(100.0f, node1Layout.size().height, "height of node1");
        assertEquals(23.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(23.0f, node2Layout.size().width, "width of node2");
        assertEquals(100.0f, node2Layout.size().height, "height of node2");
        assertEquals(45.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(22.0f, node3Layout.size().width, "width of node3");
        assertEquals(100.0f, node3Layout.size().height, "height of node3");
        assertEquals(68.0f, node3Layout.location().x, "x of node3");
        assertEquals(0.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(23.0f, node4Layout.size().width, "width of node4");
        assertEquals(100.0f, node4Layout.size().height, "height of node4");
        assertEquals(90.0f, node4Layout.location().x, "x of node4");
        assertEquals(0.0f, node4Layout.location().y, "y of node4");
    }

    @Test
    @DisplayName("rounding_flex_basis_flex_grow_row_width_of_100__border_box")
    void roundingFlexBasisFlexGrowRowWidthOf100BorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.flexGrow = 1.0f;
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.flexGrow = 1.0f;
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.flexGrow = 1.0f;
        NodeId node2 = tree.newLeaf(node2Style);

        Style nodeStyle = new Style();
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(33.0f, node0Layout.size().width, "width of node0");
        assertEquals(100.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(34.0f, node1Layout.size().width, "width of node1");
        assertEquals(100.0f, node1Layout.size().height, "height of node1");
        assertEquals(33.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(33.0f, node2Layout.size().width, "width of node2");
        assertEquals(100.0f, node2Layout.size().height, "height of node2");
        assertEquals(67.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
    }

    @Test
    @DisplayName("rounding_flex_basis_flex_grow_row_width_of_100__content_box")
    void roundingFlexBasisFlexGrowRowWidthOf100ContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.flexGrow = 1.0f;
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.flexGrow = 1.0f;
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        node2Style.flexGrow = 1.0f;
        NodeId node2 = tree.newLeaf(node2Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(33.0f, node0Layout.size().width, "width of node0");
        assertEquals(100.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(34.0f, node1Layout.size().width, "width of node1");
        assertEquals(100.0f, node1Layout.size().height, "height of node1");
        assertEquals(33.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(33.0f, node2Layout.size().width, "width of node2");
        assertEquals(100.0f, node2Layout.size().height, "height of node2");
        assertEquals(67.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
    }

    @Test
    @DisplayName("rounding_flex_basis_flex_shrink_row__border_box")
    void roundingFlexBasisFlexShrinkRowBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.flexShrink = 1.0f;
        node0Style.flexBasis = Dimension.length(100.0f);
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.flexBasis = Dimension.length(25.0f);
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.flexBasis = Dimension.length(25.0f);
        NodeId node2 = tree.newLeaf(node2Style);

        Style nodeStyle = new Style();
        nodeStyle.size = new Size<>(Dimension.length(101.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(101.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(67.0f, node0Layout.size().width, "width of node0");
        assertEquals(100.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(17.0f, node1Layout.size().width, "width of node1");
        assertEquals(100.0f, node1Layout.size().height, "height of node1");
        assertEquals(67.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(17.0f, node2Layout.size().width, "width of node2");
        assertEquals(100.0f, node2Layout.size().height, "height of node2");
        assertEquals(84.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
    }

    @Test
    @DisplayName("rounding_flex_basis_flex_shrink_row__content_box")
    void roundingFlexBasisFlexShrinkRowContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.flexShrink = 1.0f;
        node0Style.flexBasis = Dimension.length(100.0f);
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.flexBasis = Dimension.length(25.0f);
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        node2Style.flexBasis = Dimension.length(25.0f);
        NodeId node2 = tree.newLeaf(node2Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.size = new Size<>(Dimension.length(101.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(101.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(67.0f, node0Layout.size().width, "width of node0");
        assertEquals(100.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(17.0f, node1Layout.size().width, "width of node1");
        assertEquals(100.0f, node1Layout.size().height, "height of node1");
        assertEquals(67.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(17.0f, node2Layout.size().width, "width of node2");
        assertEquals(100.0f, node2Layout.size().height, "height of node2");
        assertEquals(84.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
    }

    @Test
    @DisplayName("rounding_flex_basis_overrides_main_size__border_box")
    void roundingFlexBasisOverridesMainSizeBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.flexGrow = 1.0f;
        node0Style.flexBasis = Dimension.length(50.0f);
        node0Style.size = new Size<>(Dimension.AUTO, Dimension.length(20.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.flexGrow = 1.0f;
        node1Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.flexGrow = 1.0f;
        node2Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        NodeId node2 = tree.newLeaf(node2Style);

        Style nodeStyle = new Style();
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(113.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(113.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(100.0f, node0Layout.size().width, "width of node0");
        assertEquals(64.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(100.0f, node1Layout.size().width, "width of node1");
        assertEquals(25.0f, node1Layout.size().height, "height of node1");
        assertEquals(0.0f, node1Layout.location().x, "x of node1");
        assertEquals(64.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(100.0f, node2Layout.size().width, "width of node2");
        assertEquals(24.0f, node2Layout.size().height, "height of node2");
        assertEquals(0.0f, node2Layout.location().x, "x of node2");
        assertEquals(89.0f, node2Layout.location().y, "y of node2");
    }

    @Test
    @DisplayName("rounding_flex_basis_overrides_main_size__content_box")
    void roundingFlexBasisOverridesMainSizeContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.flexGrow = 1.0f;
        node0Style.flexBasis = Dimension.length(50.0f);
        node0Style.size = new Size<>(Dimension.AUTO, Dimension.length(20.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.flexGrow = 1.0f;
        node1Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        node2Style.flexGrow = 1.0f;
        node2Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        NodeId node2 = tree.newLeaf(node2Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(113.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(113.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(100.0f, node0Layout.size().width, "width of node0");
        assertEquals(64.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(100.0f, node1Layout.size().width, "width of node1");
        assertEquals(25.0f, node1Layout.size().height, "height of node1");
        assertEquals(0.0f, node1Layout.location().x, "x of node1");
        assertEquals(64.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(100.0f, node2Layout.size().width, "width of node2");
        assertEquals(24.0f, node2Layout.size().height, "height of node2");
        assertEquals(0.0f, node2Layout.location().x, "x of node2");
        assertEquals(89.0f, node2Layout.location().y, "y of node2");
    }

    @Test
    @DisplayName("rounding_fractial_input_1__border_box")
    void roundingFractialInput1BorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.flexGrow = 1.0f;
        node0Style.flexBasis = Dimension.length(50.0f);
        node0Style.size = new Size<>(Dimension.AUTO, Dimension.length(20.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.flexGrow = 1.0f;
        node1Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.flexGrow = 1.0f;
        node2Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        NodeId node2 = tree.newLeaf(node2Style);

        Style nodeStyle = new Style();
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(113.4f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(113.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(100.0f, node0Layout.size().width, "width of node0");
        assertEquals(64.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(100.0f, node1Layout.size().width, "width of node1");
        assertEquals(25.0f, node1Layout.size().height, "height of node1");
        assertEquals(0.0f, node1Layout.location().x, "x of node1");
        assertEquals(64.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(100.0f, node2Layout.size().width, "width of node2");
        assertEquals(24.0f, node2Layout.size().height, "height of node2");
        assertEquals(0.0f, node2Layout.location().x, "x of node2");
        assertEquals(89.0f, node2Layout.location().y, "y of node2");
    }

    @Test
    @DisplayName("rounding_fractial_input_1__content_box")
    void roundingFractialInput1ContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.flexGrow = 1.0f;
        node0Style.flexBasis = Dimension.length(50.0f);
        node0Style.size = new Size<>(Dimension.AUTO, Dimension.length(20.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.flexGrow = 1.0f;
        node1Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        node2Style.flexGrow = 1.0f;
        node2Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        NodeId node2 = tree.newLeaf(node2Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(113.4f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(113.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(100.0f, node0Layout.size().width, "width of node0");
        assertEquals(64.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(100.0f, node1Layout.size().width, "width of node1");
        assertEquals(25.0f, node1Layout.size().height, "height of node1");
        assertEquals(0.0f, node1Layout.location().x, "x of node1");
        assertEquals(64.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(100.0f, node2Layout.size().width, "width of node2");
        assertEquals(24.0f, node2Layout.size().height, "height of node2");
        assertEquals(0.0f, node2Layout.location().x, "x of node2");
        assertEquals(89.0f, node2Layout.location().y, "y of node2");
    }

    @Test
    @DisplayName("rounding_fractial_input_2__border_box")
    void roundingFractialInput2BorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.flexGrow = 1.0f;
        node0Style.flexBasis = Dimension.length(50.0f);
        node0Style.size = new Size<>(Dimension.AUTO, Dimension.length(20.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.flexGrow = 1.0f;
        node1Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.flexGrow = 1.0f;
        node2Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        NodeId node2 = tree.newLeaf(node2Style);

        Style nodeStyle = new Style();
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(113.6f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(114.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(100.0f, node0Layout.size().width, "width of node0");
        assertEquals(65.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(100.0f, node1Layout.size().width, "width of node1");
        assertEquals(24.0f, node1Layout.size().height, "height of node1");
        assertEquals(0.0f, node1Layout.location().x, "x of node1");
        assertEquals(65.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(100.0f, node2Layout.size().width, "width of node2");
        assertEquals(25.0f, node2Layout.size().height, "height of node2");
        assertEquals(0.0f, node2Layout.location().x, "x of node2");
        assertEquals(89.0f, node2Layout.location().y, "y of node2");
    }

    @Test
    @DisplayName("rounding_fractial_input_2__content_box")
    void roundingFractialInput2ContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.flexGrow = 1.0f;
        node0Style.flexBasis = Dimension.length(50.0f);
        node0Style.size = new Size<>(Dimension.AUTO, Dimension.length(20.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.flexGrow = 1.0f;
        node1Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        node2Style.flexGrow = 1.0f;
        node2Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        NodeId node2 = tree.newLeaf(node2Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(113.6f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(114.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(100.0f, node0Layout.size().width, "width of node0");
        assertEquals(65.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(100.0f, node1Layout.size().width, "width of node1");
        assertEquals(24.0f, node1Layout.size().height, "height of node1");
        assertEquals(0.0f, node1Layout.location().x, "x of node1");
        assertEquals(65.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(100.0f, node2Layout.size().width, "width of node2");
        assertEquals(25.0f, node2Layout.size().height, "height of node2");
        assertEquals(0.0f, node2Layout.location().x, "x of node2");
        assertEquals(89.0f, node2Layout.location().y, "y of node2");
    }

    @Test
    @DisplayName("rounding_fractial_input_3__border_box")
    void roundingFractialInput3BorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.flexGrow = 1.0f;
        node0Style.flexBasis = Dimension.length(50.0f);
        node0Style.size = new Size<>(Dimension.AUTO, Dimension.length(20.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.flexGrow = 1.0f;
        node1Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.flexGrow = 1.0f;
        node2Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        NodeId node2 = tree.newLeaf(node2Style);

        Style nodeStyle = new Style();
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(113.4f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(113.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(100.0f, node0Layout.size().width, "width of node0");
        assertEquals(64.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(100.0f, node1Layout.size().width, "width of node1");
        assertEquals(25.0f, node1Layout.size().height, "height of node1");
        assertEquals(0.0f, node1Layout.location().x, "x of node1");
        assertEquals(64.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(100.0f, node2Layout.size().width, "width of node2");
        assertEquals(24.0f, node2Layout.size().height, "height of node2");
        assertEquals(0.0f, node2Layout.location().x, "x of node2");
        assertEquals(89.0f, node2Layout.location().y, "y of node2");
    }

    @Test
    @DisplayName("rounding_fractial_input_3__content_box")
    void roundingFractialInput3ContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.flexGrow = 1.0f;
        node0Style.flexBasis = Dimension.length(50.0f);
        node0Style.size = new Size<>(Dimension.AUTO, Dimension.length(20.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.flexGrow = 1.0f;
        node1Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        node2Style.flexGrow = 1.0f;
        node2Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        NodeId node2 = tree.newLeaf(node2Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(113.4f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(113.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(100.0f, node0Layout.size().width, "width of node0");
        assertEquals(64.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(100.0f, node1Layout.size().width, "width of node1");
        assertEquals(25.0f, node1Layout.size().height, "height of node1");
        assertEquals(0.0f, node1Layout.location().x, "x of node1");
        assertEquals(64.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(100.0f, node2Layout.size().width, "width of node2");
        assertEquals(24.0f, node2Layout.size().height, "height of node2");
        assertEquals(0.0f, node2Layout.location().x, "x of node2");
        assertEquals(89.0f, node2Layout.location().y, "y of node2");
    }

    @Test
    @DisplayName("rounding_fractial_input_4__border_box")
    void roundingFractialInput4BorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.flexGrow = 1.0f;
        node0Style.flexBasis = Dimension.length(50.0f);
        node0Style.size = new Size<>(Dimension.AUTO, Dimension.length(20.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.flexGrow = 1.0f;
        node1Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.flexGrow = 1.0f;
        node2Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        NodeId node2 = tree.newLeaf(node2Style);

        Style nodeStyle = new Style();
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(113.4f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(113.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(100.0f, node0Layout.size().width, "width of node0");
        assertEquals(64.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(100.0f, node1Layout.size().width, "width of node1");
        assertEquals(25.0f, node1Layout.size().height, "height of node1");
        assertEquals(0.0f, node1Layout.location().x, "x of node1");
        assertEquals(64.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(100.0f, node2Layout.size().width, "width of node2");
        assertEquals(24.0f, node2Layout.size().height, "height of node2");
        assertEquals(0.0f, node2Layout.location().x, "x of node2");
        assertEquals(89.0f, node2Layout.location().y, "y of node2");
    }

    @Test
    @DisplayName("rounding_fractial_input_4__content_box")
    void roundingFractialInput4ContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.flexGrow = 1.0f;
        node0Style.flexBasis = Dimension.length(50.0f);
        node0Style.size = new Size<>(Dimension.AUTO, Dimension.length(20.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.flexGrow = 1.0f;
        node1Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        node2Style.flexGrow = 1.0f;
        node2Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        NodeId node2 = tree.newLeaf(node2Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(113.4f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(113.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(100.0f, node0Layout.size().width, "width of node0");
        assertEquals(64.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(100.0f, node1Layout.size().width, "width of node1");
        assertEquals(25.0f, node1Layout.size().height, "height of node1");
        assertEquals(0.0f, node1Layout.location().x, "x of node1");
        assertEquals(64.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(100.0f, node2Layout.size().width, "width of node2");
        assertEquals(24.0f, node2Layout.size().height, "height of node2");
        assertEquals(0.0f, node2Layout.location().x, "x of node2");
        assertEquals(89.0f, node2Layout.location().y, "y of node2");
    }

    @Test
    @DisplayName("rounding_fractial_input_5__border_box")
    void roundingFractialInput5BorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.length(100.3f), Dimension.length(100.3f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.size = new Size<>(Dimension.length(100.3f), Dimension.length(100.3f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style nodeStyle = new Style();
        nodeStyle.justifyContent = AlignContent.CENTER;
        nodeStyle.size = new Size<>(Dimension.length(963.333f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(963.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(101.0f, node0Layout.size().width, "width of node0");
        assertEquals(100.0f, node0Layout.size().height, "height of node0");
        assertEquals(381.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(100.0f, node1Layout.size().width, "width of node1");
        assertEquals(100.0f, node1Layout.size().height, "height of node1");
        assertEquals(482.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
    }

    @Test
    @DisplayName("rounding_fractial_input_5__content_box")
    void roundingFractialInput5ContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.length(100.3f), Dimension.length(100.3f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.size = new Size<>(Dimension.length(100.3f), Dimension.length(100.3f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.justifyContent = AlignContent.CENTER;
        nodeStyle.size = new Size<>(Dimension.length(963.333f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(963.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(101.0f, node0Layout.size().width, "width of node0");
        assertEquals(100.0f, node0Layout.size().height, "height of node0");
        assertEquals(381.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(100.0f, node1Layout.size().width, "width of node1");
        assertEquals(100.0f, node1Layout.size().height, "height of node1");
        assertEquals(482.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
    }

    @Test
    @DisplayName("rounding_fractial_input_6__border_box")
    void roundingFractialInput6BorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.size = new Size<>(Dimension.length(2.0f), Dimension.length(10.0f));
        NodeId node00 = tree.newLeaf(node00Style);

        Style node01Style = new Style();
        node01Style.size = new Size<>(Dimension.length(2.0f), Dimension.length(10.0f));
        NodeId node01 = tree.newLeaf(node01Style);

        Style node0Style = new Style();
        node0Style.flexWrap = FlexWrap.WRAP;
        node0Style.size = new Size<>(Dimension.percent(0.5f), Dimension.AUTO);
        NodeId node0 = tree.newWithChildren(node0Style, node00, node01);

        Style node10Style = new Style();
        node10Style.size = new Size<>(Dimension.length(2.0f), Dimension.length(10.0f));
        NodeId node10 = tree.newLeaf(node10Style);

        Style node11Style = new Style();
        node11Style.size = new Size<>(Dimension.length(2.0f), Dimension.length(10.0f));
        NodeId node11 = tree.newLeaf(node11Style);

        Style node1Style = new Style();
        node1Style.flexWrap = FlexWrap.WRAP;
        node1Style.size = new Size<>(Dimension.percent(0.5f), Dimension.AUTO);
        NodeId node1 = tree.newWithChildren(node1Style, node10, node11);

        Style nodeStyle = new Style();
        nodeStyle.size = new Size<>(Dimension.length(7.0f), Dimension.AUTO);
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(7.0f, nodeLayout.size().width, "width of node");
        assertEquals(20.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(4.0f, node0Layout.size().width, "width of node0");
        assertEquals(20.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(2.0f, node00Layout.size().width, "width of node00");
        assertEquals(10.0f, node00Layout.size().height, "height of node00");
        assertEquals(0.0f, node00Layout.location().x, "x of node00");
        assertEquals(0.0f, node00Layout.location().y, "y of node00");
        Layout node01Layout = tree.getLayout(node01);
        assertEquals(2.0f, node01Layout.size().width, "width of node01");
        assertEquals(10.0f, node01Layout.size().height, "height of node01");
        assertEquals(0.0f, node01Layout.location().x, "x of node01");
        assertEquals(10.0f, node01Layout.location().y, "y of node01");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(3.0f, node1Layout.size().width, "width of node1");
        assertEquals(20.0f, node1Layout.size().height, "height of node1");
        assertEquals(4.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node10Layout = tree.getLayout(node10);
        assertEquals(2.0f, node10Layout.size().width, "width of node10");
        assertEquals(10.0f, node10Layout.size().height, "height of node10");
        assertEquals(0.0f, node10Layout.location().x, "x of node10");
        assertEquals(0.0f, node10Layout.location().y, "y of node10");
        Layout node11Layout = tree.getLayout(node11);
        assertEquals(2.0f, node11Layout.size().width, "width of node11");
        assertEquals(10.0f, node11Layout.size().height, "height of node11");
        assertEquals(0.0f, node11Layout.location().x, "x of node11");
        assertEquals(10.0f, node11Layout.location().y, "y of node11");
    }

    @Test
    @DisplayName("rounding_fractial_input_6__content_box")
    void roundingFractialInput6ContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.boxSizing = BoxSizing.CONTENT_BOX;
        node00Style.size = new Size<>(Dimension.length(2.0f), Dimension.length(10.0f));
        NodeId node00 = tree.newLeaf(node00Style);

        Style node01Style = new Style();
        node01Style.boxSizing = BoxSizing.CONTENT_BOX;
        node01Style.size = new Size<>(Dimension.length(2.0f), Dimension.length(10.0f));
        NodeId node01 = tree.newLeaf(node01Style);

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.flexWrap = FlexWrap.WRAP;
        node0Style.size = new Size<>(Dimension.percent(0.5f), Dimension.AUTO);
        NodeId node0 = tree.newWithChildren(node0Style, node00, node01);

        Style node10Style = new Style();
        node10Style.boxSizing = BoxSizing.CONTENT_BOX;
        node10Style.size = new Size<>(Dimension.length(2.0f), Dimension.length(10.0f));
        NodeId node10 = tree.newLeaf(node10Style);

        Style node11Style = new Style();
        node11Style.boxSizing = BoxSizing.CONTENT_BOX;
        node11Style.size = new Size<>(Dimension.length(2.0f), Dimension.length(10.0f));
        NodeId node11 = tree.newLeaf(node11Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.flexWrap = FlexWrap.WRAP;
        node1Style.size = new Size<>(Dimension.percent(0.5f), Dimension.AUTO);
        NodeId node1 = tree.newWithChildren(node1Style, node10, node11);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.size = new Size<>(Dimension.length(7.0f), Dimension.AUTO);
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(7.0f, nodeLayout.size().width, "width of node");
        assertEquals(20.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(4.0f, node0Layout.size().width, "width of node0");
        assertEquals(20.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(2.0f, node00Layout.size().width, "width of node00");
        assertEquals(10.0f, node00Layout.size().height, "height of node00");
        assertEquals(0.0f, node00Layout.location().x, "x of node00");
        assertEquals(0.0f, node00Layout.location().y, "y of node00");
        Layout node01Layout = tree.getLayout(node01);
        assertEquals(2.0f, node01Layout.size().width, "width of node01");
        assertEquals(10.0f, node01Layout.size().height, "height of node01");
        assertEquals(0.0f, node01Layout.location().x, "x of node01");
        assertEquals(10.0f, node01Layout.location().y, "y of node01");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(3.0f, node1Layout.size().width, "width of node1");
        assertEquals(20.0f, node1Layout.size().height, "height of node1");
        assertEquals(4.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node10Layout = tree.getLayout(node10);
        assertEquals(2.0f, node10Layout.size().width, "width of node10");
        assertEquals(10.0f, node10Layout.size().height, "height of node10");
        assertEquals(0.0f, node10Layout.location().x, "x of node10");
        assertEquals(0.0f, node10Layout.location().y, "y of node10");
        Layout node11Layout = tree.getLayout(node11);
        assertEquals(2.0f, node11Layout.size().width, "width of node11");
        assertEquals(10.0f, node11Layout.size().height, "height of node11");
        assertEquals(0.0f, node11Layout.location().x, "x of node11");
        assertEquals(10.0f, node11Layout.location().y, "y of node11");
    }

    @Test
    @DisplayName("rounding_fractial_input_7__border_box")
    void roundingFractialInput7BorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.size = new Size<>(Dimension.length(1.0f), Dimension.length(10.0f));
        NodeId node00 = tree.newLeaf(node00Style);

        Style node01Style = new Style();
        node01Style.size = new Size<>(Dimension.length(1.0f), Dimension.length(10.0f));
        NodeId node01 = tree.newLeaf(node01Style);

        Style node0Style = new Style();
        node0Style.flexWrap = FlexWrap.WRAP;
        node0Style.size = new Size<>(Dimension.percent(0.25f), Dimension.AUTO);
        NodeId node0 = tree.newWithChildren(node0Style, node00, node01);

        Style node10Style = new Style();
        node10Style.size = new Size<>(Dimension.length(1.0f), Dimension.length(10.0f));
        NodeId node10 = tree.newLeaf(node10Style);

        Style node11Style = new Style();
        node11Style.size = new Size<>(Dimension.length(1.0f), Dimension.length(10.0f));
        NodeId node11 = tree.newLeaf(node11Style);

        Style node1Style = new Style();
        node1Style.flexWrap = FlexWrap.WRAP;
        node1Style.size = new Size<>(Dimension.percent(0.25f), Dimension.AUTO);
        NodeId node1 = tree.newWithChildren(node1Style, node10, node11);

        Style node20Style = new Style();
        node20Style.size = new Size<>(Dimension.length(1.0f), Dimension.length(10.0f));
        NodeId node20 = tree.newLeaf(node20Style);

        Style node21Style = new Style();
        node21Style.size = new Size<>(Dimension.length(1.0f), Dimension.length(10.0f));
        NodeId node21 = tree.newLeaf(node21Style);

        Style node2Style = new Style();
        node2Style.flexWrap = FlexWrap.WRAP;
        node2Style.size = new Size<>(Dimension.percent(0.25f), Dimension.AUTO);
        NodeId node2 = tree.newWithChildren(node2Style, node20, node21);

        Style node30Style = new Style();
        node30Style.size = new Size<>(Dimension.length(1.0f), Dimension.length(10.0f));
        NodeId node30 = tree.newLeaf(node30Style);

        Style node31Style = new Style();
        node31Style.size = new Size<>(Dimension.length(1.0f), Dimension.length(10.0f));
        NodeId node31 = tree.newLeaf(node31Style);

        Style node3Style = new Style();
        node3Style.flexWrap = FlexWrap.WRAP;
        node3Style.size = new Size<>(Dimension.percent(0.25f), Dimension.AUTO);
        NodeId node3 = tree.newWithChildren(node3Style, node30, node31);

        Style nodeStyle = new Style();
        nodeStyle.size = new Size<>(Dimension.length(7.0f), Dimension.AUTO);
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(7.0f, nodeLayout.size().width, "width of node");
        assertEquals(20.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(2.0f, node0Layout.size().width, "width of node0");
        assertEquals(20.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(1.0f, node00Layout.size().width, "width of node00");
        assertEquals(10.0f, node00Layout.size().height, "height of node00");
        assertEquals(0.0f, node00Layout.location().x, "x of node00");
        assertEquals(0.0f, node00Layout.location().y, "y of node00");
        Layout node01Layout = tree.getLayout(node01);
        assertEquals(1.0f, node01Layout.size().width, "width of node01");
        assertEquals(10.0f, node01Layout.size().height, "height of node01");
        assertEquals(0.0f, node01Layout.location().x, "x of node01");
        assertEquals(10.0f, node01Layout.location().y, "y of node01");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(2.0f, node1Layout.size().width, "width of node1");
        assertEquals(20.0f, node1Layout.size().height, "height of node1");
        assertEquals(2.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node10Layout = tree.getLayout(node10);
        assertEquals(1.0f, node10Layout.size().width, "width of node10");
        assertEquals(10.0f, node10Layout.size().height, "height of node10");
        assertEquals(0.0f, node10Layout.location().x, "x of node10");
        assertEquals(0.0f, node10Layout.location().y, "y of node10");
        Layout node11Layout = tree.getLayout(node11);
        assertEquals(1.0f, node11Layout.size().width, "width of node11");
        assertEquals(10.0f, node11Layout.size().height, "height of node11");
        assertEquals(0.0f, node11Layout.location().x, "x of node11");
        assertEquals(10.0f, node11Layout.location().y, "y of node11");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(1.0f, node2Layout.size().width, "width of node2");
        assertEquals(20.0f, node2Layout.size().height, "height of node2");
        assertEquals(4.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
        Layout node20Layout = tree.getLayout(node20);
        assertEquals(1.0f, node20Layout.size().width, "width of node20");
        assertEquals(10.0f, node20Layout.size().height, "height of node20");
        assertEquals(0.0f, node20Layout.location().x, "x of node20");
        assertEquals(0.0f, node20Layout.location().y, "y of node20");
        Layout node21Layout = tree.getLayout(node21);
        assertEquals(1.0f, node21Layout.size().width, "width of node21");
        assertEquals(10.0f, node21Layout.size().height, "height of node21");
        assertEquals(0.0f, node21Layout.location().x, "x of node21");
        assertEquals(10.0f, node21Layout.location().y, "y of node21");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(2.0f, node3Layout.size().width, "width of node3");
        assertEquals(20.0f, node3Layout.size().height, "height of node3");
        assertEquals(5.0f, node3Layout.location().x, "x of node3");
        assertEquals(0.0f, node3Layout.location().y, "y of node3");
        Layout node30Layout = tree.getLayout(node30);
        assertEquals(1.0f, node30Layout.size().width, "width of node30");
        assertEquals(10.0f, node30Layout.size().height, "height of node30");
        assertEquals(0.0f, node30Layout.location().x, "x of node30");
        assertEquals(0.0f, node30Layout.location().y, "y of node30");
        Layout node31Layout = tree.getLayout(node31);
        assertEquals(1.0f, node31Layout.size().width, "width of node31");
        assertEquals(10.0f, node31Layout.size().height, "height of node31");
        assertEquals(0.0f, node31Layout.location().x, "x of node31");
        assertEquals(10.0f, node31Layout.location().y, "y of node31");
    }

    @Test
    @DisplayName("rounding_fractial_input_7__content_box")
    void roundingFractialInput7ContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.boxSizing = BoxSizing.CONTENT_BOX;
        node00Style.size = new Size<>(Dimension.length(1.0f), Dimension.length(10.0f));
        NodeId node00 = tree.newLeaf(node00Style);

        Style node01Style = new Style();
        node01Style.boxSizing = BoxSizing.CONTENT_BOX;
        node01Style.size = new Size<>(Dimension.length(1.0f), Dimension.length(10.0f));
        NodeId node01 = tree.newLeaf(node01Style);

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.flexWrap = FlexWrap.WRAP;
        node0Style.size = new Size<>(Dimension.percent(0.25f), Dimension.AUTO);
        NodeId node0 = tree.newWithChildren(node0Style, node00, node01);

        Style node10Style = new Style();
        node10Style.boxSizing = BoxSizing.CONTENT_BOX;
        node10Style.size = new Size<>(Dimension.length(1.0f), Dimension.length(10.0f));
        NodeId node10 = tree.newLeaf(node10Style);

        Style node11Style = new Style();
        node11Style.boxSizing = BoxSizing.CONTENT_BOX;
        node11Style.size = new Size<>(Dimension.length(1.0f), Dimension.length(10.0f));
        NodeId node11 = tree.newLeaf(node11Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.flexWrap = FlexWrap.WRAP;
        node1Style.size = new Size<>(Dimension.percent(0.25f), Dimension.AUTO);
        NodeId node1 = tree.newWithChildren(node1Style, node10, node11);

        Style node20Style = new Style();
        node20Style.boxSizing = BoxSizing.CONTENT_BOX;
        node20Style.size = new Size<>(Dimension.length(1.0f), Dimension.length(10.0f));
        NodeId node20 = tree.newLeaf(node20Style);

        Style node21Style = new Style();
        node21Style.boxSizing = BoxSizing.CONTENT_BOX;
        node21Style.size = new Size<>(Dimension.length(1.0f), Dimension.length(10.0f));
        NodeId node21 = tree.newLeaf(node21Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        node2Style.flexWrap = FlexWrap.WRAP;
        node2Style.size = new Size<>(Dimension.percent(0.25f), Dimension.AUTO);
        NodeId node2 = tree.newWithChildren(node2Style, node20, node21);

        Style node30Style = new Style();
        node30Style.boxSizing = BoxSizing.CONTENT_BOX;
        node30Style.size = new Size<>(Dimension.length(1.0f), Dimension.length(10.0f));
        NodeId node30 = tree.newLeaf(node30Style);

        Style node31Style = new Style();
        node31Style.boxSizing = BoxSizing.CONTENT_BOX;
        node31Style.size = new Size<>(Dimension.length(1.0f), Dimension.length(10.0f));
        NodeId node31 = tree.newLeaf(node31Style);

        Style node3Style = new Style();
        node3Style.boxSizing = BoxSizing.CONTENT_BOX;
        node3Style.flexWrap = FlexWrap.WRAP;
        node3Style.size = new Size<>(Dimension.percent(0.25f), Dimension.AUTO);
        NodeId node3 = tree.newWithChildren(node3Style, node30, node31);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.size = new Size<>(Dimension.length(7.0f), Dimension.AUTO);
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(7.0f, nodeLayout.size().width, "width of node");
        assertEquals(20.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(2.0f, node0Layout.size().width, "width of node0");
        assertEquals(20.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(1.0f, node00Layout.size().width, "width of node00");
        assertEquals(10.0f, node00Layout.size().height, "height of node00");
        assertEquals(0.0f, node00Layout.location().x, "x of node00");
        assertEquals(0.0f, node00Layout.location().y, "y of node00");
        Layout node01Layout = tree.getLayout(node01);
        assertEquals(1.0f, node01Layout.size().width, "width of node01");
        assertEquals(10.0f, node01Layout.size().height, "height of node01");
        assertEquals(0.0f, node01Layout.location().x, "x of node01");
        assertEquals(10.0f, node01Layout.location().y, "y of node01");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(2.0f, node1Layout.size().width, "width of node1");
        assertEquals(20.0f, node1Layout.size().height, "height of node1");
        assertEquals(2.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node10Layout = tree.getLayout(node10);
        assertEquals(1.0f, node10Layout.size().width, "width of node10");
        assertEquals(10.0f, node10Layout.size().height, "height of node10");
        assertEquals(0.0f, node10Layout.location().x, "x of node10");
        assertEquals(0.0f, node10Layout.location().y, "y of node10");
        Layout node11Layout = tree.getLayout(node11);
        assertEquals(1.0f, node11Layout.size().width, "width of node11");
        assertEquals(10.0f, node11Layout.size().height, "height of node11");
        assertEquals(0.0f, node11Layout.location().x, "x of node11");
        assertEquals(10.0f, node11Layout.location().y, "y of node11");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(1.0f, node2Layout.size().width, "width of node2");
        assertEquals(20.0f, node2Layout.size().height, "height of node2");
        assertEquals(4.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
        Layout node20Layout = tree.getLayout(node20);
        assertEquals(1.0f, node20Layout.size().width, "width of node20");
        assertEquals(10.0f, node20Layout.size().height, "height of node20");
        assertEquals(0.0f, node20Layout.location().x, "x of node20");
        assertEquals(0.0f, node20Layout.location().y, "y of node20");
        Layout node21Layout = tree.getLayout(node21);
        assertEquals(1.0f, node21Layout.size().width, "width of node21");
        assertEquals(10.0f, node21Layout.size().height, "height of node21");
        assertEquals(0.0f, node21Layout.location().x, "x of node21");
        assertEquals(10.0f, node21Layout.location().y, "y of node21");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(2.0f, node3Layout.size().width, "width of node3");
        assertEquals(20.0f, node3Layout.size().height, "height of node3");
        assertEquals(5.0f, node3Layout.location().x, "x of node3");
        assertEquals(0.0f, node3Layout.location().y, "y of node3");
        Layout node30Layout = tree.getLayout(node30);
        assertEquals(1.0f, node30Layout.size().width, "width of node30");
        assertEquals(10.0f, node30Layout.size().height, "height of node30");
        assertEquals(0.0f, node30Layout.location().x, "x of node30");
        assertEquals(0.0f, node30Layout.location().y, "y of node30");
        Layout node31Layout = tree.getLayout(node31);
        assertEquals(1.0f, node31Layout.size().width, "width of node31");
        assertEquals(10.0f, node31Layout.size().height, "height of node31");
        assertEquals(0.0f, node31Layout.location().x, "x of node31");
        assertEquals(10.0f, node31Layout.location().y, "y of node31");
    }

    @Test
    @DisplayName("rounding_inner_node_controversy_combined__border_box")
    void roundingInnerNodeControversyCombinedBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.flexGrow = 1.0f;
        node0Style.size = new Size<>(Dimension.AUTO, Dimension.percent(1.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node10Style = new Style();
        node10Style.flexGrow = 1.0f;
        node10Style.size = new Size<>(Dimension.percent(1.0f), Dimension.AUTO);
        NodeId node10 = tree.newLeaf(node10Style);

        Style node110Style = new Style();
        node110Style.flexGrow = 1.0f;
        node110Style.size = new Size<>(Dimension.percent(1.0f), Dimension.AUTO);
        NodeId node110 = tree.newLeaf(node110Style);

        Style node11Style = new Style();
        node11Style.flexDirection = FlexDirection.COLUMN;
        node11Style.flexGrow = 1.0f;
        node11Style.size = new Size<>(Dimension.percent(1.0f), Dimension.AUTO);
        NodeId node11 = tree.newWithChildren(node11Style, node110);

        Style node12Style = new Style();
        node12Style.flexGrow = 1.0f;
        node12Style.size = new Size<>(Dimension.percent(1.0f), Dimension.AUTO);
        NodeId node12 = tree.newLeaf(node12Style);

        Style node1Style = new Style();
        node1Style.flexDirection = FlexDirection.COLUMN;
        node1Style.flexGrow = 1.0f;
        node1Style.size = new Size<>(Dimension.AUTO, Dimension.percent(1.0f));
        NodeId node1 = tree.newWithChildren(node1Style, node10, node11, node12);

        Style node2Style = new Style();
        node2Style.flexGrow = 1.0f;
        node2Style.size = new Size<>(Dimension.AUTO, Dimension.percent(1.0f));
        NodeId node2 = tree.newLeaf(node2Style);

        Style nodeStyle = new Style();
        nodeStyle.size = new Size<>(Dimension.length(640.0f), Dimension.length(320.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(640.0f, nodeLayout.size().width, "width of node");
        assertEquals(320.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(213.0f, node0Layout.size().width, "width of node0");
        assertEquals(320.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(214.0f, node1Layout.size().width, "width of node1");
        assertEquals(320.0f, node1Layout.size().height, "height of node1");
        assertEquals(213.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node10Layout = tree.getLayout(node10);
        assertEquals(214.0f, node10Layout.size().width, "width of node10");
        assertEquals(107.0f, node10Layout.size().height, "height of node10");
        assertEquals(0.0f, node10Layout.location().x, "x of node10");
        assertEquals(0.0f, node10Layout.location().y, "y of node10");
        Layout node11Layout = tree.getLayout(node11);
        assertEquals(214.0f, node11Layout.size().width, "width of node11");
        assertEquals(106.0f, node11Layout.size().height, "height of node11");
        assertEquals(0.0f, node11Layout.location().x, "x of node11");
        assertEquals(107.0f, node11Layout.location().y, "y of node11");
        Layout node110Layout = tree.getLayout(node110);
        assertEquals(214.0f, node110Layout.size().width, "width of node110");
        assertEquals(106.0f, node110Layout.size().height, "height of node110");
        assertEquals(0.0f, node110Layout.location().x, "x of node110");
        assertEquals(0.0f, node110Layout.location().y, "y of node110");
        Layout node12Layout = tree.getLayout(node12);
        assertEquals(214.0f, node12Layout.size().width, "width of node12");
        assertEquals(107.0f, node12Layout.size().height, "height of node12");
        assertEquals(0.0f, node12Layout.location().x, "x of node12");
        assertEquals(213.0f, node12Layout.location().y, "y of node12");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(213.0f, node2Layout.size().width, "width of node2");
        assertEquals(320.0f, node2Layout.size().height, "height of node2");
        assertEquals(427.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
    }

    @Test
    @DisplayName("rounding_inner_node_controversy_combined__content_box")
    void roundingInnerNodeControversyCombinedContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.flexGrow = 1.0f;
        node0Style.size = new Size<>(Dimension.AUTO, Dimension.percent(1.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node10Style = new Style();
        node10Style.boxSizing = BoxSizing.CONTENT_BOX;
        node10Style.flexGrow = 1.0f;
        node10Style.size = new Size<>(Dimension.percent(1.0f), Dimension.AUTO);
        NodeId node10 = tree.newLeaf(node10Style);

        Style node110Style = new Style();
        node110Style.boxSizing = BoxSizing.CONTENT_BOX;
        node110Style.flexGrow = 1.0f;
        node110Style.size = new Size<>(Dimension.percent(1.0f), Dimension.AUTO);
        NodeId node110 = tree.newLeaf(node110Style);

        Style node11Style = new Style();
        node11Style.boxSizing = BoxSizing.CONTENT_BOX;
        node11Style.flexDirection = FlexDirection.COLUMN;
        node11Style.flexGrow = 1.0f;
        node11Style.size = new Size<>(Dimension.percent(1.0f), Dimension.AUTO);
        NodeId node11 = tree.newWithChildren(node11Style, node110);

        Style node12Style = new Style();
        node12Style.boxSizing = BoxSizing.CONTENT_BOX;
        node12Style.flexGrow = 1.0f;
        node12Style.size = new Size<>(Dimension.percent(1.0f), Dimension.AUTO);
        NodeId node12 = tree.newLeaf(node12Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.flexDirection = FlexDirection.COLUMN;
        node1Style.flexGrow = 1.0f;
        node1Style.size = new Size<>(Dimension.AUTO, Dimension.percent(1.0f));
        NodeId node1 = tree.newWithChildren(node1Style, node10, node11, node12);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        node2Style.flexGrow = 1.0f;
        node2Style.size = new Size<>(Dimension.AUTO, Dimension.percent(1.0f));
        NodeId node2 = tree.newLeaf(node2Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.size = new Size<>(Dimension.length(640.0f), Dimension.length(320.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(640.0f, nodeLayout.size().width, "width of node");
        assertEquals(320.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(213.0f, node0Layout.size().width, "width of node0");
        assertEquals(320.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(214.0f, node1Layout.size().width, "width of node1");
        assertEquals(320.0f, node1Layout.size().height, "height of node1");
        assertEquals(213.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node10Layout = tree.getLayout(node10);
        assertEquals(214.0f, node10Layout.size().width, "width of node10");
        assertEquals(107.0f, node10Layout.size().height, "height of node10");
        assertEquals(0.0f, node10Layout.location().x, "x of node10");
        assertEquals(0.0f, node10Layout.location().y, "y of node10");
        Layout node11Layout = tree.getLayout(node11);
        assertEquals(214.0f, node11Layout.size().width, "width of node11");
        assertEquals(106.0f, node11Layout.size().height, "height of node11");
        assertEquals(0.0f, node11Layout.location().x, "x of node11");
        assertEquals(107.0f, node11Layout.location().y, "y of node11");
        Layout node110Layout = tree.getLayout(node110);
        assertEquals(214.0f, node110Layout.size().width, "width of node110");
        assertEquals(106.0f, node110Layout.size().height, "height of node110");
        assertEquals(0.0f, node110Layout.location().x, "x of node110");
        assertEquals(0.0f, node110Layout.location().y, "y of node110");
        Layout node12Layout = tree.getLayout(node12);
        assertEquals(214.0f, node12Layout.size().width, "width of node12");
        assertEquals(107.0f, node12Layout.size().height, "height of node12");
        assertEquals(0.0f, node12Layout.location().x, "x of node12");
        assertEquals(213.0f, node12Layout.location().y, "y of node12");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(213.0f, node2Layout.size().width, "width of node2");
        assertEquals(320.0f, node2Layout.size().height, "height of node2");
        assertEquals(427.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
    }

    @Test
    @DisplayName("rounding_inner_node_controversy_horizontal__border_box")
    void roundingInnerNodeControversyHorizontalBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.flexGrow = 1.0f;
        node0Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node10Style = new Style();
        node10Style.flexGrow = 1.0f;
        node10Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        NodeId node10 = tree.newLeaf(node10Style);

        Style node1Style = new Style();
        node1Style.flexDirection = FlexDirection.COLUMN;
        node1Style.flexGrow = 1.0f;
        node1Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        NodeId node1 = tree.newWithChildren(node1Style, node10);

        Style node2Style = new Style();
        node2Style.flexGrow = 1.0f;
        node2Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        NodeId node2 = tree.newLeaf(node2Style);

        Style nodeStyle = new Style();
        nodeStyle.size = new Size<>(Dimension.length(320.0f), Dimension.AUTO);
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(320.0f, nodeLayout.size().width, "width of node");
        assertEquals(10.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(107.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(106.0f, node1Layout.size().width, "width of node1");
        assertEquals(10.0f, node1Layout.size().height, "height of node1");
        assertEquals(107.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node10Layout = tree.getLayout(node10);
        assertEquals(106.0f, node10Layout.size().width, "width of node10");
        assertEquals(10.0f, node10Layout.size().height, "height of node10");
        assertEquals(0.0f, node10Layout.location().x, "x of node10");
        assertEquals(0.0f, node10Layout.location().y, "y of node10");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(107.0f, node2Layout.size().width, "width of node2");
        assertEquals(10.0f, node2Layout.size().height, "height of node2");
        assertEquals(213.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
    }

    @Test
    @DisplayName("rounding_inner_node_controversy_horizontal__content_box")
    void roundingInnerNodeControversyHorizontalContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.flexGrow = 1.0f;
        node0Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node10Style = new Style();
        node10Style.boxSizing = BoxSizing.CONTENT_BOX;
        node10Style.flexGrow = 1.0f;
        node10Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        NodeId node10 = tree.newLeaf(node10Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.flexDirection = FlexDirection.COLUMN;
        node1Style.flexGrow = 1.0f;
        node1Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        NodeId node1 = tree.newWithChildren(node1Style, node10);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        node2Style.flexGrow = 1.0f;
        node2Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        NodeId node2 = tree.newLeaf(node2Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.size = new Size<>(Dimension.length(320.0f), Dimension.AUTO);
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(320.0f, nodeLayout.size().width, "width of node");
        assertEquals(10.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(107.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(106.0f, node1Layout.size().width, "width of node1");
        assertEquals(10.0f, node1Layout.size().height, "height of node1");
        assertEquals(107.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node10Layout = tree.getLayout(node10);
        assertEquals(106.0f, node10Layout.size().width, "width of node10");
        assertEquals(10.0f, node10Layout.size().height, "height of node10");
        assertEquals(0.0f, node10Layout.location().x, "x of node10");
        assertEquals(0.0f, node10Layout.location().y, "y of node10");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(107.0f, node2Layout.size().width, "width of node2");
        assertEquals(10.0f, node2Layout.size().height, "height of node2");
        assertEquals(213.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
    }

    @Test
    @DisplayName("rounding_inner_node_controversy_vertical__border_box")
    void roundingInnerNodeControversyVerticalBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.flexGrow = 1.0f;
        node0Style.size = new Size<>(Dimension.length(10.0f), Dimension.AUTO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style node10Style = new Style();
        node10Style.flexGrow = 1.0f;
        node10Style.size = new Size<>(Dimension.length(10.0f), Dimension.AUTO);
        NodeId node10 = tree.newLeaf(node10Style);

        Style node1Style = new Style();
        node1Style.flexDirection = FlexDirection.COLUMN;
        node1Style.flexGrow = 1.0f;
        node1Style.size = new Size<>(Dimension.length(10.0f), Dimension.AUTO);
        NodeId node1 = tree.newWithChildren(node1Style, node10);

        Style node2Style = new Style();
        node2Style.flexGrow = 1.0f;
        node2Style.size = new Size<>(Dimension.length(10.0f), Dimension.AUTO);
        NodeId node2 = tree.newLeaf(node2Style);

        Style nodeStyle = new Style();
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.size = new Size<>(Dimension.AUTO, Dimension.length(320.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(10.0f, nodeLayout.size().width, "width of node");
        assertEquals(320.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(10.0f, node0Layout.size().width, "width of node0");
        assertEquals(107.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(10.0f, node1Layout.size().width, "width of node1");
        assertEquals(106.0f, node1Layout.size().height, "height of node1");
        assertEquals(0.0f, node1Layout.location().x, "x of node1");
        assertEquals(107.0f, node1Layout.location().y, "y of node1");
        Layout node10Layout = tree.getLayout(node10);
        assertEquals(10.0f, node10Layout.size().width, "width of node10");
        assertEquals(106.0f, node10Layout.size().height, "height of node10");
        assertEquals(0.0f, node10Layout.location().x, "x of node10");
        assertEquals(0.0f, node10Layout.location().y, "y of node10");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(10.0f, node2Layout.size().width, "width of node2");
        assertEquals(107.0f, node2Layout.size().height, "height of node2");
        assertEquals(0.0f, node2Layout.location().x, "x of node2");
        assertEquals(213.0f, node2Layout.location().y, "y of node2");
    }

    @Test
    @DisplayName("rounding_inner_node_controversy_vertical__content_box")
    void roundingInnerNodeControversyVerticalContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.flexGrow = 1.0f;
        node0Style.size = new Size<>(Dimension.length(10.0f), Dimension.AUTO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style node10Style = new Style();
        node10Style.boxSizing = BoxSizing.CONTENT_BOX;
        node10Style.flexGrow = 1.0f;
        node10Style.size = new Size<>(Dimension.length(10.0f), Dimension.AUTO);
        NodeId node10 = tree.newLeaf(node10Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.flexDirection = FlexDirection.COLUMN;
        node1Style.flexGrow = 1.0f;
        node1Style.size = new Size<>(Dimension.length(10.0f), Dimension.AUTO);
        NodeId node1 = tree.newWithChildren(node1Style, node10);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        node2Style.flexGrow = 1.0f;
        node2Style.size = new Size<>(Dimension.length(10.0f), Dimension.AUTO);
        NodeId node2 = tree.newLeaf(node2Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.size = new Size<>(Dimension.AUTO, Dimension.length(320.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(10.0f, nodeLayout.size().width, "width of node");
        assertEquals(320.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(10.0f, node0Layout.size().width, "width of node0");
        assertEquals(107.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(10.0f, node1Layout.size().width, "width of node1");
        assertEquals(106.0f, node1Layout.size().height, "height of node1");
        assertEquals(0.0f, node1Layout.location().x, "x of node1");
        assertEquals(107.0f, node1Layout.location().y, "y of node1");
        Layout node10Layout = tree.getLayout(node10);
        assertEquals(10.0f, node10Layout.size().width, "width of node10");
        assertEquals(106.0f, node10Layout.size().height, "height of node10");
        assertEquals(0.0f, node10Layout.location().x, "x of node10");
        assertEquals(0.0f, node10Layout.location().y, "y of node10");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(10.0f, node2Layout.size().width, "width of node2");
        assertEquals(107.0f, node2Layout.size().height, "height of node2");
        assertEquals(0.0f, node2Layout.location().x, "x of node2");
        assertEquals(213.0f, node2Layout.location().y, "y of node2");
    }

    @Test
    @DisplayName("rounding_total_fractial__border_box")
    void roundingTotalFractialBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.flexGrow = 0.7f;
        node0Style.flexBasis = Dimension.length(50.3f);
        node0Style.size = new Size<>(Dimension.AUTO, Dimension.length(20.3f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.flexGrow = 1.6f;
        node1Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.flexGrow = 1.1f;
        node2Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.7f));
        NodeId node2 = tree.newLeaf(node2Style);

        Style nodeStyle = new Style();
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.size = new Size<>(Dimension.length(87.4f), Dimension.length(113.4f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(87.0f, nodeLayout.size().width, "width of node");
        assertEquals(113.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(87.0f, node0Layout.size().width, "width of node0");
        assertEquals(59.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(87.0f, node1Layout.size().width, "width of node1");
        assertEquals(30.0f, node1Layout.size().height, "height of node1");
        assertEquals(0.0f, node1Layout.location().x, "x of node1");
        assertEquals(59.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(87.0f, node2Layout.size().width, "width of node2");
        assertEquals(24.0f, node2Layout.size().height, "height of node2");
        assertEquals(0.0f, node2Layout.location().x, "x of node2");
        assertEquals(89.0f, node2Layout.location().y, "y of node2");
    }

    @Test
    @DisplayName("rounding_total_fractial__content_box")
    void roundingTotalFractialContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.flexGrow = 0.7f;
        node0Style.flexBasis = Dimension.length(50.3f);
        node0Style.size = new Size<>(Dimension.AUTO, Dimension.length(20.3f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.flexGrow = 1.6f;
        node1Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        node2Style.flexGrow = 1.1f;
        node2Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.7f));
        NodeId node2 = tree.newLeaf(node2Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.size = new Size<>(Dimension.length(87.4f), Dimension.length(113.4f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(87.0f, nodeLayout.size().width, "width of node");
        assertEquals(113.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(87.0f, node0Layout.size().width, "width of node0");
        assertEquals(59.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(87.0f, node1Layout.size().width, "width of node1");
        assertEquals(30.0f, node1Layout.size().height, "height of node1");
        assertEquals(0.0f, node1Layout.location().x, "x of node1");
        assertEquals(59.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(87.0f, node2Layout.size().width, "width of node2");
        assertEquals(24.0f, node2Layout.size().height, "height of node2");
        assertEquals(0.0f, node2Layout.location().x, "x of node2");
        assertEquals(89.0f, node2Layout.location().y, "y of node2");
    }

    @Test
    @DisplayName("rounding_total_fractial_nested__border_box")
    void roundingTotalFractialNestedBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.flexGrow = 1.0f;
        node00Style.flexBasis = Dimension.length(0.3f);
        node00Style.size = new Size<>(Dimension.AUTO, Dimension.length(9.9f));
        node00Style.inset = new Rect<>(LengthPercentageAuto.AUTO, LengthPercentageAuto.AUTO, LengthPercentageAuto.AUTO, LengthPercentageAuto.length(13.3f));
        NodeId node00 = tree.newLeaf(node00Style);

        Style node01Style = new Style();
        node01Style.flexGrow = 4.0f;
        node01Style.flexBasis = Dimension.length(0.3f);
        node01Style.size = new Size<>(Dimension.AUTO, Dimension.length(1.1f));
        node01Style.inset = new Rect<>(LengthPercentageAuto.AUTO, LengthPercentageAuto.AUTO, LengthPercentageAuto.length(13.3f), LengthPercentageAuto.AUTO);
        NodeId node01 = tree.newLeaf(node01Style);

        Style node0Style = new Style();
        node0Style.flexDirection = FlexDirection.COLUMN;
        node0Style.flexGrow = 0.7f;
        node0Style.flexBasis = Dimension.length(50.3f);
        node0Style.size = new Size<>(Dimension.AUTO, Dimension.length(20.3f));
        NodeId node0 = tree.newWithChildren(node0Style, node00, node01);

        Style node1Style = new Style();
        node1Style.flexGrow = 1.6f;
        node1Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.flexGrow = 1.1f;
        node2Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.7f));
        NodeId node2 = tree.newLeaf(node2Style);

        Style nodeStyle = new Style();
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.size = new Size<>(Dimension.length(87.4f), Dimension.length(113.4f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(87.0f, nodeLayout.size().width, "width of node");
        assertEquals(113.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(87.0f, node0Layout.size().width, "width of node0");
        assertEquals(59.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(87.0f, node00Layout.size().width, "width of node00");
        assertEquals(12.0f, node00Layout.size().height, "height of node00");
        assertEquals(0.0f, node00Layout.location().x, "x of node00");
        assertEquals(-13.0f, node00Layout.location().y, "y of node00");
        Layout node01Layout = tree.getLayout(node01);
        assertEquals(87.0f, node01Layout.size().width, "width of node01");
        assertEquals(47.0f, node01Layout.size().height, "height of node01");
        assertEquals(0.0f, node01Layout.location().x, "x of node01");
        assertEquals(25.0f, node01Layout.location().y, "y of node01");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(87.0f, node1Layout.size().width, "width of node1");
        assertEquals(30.0f, node1Layout.size().height, "height of node1");
        assertEquals(0.0f, node1Layout.location().x, "x of node1");
        assertEquals(59.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(87.0f, node2Layout.size().width, "width of node2");
        assertEquals(24.0f, node2Layout.size().height, "height of node2");
        assertEquals(0.0f, node2Layout.location().x, "x of node2");
        assertEquals(89.0f, node2Layout.location().y, "y of node2");
    }

    @Test
    @DisplayName("rounding_total_fractial_nested__content_box")
    void roundingTotalFractialNestedContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.boxSizing = BoxSizing.CONTENT_BOX;
        node00Style.flexGrow = 1.0f;
        node00Style.flexBasis = Dimension.length(0.3f);
        node00Style.size = new Size<>(Dimension.AUTO, Dimension.length(9.9f));
        node00Style.inset = new Rect<>(LengthPercentageAuto.AUTO, LengthPercentageAuto.AUTO, LengthPercentageAuto.AUTO, LengthPercentageAuto.length(13.3f));
        NodeId node00 = tree.newLeaf(node00Style);

        Style node01Style = new Style();
        node01Style.boxSizing = BoxSizing.CONTENT_BOX;
        node01Style.flexGrow = 4.0f;
        node01Style.flexBasis = Dimension.length(0.3f);
        node01Style.size = new Size<>(Dimension.AUTO, Dimension.length(1.1f));
        node01Style.inset = new Rect<>(LengthPercentageAuto.AUTO, LengthPercentageAuto.AUTO, LengthPercentageAuto.length(13.3f), LengthPercentageAuto.AUTO);
        NodeId node01 = tree.newLeaf(node01Style);

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.flexDirection = FlexDirection.COLUMN;
        node0Style.flexGrow = 0.7f;
        node0Style.flexBasis = Dimension.length(50.3f);
        node0Style.size = new Size<>(Dimension.AUTO, Dimension.length(20.3f));
        NodeId node0 = tree.newWithChildren(node0Style, node00, node01);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.flexGrow = 1.6f;
        node1Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        node2Style.flexGrow = 1.1f;
        node2Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.7f));
        NodeId node2 = tree.newLeaf(node2Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.size = new Size<>(Dimension.length(87.4f), Dimension.length(113.4f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(87.0f, nodeLayout.size().width, "width of node");
        assertEquals(113.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(87.0f, node0Layout.size().width, "width of node0");
        assertEquals(59.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(87.0f, node00Layout.size().width, "width of node00");
        assertEquals(12.0f, node00Layout.size().height, "height of node00");
        assertEquals(0.0f, node00Layout.location().x, "x of node00");
        assertEquals(-13.0f, node00Layout.location().y, "y of node00");
        Layout node01Layout = tree.getLayout(node01);
        assertEquals(87.0f, node01Layout.size().width, "width of node01");
        assertEquals(47.0f, node01Layout.size().height, "height of node01");
        assertEquals(0.0f, node01Layout.location().x, "x of node01");
        assertEquals(25.0f, node01Layout.location().y, "y of node01");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(87.0f, node1Layout.size().width, "width of node1");
        assertEquals(30.0f, node1Layout.size().height, "height of node1");
        assertEquals(0.0f, node1Layout.location().x, "x of node1");
        assertEquals(59.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(87.0f, node2Layout.size().width, "width of node2");
        assertEquals(24.0f, node2Layout.size().height, "height of node2");
        assertEquals(0.0f, node2Layout.location().x, "x of node2");
        assertEquals(89.0f, node2Layout.location().y, "y of node2");
    }

    @Test
    @DisplayName("scroll_size__border_box")
    void scrollSizeBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.flexShrink = 0.0f;
        node0Style.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.alignItems = AlignItems.START;
        nodeStyle.justifyContent = AlignContent.START;
        nodeStyle.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        nodeStyle.overflow = new Point<>(Overflow.SCROLL, Overflow.SCROLL);
        nodeStyle.scrollbarWidth = 15.0f;
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(50.0f, nodeLayout.size().width, "width of node");
        assertEquals(50.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(100.0f, node0Layout.size().width, "width of node0");
        assertEquals(100.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("scroll_size__content_box")
    void scrollSizeContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.flexShrink = 0.0f;
        node0Style.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.alignItems = AlignItems.START;
        nodeStyle.justifyContent = AlignContent.START;
        nodeStyle.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        nodeStyle.overflow = new Point<>(Overflow.SCROLL, Overflow.SCROLL);
        nodeStyle.scrollbarWidth = 15.0f;
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(50.0f, nodeLayout.size().width, "width of node");
        assertEquals(50.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(100.0f, node0Layout.size().width, "width of node0");
        assertEquals(100.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("simple_child__border_box")
    void simpleChildBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node000Style = new Style();
        node000Style.size = new Size<>(Dimension.length(10.0f), Dimension.length(10.0f));
        NodeId node000 = tree.newLeaf(node000Style);

        Style node00Style = new Style();
        node00Style.size = new Size<>(Dimension.length(10.0f), Dimension.length(10.0f));
        NodeId node00 = tree.newWithChildren(node00Style, node000);

        Style node010Style = new Style();
        node010Style.alignSelf = AlignItems.CENTER;
        node010Style.size = new Size<>(Dimension.length(10.0f), Dimension.length(10.0f));
        NodeId node010 = tree.newLeaf(node010Style);

        Style node011Style = new Style();
        node011Style.alignSelf = AlignItems.CENTER;
        node011Style.size = new Size<>(Dimension.length(10.0f), Dimension.length(10.0f));
        NodeId node011 = tree.newLeaf(node011Style);

        Style node01Style = new Style();
        NodeId node01 = tree.newWithChildren(node01Style, node010, node011);

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.percent(1.0f), Dimension.percent(1.0f));
        NodeId node0 = tree.newWithChildren(node0Style, node00, node01);

        Style nodeStyle = new Style();
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(100.0f, node0Layout.size().width, "width of node0");
        assertEquals(100.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(10.0f, node00Layout.size().width, "width of node00");
        assertEquals(10.0f, node00Layout.size().height, "height of node00");
        assertEquals(0.0f, node00Layout.location().x, "x of node00");
        assertEquals(0.0f, node00Layout.location().y, "y of node00");
        Layout node000Layout = tree.getLayout(node000);
        assertEquals(10.0f, node000Layout.size().width, "width of node000");
        assertEquals(10.0f, node000Layout.size().height, "height of node000");
        assertEquals(0.0f, node000Layout.location().x, "x of node000");
        assertEquals(0.0f, node000Layout.location().y, "y of node000");
        Layout node01Layout = tree.getLayout(node01);
        assertEquals(20.0f, node01Layout.size().width, "width of node01");
        assertEquals(100.0f, node01Layout.size().height, "height of node01");
        assertEquals(10.0f, node01Layout.location().x, "x of node01");
        assertEquals(0.0f, node01Layout.location().y, "y of node01");
        Layout node010Layout = tree.getLayout(node010);
        assertEquals(10.0f, node010Layout.size().width, "width of node010");
        assertEquals(10.0f, node010Layout.size().height, "height of node010");
        assertEquals(0.0f, node010Layout.location().x, "x of node010");
        assertEquals(45.0f, node010Layout.location().y, "y of node010");
        Layout node011Layout = tree.getLayout(node011);
        assertEquals(10.0f, node011Layout.size().width, "width of node011");
        assertEquals(10.0f, node011Layout.size().height, "height of node011");
        assertEquals(10.0f, node011Layout.location().x, "x of node011");
        assertEquals(45.0f, node011Layout.location().y, "y of node011");
    }

    @Test
    @DisplayName("simple_child__content_box")
    void simpleChildContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node000Style = new Style();
        node000Style.boxSizing = BoxSizing.CONTENT_BOX;
        node000Style.size = new Size<>(Dimension.length(10.0f), Dimension.length(10.0f));
        NodeId node000 = tree.newLeaf(node000Style);

        Style node00Style = new Style();
        node00Style.boxSizing = BoxSizing.CONTENT_BOX;
        node00Style.size = new Size<>(Dimension.length(10.0f), Dimension.length(10.0f));
        NodeId node00 = tree.newWithChildren(node00Style, node000);

        Style node010Style = new Style();
        node010Style.boxSizing = BoxSizing.CONTENT_BOX;
        node010Style.alignSelf = AlignItems.CENTER;
        node010Style.size = new Size<>(Dimension.length(10.0f), Dimension.length(10.0f));
        NodeId node010 = tree.newLeaf(node010Style);

        Style node011Style = new Style();
        node011Style.boxSizing = BoxSizing.CONTENT_BOX;
        node011Style.alignSelf = AlignItems.CENTER;
        node011Style.size = new Size<>(Dimension.length(10.0f), Dimension.length(10.0f));
        NodeId node011 = tree.newLeaf(node011Style);

        Style node01Style = new Style();
        node01Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node01 = tree.newWithChildren(node01Style, node010, node011);

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.percent(1.0f), Dimension.percent(1.0f));
        NodeId node0 = tree.newWithChildren(node0Style, node00, node01);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(100.0f, node0Layout.size().width, "width of node0");
        assertEquals(100.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(10.0f, node00Layout.size().width, "width of node00");
        assertEquals(10.0f, node00Layout.size().height, "height of node00");
        assertEquals(0.0f, node00Layout.location().x, "x of node00");
        assertEquals(0.0f, node00Layout.location().y, "y of node00");
        Layout node000Layout = tree.getLayout(node000);
        assertEquals(10.0f, node000Layout.size().width, "width of node000");
        assertEquals(10.0f, node000Layout.size().height, "height of node000");
        assertEquals(0.0f, node000Layout.location().x, "x of node000");
        assertEquals(0.0f, node000Layout.location().y, "y of node000");
        Layout node01Layout = tree.getLayout(node01);
        assertEquals(20.0f, node01Layout.size().width, "width of node01");
        assertEquals(100.0f, node01Layout.size().height, "height of node01");
        assertEquals(10.0f, node01Layout.location().x, "x of node01");
        assertEquals(0.0f, node01Layout.location().y, "y of node01");
        Layout node010Layout = tree.getLayout(node010);
        assertEquals(10.0f, node010Layout.size().width, "width of node010");
        assertEquals(10.0f, node010Layout.size().height, "height of node010");
        assertEquals(0.0f, node010Layout.location().x, "x of node010");
        assertEquals(45.0f, node010Layout.location().y, "y of node010");
        Layout node011Layout = tree.getLayout(node011);
        assertEquals(10.0f, node011Layout.size().width, "width of node011");
        assertEquals(10.0f, node011Layout.size().height, "height of node011");
        assertEquals(10.0f, node011Layout.location().x, "x of node011");
        assertEquals(45.0f, node011Layout.location().y, "y of node011");
    }

    @Test
    @DisplayName("single_flex_child_after_absolute_child__border_box")
    void singleFlexChildAfterAbsoluteChildBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.position = Position.ABSOLUTE;
        node0Style.size = new Size<>(Dimension.percent(1.0f), Dimension.percent(1.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.flexGrow = 1.0f;
        node1Style.flexShrink = 1.0f;
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.flexShrink = 0.0f;
        node2Style.flexBasis = Dimension.length(174.0f);
        NodeId node2 = tree.newLeaf(node2Style);

        Style nodeStyle = new Style();
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.size = new Size<>(Dimension.length(428.0f), Dimension.length(845.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(428.0f, nodeLayout.size().width, "width of node");
        assertEquals(845.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(428.0f, node0Layout.size().width, "width of node0");
        assertEquals(845.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(428.0f, node1Layout.size().width, "width of node1");
        assertEquals(671.0f, node1Layout.size().height, "height of node1");
        assertEquals(0.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(428.0f, node2Layout.size().width, "width of node2");
        assertEquals(174.0f, node2Layout.size().height, "height of node2");
        assertEquals(0.0f, node2Layout.location().x, "x of node2");
        assertEquals(671.0f, node2Layout.location().y, "y of node2");
    }

    @Test
    @DisplayName("single_flex_child_after_absolute_child__content_box")
    void singleFlexChildAfterAbsoluteChildContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.position = Position.ABSOLUTE;
        node0Style.size = new Size<>(Dimension.percent(1.0f), Dimension.percent(1.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.flexGrow = 1.0f;
        node1Style.flexShrink = 1.0f;
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        node2Style.flexShrink = 0.0f;
        node2Style.flexBasis = Dimension.length(174.0f);
        NodeId node2 = tree.newLeaf(node2Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.size = new Size<>(Dimension.length(428.0f), Dimension.length(845.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(428.0f, nodeLayout.size().width, "width of node");
        assertEquals(845.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(428.0f, node0Layout.size().width, "width of node0");
        assertEquals(845.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(428.0f, node1Layout.size().width, "width of node1");
        assertEquals(671.0f, node1Layout.size().height, "height of node1");
        assertEquals(0.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(428.0f, node2Layout.size().width, "width of node2");
        assertEquals(174.0f, node2Layout.size().height, "height of node2");
        assertEquals(0.0f, node2Layout.location().x, "x of node2");
        assertEquals(671.0f, node2Layout.location().y, "y of node2");
    }

    @Test
    @DisplayName("size_defined_by_child__border_box")
    void sizeDefinedByChildBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(100.0f, node0Layout.size().width, "width of node0");
        assertEquals(100.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("size_defined_by_child__content_box")
    void sizeDefinedByChildContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(100.0f, node0Layout.size().width, "width of node0");
        assertEquals(100.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("size_defined_by_child_with_border__border_box")
    void sizeDefinedByChildWithBorderBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.length(10.0f), Dimension.length(10.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.border = new Rect<>(LengthPercentage.length(10.0f), LengthPercentage.length(10.0f), LengthPercentage.length(10.0f), LengthPercentage.length(10.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(30.0f, nodeLayout.size().width, "width of node");
        assertEquals(30.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(10.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(10.0f, node0Layout.location().x, "x of node0");
        assertEquals(10.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("size_defined_by_child_with_border__content_box")
    void sizeDefinedByChildWithBorderContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.length(10.0f), Dimension.length(10.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.border = new Rect<>(LengthPercentage.length(10.0f), LengthPercentage.length(10.0f), LengthPercentage.length(10.0f), LengthPercentage.length(10.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(30.0f, nodeLayout.size().width, "width of node");
        assertEquals(30.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(10.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(10.0f, node0Layout.location().x, "x of node0");
        assertEquals(10.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("size_defined_by_child_with_padding__border_box")
    void sizeDefinedByChildWithPaddingBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.length(10.0f), Dimension.length(10.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.padding = new Rect<>(LengthPercentage.length(10.0f), LengthPercentage.length(10.0f), LengthPercentage.length(10.0f), LengthPercentage.length(10.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(30.0f, nodeLayout.size().width, "width of node");
        assertEquals(30.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(10.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(10.0f, node0Layout.location().x, "x of node0");
        assertEquals(10.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("size_defined_by_child_with_padding__content_box")
    void sizeDefinedByChildWithPaddingContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.length(10.0f), Dimension.length(10.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.padding = new Rect<>(LengthPercentage.length(10.0f), LengthPercentage.length(10.0f), LengthPercentage.length(10.0f), LengthPercentage.length(10.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(30.0f, nodeLayout.size().width, "width of node");
        assertEquals(30.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(10.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(10.0f, node0Layout.location().x, "x of node0");
        assertEquals(10.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("size_defined_by_grand_child__border_box")
    void sizeDefinedByGrandChildBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node00 = tree.newLeaf(node00Style);

        Style node0Style = new Style();
        NodeId node0 = tree.newWithChildren(node0Style, node00);

        Style nodeStyle = new Style();
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(100.0f, node0Layout.size().width, "width of node0");
        assertEquals(100.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(100.0f, node00Layout.size().width, "width of node00");
        assertEquals(100.0f, node00Layout.size().height, "height of node00");
        assertEquals(0.0f, node00Layout.location().x, "x of node00");
        assertEquals(0.0f, node00Layout.location().y, "y of node00");
    }

    @Test
    @DisplayName("size_defined_by_grand_child__content_box")
    void sizeDefinedByGrandChildContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.boxSizing = BoxSizing.CONTENT_BOX;
        node00Style.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node00 = tree.newLeaf(node00Style);

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node0 = tree.newWithChildren(node0Style, node00);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(100.0f, node0Layout.size().width, "width of node0");
        assertEquals(100.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(100.0f, node00Layout.size().width, "width of node00");
        assertEquals(100.0f, node00Layout.size().height, "height of node00");
        assertEquals(0.0f, node00Layout.location().x, "x of node00");
        assertEquals(0.0f, node00Layout.location().y, "y of node00");
    }

    @Test
    @DisplayName("taffy_issue_696__border_box")
    void taffyIssue696BorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.flexShrink = 0.0f;
        node00Style.size = new Size<>(Dimension.AUTO, Dimension.length(200.0f));
        NodeId node00 = tree.newLeaf(node00Style);

        Style node0Style = new Style();
        node0Style.flexDirection = FlexDirection.COLUMN;
        node0Style.flexBasis = Dimension.length(0.0f);
        node0Style.minSize = new Size<>(Dimension.AUTO, Dimension.length(100.0f));
        node0Style.padding = new Rect<>(LengthPercentage.length(20.0f), LengthPercentage.length(20.0f), LengthPercentage.length(20.0f), LengthPercentage.length(20.0f));
        node0Style.overflow = new Point<>(Overflow.HIDDEN, Overflow.HIDDEN);
        NodeId node0 = tree.newWithChildren(node0Style, node00);

        Style nodeStyle = new Style();
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.size = new Size<>(Dimension.length(200.0f), Dimension.AUTO);
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(200.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(200.0f, node0Layout.size().width, "width of node0");
        assertEquals(100.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(160.0f, node00Layout.size().width, "width of node00");
        assertEquals(200.0f, node00Layout.size().height, "height of node00");
        assertEquals(20.0f, node00Layout.location().x, "x of node00");
        assertEquals(20.0f, node00Layout.location().y, "y of node00");
    }

    @Test
    @DisplayName("taffy_issue_696__content_box")
    void taffyIssue696ContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.boxSizing = BoxSizing.CONTENT_BOX;
        node00Style.flexShrink = 0.0f;
        node00Style.size = new Size<>(Dimension.AUTO, Dimension.length(200.0f));
        NodeId node00 = tree.newLeaf(node00Style);

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.flexDirection = FlexDirection.COLUMN;
        node0Style.flexBasis = Dimension.length(0.0f);
        node0Style.minSize = new Size<>(Dimension.AUTO, Dimension.length(100.0f));
        node0Style.padding = new Rect<>(LengthPercentage.length(20.0f), LengthPercentage.length(20.0f), LengthPercentage.length(20.0f), LengthPercentage.length(20.0f));
        node0Style.overflow = new Point<>(Overflow.HIDDEN, Overflow.HIDDEN);
        NodeId node0 = tree.newWithChildren(node0Style, node00);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.size = new Size<>(Dimension.length(200.0f), Dimension.AUTO);
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(200.0f, nodeLayout.size().width, "width of node");
        assertEquals(140.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(200.0f, node0Layout.size().width, "width of node0");
        assertEquals(140.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(160.0f, node00Layout.size().width, "width of node00");
        assertEquals(200.0f, node00Layout.size().height, "height of node00");
        assertEquals(20.0f, node00Layout.location().x, "x of node00");
        assertEquals(20.0f, node00Layout.location().y, "y of node00");
    }

    @Test
    @DisplayName("taffy_issue_696_flex_basis_20__border_box")
    void taffyIssue696FlexBasis20BorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.flexShrink = 0.0f;
        node00Style.size = new Size<>(Dimension.AUTO, Dimension.length(200.0f));
        NodeId node00 = tree.newLeaf(node00Style);

        Style node0Style = new Style();
        node0Style.flexDirection = FlexDirection.COLUMN;
        node0Style.flexBasis = Dimension.length(20.0f);
        node0Style.minSize = new Size<>(Dimension.AUTO, Dimension.length(100.0f));
        node0Style.padding = new Rect<>(LengthPercentage.length(20.0f), LengthPercentage.length(20.0f), LengthPercentage.length(20.0f), LengthPercentage.length(20.0f));
        node0Style.overflow = new Point<>(Overflow.HIDDEN, Overflow.HIDDEN);
        NodeId node0 = tree.newWithChildren(node0Style, node00);

        Style nodeStyle = new Style();
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.size = new Size<>(Dimension.length(200.0f), Dimension.AUTO);
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(200.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(200.0f, node0Layout.size().width, "width of node0");
        assertEquals(100.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(160.0f, node00Layout.size().width, "width of node00");
        assertEquals(200.0f, node00Layout.size().height, "height of node00");
        assertEquals(20.0f, node00Layout.location().x, "x of node00");
        assertEquals(20.0f, node00Layout.location().y, "y of node00");
    }

    @Test
    @DisplayName("taffy_issue_696_flex_basis_20__content_box")
    void taffyIssue696FlexBasis20ContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.boxSizing = BoxSizing.CONTENT_BOX;
        node00Style.flexShrink = 0.0f;
        node00Style.size = new Size<>(Dimension.AUTO, Dimension.length(200.0f));
        NodeId node00 = tree.newLeaf(node00Style);

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.flexDirection = FlexDirection.COLUMN;
        node0Style.flexBasis = Dimension.length(20.0f);
        node0Style.minSize = new Size<>(Dimension.AUTO, Dimension.length(100.0f));
        node0Style.padding = new Rect<>(LengthPercentage.length(20.0f), LengthPercentage.length(20.0f), LengthPercentage.length(20.0f), LengthPercentage.length(20.0f));
        node0Style.overflow = new Point<>(Overflow.HIDDEN, Overflow.HIDDEN);
        NodeId node0 = tree.newWithChildren(node0Style, node00);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.size = new Size<>(Dimension.length(200.0f), Dimension.AUTO);
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(200.0f, nodeLayout.size().width, "width of node");
        assertEquals(140.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(200.0f, node0Layout.size().width, "width of node0");
        assertEquals(140.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(160.0f, node00Layout.size().width, "width of node00");
        assertEquals(200.0f, node00Layout.size().height, "height of node00");
        assertEquals(20.0f, node00Layout.location().x, "x of node00");
        assertEquals(20.0f, node00Layout.location().y, "y of node00");
    }

    @Test
    @DisplayName("taffy_issue_696_min_height__border_box")
    void taffyIssue696MinHeightBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.flexShrink = 0.0f;
        node00Style.size = new Size<>(Dimension.AUTO, Dimension.length(200.0f));
        NodeId node00 = tree.newLeaf(node00Style);

        Style node0Style = new Style();
        node0Style.flexDirection = FlexDirection.COLUMN;
        node0Style.flexBasis = Dimension.length(0.0f);
        node0Style.minSize = new Size<>(Dimension.AUTO, Dimension.length(100.0f));
        node0Style.padding = new Rect<>(LengthPercentage.length(20.0f), LengthPercentage.length(20.0f), LengthPercentage.length(20.0f), LengthPercentage.length(20.0f));
        NodeId node0 = tree.newWithChildren(node0Style, node00);

        Style nodeStyle = new Style();
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.size = new Size<>(Dimension.length(200.0f), Dimension.AUTO);
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(200.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(200.0f, node0Layout.size().width, "width of node0");
        assertEquals(100.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(160.0f, node00Layout.size().width, "width of node00");
        assertEquals(200.0f, node00Layout.size().height, "height of node00");
        assertEquals(20.0f, node00Layout.location().x, "x of node00");
        assertEquals(20.0f, node00Layout.location().y, "y of node00");
    }

    @Test
    @DisplayName("taffy_issue_696_min_height__content_box")
    void taffyIssue696MinHeightContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.boxSizing = BoxSizing.CONTENT_BOX;
        node00Style.flexShrink = 0.0f;
        node00Style.size = new Size<>(Dimension.AUTO, Dimension.length(200.0f));
        NodeId node00 = tree.newLeaf(node00Style);

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.flexDirection = FlexDirection.COLUMN;
        node0Style.flexBasis = Dimension.length(0.0f);
        node0Style.minSize = new Size<>(Dimension.AUTO, Dimension.length(100.0f));
        node0Style.padding = new Rect<>(LengthPercentage.length(20.0f), LengthPercentage.length(20.0f), LengthPercentage.length(20.0f), LengthPercentage.length(20.0f));
        NodeId node0 = tree.newWithChildren(node0Style, node00);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.size = new Size<>(Dimension.length(200.0f), Dimension.AUTO);
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(200.0f, nodeLayout.size().width, "width of node");
        assertEquals(140.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(200.0f, node0Layout.size().width, "width of node0");
        assertEquals(140.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(160.0f, node00Layout.size().width, "width of node00");
        assertEquals(200.0f, node00Layout.size().height, "height of node00");
        assertEquals(20.0f, node00Layout.location().x, "x of node00");
        assertEquals(20.0f, node00Layout.location().y, "y of node00");
    }

    @Test
    @DisplayName("taffy_issue_696_no_flex_basis__border_box")
    void taffyIssue696NoFlexBasisBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.flexShrink = 0.0f;
        node00Style.size = new Size<>(Dimension.AUTO, Dimension.length(200.0f));
        NodeId node00 = tree.newLeaf(node00Style);

        Style node0Style = new Style();
        node0Style.flexDirection = FlexDirection.COLUMN;
        node0Style.minSize = new Size<>(Dimension.AUTO, Dimension.length(100.0f));
        node0Style.padding = new Rect<>(LengthPercentage.length(20.0f), LengthPercentage.length(20.0f), LengthPercentage.length(20.0f), LengthPercentage.length(20.0f));
        node0Style.overflow = new Point<>(Overflow.HIDDEN, Overflow.HIDDEN);
        NodeId node0 = tree.newWithChildren(node0Style, node00);

        Style nodeStyle = new Style();
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.size = new Size<>(Dimension.length(200.0f), Dimension.AUTO);
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(200.0f, nodeLayout.size().width, "width of node");
        assertEquals(240.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(200.0f, node0Layout.size().width, "width of node0");
        assertEquals(240.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(160.0f, node00Layout.size().width, "width of node00");
        assertEquals(200.0f, node00Layout.size().height, "height of node00");
        assertEquals(20.0f, node00Layout.location().x, "x of node00");
        assertEquals(20.0f, node00Layout.location().y, "y of node00");
    }

    @Test
    @DisplayName("taffy_issue_696_no_flex_basis__content_box")
    void taffyIssue696NoFlexBasisContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.boxSizing = BoxSizing.CONTENT_BOX;
        node00Style.flexShrink = 0.0f;
        node00Style.size = new Size<>(Dimension.AUTO, Dimension.length(200.0f));
        NodeId node00 = tree.newLeaf(node00Style);

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.flexDirection = FlexDirection.COLUMN;
        node0Style.minSize = new Size<>(Dimension.AUTO, Dimension.length(100.0f));
        node0Style.padding = new Rect<>(LengthPercentage.length(20.0f), LengthPercentage.length(20.0f), LengthPercentage.length(20.0f), LengthPercentage.length(20.0f));
        node0Style.overflow = new Point<>(Overflow.HIDDEN, Overflow.HIDDEN);
        NodeId node0 = tree.newWithChildren(node0Style, node00);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.size = new Size<>(Dimension.length(200.0f), Dimension.AUTO);
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(200.0f, nodeLayout.size().width, "width of node");
        assertEquals(240.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(200.0f, node0Layout.size().width, "width of node0");
        assertEquals(240.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(160.0f, node00Layout.size().width, "width of node00");
        assertEquals(200.0f, node00Layout.size().height, "height of node00");
        assertEquals(20.0f, node00Layout.location().x, "x of node00");
        assertEquals(20.0f, node00Layout.location().y, "y of node00");
    }

    @Test
    @DisplayName("taffy_issue_696_overflow_hidden__border_box")
    void taffyIssue696OverflowHiddenBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.flexShrink = 0.0f;
        node00Style.size = new Size<>(Dimension.AUTO, Dimension.length(200.0f));
        NodeId node00 = tree.newLeaf(node00Style);

        Style node0Style = new Style();
        node0Style.flexDirection = FlexDirection.COLUMN;
        node0Style.flexBasis = Dimension.length(0.0f);
        node0Style.padding = new Rect<>(LengthPercentage.length(20.0f), LengthPercentage.length(20.0f), LengthPercentage.length(20.0f), LengthPercentage.length(20.0f));
        node0Style.overflow = new Point<>(Overflow.HIDDEN, Overflow.HIDDEN);
        NodeId node0 = tree.newWithChildren(node0Style, node00);

        Style nodeStyle = new Style();
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.size = new Size<>(Dimension.length(200.0f), Dimension.AUTO);
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(200.0f, nodeLayout.size().width, "width of node");
        assertEquals(40.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(200.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(160.0f, node00Layout.size().width, "width of node00");
        assertEquals(200.0f, node00Layout.size().height, "height of node00");
        assertEquals(20.0f, node00Layout.location().x, "x of node00");
        assertEquals(20.0f, node00Layout.location().y, "y of node00");
    }

    @Test
    @DisplayName("taffy_issue_696_overflow_hidden__content_box")
    void taffyIssue696OverflowHiddenContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.boxSizing = BoxSizing.CONTENT_BOX;
        node00Style.flexShrink = 0.0f;
        node00Style.size = new Size<>(Dimension.AUTO, Dimension.length(200.0f));
        NodeId node00 = tree.newLeaf(node00Style);

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.flexDirection = FlexDirection.COLUMN;
        node0Style.flexBasis = Dimension.length(0.0f);
        node0Style.padding = new Rect<>(LengthPercentage.length(20.0f), LengthPercentage.length(20.0f), LengthPercentage.length(20.0f), LengthPercentage.length(20.0f));
        node0Style.overflow = new Point<>(Overflow.HIDDEN, Overflow.HIDDEN);
        NodeId node0 = tree.newWithChildren(node0Style, node00);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.size = new Size<>(Dimension.length(200.0f), Dimension.AUTO);
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(200.0f, nodeLayout.size().width, "width of node");
        assertEquals(40.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(200.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(160.0f, node00Layout.size().width, "width of node00");
        assertEquals(200.0f, node00Layout.size().height, "height of node00");
        assertEquals(20.0f, node00Layout.location().x, "x of node00");
        assertEquals(20.0f, node00Layout.location().y, "y of node00");
    }

    @Test
    @DisplayName("undefined_height_with_min_max__border_box")
    void undefinedHeightWithMinMaxBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.minSize = new Size<>(Dimension.AUTO, Dimension.length(0.0f));
        node0Style.maxSize = new Size<>(Dimension.AUTO, Dimension.length(100.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.size = new Size<>(Dimension.length(320.0f), Dimension.AUTO);
        nodeStyle.minSize = new Size<>(Dimension.AUTO, Dimension.length(0.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(320.0f, nodeLayout.size().width, "width of node");
        assertEquals(0.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(320.0f, node0Layout.size().width, "width of node0");
        assertEquals(0.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("undefined_height_with_min_max__content_box")
    void undefinedHeightWithMinMaxContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.minSize = new Size<>(Dimension.AUTO, Dimension.length(0.0f));
        node0Style.maxSize = new Size<>(Dimension.AUTO, Dimension.length(100.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.size = new Size<>(Dimension.length(320.0f), Dimension.AUTO);
        nodeStyle.minSize = new Size<>(Dimension.AUTO, Dimension.length(0.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(320.0f, nodeLayout.size().width, "width of node");
        assertEquals(0.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(320.0f, node0Layout.size().width, "width of node0");
        assertEquals(0.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("undefined_width_with_min_max__border_box")
    void undefinedWidthWithMinMaxBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.minSize = new Size<>(Dimension.length(0.0f), Dimension.AUTO);
        node0Style.maxSize = new Size<>(Dimension.length(100.0f), Dimension.AUTO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.size = new Size<>(Dimension.AUTO, Dimension.length(50.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(0.0f, nodeLayout.size().width, "width of node");
        assertEquals(50.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(0.0f, node0Layout.size().width, "width of node0");
        assertEquals(0.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("undefined_width_with_min_max__content_box")
    void undefinedWidthWithMinMaxContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.minSize = new Size<>(Dimension.length(0.0f), Dimension.AUTO);
        node0Style.maxSize = new Size<>(Dimension.length(100.0f), Dimension.AUTO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.size = new Size<>(Dimension.AUTO, Dimension.length(50.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(0.0f, nodeLayout.size().width, "width of node");
        assertEquals(50.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(0.0f, node0Layout.size().width, "width of node0");
        assertEquals(0.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("undefined_width_with_min_max_row__border_box")
    void undefinedWidthWithMinMaxRowBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.size = new Size<>(Dimension.length(30.0f), Dimension.length(20.0f));
        NodeId node00 = tree.newLeaf(node00Style);

        Style node0Style = new Style();
        node0Style.minSize = new Size<>(Dimension.length(60.0f), Dimension.AUTO);
        node0Style.maxSize = new Size<>(Dimension.length(300.0f), Dimension.AUTO);
        NodeId node0 = tree.newWithChildren(node0Style, node00);

        Style nodeStyle = new Style();
        nodeStyle.size = new Size<>(Dimension.AUTO, Dimension.length(50.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(60.0f, nodeLayout.size().width, "width of node");
        assertEquals(50.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(60.0f, node0Layout.size().width, "width of node0");
        assertEquals(50.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(30.0f, node00Layout.size().width, "width of node00");
        assertEquals(20.0f, node00Layout.size().height, "height of node00");
        assertEquals(0.0f, node00Layout.location().x, "x of node00");
        assertEquals(0.0f, node00Layout.location().y, "y of node00");
    }

    @Test
    @DisplayName("undefined_width_with_min_max_row__content_box")
    void undefinedWidthWithMinMaxRowContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.boxSizing = BoxSizing.CONTENT_BOX;
        node00Style.size = new Size<>(Dimension.length(30.0f), Dimension.length(20.0f));
        NodeId node00 = tree.newLeaf(node00Style);

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.minSize = new Size<>(Dimension.length(60.0f), Dimension.AUTO);
        node0Style.maxSize = new Size<>(Dimension.length(300.0f), Dimension.AUTO);
        NodeId node0 = tree.newWithChildren(node0Style, node00);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.size = new Size<>(Dimension.AUTO, Dimension.length(50.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(60.0f, nodeLayout.size().width, "width of node");
        assertEquals(50.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(60.0f, node0Layout.size().width, "width of node0");
        assertEquals(50.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(30.0f, node00Layout.size().width, "width of node00");
        assertEquals(20.0f, node00Layout.size().height, "height of node00");
        assertEquals(0.0f, node00Layout.location().x, "x of node00");
        assertEquals(0.0f, node00Layout.location().y, "y of node00");
    }

    @Test
    @DisplayName("width_smaller_then_content_with_flex_grow_large_size__border_box")
    void widthSmallerThenContentWithFlexGrowLargeSizeBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.size = new Size<>(Dimension.length(70.0f), Dimension.length(100.0f));
        NodeId node00 = tree.newLeaf(node00Style);

        Style node0Style = new Style();
        node0Style.flexDirection = FlexDirection.COLUMN;
        node0Style.flexGrow = 1.0f;
        node0Style.size = new Size<>(Dimension.length(0.0f), Dimension.AUTO);
        NodeId node0 = tree.newWithChildren(node0Style, node00);

        Style node10Style = new Style();
        node10Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(100.0f));
        NodeId node10 = tree.newLeaf(node10Style);

        Style node1Style = new Style();
        node1Style.flexDirection = FlexDirection.COLUMN;
        node1Style.flexGrow = 1.0f;
        node1Style.size = new Size<>(Dimension.length(0.0f), Dimension.AUTO);
        NodeId node1 = tree.newWithChildren(node1Style, node10);

        Style nodeStyle = new Style();
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.AUTO);
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(50.0f, node0Layout.size().width, "width of node0");
        assertEquals(100.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(70.0f, node00Layout.size().width, "width of node00");
        assertEquals(100.0f, node00Layout.size().height, "height of node00");
        assertEquals(0.0f, node00Layout.location().x, "x of node00");
        assertEquals(0.0f, node00Layout.location().y, "y of node00");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(50.0f, node1Layout.size().width, "width of node1");
        assertEquals(100.0f, node1Layout.size().height, "height of node1");
        assertEquals(50.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node10Layout = tree.getLayout(node10);
        assertEquals(20.0f, node10Layout.size().width, "width of node10");
        assertEquals(100.0f, node10Layout.size().height, "height of node10");
        assertEquals(0.0f, node10Layout.location().x, "x of node10");
        assertEquals(0.0f, node10Layout.location().y, "y of node10");
    }

    @Test
    @DisplayName("width_smaller_then_content_with_flex_grow_large_size__content_box")
    void widthSmallerThenContentWithFlexGrowLargeSizeContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.boxSizing = BoxSizing.CONTENT_BOX;
        node00Style.size = new Size<>(Dimension.length(70.0f), Dimension.length(100.0f));
        NodeId node00 = tree.newLeaf(node00Style);

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.flexDirection = FlexDirection.COLUMN;
        node0Style.flexGrow = 1.0f;
        node0Style.size = new Size<>(Dimension.length(0.0f), Dimension.AUTO);
        NodeId node0 = tree.newWithChildren(node0Style, node00);

        Style node10Style = new Style();
        node10Style.boxSizing = BoxSizing.CONTENT_BOX;
        node10Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(100.0f));
        NodeId node10 = tree.newLeaf(node10Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.flexDirection = FlexDirection.COLUMN;
        node1Style.flexGrow = 1.0f;
        node1Style.size = new Size<>(Dimension.length(0.0f), Dimension.AUTO);
        NodeId node1 = tree.newWithChildren(node1Style, node10);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.AUTO);
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(50.0f, node0Layout.size().width, "width of node0");
        assertEquals(100.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(70.0f, node00Layout.size().width, "width of node00");
        assertEquals(100.0f, node00Layout.size().height, "height of node00");
        assertEquals(0.0f, node00Layout.location().x, "x of node00");
        assertEquals(0.0f, node00Layout.location().y, "y of node00");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(50.0f, node1Layout.size().width, "width of node1");
        assertEquals(100.0f, node1Layout.size().height, "height of node1");
        assertEquals(50.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node10Layout = tree.getLayout(node10);
        assertEquals(20.0f, node10Layout.size().width, "width of node10");
        assertEquals(100.0f, node10Layout.size().height, "height of node10");
        assertEquals(0.0f, node10Layout.location().x, "x of node10");
        assertEquals(0.0f, node10Layout.location().y, "y of node10");
    }

    @Test
    @DisplayName("width_smaller_then_content_with_flex_grow_small_size__border_box")
    void widthSmallerThenContentWithFlexGrowSmallSizeBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.size = new Size<>(Dimension.length(70.0f), Dimension.length(100.0f));
        NodeId node00 = tree.newLeaf(node00Style);

        Style node0Style = new Style();
        node0Style.flexDirection = FlexDirection.COLUMN;
        node0Style.flexGrow = 1.0f;
        node0Style.size = new Size<>(Dimension.length(0.0f), Dimension.AUTO);
        NodeId node0 = tree.newWithChildren(node0Style, node00);

        Style node10Style = new Style();
        node10Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(100.0f));
        NodeId node10 = tree.newLeaf(node10Style);

        Style node1Style = new Style();
        node1Style.flexDirection = FlexDirection.COLUMN;
        node1Style.flexGrow = 1.0f;
        node1Style.size = new Size<>(Dimension.length(0.0f), Dimension.AUTO);
        NodeId node1 = tree.newWithChildren(node1Style, node10);

        Style nodeStyle = new Style();
        nodeStyle.size = new Size<>(Dimension.length(10.0f), Dimension.AUTO);
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(10.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(5.0f, node0Layout.size().width, "width of node0");
        assertEquals(100.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(70.0f, node00Layout.size().width, "width of node00");
        assertEquals(100.0f, node00Layout.size().height, "height of node00");
        assertEquals(0.0f, node00Layout.location().x, "x of node00");
        assertEquals(0.0f, node00Layout.location().y, "y of node00");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(5.0f, node1Layout.size().width, "width of node1");
        assertEquals(100.0f, node1Layout.size().height, "height of node1");
        assertEquals(5.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node10Layout = tree.getLayout(node10);
        assertEquals(20.0f, node10Layout.size().width, "width of node10");
        assertEquals(100.0f, node10Layout.size().height, "height of node10");
        assertEquals(0.0f, node10Layout.location().x, "x of node10");
        assertEquals(0.0f, node10Layout.location().y, "y of node10");
    }

    @Test
    @DisplayName("width_smaller_then_content_with_flex_grow_small_size__content_box")
    void widthSmallerThenContentWithFlexGrowSmallSizeContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.boxSizing = BoxSizing.CONTENT_BOX;
        node00Style.size = new Size<>(Dimension.length(70.0f), Dimension.length(100.0f));
        NodeId node00 = tree.newLeaf(node00Style);

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.flexDirection = FlexDirection.COLUMN;
        node0Style.flexGrow = 1.0f;
        node0Style.size = new Size<>(Dimension.length(0.0f), Dimension.AUTO);
        NodeId node0 = tree.newWithChildren(node0Style, node00);

        Style node10Style = new Style();
        node10Style.boxSizing = BoxSizing.CONTENT_BOX;
        node10Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(100.0f));
        NodeId node10 = tree.newLeaf(node10Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.flexDirection = FlexDirection.COLUMN;
        node1Style.flexGrow = 1.0f;
        node1Style.size = new Size<>(Dimension.length(0.0f), Dimension.AUTO);
        NodeId node1 = tree.newWithChildren(node1Style, node10);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.size = new Size<>(Dimension.length(10.0f), Dimension.AUTO);
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(10.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(5.0f, node0Layout.size().width, "width of node0");
        assertEquals(100.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(70.0f, node00Layout.size().width, "width of node00");
        assertEquals(100.0f, node00Layout.size().height, "height of node00");
        assertEquals(0.0f, node00Layout.location().x, "x of node00");
        assertEquals(0.0f, node00Layout.location().y, "y of node00");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(5.0f, node1Layout.size().width, "width of node1");
        assertEquals(100.0f, node1Layout.size().height, "height of node1");
        assertEquals(5.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node10Layout = tree.getLayout(node10);
        assertEquals(20.0f, node10Layout.size().width, "width of node10");
        assertEquals(100.0f, node10Layout.size().height, "height of node10");
        assertEquals(0.0f, node10Layout.location().x, "x of node10");
        assertEquals(0.0f, node10Layout.location().y, "y of node10");
    }

    @Test
    @DisplayName("width_smaller_then_content_with_flex_grow_unconstraint_size__border_box")
    void widthSmallerThenContentWithFlexGrowUnconstraintSizeBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.size = new Size<>(Dimension.length(70.0f), Dimension.length(100.0f));
        NodeId node00 = tree.newLeaf(node00Style);

        Style node0Style = new Style();
        node0Style.flexDirection = FlexDirection.COLUMN;
        node0Style.flexGrow = 1.0f;
        node0Style.size = new Size<>(Dimension.length(0.0f), Dimension.AUTO);
        NodeId node0 = tree.newWithChildren(node0Style, node00);

        Style node10Style = new Style();
        node10Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(100.0f));
        NodeId node10 = tree.newLeaf(node10Style);

        Style node1Style = new Style();
        node1Style.flexDirection = FlexDirection.COLUMN;
        node1Style.flexGrow = 1.0f;
        node1Style.size = new Size<>(Dimension.length(0.0f), Dimension.AUTO);
        NodeId node1 = tree.newWithChildren(node1Style, node10);

        Style nodeStyle = new Style();
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(0.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(0.0f, node0Layout.size().width, "width of node0");
        assertEquals(100.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(70.0f, node00Layout.size().width, "width of node00");
        assertEquals(100.0f, node00Layout.size().height, "height of node00");
        assertEquals(0.0f, node00Layout.location().x, "x of node00");
        assertEquals(0.0f, node00Layout.location().y, "y of node00");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(0.0f, node1Layout.size().width, "width of node1");
        assertEquals(100.0f, node1Layout.size().height, "height of node1");
        assertEquals(0.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node10Layout = tree.getLayout(node10);
        assertEquals(20.0f, node10Layout.size().width, "width of node10");
        assertEquals(100.0f, node10Layout.size().height, "height of node10");
        assertEquals(0.0f, node10Layout.location().x, "x of node10");
        assertEquals(0.0f, node10Layout.location().y, "y of node10");
    }

    @Test
    @DisplayName("width_smaller_then_content_with_flex_grow_unconstraint_size__content_box")
    void widthSmallerThenContentWithFlexGrowUnconstraintSizeContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.boxSizing = BoxSizing.CONTENT_BOX;
        node00Style.size = new Size<>(Dimension.length(70.0f), Dimension.length(100.0f));
        NodeId node00 = tree.newLeaf(node00Style);

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.flexDirection = FlexDirection.COLUMN;
        node0Style.flexGrow = 1.0f;
        node0Style.size = new Size<>(Dimension.length(0.0f), Dimension.AUTO);
        NodeId node0 = tree.newWithChildren(node0Style, node00);

        Style node10Style = new Style();
        node10Style.boxSizing = BoxSizing.CONTENT_BOX;
        node10Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(100.0f));
        NodeId node10 = tree.newLeaf(node10Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.flexDirection = FlexDirection.COLUMN;
        node1Style.flexGrow = 1.0f;
        node1Style.size = new Size<>(Dimension.length(0.0f), Dimension.AUTO);
        NodeId node1 = tree.newWithChildren(node1Style, node10);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(0.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(0.0f, node0Layout.size().width, "width of node0");
        assertEquals(100.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(70.0f, node00Layout.size().width, "width of node00");
        assertEquals(100.0f, node00Layout.size().height, "height of node00");
        assertEquals(0.0f, node00Layout.location().x, "x of node00");
        assertEquals(0.0f, node00Layout.location().y, "y of node00");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(0.0f, node1Layout.size().width, "width of node1");
        assertEquals(100.0f, node1Layout.size().height, "height of node1");
        assertEquals(0.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node10Layout = tree.getLayout(node10);
        assertEquals(20.0f, node10Layout.size().width, "width of node10");
        assertEquals(100.0f, node10Layout.size().height, "height of node10");
        assertEquals(0.0f, node10Layout.location().x, "x of node10");
        assertEquals(0.0f, node10Layout.location().y, "y of node10");
    }

    @Test
    @DisplayName("width_smaller_then_content_with_flex_grow_very_large_size__border_box")
    void widthSmallerThenContentWithFlexGrowVeryLargeSizeBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.size = new Size<>(Dimension.length(70.0f), Dimension.length(100.0f));
        NodeId node00 = tree.newLeaf(node00Style);

        Style node0Style = new Style();
        node0Style.flexDirection = FlexDirection.COLUMN;
        node0Style.flexGrow = 1.0f;
        node0Style.size = new Size<>(Dimension.length(0.0f), Dimension.AUTO);
        NodeId node0 = tree.newWithChildren(node0Style, node00);

        Style node10Style = new Style();
        node10Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(100.0f));
        NodeId node10 = tree.newLeaf(node10Style);

        Style node1Style = new Style();
        node1Style.flexDirection = FlexDirection.COLUMN;
        node1Style.flexGrow = 1.0f;
        node1Style.size = new Size<>(Dimension.length(0.0f), Dimension.AUTO);
        NodeId node1 = tree.newWithChildren(node1Style, node10);

        Style nodeStyle = new Style();
        nodeStyle.size = new Size<>(Dimension.length(200.0f), Dimension.AUTO);
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(200.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(100.0f, node0Layout.size().width, "width of node0");
        assertEquals(100.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(70.0f, node00Layout.size().width, "width of node00");
        assertEquals(100.0f, node00Layout.size().height, "height of node00");
        assertEquals(0.0f, node00Layout.location().x, "x of node00");
        assertEquals(0.0f, node00Layout.location().y, "y of node00");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(100.0f, node1Layout.size().width, "width of node1");
        assertEquals(100.0f, node1Layout.size().height, "height of node1");
        assertEquals(100.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node10Layout = tree.getLayout(node10);
        assertEquals(20.0f, node10Layout.size().width, "width of node10");
        assertEquals(100.0f, node10Layout.size().height, "height of node10");
        assertEquals(0.0f, node10Layout.location().x, "x of node10");
        assertEquals(0.0f, node10Layout.location().y, "y of node10");
    }

    @Test
    @DisplayName("width_smaller_then_content_with_flex_grow_very_large_size__content_box")
    void widthSmallerThenContentWithFlexGrowVeryLargeSizeContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.boxSizing = BoxSizing.CONTENT_BOX;
        node00Style.size = new Size<>(Dimension.length(70.0f), Dimension.length(100.0f));
        NodeId node00 = tree.newLeaf(node00Style);

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.flexDirection = FlexDirection.COLUMN;
        node0Style.flexGrow = 1.0f;
        node0Style.size = new Size<>(Dimension.length(0.0f), Dimension.AUTO);
        NodeId node0 = tree.newWithChildren(node0Style, node00);

        Style node10Style = new Style();
        node10Style.boxSizing = BoxSizing.CONTENT_BOX;
        node10Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(100.0f));
        NodeId node10 = tree.newLeaf(node10Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.flexDirection = FlexDirection.COLUMN;
        node1Style.flexGrow = 1.0f;
        node1Style.size = new Size<>(Dimension.length(0.0f), Dimension.AUTO);
        NodeId node1 = tree.newWithChildren(node1Style, node10);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.size = new Size<>(Dimension.length(200.0f), Dimension.AUTO);
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(200.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(100.0f, node0Layout.size().width, "width of node0");
        assertEquals(100.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(70.0f, node00Layout.size().width, "width of node00");
        assertEquals(100.0f, node00Layout.size().height, "height of node00");
        assertEquals(0.0f, node00Layout.location().x, "x of node00");
        assertEquals(0.0f, node00Layout.location().y, "y of node00");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(100.0f, node1Layout.size().width, "width of node1");
        assertEquals(100.0f, node1Layout.size().height, "height of node1");
        assertEquals(100.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node10Layout = tree.getLayout(node10);
        assertEquals(20.0f, node10Layout.size().width, "width of node10");
        assertEquals(100.0f, node10Layout.size().height, "height of node10");
        assertEquals(0.0f, node10Layout.location().x, "x of node10");
        assertEquals(0.0f, node10Layout.location().y, "y of node10");
    }

    @Test
    @DisplayName("wrap_child__border_box")
    void wrapChildBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(100.0f, node0Layout.size().width, "width of node0");
        assertEquals(100.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("wrap_child__content_box")
    void wrapChildContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(100.0f, node0Layout.size().width, "width of node0");
        assertEquals(100.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("wrap_column__border_box")
    void wrapColumnBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.length(30.0f), Dimension.length(31.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.size = new Size<>(Dimension.length(30.0f), Dimension.length(32.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.size = new Size<>(Dimension.length(30.0f), Dimension.length(33.0f));
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        node3Style.size = new Size<>(Dimension.length(30.0f), Dimension.length(34.0f));
        NodeId node3 = tree.newLeaf(node3Style);

        Style nodeStyle = new Style();
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.flexWrap = FlexWrap.WRAP;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(30.0f, node0Layout.size().width, "width of node0");
        assertEquals(31.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(30.0f, node1Layout.size().width, "width of node1");
        assertEquals(32.0f, node1Layout.size().height, "height of node1");
        assertEquals(0.0f, node1Layout.location().x, "x of node1");
        assertEquals(31.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(30.0f, node2Layout.size().width, "width of node2");
        assertEquals(33.0f, node2Layout.size().height, "height of node2");
        assertEquals(0.0f, node2Layout.location().x, "x of node2");
        assertEquals(63.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(30.0f, node3Layout.size().width, "width of node3");
        assertEquals(34.0f, node3Layout.size().height, "height of node3");
        assertEquals(50.0f, node3Layout.location().x, "x of node3");
        assertEquals(0.0f, node3Layout.location().y, "y of node3");
    }

    @Test
    @DisplayName("wrap_column__content_box")
    void wrapColumnContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.length(30.0f), Dimension.length(31.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.size = new Size<>(Dimension.length(30.0f), Dimension.length(32.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        node2Style.size = new Size<>(Dimension.length(30.0f), Dimension.length(33.0f));
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        node3Style.boxSizing = BoxSizing.CONTENT_BOX;
        node3Style.size = new Size<>(Dimension.length(30.0f), Dimension.length(34.0f));
        NodeId node3 = tree.newLeaf(node3Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.flexWrap = FlexWrap.WRAP;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(30.0f, node0Layout.size().width, "width of node0");
        assertEquals(31.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(30.0f, node1Layout.size().width, "width of node1");
        assertEquals(32.0f, node1Layout.size().height, "height of node1");
        assertEquals(0.0f, node1Layout.location().x, "x of node1");
        assertEquals(31.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(30.0f, node2Layout.size().width, "width of node2");
        assertEquals(33.0f, node2Layout.size().height, "height of node2");
        assertEquals(0.0f, node2Layout.location().x, "x of node2");
        assertEquals(63.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(30.0f, node3Layout.size().width, "width of node3");
        assertEquals(34.0f, node3Layout.size().height, "height of node3");
        assertEquals(50.0f, node3Layout.location().x, "x of node3");
        assertEquals(0.0f, node3Layout.location().y, "y of node3");
    }

    @Test
    @DisplayName("wrap_grandchild__border_box")
    void wrapGrandchildBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node00 = tree.newLeaf(node00Style);

        Style node0Style = new Style();
        NodeId node0 = tree.newWithChildren(node0Style, node00);

        Style nodeStyle = new Style();
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(100.0f, node0Layout.size().width, "width of node0");
        assertEquals(100.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(100.0f, node00Layout.size().width, "width of node00");
        assertEquals(100.0f, node00Layout.size().height, "height of node00");
        assertEquals(0.0f, node00Layout.location().x, "x of node00");
        assertEquals(0.0f, node00Layout.location().y, "y of node00");
    }

    @Test
    @DisplayName("wrap_grandchild__content_box")
    void wrapGrandchildContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.boxSizing = BoxSizing.CONTENT_BOX;
        node00Style.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node00 = tree.newLeaf(node00Style);

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node0 = tree.newWithChildren(node0Style, node00);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(100.0f, node0Layout.size().width, "width of node0");
        assertEquals(100.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(100.0f, node00Layout.size().width, "width of node00");
        assertEquals(100.0f, node00Layout.size().height, "height of node00");
        assertEquals(0.0f, node00Layout.location().x, "x of node00");
        assertEquals(0.0f, node00Layout.location().y, "y of node00");
    }

    @Test
    @DisplayName("wrap_nodes_with_content_sizing_margin_cross__border_box")
    void wrapNodesWithContentSizingMarginCrossBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node000Style = new Style();
        node000Style.size = new Size<>(Dimension.length(40.0f), Dimension.length(40.0f));
        NodeId node000 = tree.newLeaf(node000Style);

        Style node00Style = new Style();
        node00Style.flexDirection = FlexDirection.COLUMN;
        NodeId node00 = tree.newWithChildren(node00Style, node000);

        Style node010Style = new Style();
        node010Style.size = new Size<>(Dimension.length(40.0f), Dimension.length(40.0f));
        NodeId node010 = tree.newLeaf(node010Style);

        Style node01Style = new Style();
        node01Style.flexDirection = FlexDirection.COLUMN;
        node01Style.margin = new Rect<>(LengthPercentageAuto.ZERO, LengthPercentageAuto.ZERO, LengthPercentageAuto.length(10.0f), LengthPercentageAuto.ZERO);
        NodeId node01 = tree.newWithChildren(node01Style, node010);

        Style node0Style = new Style();
        node0Style.flexWrap = FlexWrap.WRAP;
        node0Style.size = new Size<>(Dimension.length(70.0f), Dimension.AUTO);
        NodeId node0 = tree.newWithChildren(node0Style, node00, node01);

        Style nodeStyle = new Style();
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.size = new Size<>(Dimension.length(500.0f), Dimension.length(500.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(500.0f, nodeLayout.size().width, "width of node");
        assertEquals(500.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(70.0f, node0Layout.size().width, "width of node0");
        assertEquals(90.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(40.0f, node00Layout.size().width, "width of node00");
        assertEquals(40.0f, node00Layout.size().height, "height of node00");
        assertEquals(0.0f, node00Layout.location().x, "x of node00");
        assertEquals(0.0f, node00Layout.location().y, "y of node00");
        Layout node000Layout = tree.getLayout(node000);
        assertEquals(40.0f, node000Layout.size().width, "width of node000");
        assertEquals(40.0f, node000Layout.size().height, "height of node000");
        assertEquals(0.0f, node000Layout.location().x, "x of node000");
        assertEquals(0.0f, node000Layout.location().y, "y of node000");
        Layout node01Layout = tree.getLayout(node01);
        assertEquals(40.0f, node01Layout.size().width, "width of node01");
        assertEquals(40.0f, node01Layout.size().height, "height of node01");
        assertEquals(0.0f, node01Layout.location().x, "x of node01");
        assertEquals(50.0f, node01Layout.location().y, "y of node01");
        Layout node010Layout = tree.getLayout(node010);
        assertEquals(40.0f, node010Layout.size().width, "width of node010");
        assertEquals(40.0f, node010Layout.size().height, "height of node010");
        assertEquals(0.0f, node010Layout.location().x, "x of node010");
        assertEquals(0.0f, node010Layout.location().y, "y of node010");
    }

    @Test
    @DisplayName("wrap_nodes_with_content_sizing_margin_cross__content_box")
    void wrapNodesWithContentSizingMarginCrossContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node000Style = new Style();
        node000Style.boxSizing = BoxSizing.CONTENT_BOX;
        node000Style.size = new Size<>(Dimension.length(40.0f), Dimension.length(40.0f));
        NodeId node000 = tree.newLeaf(node000Style);

        Style node00Style = new Style();
        node00Style.boxSizing = BoxSizing.CONTENT_BOX;
        node00Style.flexDirection = FlexDirection.COLUMN;
        NodeId node00 = tree.newWithChildren(node00Style, node000);

        Style node010Style = new Style();
        node010Style.boxSizing = BoxSizing.CONTENT_BOX;
        node010Style.size = new Size<>(Dimension.length(40.0f), Dimension.length(40.0f));
        NodeId node010 = tree.newLeaf(node010Style);

        Style node01Style = new Style();
        node01Style.boxSizing = BoxSizing.CONTENT_BOX;
        node01Style.flexDirection = FlexDirection.COLUMN;
        node01Style.margin = new Rect<>(LengthPercentageAuto.ZERO, LengthPercentageAuto.ZERO, LengthPercentageAuto.length(10.0f), LengthPercentageAuto.ZERO);
        NodeId node01 = tree.newWithChildren(node01Style, node010);

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.flexWrap = FlexWrap.WRAP;
        node0Style.size = new Size<>(Dimension.length(70.0f), Dimension.AUTO);
        NodeId node0 = tree.newWithChildren(node0Style, node00, node01);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.size = new Size<>(Dimension.length(500.0f), Dimension.length(500.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(500.0f, nodeLayout.size().width, "width of node");
        assertEquals(500.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(70.0f, node0Layout.size().width, "width of node0");
        assertEquals(90.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(40.0f, node00Layout.size().width, "width of node00");
        assertEquals(40.0f, node00Layout.size().height, "height of node00");
        assertEquals(0.0f, node00Layout.location().x, "x of node00");
        assertEquals(0.0f, node00Layout.location().y, "y of node00");
        Layout node000Layout = tree.getLayout(node000);
        assertEquals(40.0f, node000Layout.size().width, "width of node000");
        assertEquals(40.0f, node000Layout.size().height, "height of node000");
        assertEquals(0.0f, node000Layout.location().x, "x of node000");
        assertEquals(0.0f, node000Layout.location().y, "y of node000");
        Layout node01Layout = tree.getLayout(node01);
        assertEquals(40.0f, node01Layout.size().width, "width of node01");
        assertEquals(40.0f, node01Layout.size().height, "height of node01");
        assertEquals(0.0f, node01Layout.location().x, "x of node01");
        assertEquals(50.0f, node01Layout.location().y, "y of node01");
        Layout node010Layout = tree.getLayout(node010);
        assertEquals(40.0f, node010Layout.size().width, "width of node010");
        assertEquals(40.0f, node010Layout.size().height, "height of node010");
        assertEquals(0.0f, node010Layout.location().x, "x of node010");
        assertEquals(0.0f, node010Layout.location().y, "y of node010");
    }

    @Test
    @DisplayName("wrap_nodes_with_content_sizing_overflowing_margin__border_box")
    void wrapNodesWithContentSizingOverflowingMarginBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node000Style = new Style();
        node000Style.size = new Size<>(Dimension.length(40.0f), Dimension.length(40.0f));
        NodeId node000 = tree.newLeaf(node000Style);

        Style node00Style = new Style();
        node00Style.flexDirection = FlexDirection.COLUMN;
        NodeId node00 = tree.newWithChildren(node00Style, node000);

        Style node010Style = new Style();
        node010Style.size = new Size<>(Dimension.length(40.0f), Dimension.length(40.0f));
        NodeId node010 = tree.newLeaf(node010Style);

        Style node01Style = new Style();
        node01Style.flexDirection = FlexDirection.COLUMN;
        node01Style.margin = new Rect<>(LengthPercentageAuto.ZERO, LengthPercentageAuto.length(10.0f), LengthPercentageAuto.ZERO, LengthPercentageAuto.ZERO);
        NodeId node01 = tree.newWithChildren(node01Style, node010);

        Style node0Style = new Style();
        node0Style.flexWrap = FlexWrap.WRAP;
        node0Style.size = new Size<>(Dimension.length(85.0f), Dimension.AUTO);
        NodeId node0 = tree.newWithChildren(node0Style, node00, node01);

        Style nodeStyle = new Style();
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.size = new Size<>(Dimension.length(500.0f), Dimension.length(500.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(500.0f, nodeLayout.size().width, "width of node");
        assertEquals(500.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(85.0f, node0Layout.size().width, "width of node0");
        assertEquals(80.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(40.0f, node00Layout.size().width, "width of node00");
        assertEquals(40.0f, node00Layout.size().height, "height of node00");
        assertEquals(0.0f, node00Layout.location().x, "x of node00");
        assertEquals(0.0f, node00Layout.location().y, "y of node00");
        Layout node000Layout = tree.getLayout(node000);
        assertEquals(40.0f, node000Layout.size().width, "width of node000");
        assertEquals(40.0f, node000Layout.size().height, "height of node000");
        assertEquals(0.0f, node000Layout.location().x, "x of node000");
        assertEquals(0.0f, node000Layout.location().y, "y of node000");
        Layout node01Layout = tree.getLayout(node01);
        assertEquals(40.0f, node01Layout.size().width, "width of node01");
        assertEquals(40.0f, node01Layout.size().height, "height of node01");
        assertEquals(0.0f, node01Layout.location().x, "x of node01");
        assertEquals(40.0f, node01Layout.location().y, "y of node01");
        Layout node010Layout = tree.getLayout(node010);
        assertEquals(40.0f, node010Layout.size().width, "width of node010");
        assertEquals(40.0f, node010Layout.size().height, "height of node010");
        assertEquals(0.0f, node010Layout.location().x, "x of node010");
        assertEquals(0.0f, node010Layout.location().y, "y of node010");
    }

    @Test
    @DisplayName("wrap_nodes_with_content_sizing_overflowing_margin__content_box")
    void wrapNodesWithContentSizingOverflowingMarginContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node000Style = new Style();
        node000Style.boxSizing = BoxSizing.CONTENT_BOX;
        node000Style.size = new Size<>(Dimension.length(40.0f), Dimension.length(40.0f));
        NodeId node000 = tree.newLeaf(node000Style);

        Style node00Style = new Style();
        node00Style.boxSizing = BoxSizing.CONTENT_BOX;
        node00Style.flexDirection = FlexDirection.COLUMN;
        NodeId node00 = tree.newWithChildren(node00Style, node000);

        Style node010Style = new Style();
        node010Style.boxSizing = BoxSizing.CONTENT_BOX;
        node010Style.size = new Size<>(Dimension.length(40.0f), Dimension.length(40.0f));
        NodeId node010 = tree.newLeaf(node010Style);

        Style node01Style = new Style();
        node01Style.boxSizing = BoxSizing.CONTENT_BOX;
        node01Style.flexDirection = FlexDirection.COLUMN;
        node01Style.margin = new Rect<>(LengthPercentageAuto.ZERO, LengthPercentageAuto.length(10.0f), LengthPercentageAuto.ZERO, LengthPercentageAuto.ZERO);
        NodeId node01 = tree.newWithChildren(node01Style, node010);

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.flexWrap = FlexWrap.WRAP;
        node0Style.size = new Size<>(Dimension.length(85.0f), Dimension.AUTO);
        NodeId node0 = tree.newWithChildren(node0Style, node00, node01);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.size = new Size<>(Dimension.length(500.0f), Dimension.length(500.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(500.0f, nodeLayout.size().width, "width of node");
        assertEquals(500.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(85.0f, node0Layout.size().width, "width of node0");
        assertEquals(80.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(40.0f, node00Layout.size().width, "width of node00");
        assertEquals(40.0f, node00Layout.size().height, "height of node00");
        assertEquals(0.0f, node00Layout.location().x, "x of node00");
        assertEquals(0.0f, node00Layout.location().y, "y of node00");
        Layout node000Layout = tree.getLayout(node000);
        assertEquals(40.0f, node000Layout.size().width, "width of node000");
        assertEquals(40.0f, node000Layout.size().height, "height of node000");
        assertEquals(0.0f, node000Layout.location().x, "x of node000");
        assertEquals(0.0f, node000Layout.location().y, "y of node000");
        Layout node01Layout = tree.getLayout(node01);
        assertEquals(40.0f, node01Layout.size().width, "width of node01");
        assertEquals(40.0f, node01Layout.size().height, "height of node01");
        assertEquals(0.0f, node01Layout.location().x, "x of node01");
        assertEquals(40.0f, node01Layout.location().y, "y of node01");
        Layout node010Layout = tree.getLayout(node010);
        assertEquals(40.0f, node010Layout.size().width, "width of node010");
        assertEquals(40.0f, node010Layout.size().height, "height of node010");
        assertEquals(0.0f, node010Layout.location().x, "x of node010");
        assertEquals(0.0f, node010Layout.location().y, "y of node010");
    }

    @Test
    @DisplayName("wrap_reverse_column__border_box")
    void wrapReverseColumnBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.length(30.0f), Dimension.length(31.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.size = new Size<>(Dimension.length(30.0f), Dimension.length(32.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.size = new Size<>(Dimension.length(30.0f), Dimension.length(33.0f));
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        node3Style.size = new Size<>(Dimension.length(30.0f), Dimension.length(34.0f));
        NodeId node3 = tree.newLeaf(node3Style);

        Style nodeStyle = new Style();
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.flexWrap = FlexWrap.WRAP_REVERSE;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(30.0f, node0Layout.size().width, "width of node0");
        assertEquals(31.0f, node0Layout.size().height, "height of node0");
        assertEquals(70.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(30.0f, node1Layout.size().width, "width of node1");
        assertEquals(32.0f, node1Layout.size().height, "height of node1");
        assertEquals(70.0f, node1Layout.location().x, "x of node1");
        assertEquals(31.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(30.0f, node2Layout.size().width, "width of node2");
        assertEquals(33.0f, node2Layout.size().height, "height of node2");
        assertEquals(70.0f, node2Layout.location().x, "x of node2");
        assertEquals(63.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(30.0f, node3Layout.size().width, "width of node3");
        assertEquals(34.0f, node3Layout.size().height, "height of node3");
        assertEquals(20.0f, node3Layout.location().x, "x of node3");
        assertEquals(0.0f, node3Layout.location().y, "y of node3");
    }

    @Test
    @DisplayName("wrap_reverse_column__content_box")
    void wrapReverseColumnContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.length(30.0f), Dimension.length(31.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.size = new Size<>(Dimension.length(30.0f), Dimension.length(32.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        node2Style.size = new Size<>(Dimension.length(30.0f), Dimension.length(33.0f));
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        node3Style.boxSizing = BoxSizing.CONTENT_BOX;
        node3Style.size = new Size<>(Dimension.length(30.0f), Dimension.length(34.0f));
        NodeId node3 = tree.newLeaf(node3Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.flexWrap = FlexWrap.WRAP_REVERSE;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(30.0f, node0Layout.size().width, "width of node0");
        assertEquals(31.0f, node0Layout.size().height, "height of node0");
        assertEquals(70.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(30.0f, node1Layout.size().width, "width of node1");
        assertEquals(32.0f, node1Layout.size().height, "height of node1");
        assertEquals(70.0f, node1Layout.location().x, "x of node1");
        assertEquals(31.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(30.0f, node2Layout.size().width, "width of node2");
        assertEquals(33.0f, node2Layout.size().height, "height of node2");
        assertEquals(70.0f, node2Layout.location().x, "x of node2");
        assertEquals(63.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(30.0f, node3Layout.size().width, "width of node3");
        assertEquals(34.0f, node3Layout.size().height, "height of node3");
        assertEquals(20.0f, node3Layout.location().x, "x of node3");
        assertEquals(0.0f, node3Layout.location().y, "y of node3");
    }

    @Test
    @DisplayName("wrap_reverse_column_fixed_size__border_box")
    void wrapReverseColumnFixedSizeBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.length(30.0f), Dimension.length(10.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.size = new Size<>(Dimension.length(30.0f), Dimension.length(20.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.size = new Size<>(Dimension.length(30.0f), Dimension.length(30.0f));
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        node3Style.size = new Size<>(Dimension.length(30.0f), Dimension.length(40.0f));
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        node4Style.size = new Size<>(Dimension.length(30.0f), Dimension.length(50.0f));
        NodeId node4 = tree.newLeaf(node4Style);

        Style nodeStyle = new Style();
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.flexWrap = FlexWrap.WRAP_REVERSE;
        nodeStyle.alignItems = AlignItems.CENTER;
        nodeStyle.size = new Size<>(Dimension.length(200.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(200.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(30.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(135.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(30.0f, node1Layout.size().width, "width of node1");
        assertEquals(20.0f, node1Layout.size().height, "height of node1");
        assertEquals(135.0f, node1Layout.location().x, "x of node1");
        assertEquals(10.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(30.0f, node2Layout.size().width, "width of node2");
        assertEquals(30.0f, node2Layout.size().height, "height of node2");
        assertEquals(135.0f, node2Layout.location().x, "x of node2");
        assertEquals(30.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(30.0f, node3Layout.size().width, "width of node3");
        assertEquals(40.0f, node3Layout.size().height, "height of node3");
        assertEquals(135.0f, node3Layout.location().x, "x of node3");
        assertEquals(60.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(30.0f, node4Layout.size().width, "width of node4");
        assertEquals(50.0f, node4Layout.size().height, "height of node4");
        assertEquals(35.0f, node4Layout.location().x, "x of node4");
        assertEquals(0.0f, node4Layout.location().y, "y of node4");
    }

    @Test
    @DisplayName("wrap_reverse_column_fixed_size__content_box")
    void wrapReverseColumnFixedSizeContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.length(30.0f), Dimension.length(10.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.size = new Size<>(Dimension.length(30.0f), Dimension.length(20.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        node2Style.size = new Size<>(Dimension.length(30.0f), Dimension.length(30.0f));
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        node3Style.boxSizing = BoxSizing.CONTENT_BOX;
        node3Style.size = new Size<>(Dimension.length(30.0f), Dimension.length(40.0f));
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        node4Style.boxSizing = BoxSizing.CONTENT_BOX;
        node4Style.size = new Size<>(Dimension.length(30.0f), Dimension.length(50.0f));
        NodeId node4 = tree.newLeaf(node4Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.flexWrap = FlexWrap.WRAP_REVERSE;
        nodeStyle.alignItems = AlignItems.CENTER;
        nodeStyle.size = new Size<>(Dimension.length(200.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(200.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(30.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(135.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(30.0f, node1Layout.size().width, "width of node1");
        assertEquals(20.0f, node1Layout.size().height, "height of node1");
        assertEquals(135.0f, node1Layout.location().x, "x of node1");
        assertEquals(10.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(30.0f, node2Layout.size().width, "width of node2");
        assertEquals(30.0f, node2Layout.size().height, "height of node2");
        assertEquals(135.0f, node2Layout.location().x, "x of node2");
        assertEquals(30.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(30.0f, node3Layout.size().width, "width of node3");
        assertEquals(40.0f, node3Layout.size().height, "height of node3");
        assertEquals(135.0f, node3Layout.location().x, "x of node3");
        assertEquals(60.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(30.0f, node4Layout.size().width, "width of node4");
        assertEquals(50.0f, node4Layout.size().height, "height of node4");
        assertEquals(35.0f, node4Layout.location().x, "x of node4");
        assertEquals(0.0f, node4Layout.location().y, "y of node4");
    }

    @Test
    @DisplayName("wrap_reverse_row__border_box")
    void wrapReverseRowBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.length(31.0f), Dimension.length(30.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.size = new Size<>(Dimension.length(32.0f), Dimension.length(30.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.size = new Size<>(Dimension.length(33.0f), Dimension.length(30.0f));
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        node3Style.size = new Size<>(Dimension.length(34.0f), Dimension.length(30.0f));
        NodeId node3 = tree.newLeaf(node3Style);

        Style nodeStyle = new Style();
        nodeStyle.flexWrap = FlexWrap.WRAP_REVERSE;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.AUTO);
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(60.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(31.0f, node0Layout.size().width, "width of node0");
        assertEquals(30.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(30.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(32.0f, node1Layout.size().width, "width of node1");
        assertEquals(30.0f, node1Layout.size().height, "height of node1");
        assertEquals(31.0f, node1Layout.location().x, "x of node1");
        assertEquals(30.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(33.0f, node2Layout.size().width, "width of node2");
        assertEquals(30.0f, node2Layout.size().height, "height of node2");
        assertEquals(63.0f, node2Layout.location().x, "x of node2");
        assertEquals(30.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(34.0f, node3Layout.size().width, "width of node3");
        assertEquals(30.0f, node3Layout.size().height, "height of node3");
        assertEquals(0.0f, node3Layout.location().x, "x of node3");
        assertEquals(0.0f, node3Layout.location().y, "y of node3");
    }

    @Test
    @DisplayName("wrap_reverse_row__content_box")
    void wrapReverseRowContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.length(31.0f), Dimension.length(30.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.size = new Size<>(Dimension.length(32.0f), Dimension.length(30.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        node2Style.size = new Size<>(Dimension.length(33.0f), Dimension.length(30.0f));
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        node3Style.boxSizing = BoxSizing.CONTENT_BOX;
        node3Style.size = new Size<>(Dimension.length(34.0f), Dimension.length(30.0f));
        NodeId node3 = tree.newLeaf(node3Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexWrap = FlexWrap.WRAP_REVERSE;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.AUTO);
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(60.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(31.0f, node0Layout.size().width, "width of node0");
        assertEquals(30.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(30.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(32.0f, node1Layout.size().width, "width of node1");
        assertEquals(30.0f, node1Layout.size().height, "height of node1");
        assertEquals(31.0f, node1Layout.location().x, "x of node1");
        assertEquals(30.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(33.0f, node2Layout.size().width, "width of node2");
        assertEquals(30.0f, node2Layout.size().height, "height of node2");
        assertEquals(63.0f, node2Layout.location().x, "x of node2");
        assertEquals(30.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(34.0f, node3Layout.size().width, "width of node3");
        assertEquals(30.0f, node3Layout.size().height, "height of node3");
        assertEquals(0.0f, node3Layout.location().x, "x of node3");
        assertEquals(0.0f, node3Layout.location().y, "y of node3");
    }

    @Test
    @DisplayName("wrap_reverse_row_align_content_center__border_box")
    void wrapReverseRowAlignContentCenterBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.length(30.0f), Dimension.length(10.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.size = new Size<>(Dimension.length(30.0f), Dimension.length(20.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.size = new Size<>(Dimension.length(30.0f), Dimension.length(30.0f));
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        node3Style.size = new Size<>(Dimension.length(30.0f), Dimension.length(40.0f));
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        node4Style.size = new Size<>(Dimension.length(30.0f), Dimension.length(50.0f));
        NodeId node4 = tree.newLeaf(node4Style);

        Style nodeStyle = new Style();
        nodeStyle.flexWrap = FlexWrap.WRAP_REVERSE;
        nodeStyle.alignContent = AlignContent.CENTER;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.AUTO);
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(80.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(30.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(70.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(30.0f, node1Layout.size().width, "width of node1");
        assertEquals(20.0f, node1Layout.size().height, "height of node1");
        assertEquals(30.0f, node1Layout.location().x, "x of node1");
        assertEquals(60.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(30.0f, node2Layout.size().width, "width of node2");
        assertEquals(30.0f, node2Layout.size().height, "height of node2");
        assertEquals(60.0f, node2Layout.location().x, "x of node2");
        assertEquals(50.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(30.0f, node3Layout.size().width, "width of node3");
        assertEquals(40.0f, node3Layout.size().height, "height of node3");
        assertEquals(0.0f, node3Layout.location().x, "x of node3");
        assertEquals(10.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(30.0f, node4Layout.size().width, "width of node4");
        assertEquals(50.0f, node4Layout.size().height, "height of node4");
        assertEquals(30.0f, node4Layout.location().x, "x of node4");
        assertEquals(0.0f, node4Layout.location().y, "y of node4");
    }

    @Test
    @DisplayName("wrap_reverse_row_align_content_center__content_box")
    void wrapReverseRowAlignContentCenterContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.length(30.0f), Dimension.length(10.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.size = new Size<>(Dimension.length(30.0f), Dimension.length(20.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        node2Style.size = new Size<>(Dimension.length(30.0f), Dimension.length(30.0f));
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        node3Style.boxSizing = BoxSizing.CONTENT_BOX;
        node3Style.size = new Size<>(Dimension.length(30.0f), Dimension.length(40.0f));
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        node4Style.boxSizing = BoxSizing.CONTENT_BOX;
        node4Style.size = new Size<>(Dimension.length(30.0f), Dimension.length(50.0f));
        NodeId node4 = tree.newLeaf(node4Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexWrap = FlexWrap.WRAP_REVERSE;
        nodeStyle.alignContent = AlignContent.CENTER;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.AUTO);
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(80.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(30.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(70.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(30.0f, node1Layout.size().width, "width of node1");
        assertEquals(20.0f, node1Layout.size().height, "height of node1");
        assertEquals(30.0f, node1Layout.location().x, "x of node1");
        assertEquals(60.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(30.0f, node2Layout.size().width, "width of node2");
        assertEquals(30.0f, node2Layout.size().height, "height of node2");
        assertEquals(60.0f, node2Layout.location().x, "x of node2");
        assertEquals(50.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(30.0f, node3Layout.size().width, "width of node3");
        assertEquals(40.0f, node3Layout.size().height, "height of node3");
        assertEquals(0.0f, node3Layout.location().x, "x of node3");
        assertEquals(10.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(30.0f, node4Layout.size().width, "width of node4");
        assertEquals(50.0f, node4Layout.size().height, "height of node4");
        assertEquals(30.0f, node4Layout.location().x, "x of node4");
        assertEquals(0.0f, node4Layout.location().y, "y of node4");
    }

    @Test
    @DisplayName("wrap_reverse_row_align_content_flex_start__border_box")
    void wrapReverseRowAlignContentFlexStartBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.length(30.0f), Dimension.length(10.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.size = new Size<>(Dimension.length(30.0f), Dimension.length(20.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.size = new Size<>(Dimension.length(30.0f), Dimension.length(30.0f));
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        node3Style.size = new Size<>(Dimension.length(30.0f), Dimension.length(40.0f));
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        node4Style.size = new Size<>(Dimension.length(30.0f), Dimension.length(50.0f));
        NodeId node4 = tree.newLeaf(node4Style);

        Style nodeStyle = new Style();
        nodeStyle.flexWrap = FlexWrap.WRAP_REVERSE;
        nodeStyle.alignContent = AlignContent.FLEX_START;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.AUTO);
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(80.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(30.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(70.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(30.0f, node1Layout.size().width, "width of node1");
        assertEquals(20.0f, node1Layout.size().height, "height of node1");
        assertEquals(30.0f, node1Layout.location().x, "x of node1");
        assertEquals(60.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(30.0f, node2Layout.size().width, "width of node2");
        assertEquals(30.0f, node2Layout.size().height, "height of node2");
        assertEquals(60.0f, node2Layout.location().x, "x of node2");
        assertEquals(50.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(30.0f, node3Layout.size().width, "width of node3");
        assertEquals(40.0f, node3Layout.size().height, "height of node3");
        assertEquals(0.0f, node3Layout.location().x, "x of node3");
        assertEquals(10.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(30.0f, node4Layout.size().width, "width of node4");
        assertEquals(50.0f, node4Layout.size().height, "height of node4");
        assertEquals(30.0f, node4Layout.location().x, "x of node4");
        assertEquals(0.0f, node4Layout.location().y, "y of node4");
    }

    @Test
    @DisplayName("wrap_reverse_row_align_content_flex_start__content_box")
    void wrapReverseRowAlignContentFlexStartContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.length(30.0f), Dimension.length(10.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.size = new Size<>(Dimension.length(30.0f), Dimension.length(20.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        node2Style.size = new Size<>(Dimension.length(30.0f), Dimension.length(30.0f));
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        node3Style.boxSizing = BoxSizing.CONTENT_BOX;
        node3Style.size = new Size<>(Dimension.length(30.0f), Dimension.length(40.0f));
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        node4Style.boxSizing = BoxSizing.CONTENT_BOX;
        node4Style.size = new Size<>(Dimension.length(30.0f), Dimension.length(50.0f));
        NodeId node4 = tree.newLeaf(node4Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexWrap = FlexWrap.WRAP_REVERSE;
        nodeStyle.alignContent = AlignContent.FLEX_START;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.AUTO);
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(80.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(30.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(70.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(30.0f, node1Layout.size().width, "width of node1");
        assertEquals(20.0f, node1Layout.size().height, "height of node1");
        assertEquals(30.0f, node1Layout.location().x, "x of node1");
        assertEquals(60.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(30.0f, node2Layout.size().width, "width of node2");
        assertEquals(30.0f, node2Layout.size().height, "height of node2");
        assertEquals(60.0f, node2Layout.location().x, "x of node2");
        assertEquals(50.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(30.0f, node3Layout.size().width, "width of node3");
        assertEquals(40.0f, node3Layout.size().height, "height of node3");
        assertEquals(0.0f, node3Layout.location().x, "x of node3");
        assertEquals(10.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(30.0f, node4Layout.size().width, "width of node4");
        assertEquals(50.0f, node4Layout.size().height, "height of node4");
        assertEquals(30.0f, node4Layout.location().x, "x of node4");
        assertEquals(0.0f, node4Layout.location().y, "y of node4");
    }

    @Test
    @DisplayName("wrap_reverse_row_align_content_space_around__border_box")
    void wrapReverseRowAlignContentSpaceAroundBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.length(30.0f), Dimension.length(10.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.size = new Size<>(Dimension.length(30.0f), Dimension.length(20.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.size = new Size<>(Dimension.length(30.0f), Dimension.length(30.0f));
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        node3Style.size = new Size<>(Dimension.length(30.0f), Dimension.length(40.0f));
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        node4Style.size = new Size<>(Dimension.length(30.0f), Dimension.length(50.0f));
        NodeId node4 = tree.newLeaf(node4Style);

        Style nodeStyle = new Style();
        nodeStyle.flexWrap = FlexWrap.WRAP_REVERSE;
        nodeStyle.alignContent = AlignContent.SPACE_AROUND;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.AUTO);
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(80.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(30.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(70.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(30.0f, node1Layout.size().width, "width of node1");
        assertEquals(20.0f, node1Layout.size().height, "height of node1");
        assertEquals(30.0f, node1Layout.location().x, "x of node1");
        assertEquals(60.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(30.0f, node2Layout.size().width, "width of node2");
        assertEquals(30.0f, node2Layout.size().height, "height of node2");
        assertEquals(60.0f, node2Layout.location().x, "x of node2");
        assertEquals(50.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(30.0f, node3Layout.size().width, "width of node3");
        assertEquals(40.0f, node3Layout.size().height, "height of node3");
        assertEquals(0.0f, node3Layout.location().x, "x of node3");
        assertEquals(10.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(30.0f, node4Layout.size().width, "width of node4");
        assertEquals(50.0f, node4Layout.size().height, "height of node4");
        assertEquals(30.0f, node4Layout.location().x, "x of node4");
        assertEquals(0.0f, node4Layout.location().y, "y of node4");
    }

    @Test
    @DisplayName("wrap_reverse_row_align_content_space_around__content_box")
    void wrapReverseRowAlignContentSpaceAroundContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.length(30.0f), Dimension.length(10.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.size = new Size<>(Dimension.length(30.0f), Dimension.length(20.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        node2Style.size = new Size<>(Dimension.length(30.0f), Dimension.length(30.0f));
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        node3Style.boxSizing = BoxSizing.CONTENT_BOX;
        node3Style.size = new Size<>(Dimension.length(30.0f), Dimension.length(40.0f));
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        node4Style.boxSizing = BoxSizing.CONTENT_BOX;
        node4Style.size = new Size<>(Dimension.length(30.0f), Dimension.length(50.0f));
        NodeId node4 = tree.newLeaf(node4Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexWrap = FlexWrap.WRAP_REVERSE;
        nodeStyle.alignContent = AlignContent.SPACE_AROUND;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.AUTO);
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(80.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(30.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(70.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(30.0f, node1Layout.size().width, "width of node1");
        assertEquals(20.0f, node1Layout.size().height, "height of node1");
        assertEquals(30.0f, node1Layout.location().x, "x of node1");
        assertEquals(60.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(30.0f, node2Layout.size().width, "width of node2");
        assertEquals(30.0f, node2Layout.size().height, "height of node2");
        assertEquals(60.0f, node2Layout.location().x, "x of node2");
        assertEquals(50.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(30.0f, node3Layout.size().width, "width of node3");
        assertEquals(40.0f, node3Layout.size().height, "height of node3");
        assertEquals(0.0f, node3Layout.location().x, "x of node3");
        assertEquals(10.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(30.0f, node4Layout.size().width, "width of node4");
        assertEquals(50.0f, node4Layout.size().height, "height of node4");
        assertEquals(30.0f, node4Layout.location().x, "x of node4");
        assertEquals(0.0f, node4Layout.location().y, "y of node4");
    }

    @Test
    @DisplayName("wrap_reverse_row_align_content_stretch__border_box")
    void wrapReverseRowAlignContentStretchBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.length(30.0f), Dimension.length(10.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.size = new Size<>(Dimension.length(30.0f), Dimension.length(20.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.size = new Size<>(Dimension.length(30.0f), Dimension.length(30.0f));
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        node3Style.size = new Size<>(Dimension.length(30.0f), Dimension.length(40.0f));
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        node4Style.size = new Size<>(Dimension.length(30.0f), Dimension.length(50.0f));
        NodeId node4 = tree.newLeaf(node4Style);

        Style nodeStyle = new Style();
        nodeStyle.flexWrap = FlexWrap.WRAP_REVERSE;
        nodeStyle.alignContent = AlignContent.STRETCH;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.AUTO);
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(80.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(30.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(70.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(30.0f, node1Layout.size().width, "width of node1");
        assertEquals(20.0f, node1Layout.size().height, "height of node1");
        assertEquals(30.0f, node1Layout.location().x, "x of node1");
        assertEquals(60.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(30.0f, node2Layout.size().width, "width of node2");
        assertEquals(30.0f, node2Layout.size().height, "height of node2");
        assertEquals(60.0f, node2Layout.location().x, "x of node2");
        assertEquals(50.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(30.0f, node3Layout.size().width, "width of node3");
        assertEquals(40.0f, node3Layout.size().height, "height of node3");
        assertEquals(0.0f, node3Layout.location().x, "x of node3");
        assertEquals(10.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(30.0f, node4Layout.size().width, "width of node4");
        assertEquals(50.0f, node4Layout.size().height, "height of node4");
        assertEquals(30.0f, node4Layout.location().x, "x of node4");
        assertEquals(0.0f, node4Layout.location().y, "y of node4");
    }

    @Test
    @DisplayName("wrap_reverse_row_align_content_stretch__content_box")
    void wrapReverseRowAlignContentStretchContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.length(30.0f), Dimension.length(10.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.size = new Size<>(Dimension.length(30.0f), Dimension.length(20.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        node2Style.size = new Size<>(Dimension.length(30.0f), Dimension.length(30.0f));
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        node3Style.boxSizing = BoxSizing.CONTENT_BOX;
        node3Style.size = new Size<>(Dimension.length(30.0f), Dimension.length(40.0f));
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        node4Style.boxSizing = BoxSizing.CONTENT_BOX;
        node4Style.size = new Size<>(Dimension.length(30.0f), Dimension.length(50.0f));
        NodeId node4 = tree.newLeaf(node4Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexWrap = FlexWrap.WRAP_REVERSE;
        nodeStyle.alignContent = AlignContent.STRETCH;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.AUTO);
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(80.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(30.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(70.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(30.0f, node1Layout.size().width, "width of node1");
        assertEquals(20.0f, node1Layout.size().height, "height of node1");
        assertEquals(30.0f, node1Layout.location().x, "x of node1");
        assertEquals(60.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(30.0f, node2Layout.size().width, "width of node2");
        assertEquals(30.0f, node2Layout.size().height, "height of node2");
        assertEquals(60.0f, node2Layout.location().x, "x of node2");
        assertEquals(50.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(30.0f, node3Layout.size().width, "width of node3");
        assertEquals(40.0f, node3Layout.size().height, "height of node3");
        assertEquals(0.0f, node3Layout.location().x, "x of node3");
        assertEquals(10.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(30.0f, node4Layout.size().width, "width of node4");
        assertEquals(50.0f, node4Layout.size().height, "height of node4");
        assertEquals(30.0f, node4Layout.location().x, "x of node4");
        assertEquals(0.0f, node4Layout.location().y, "y of node4");
    }

    @Test
    @DisplayName("wrap_reverse_row_single_line_different_size__border_box")
    void wrapReverseRowSingleLineDifferentSizeBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.length(30.0f), Dimension.length(10.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.size = new Size<>(Dimension.length(30.0f), Dimension.length(20.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.size = new Size<>(Dimension.length(30.0f), Dimension.length(30.0f));
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        node3Style.size = new Size<>(Dimension.length(30.0f), Dimension.length(40.0f));
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        node4Style.size = new Size<>(Dimension.length(30.0f), Dimension.length(50.0f));
        NodeId node4 = tree.newLeaf(node4Style);

        Style nodeStyle = new Style();
        nodeStyle.flexWrap = FlexWrap.WRAP_REVERSE;
        nodeStyle.alignContent = AlignContent.FLEX_START;
        nodeStyle.size = new Size<>(Dimension.length(300.0f), Dimension.AUTO);
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(300.0f, nodeLayout.size().width, "width of node");
        assertEquals(50.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(30.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(40.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(30.0f, node1Layout.size().width, "width of node1");
        assertEquals(20.0f, node1Layout.size().height, "height of node1");
        assertEquals(30.0f, node1Layout.location().x, "x of node1");
        assertEquals(30.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(30.0f, node2Layout.size().width, "width of node2");
        assertEquals(30.0f, node2Layout.size().height, "height of node2");
        assertEquals(60.0f, node2Layout.location().x, "x of node2");
        assertEquals(20.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(30.0f, node3Layout.size().width, "width of node3");
        assertEquals(40.0f, node3Layout.size().height, "height of node3");
        assertEquals(90.0f, node3Layout.location().x, "x of node3");
        assertEquals(10.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(30.0f, node4Layout.size().width, "width of node4");
        assertEquals(50.0f, node4Layout.size().height, "height of node4");
        assertEquals(120.0f, node4Layout.location().x, "x of node4");
        assertEquals(0.0f, node4Layout.location().y, "y of node4");
    }

    @Test
    @DisplayName("wrap_reverse_row_single_line_different_size__content_box")
    void wrapReverseRowSingleLineDifferentSizeContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.length(30.0f), Dimension.length(10.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.size = new Size<>(Dimension.length(30.0f), Dimension.length(20.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        node2Style.size = new Size<>(Dimension.length(30.0f), Dimension.length(30.0f));
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        node3Style.boxSizing = BoxSizing.CONTENT_BOX;
        node3Style.size = new Size<>(Dimension.length(30.0f), Dimension.length(40.0f));
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        node4Style.boxSizing = BoxSizing.CONTENT_BOX;
        node4Style.size = new Size<>(Dimension.length(30.0f), Dimension.length(50.0f));
        NodeId node4 = tree.newLeaf(node4Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexWrap = FlexWrap.WRAP_REVERSE;
        nodeStyle.alignContent = AlignContent.FLEX_START;
        nodeStyle.size = new Size<>(Dimension.length(300.0f), Dimension.AUTO);
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(300.0f, nodeLayout.size().width, "width of node");
        assertEquals(50.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(30.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(40.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(30.0f, node1Layout.size().width, "width of node1");
        assertEquals(20.0f, node1Layout.size().height, "height of node1");
        assertEquals(30.0f, node1Layout.location().x, "x of node1");
        assertEquals(30.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(30.0f, node2Layout.size().width, "width of node2");
        assertEquals(30.0f, node2Layout.size().height, "height of node2");
        assertEquals(60.0f, node2Layout.location().x, "x of node2");
        assertEquals(20.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(30.0f, node3Layout.size().width, "width of node3");
        assertEquals(40.0f, node3Layout.size().height, "height of node3");
        assertEquals(90.0f, node3Layout.location().x, "x of node3");
        assertEquals(10.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(30.0f, node4Layout.size().width, "width of node4");
        assertEquals(50.0f, node4Layout.size().height, "height of node4");
        assertEquals(120.0f, node4Layout.location().x, "x of node4");
        assertEquals(0.0f, node4Layout.location().y, "y of node4");
    }

    @Test
    @DisplayName("wrap_row__border_box")
    void wrapRowBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.length(31.0f), Dimension.length(30.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.size = new Size<>(Dimension.length(32.0f), Dimension.length(30.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.size = new Size<>(Dimension.length(33.0f), Dimension.length(30.0f));
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        node3Style.size = new Size<>(Dimension.length(34.0f), Dimension.length(30.0f));
        NodeId node3 = tree.newLeaf(node3Style);

        Style nodeStyle = new Style();
        nodeStyle.flexWrap = FlexWrap.WRAP;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.AUTO);
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(60.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(31.0f, node0Layout.size().width, "width of node0");
        assertEquals(30.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(32.0f, node1Layout.size().width, "width of node1");
        assertEquals(30.0f, node1Layout.size().height, "height of node1");
        assertEquals(31.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(33.0f, node2Layout.size().width, "width of node2");
        assertEquals(30.0f, node2Layout.size().height, "height of node2");
        assertEquals(63.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(34.0f, node3Layout.size().width, "width of node3");
        assertEquals(30.0f, node3Layout.size().height, "height of node3");
        assertEquals(0.0f, node3Layout.location().x, "x of node3");
        assertEquals(30.0f, node3Layout.location().y, "y of node3");
    }

    @Test
    @DisplayName("wrap_row__content_box")
    void wrapRowContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.length(31.0f), Dimension.length(30.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.size = new Size<>(Dimension.length(32.0f), Dimension.length(30.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        node2Style.size = new Size<>(Dimension.length(33.0f), Dimension.length(30.0f));
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        node3Style.boxSizing = BoxSizing.CONTENT_BOX;
        node3Style.size = new Size<>(Dimension.length(34.0f), Dimension.length(30.0f));
        NodeId node3 = tree.newLeaf(node3Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexWrap = FlexWrap.WRAP;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.AUTO);
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(60.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(31.0f, node0Layout.size().width, "width of node0");
        assertEquals(30.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(32.0f, node1Layout.size().width, "width of node1");
        assertEquals(30.0f, node1Layout.size().height, "height of node1");
        assertEquals(31.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(33.0f, node2Layout.size().width, "width of node2");
        assertEquals(30.0f, node2Layout.size().height, "height of node2");
        assertEquals(63.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(34.0f, node3Layout.size().width, "width of node3");
        assertEquals(30.0f, node3Layout.size().height, "height of node3");
        assertEquals(0.0f, node3Layout.location().x, "x of node3");
        assertEquals(30.0f, node3Layout.location().y, "y of node3");
    }

    @Test
    @DisplayName("wrap_row_align_items_center__border_box")
    void wrapRowAlignItemsCenterBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.length(30.0f), Dimension.length(10.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.size = new Size<>(Dimension.length(30.0f), Dimension.length(20.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.size = new Size<>(Dimension.length(30.0f), Dimension.length(30.0f));
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        node3Style.size = new Size<>(Dimension.length(30.0f), Dimension.length(30.0f));
        NodeId node3 = tree.newLeaf(node3Style);

        Style nodeStyle = new Style();
        nodeStyle.flexWrap = FlexWrap.WRAP;
        nodeStyle.alignItems = AlignItems.CENTER;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.AUTO);
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(60.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(30.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(10.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(30.0f, node1Layout.size().width, "width of node1");
        assertEquals(20.0f, node1Layout.size().height, "height of node1");
        assertEquals(30.0f, node1Layout.location().x, "x of node1");
        assertEquals(5.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(30.0f, node2Layout.size().width, "width of node2");
        assertEquals(30.0f, node2Layout.size().height, "height of node2");
        assertEquals(60.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(30.0f, node3Layout.size().width, "width of node3");
        assertEquals(30.0f, node3Layout.size().height, "height of node3");
        assertEquals(0.0f, node3Layout.location().x, "x of node3");
        assertEquals(30.0f, node3Layout.location().y, "y of node3");
    }

    @Test
    @DisplayName("wrap_row_align_items_center__content_box")
    void wrapRowAlignItemsCenterContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.length(30.0f), Dimension.length(10.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.size = new Size<>(Dimension.length(30.0f), Dimension.length(20.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        node2Style.size = new Size<>(Dimension.length(30.0f), Dimension.length(30.0f));
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        node3Style.boxSizing = BoxSizing.CONTENT_BOX;
        node3Style.size = new Size<>(Dimension.length(30.0f), Dimension.length(30.0f));
        NodeId node3 = tree.newLeaf(node3Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexWrap = FlexWrap.WRAP;
        nodeStyle.alignItems = AlignItems.CENTER;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.AUTO);
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(60.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(30.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(10.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(30.0f, node1Layout.size().width, "width of node1");
        assertEquals(20.0f, node1Layout.size().height, "height of node1");
        assertEquals(30.0f, node1Layout.location().x, "x of node1");
        assertEquals(5.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(30.0f, node2Layout.size().width, "width of node2");
        assertEquals(30.0f, node2Layout.size().height, "height of node2");
        assertEquals(60.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(30.0f, node3Layout.size().width, "width of node3");
        assertEquals(30.0f, node3Layout.size().height, "height of node3");
        assertEquals(0.0f, node3Layout.location().x, "x of node3");
        assertEquals(30.0f, node3Layout.location().y, "y of node3");
    }

    @Test
    @DisplayName("wrap_row_align_items_flex_end__border_box")
    void wrapRowAlignItemsFlexEndBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.length(30.0f), Dimension.length(10.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.size = new Size<>(Dimension.length(30.0f), Dimension.length(20.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.size = new Size<>(Dimension.length(30.0f), Dimension.length(30.0f));
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        node3Style.size = new Size<>(Dimension.length(30.0f), Dimension.length(30.0f));
        NodeId node3 = tree.newLeaf(node3Style);

        Style nodeStyle = new Style();
        nodeStyle.flexWrap = FlexWrap.WRAP;
        nodeStyle.alignItems = AlignItems.FLEX_END;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.AUTO);
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(60.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(30.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(20.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(30.0f, node1Layout.size().width, "width of node1");
        assertEquals(20.0f, node1Layout.size().height, "height of node1");
        assertEquals(30.0f, node1Layout.location().x, "x of node1");
        assertEquals(10.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(30.0f, node2Layout.size().width, "width of node2");
        assertEquals(30.0f, node2Layout.size().height, "height of node2");
        assertEquals(60.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(30.0f, node3Layout.size().width, "width of node3");
        assertEquals(30.0f, node3Layout.size().height, "height of node3");
        assertEquals(0.0f, node3Layout.location().x, "x of node3");
        assertEquals(30.0f, node3Layout.location().y, "y of node3");
    }

    @Test
    @DisplayName("wrap_row_align_items_flex_end__content_box")
    void wrapRowAlignItemsFlexEndContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.length(30.0f), Dimension.length(10.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.size = new Size<>(Dimension.length(30.0f), Dimension.length(20.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        node2Style.size = new Size<>(Dimension.length(30.0f), Dimension.length(30.0f));
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        node3Style.boxSizing = BoxSizing.CONTENT_BOX;
        node3Style.size = new Size<>(Dimension.length(30.0f), Dimension.length(30.0f));
        NodeId node3 = tree.newLeaf(node3Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexWrap = FlexWrap.WRAP;
        nodeStyle.alignItems = AlignItems.FLEX_END;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.AUTO);
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(60.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(30.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(20.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(30.0f, node1Layout.size().width, "width of node1");
        assertEquals(20.0f, node1Layout.size().height, "height of node1");
        assertEquals(30.0f, node1Layout.location().x, "x of node1");
        assertEquals(10.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(30.0f, node2Layout.size().width, "width of node2");
        assertEquals(30.0f, node2Layout.size().height, "height of node2");
        assertEquals(60.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(30.0f, node3Layout.size().width, "width of node3");
        assertEquals(30.0f, node3Layout.size().height, "height of node3");
        assertEquals(0.0f, node3Layout.location().x, "x of node3");
        assertEquals(30.0f, node3Layout.location().y, "y of node3");
    }

    @Test
    @DisplayName("wrapped_column_max_height__border_box")
    void wrappedColumnMaxHeightBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.length(100.0f), Dimension.length(500.0f));
        node0Style.maxSize = new Size<>(Dimension.AUTO, Dimension.length(200.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.size = new Size<>(Dimension.length(200.0f), Dimension.length(200.0f));
        node1Style.margin = new Rect<>(LengthPercentageAuto.length(20.0f), LengthPercentageAuto.length(20.0f), LengthPercentageAuto.length(20.0f), LengthPercentageAuto.length(20.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node2 = tree.newLeaf(node2Style);

        Style nodeStyle = new Style();
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.flexWrap = FlexWrap.WRAP;
        nodeStyle.alignItems = AlignItems.CENTER;
        nodeStyle.alignContent = AlignContent.CENTER;
        nodeStyle.justifyContent = AlignContent.CENTER;
        nodeStyle.size = new Size<>(Dimension.length(700.0f), Dimension.length(500.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(700.0f, nodeLayout.size().width, "width of node");
        assertEquals(500.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(100.0f, node0Layout.size().width, "width of node0");
        assertEquals(200.0f, node0Layout.size().height, "height of node0");
        assertEquals(250.0f, node0Layout.location().x, "x of node0");
        assertEquals(30.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(200.0f, node1Layout.size().width, "width of node1");
        assertEquals(200.0f, node1Layout.size().height, "height of node1");
        assertEquals(200.0f, node1Layout.location().x, "x of node1");
        assertEquals(250.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(100.0f, node2Layout.size().width, "width of node2");
        assertEquals(100.0f, node2Layout.size().height, "height of node2");
        assertEquals(420.0f, node2Layout.location().x, "x of node2");
        assertEquals(200.0f, node2Layout.location().y, "y of node2");
    }

    @Test
    @DisplayName("wrapped_column_max_height__content_box")
    void wrappedColumnMaxHeightContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.length(100.0f), Dimension.length(500.0f));
        node0Style.maxSize = new Size<>(Dimension.AUTO, Dimension.length(200.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.size = new Size<>(Dimension.length(200.0f), Dimension.length(200.0f));
        node1Style.margin = new Rect<>(LengthPercentageAuto.length(20.0f), LengthPercentageAuto.length(20.0f), LengthPercentageAuto.length(20.0f), LengthPercentageAuto.length(20.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        node2Style.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node2 = tree.newLeaf(node2Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.flexWrap = FlexWrap.WRAP;
        nodeStyle.alignItems = AlignItems.CENTER;
        nodeStyle.alignContent = AlignContent.CENTER;
        nodeStyle.justifyContent = AlignContent.CENTER;
        nodeStyle.size = new Size<>(Dimension.length(700.0f), Dimension.length(500.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(700.0f, nodeLayout.size().width, "width of node");
        assertEquals(500.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(100.0f, node0Layout.size().width, "width of node0");
        assertEquals(200.0f, node0Layout.size().height, "height of node0");
        assertEquals(250.0f, node0Layout.location().x, "x of node0");
        assertEquals(30.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(200.0f, node1Layout.size().width, "width of node1");
        assertEquals(200.0f, node1Layout.size().height, "height of node1");
        assertEquals(200.0f, node1Layout.location().x, "x of node1");
        assertEquals(250.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(100.0f, node2Layout.size().width, "width of node2");
        assertEquals(100.0f, node2Layout.size().height, "height of node2");
        assertEquals(420.0f, node2Layout.location().x, "x of node2");
        assertEquals(200.0f, node2Layout.location().y, "y of node2");
    }

    @Test
    @DisplayName("wrapped_column_max_height_flex__border_box")
    void wrappedColumnMaxHeightFlexBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.flexGrow = 1.0f;
        node0Style.flexShrink = 1.0f;
        node0Style.flexBasis = Dimension.percent(0.0f);
        node0Style.size = new Size<>(Dimension.length(100.0f), Dimension.length(500.0f));
        node0Style.maxSize = new Size<>(Dimension.AUTO, Dimension.length(200.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.flexGrow = 1.0f;
        node1Style.flexShrink = 1.0f;
        node1Style.flexBasis = Dimension.percent(0.0f);
        node1Style.size = new Size<>(Dimension.length(200.0f), Dimension.length(200.0f));
        node1Style.margin = new Rect<>(LengthPercentageAuto.length(20.0f), LengthPercentageAuto.length(20.0f), LengthPercentageAuto.length(20.0f), LengthPercentageAuto.length(20.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node2 = tree.newLeaf(node2Style);

        Style nodeStyle = new Style();
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.flexWrap = FlexWrap.WRAP;
        nodeStyle.alignItems = AlignItems.CENTER;
        nodeStyle.alignContent = AlignContent.CENTER;
        nodeStyle.justifyContent = AlignContent.CENTER;
        nodeStyle.size = new Size<>(Dimension.length(700.0f), Dimension.length(500.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(700.0f, nodeLayout.size().width, "width of node");
        assertEquals(500.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(100.0f, node0Layout.size().width, "width of node0");
        assertEquals(180.0f, node0Layout.size().height, "height of node0");
        assertEquals(300.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(200.0f, node1Layout.size().width, "width of node1");
        assertEquals(180.0f, node1Layout.size().height, "height of node1");
        assertEquals(250.0f, node1Layout.location().x, "x of node1");
        assertEquals(200.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(100.0f, node2Layout.size().width, "width of node2");
        assertEquals(100.0f, node2Layout.size().height, "height of node2");
        assertEquals(300.0f, node2Layout.location().x, "x of node2");
        assertEquals(400.0f, node2Layout.location().y, "y of node2");
    }

    @Test
    @DisplayName("wrapped_column_max_height_flex__content_box")
    void wrappedColumnMaxHeightFlexContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.flexGrow = 1.0f;
        node0Style.flexShrink = 1.0f;
        node0Style.flexBasis = Dimension.percent(0.0f);
        node0Style.size = new Size<>(Dimension.length(100.0f), Dimension.length(500.0f));
        node0Style.maxSize = new Size<>(Dimension.AUTO, Dimension.length(200.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.flexGrow = 1.0f;
        node1Style.flexShrink = 1.0f;
        node1Style.flexBasis = Dimension.percent(0.0f);
        node1Style.size = new Size<>(Dimension.length(200.0f), Dimension.length(200.0f));
        node1Style.margin = new Rect<>(LengthPercentageAuto.length(20.0f), LengthPercentageAuto.length(20.0f), LengthPercentageAuto.length(20.0f), LengthPercentageAuto.length(20.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        node2Style.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node2 = tree.newLeaf(node2Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.flexWrap = FlexWrap.WRAP;
        nodeStyle.alignItems = AlignItems.CENTER;
        nodeStyle.alignContent = AlignContent.CENTER;
        nodeStyle.justifyContent = AlignContent.CENTER;
        nodeStyle.size = new Size<>(Dimension.length(700.0f), Dimension.length(500.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(700.0f, nodeLayout.size().width, "width of node");
        assertEquals(500.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(100.0f, node0Layout.size().width, "width of node0");
        assertEquals(180.0f, node0Layout.size().height, "height of node0");
        assertEquals(300.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(200.0f, node1Layout.size().width, "width of node1");
        assertEquals(180.0f, node1Layout.size().height, "height of node1");
        assertEquals(250.0f, node1Layout.location().x, "x of node1");
        assertEquals(200.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(100.0f, node2Layout.size().width, "width of node2");
        assertEquals(100.0f, node2Layout.size().height, "height of node2");
        assertEquals(300.0f, node2Layout.location().x, "x of node2");
        assertEquals(400.0f, node2Layout.location().y, "y of node2");
    }

    @Test
    @DisplayName("wrapped_row_within_align_items_center__border_box")
    void wrappedRowWithinAlignItemsCenterBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.size = new Size<>(Dimension.length(150.0f), Dimension.length(80.0f));
        NodeId node00 = tree.newLeaf(node00Style);

        Style node01Style = new Style();
        node01Style.size = new Size<>(Dimension.length(80.0f), Dimension.length(80.0f));
        NodeId node01 = tree.newLeaf(node01Style);

        Style node0Style = new Style();
        node0Style.flexWrap = FlexWrap.WRAP;
        NodeId node0 = tree.newWithChildren(node0Style, node00, node01);

        Style nodeStyle = new Style();
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.alignItems = AlignItems.CENTER;
        nodeStyle.size = new Size<>(Dimension.length(200.0f), Dimension.length(200.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(200.0f, nodeLayout.size().width, "width of node");
        assertEquals(200.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(200.0f, node0Layout.size().width, "width of node0");
        assertEquals(160.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(150.0f, node00Layout.size().width, "width of node00");
        assertEquals(80.0f, node00Layout.size().height, "height of node00");
        assertEquals(0.0f, node00Layout.location().x, "x of node00");
        assertEquals(0.0f, node00Layout.location().y, "y of node00");
        Layout node01Layout = tree.getLayout(node01);
        assertEquals(80.0f, node01Layout.size().width, "width of node01");
        assertEquals(80.0f, node01Layout.size().height, "height of node01");
        assertEquals(0.0f, node01Layout.location().x, "x of node01");
        assertEquals(80.0f, node01Layout.location().y, "y of node01");
    }

    @Test
    @DisplayName("wrapped_row_within_align_items_center__content_box")
    void wrappedRowWithinAlignItemsCenterContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.boxSizing = BoxSizing.CONTENT_BOX;
        node00Style.size = new Size<>(Dimension.length(150.0f), Dimension.length(80.0f));
        NodeId node00 = tree.newLeaf(node00Style);

        Style node01Style = new Style();
        node01Style.boxSizing = BoxSizing.CONTENT_BOX;
        node01Style.size = new Size<>(Dimension.length(80.0f), Dimension.length(80.0f));
        NodeId node01 = tree.newLeaf(node01Style);

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.flexWrap = FlexWrap.WRAP;
        NodeId node0 = tree.newWithChildren(node0Style, node00, node01);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.alignItems = AlignItems.CENTER;
        nodeStyle.size = new Size<>(Dimension.length(200.0f), Dimension.length(200.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(200.0f, nodeLayout.size().width, "width of node");
        assertEquals(200.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(200.0f, node0Layout.size().width, "width of node0");
        assertEquals(160.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(150.0f, node00Layout.size().width, "width of node00");
        assertEquals(80.0f, node00Layout.size().height, "height of node00");
        assertEquals(0.0f, node00Layout.location().x, "x of node00");
        assertEquals(0.0f, node00Layout.location().y, "y of node00");
        Layout node01Layout = tree.getLayout(node01);
        assertEquals(80.0f, node01Layout.size().width, "width of node01");
        assertEquals(80.0f, node01Layout.size().height, "height of node01");
        assertEquals(0.0f, node01Layout.location().x, "x of node01");
        assertEquals(80.0f, node01Layout.location().y, "y of node01");
    }

    @Test
    @DisplayName("wrapped_row_within_align_items_flex_end__border_box")
    void wrappedRowWithinAlignItemsFlexEndBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.size = new Size<>(Dimension.length(150.0f), Dimension.length(80.0f));
        NodeId node00 = tree.newLeaf(node00Style);

        Style node01Style = new Style();
        node01Style.size = new Size<>(Dimension.length(80.0f), Dimension.length(80.0f));
        NodeId node01 = tree.newLeaf(node01Style);

        Style node0Style = new Style();
        node0Style.flexWrap = FlexWrap.WRAP;
        NodeId node0 = tree.newWithChildren(node0Style, node00, node01);

        Style nodeStyle = new Style();
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.alignItems = AlignItems.FLEX_END;
        nodeStyle.size = new Size<>(Dimension.length(200.0f), Dimension.length(200.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(200.0f, nodeLayout.size().width, "width of node");
        assertEquals(200.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(200.0f, node0Layout.size().width, "width of node0");
        assertEquals(160.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(150.0f, node00Layout.size().width, "width of node00");
        assertEquals(80.0f, node00Layout.size().height, "height of node00");
        assertEquals(0.0f, node00Layout.location().x, "x of node00");
        assertEquals(0.0f, node00Layout.location().y, "y of node00");
        Layout node01Layout = tree.getLayout(node01);
        assertEquals(80.0f, node01Layout.size().width, "width of node01");
        assertEquals(80.0f, node01Layout.size().height, "height of node01");
        assertEquals(0.0f, node01Layout.location().x, "x of node01");
        assertEquals(80.0f, node01Layout.location().y, "y of node01");
    }

    @Test
    @DisplayName("wrapped_row_within_align_items_flex_end__content_box")
    void wrappedRowWithinAlignItemsFlexEndContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.boxSizing = BoxSizing.CONTENT_BOX;
        node00Style.size = new Size<>(Dimension.length(150.0f), Dimension.length(80.0f));
        NodeId node00 = tree.newLeaf(node00Style);

        Style node01Style = new Style();
        node01Style.boxSizing = BoxSizing.CONTENT_BOX;
        node01Style.size = new Size<>(Dimension.length(80.0f), Dimension.length(80.0f));
        NodeId node01 = tree.newLeaf(node01Style);

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.flexWrap = FlexWrap.WRAP;
        NodeId node0 = tree.newWithChildren(node0Style, node00, node01);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.alignItems = AlignItems.FLEX_END;
        nodeStyle.size = new Size<>(Dimension.length(200.0f), Dimension.length(200.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(200.0f, nodeLayout.size().width, "width of node");
        assertEquals(200.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(200.0f, node0Layout.size().width, "width of node0");
        assertEquals(160.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(150.0f, node00Layout.size().width, "width of node00");
        assertEquals(80.0f, node00Layout.size().height, "height of node00");
        assertEquals(0.0f, node00Layout.location().x, "x of node00");
        assertEquals(0.0f, node00Layout.location().y, "y of node00");
        Layout node01Layout = tree.getLayout(node01);
        assertEquals(80.0f, node01Layout.size().width, "width of node01");
        assertEquals(80.0f, node01Layout.size().height, "height of node01");
        assertEquals(0.0f, node01Layout.location().x, "x of node01");
        assertEquals(80.0f, node01Layout.location().y, "y of node01");
    }

    @Test
    @DisplayName("wrapped_row_within_align_items_flex_start__border_box")
    void wrappedRowWithinAlignItemsFlexStartBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.size = new Size<>(Dimension.length(150.0f), Dimension.length(80.0f));
        NodeId node00 = tree.newLeaf(node00Style);

        Style node01Style = new Style();
        node01Style.size = new Size<>(Dimension.length(80.0f), Dimension.length(80.0f));
        NodeId node01 = tree.newLeaf(node01Style);

        Style node0Style = new Style();
        node0Style.flexWrap = FlexWrap.WRAP;
        NodeId node0 = tree.newWithChildren(node0Style, node00, node01);

        Style nodeStyle = new Style();
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.alignItems = AlignItems.FLEX_START;
        nodeStyle.size = new Size<>(Dimension.length(200.0f), Dimension.length(200.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(200.0f, nodeLayout.size().width, "width of node");
        assertEquals(200.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(200.0f, node0Layout.size().width, "width of node0");
        assertEquals(160.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(150.0f, node00Layout.size().width, "width of node00");
        assertEquals(80.0f, node00Layout.size().height, "height of node00");
        assertEquals(0.0f, node00Layout.location().x, "x of node00");
        assertEquals(0.0f, node00Layout.location().y, "y of node00");
        Layout node01Layout = tree.getLayout(node01);
        assertEquals(80.0f, node01Layout.size().width, "width of node01");
        assertEquals(80.0f, node01Layout.size().height, "height of node01");
        assertEquals(0.0f, node01Layout.location().x, "x of node01");
        assertEquals(80.0f, node01Layout.location().y, "y of node01");
    }

    @Test
    @DisplayName("wrapped_row_within_align_items_flex_start__content_box")
    void wrappedRowWithinAlignItemsFlexStartContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.boxSizing = BoxSizing.CONTENT_BOX;
        node00Style.size = new Size<>(Dimension.length(150.0f), Dimension.length(80.0f));
        NodeId node00 = tree.newLeaf(node00Style);

        Style node01Style = new Style();
        node01Style.boxSizing = BoxSizing.CONTENT_BOX;
        node01Style.size = new Size<>(Dimension.length(80.0f), Dimension.length(80.0f));
        NodeId node01 = tree.newLeaf(node01Style);

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.flexWrap = FlexWrap.WRAP;
        NodeId node0 = tree.newWithChildren(node0Style, node00, node01);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.flexDirection = FlexDirection.COLUMN;
        nodeStyle.alignItems = AlignItems.FLEX_START;
        nodeStyle.size = new Size<>(Dimension.length(200.0f), Dimension.length(200.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(200.0f, nodeLayout.size().width, "width of node");
        assertEquals(200.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(200.0f, node0Layout.size().width, "width of node0");
        assertEquals(160.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(150.0f, node00Layout.size().width, "width of node00");
        assertEquals(80.0f, node00Layout.size().height, "height of node00");
        assertEquals(0.0f, node00Layout.location().x, "x of node00");
        assertEquals(0.0f, node00Layout.location().y, "y of node00");
        Layout node01Layout = tree.getLayout(node01);
        assertEquals(80.0f, node01Layout.size().width, "width of node01");
        assertEquals(80.0f, node01Layout.size().height, "height of node01");
        assertEquals(0.0f, node01Layout.location().x, "x of node01");
        assertEquals(80.0f, node01Layout.location().y, "y of node01");
    }

}
