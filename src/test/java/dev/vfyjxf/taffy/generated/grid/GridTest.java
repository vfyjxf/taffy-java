package dev.vfyjxf.taffy.generated.grid;

import dev.vfyjxf.taffy.geometry.*;
import dev.vfyjxf.taffy.style.*;
import dev.vfyjxf.taffy.tree.*;
import dev.vfyjxf.taffy.util.MeasureFunc;
import org.junit.jupiter.api.Test;
import org.junit.jupiter.api.DisplayName;
import static org.junit.jupiter.api.Assertions.*;

/**
 * Generated tests for grid layout fixtures.
 */
public class GridTest {

    private static final float EPSILON = 0.1f;

    private static MeasureFunc ahemTextMeasure(String text, boolean vertical) {
        final String trimmed = text == null ? "" : text.trim();
        return (knownDimensions, availableSpace) -> {
            if (!Float.isNaN(knownDimensions.width) && !Float.isNaN(knownDimensions.height)) {
                return new FloatSize(knownDimensions.width, knownDimensions.height);
            }

            final char ZWS = '\u200B';
            final float H_WIDTH = 10.0f;
            final float H_HEIGHT = 10.0f;

            String[] parts = trimmed.isEmpty() ? new String[0] : trimmed.split(String.valueOf(ZWS), -1);
            if (parts.length == 0) {
                float w = !Float.isNaN(knownDimensions.width) ? knownDimensions.width : 0.0f;
                float h = !Float.isNaN(knownDimensions.height) ? knownDimensions.height : 0.0f;
                return new FloatSize(w, h);
            }

            int minLineLength = 0;
            int maxLineLength = 0;
            for (String p : parts) {
                int len = p.length();
                if (len > minLineLength) minLineLength = len;
                maxLineLength += len;
            }

            float knownInline = vertical ? knownDimensions.height : knownDimensions.width;
            float knownBlock = vertical ? knownDimensions.width : knownDimensions.height;
            AvailableSpace availInline = vertical ? availableSpace.height : availableSpace.width;

            float inlineSize;
            if (!Float.isNaN(knownInline)) {
                inlineSize = knownInline;
            } else if (availInline != null && availInline.isMinContent()) {
                inlineSize = minLineLength * H_WIDTH;
            } else if (availInline != null && availInline.isMaxContent()) {
                inlineSize = maxLineLength * H_WIDTH;
            } else if (availInline != null && availInline.isDefinite()) {
                inlineSize = Math.min(availInline.getValue(), maxLineLength * H_WIDTH);
            } else {
                inlineSize = maxLineLength * H_WIDTH;
            }
            inlineSize = Math.max(inlineSize, minLineLength * H_WIDTH);

            float blockSize;
            if (!Float.isNaN(knownBlock)) {
                blockSize = knownBlock;
            } else {
                int inlineLineLength = (int) Math.floor(inlineSize / H_WIDTH);
                int lineCount = 1;
                int currentLineLength = 0;
                for (String p : parts) {
                    int len = p.length();
                    if (currentLineLength + len > inlineLineLength) {
                        if (currentLineLength > 0) {
                            lineCount += 1;
                        }
                        currentLineLength = len;
                    } else {
                        currentLineLength += len;
                    }
                }
                blockSize = lineCount * H_HEIGHT;
            }

            FloatSize computed = vertical
                ? new FloatSize(blockSize, inlineSize)
                : new FloatSize(inlineSize, blockSize);

            float outW = !Float.isNaN(knownDimensions.width) ? knownDimensions.width : computed.width;
            float outH = !Float.isNaN(knownDimensions.height) ? knownDimensions.height : computed.height;
            return new FloatSize(outW, outH);
        };
    }

    @Test
    @DisplayName("absolute_correct_cross_child_size_with_percentage__border_box")
    void absoluteCorrectCrossChildSizeWithPercentageBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.size = new Size<>(Dimension.length(200.0f), Dimension.length(10.0f));
        NodeId node00 = tree.newLeaf(node00Style);

        Style node01Style = new Style();
        node01Style.size = new Size<>(Dimension.percent(1.0f), Dimension.length(10.0f));
        NodeId node01 = tree.newLeaf(node01Style);

        Style node020Style = new Style();
        node020Style.size = new Size<>(Dimension.length(10.0f), Dimension.length(10.0f));
        NodeId node020 = tree.newLeaf(node020Style);

        Style node02Style = new Style();
        node02Style.size = new Size<>(Dimension.percent(1.0f), Dimension.length(10.0f));
        NodeId node02 = tree.newWithChildren(node02Style, node020);

        Style node0Style = new Style();
        node0Style.position = Position.ABSOLUTE;
        node0Style.flexDirection = FlexDirection.COLUMN;
        node0Style.inset = new Rect<>(LengthPercentageAuto.length(50.0f), LengthPercentageAuto.AUTO, LengthPercentageAuto.length(40.0f), LengthPercentageAuto.AUTO);
        NodeId node0 = tree.newWithChildren(node0Style, node00, node01, node02);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.size = new Size<>(Dimension.length(300.0f), Dimension.length(110.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(300.0f, nodeLayout.size().width, "width of node");
        assertEquals(110.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(200.0f, node0Layout.size().width, "width of node0");
        assertEquals(30.0f, node0Layout.size().height, "height of node0");
        assertEquals(50.0f, node0Layout.location().x, "x of node0");
        assertEquals(40.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(200.0f, node00Layout.size().width, "width of node00");
        assertEquals(10.0f, node00Layout.size().height, "height of node00");
        assertEquals(0.0f, node00Layout.location().x, "x of node00");
        assertEquals(0.0f, node00Layout.location().y, "y of node00");
        Layout node01Layout = tree.getLayout(node01);
        assertEquals(200.0f, node01Layout.size().width, "width of node01");
        assertEquals(10.0f, node01Layout.size().height, "height of node01");
        assertEquals(0.0f, node01Layout.location().x, "x of node01");
        assertEquals(10.0f, node01Layout.location().y, "y of node01");
        Layout node02Layout = tree.getLayout(node02);
        assertEquals(200.0f, node02Layout.size().width, "width of node02");
        assertEquals(10.0f, node02Layout.size().height, "height of node02");
        assertEquals(0.0f, node02Layout.location().x, "x of node02");
        assertEquals(20.0f, node02Layout.location().y, "y of node02");
        Layout node020Layout = tree.getLayout(node020);
        assertEquals(10.0f, node020Layout.size().width, "width of node020");
        assertEquals(10.0f, node020Layout.size().height, "height of node020");
        assertEquals(0.0f, node020Layout.location().x, "x of node020");
        assertEquals(0.0f, node020Layout.location().y, "y of node020");
    }

    @Test
    @DisplayName("absolute_correct_cross_child_size_with_percentage__content_box")
    void absoluteCorrectCrossChildSizeWithPercentageContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.boxSizing = BoxSizing.CONTENT_BOX;
        node00Style.size = new Size<>(Dimension.length(200.0f), Dimension.length(10.0f));
        NodeId node00 = tree.newLeaf(node00Style);

        Style node01Style = new Style();
        node01Style.boxSizing = BoxSizing.CONTENT_BOX;
        node01Style.size = new Size<>(Dimension.percent(1.0f), Dimension.length(10.0f));
        NodeId node01 = tree.newLeaf(node01Style);

        Style node020Style = new Style();
        node020Style.boxSizing = BoxSizing.CONTENT_BOX;
        node020Style.size = new Size<>(Dimension.length(10.0f), Dimension.length(10.0f));
        NodeId node020 = tree.newLeaf(node020Style);

        Style node02Style = new Style();
        node02Style.boxSizing = BoxSizing.CONTENT_BOX;
        node02Style.size = new Size<>(Dimension.percent(1.0f), Dimension.length(10.0f));
        NodeId node02 = tree.newWithChildren(node02Style, node020);

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.position = Position.ABSOLUTE;
        node0Style.flexDirection = FlexDirection.COLUMN;
        node0Style.inset = new Rect<>(LengthPercentageAuto.length(50.0f), LengthPercentageAuto.AUTO, LengthPercentageAuto.length(40.0f), LengthPercentageAuto.AUTO);
        NodeId node0 = tree.newWithChildren(node0Style, node00, node01, node02);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.size = new Size<>(Dimension.length(300.0f), Dimension.length(110.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(300.0f, nodeLayout.size().width, "width of node");
        assertEquals(110.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(200.0f, node0Layout.size().width, "width of node0");
        assertEquals(30.0f, node0Layout.size().height, "height of node0");
        assertEquals(50.0f, node0Layout.location().x, "x of node0");
        assertEquals(40.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(200.0f, node00Layout.size().width, "width of node00");
        assertEquals(10.0f, node00Layout.size().height, "height of node00");
        assertEquals(0.0f, node00Layout.location().x, "x of node00");
        assertEquals(0.0f, node00Layout.location().y, "y of node00");
        Layout node01Layout = tree.getLayout(node01);
        assertEquals(200.0f, node01Layout.size().width, "width of node01");
        assertEquals(10.0f, node01Layout.size().height, "height of node01");
        assertEquals(0.0f, node01Layout.location().x, "x of node01");
        assertEquals(10.0f, node01Layout.location().y, "y of node01");
        Layout node02Layout = tree.getLayout(node02);
        assertEquals(200.0f, node02Layout.size().width, "width of node02");
        assertEquals(10.0f, node02Layout.size().height, "height of node02");
        assertEquals(0.0f, node02Layout.location().x, "x of node02");
        assertEquals(20.0f, node02Layout.location().y, "y of node02");
        Layout node020Layout = tree.getLayout(node020);
        assertEquals(10.0f, node020Layout.size().width, "width of node020");
        assertEquals(10.0f, node020Layout.size().height, "height of node020");
        assertEquals(0.0f, node020Layout.location().x, "x of node020");
        assertEquals(0.0f, node020Layout.location().y, "y of node020");
    }

    @Test
    @DisplayName("chrome_issue_325928327__border_box")
    void chromeIssue325928327BorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.size = new Size<>(Dimension.AUTO, Dimension.percent(1.0f));
        node00Style.aspectRatio = 1.0f;
        NodeId node00 = tree.newLeaf(node00Style);

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.AUTO, Dimension.percent(1.0f));
        NodeId node0 = tree.newWithChildren(node0Style, node00);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.justifyItems = AlignItems.CENTER;
        nodeStyle.size = new Size<>(Dimension.percent(1.0f), Dimension.length(40.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(40.0f, nodeLayout.size().width, "width of node");
        assertEquals(40.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(40.0f, node00Layout.size().width, "width of node00");
        assertEquals(40.0f, node00Layout.size().height, "height of node00");
        assertEquals(0.0f, node00Layout.location().x, "x of node00");
        assertEquals(0.0f, node00Layout.location().y, "y of node00");
    }

    @Test
    @DisplayName("chrome_issue_325928327__content_box")
    void chromeIssue325928327ContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.boxSizing = BoxSizing.CONTENT_BOX;
        node00Style.size = new Size<>(Dimension.AUTO, Dimension.percent(1.0f));
        node00Style.aspectRatio = 1.0f;
        NodeId node00 = tree.newLeaf(node00Style);

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.AUTO, Dimension.percent(1.0f));
        NodeId node0 = tree.newWithChildren(node0Style, node00);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.justifyItems = AlignItems.CENTER;
        nodeStyle.size = new Size<>(Dimension.percent(1.0f), Dimension.length(40.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(40.0f, nodeLayout.size().width, "width of node");
        assertEquals(40.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(40.0f, node00Layout.size().width, "width of node00");
        assertEquals(40.0f, node00Layout.size().height, "height of node00");
        assertEquals(0.0f, node00Layout.location().x, "x of node00");
        assertEquals(0.0f, node00Layout.location().y, "y of node00");
    }

    @Test
    @DisplayName("grid_absolute_align_self_sized_all__border_box")
    void gridAbsoluteAlignSelfSizedAllBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.position = Position.ABSOLUTE;
        node0Style.alignSelf = AlignItems.START;
        node0Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.position = Position.ABSOLUTE;
        node1Style.alignSelf = AlignItems.START;
        node1Style.size = new Size<>(Dimension.length(60.0f), Dimension.length(60.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.position = Position.ABSOLUTE;
        node2Style.alignSelf = AlignItems.END;
        node2Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        node3Style.position = Position.ABSOLUTE;
        node3Style.alignSelf = AlignItems.END;
        node3Style.size = new Size<>(Dimension.length(60.0f), Dimension.length(60.0f));
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        node4Style.position = Position.ABSOLUTE;
        node4Style.alignSelf = AlignItems.CENTER;
        node4Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        NodeId node4 = tree.newLeaf(node4Style);

        Style node5Style = new Style();
        node5Style.position = Position.ABSOLUTE;
        node5Style.alignSelf = AlignItems.CENTER;
        node5Style.size = new Size<>(Dimension.length(60.0f), Dimension.length(60.0f));
        NodeId node5 = tree.newLeaf(node5Style);

        Style node6Style = new Style();
        node6Style.position = Position.ABSOLUTE;
        node6Style.alignSelf = AlignItems.STRETCH;
        node6Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        NodeId node6 = tree.newLeaf(node6Style);

        Style node7Style = new Style();
        node7Style.position = Position.ABSOLUTE;
        node7Style.alignSelf = AlignItems.STRETCH;
        node7Style.size = new Size<>(Dimension.length(60.0f), Dimension.length(60.0f));
        NodeId node7 = tree.newLeaf(node7Style);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.size = new Size<>(Dimension.length(120.0f), Dimension.length(120.0f));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5, node6, node7);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(120.0f, nodeLayout.size().width, "width of node");
        assertEquals(120.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(20.0f, node0Layout.size().width, "width of node0");
        assertEquals(20.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(60.0f, node1Layout.size().width, "width of node1");
        assertEquals(60.0f, node1Layout.size().height, "height of node1");
        assertEquals(0.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(20.0f, node2Layout.size().width, "width of node2");
        assertEquals(20.0f, node2Layout.size().height, "height of node2");
        assertEquals(0.0f, node2Layout.location().x, "x of node2");
        assertEquals(100.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(60.0f, node3Layout.size().width, "width of node3");
        assertEquals(60.0f, node3Layout.size().height, "height of node3");
        assertEquals(0.0f, node3Layout.location().x, "x of node3");
        assertEquals(60.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(20.0f, node4Layout.size().width, "width of node4");
        assertEquals(20.0f, node4Layout.size().height, "height of node4");
        assertEquals(0.0f, node4Layout.location().x, "x of node4");
        assertEquals(50.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(60.0f, node5Layout.size().width, "width of node5");
        assertEquals(60.0f, node5Layout.size().height, "height of node5");
        assertEquals(0.0f, node5Layout.location().x, "x of node5");
        assertEquals(30.0f, node5Layout.location().y, "y of node5");
        Layout node6Layout = tree.getLayout(node6);
        assertEquals(20.0f, node6Layout.size().width, "width of node6");
        assertEquals(20.0f, node6Layout.size().height, "height of node6");
        assertEquals(0.0f, node6Layout.location().x, "x of node6");
        assertEquals(0.0f, node6Layout.location().y, "y of node6");
        Layout node7Layout = tree.getLayout(node7);
        assertEquals(60.0f, node7Layout.size().width, "width of node7");
        assertEquals(60.0f, node7Layout.size().height, "height of node7");
        assertEquals(0.0f, node7Layout.location().x, "x of node7");
        assertEquals(0.0f, node7Layout.location().y, "y of node7");
    }

    @Test
    @DisplayName("grid_absolute_align_self_sized_all__content_box")
    void gridAbsoluteAlignSelfSizedAllContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.position = Position.ABSOLUTE;
        node0Style.alignSelf = AlignItems.START;
        node0Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.position = Position.ABSOLUTE;
        node1Style.alignSelf = AlignItems.START;
        node1Style.size = new Size<>(Dimension.length(60.0f), Dimension.length(60.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        node2Style.position = Position.ABSOLUTE;
        node2Style.alignSelf = AlignItems.END;
        node2Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        node3Style.boxSizing = BoxSizing.CONTENT_BOX;
        node3Style.position = Position.ABSOLUTE;
        node3Style.alignSelf = AlignItems.END;
        node3Style.size = new Size<>(Dimension.length(60.0f), Dimension.length(60.0f));
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        node4Style.boxSizing = BoxSizing.CONTENT_BOX;
        node4Style.position = Position.ABSOLUTE;
        node4Style.alignSelf = AlignItems.CENTER;
        node4Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        NodeId node4 = tree.newLeaf(node4Style);

        Style node5Style = new Style();
        node5Style.boxSizing = BoxSizing.CONTENT_BOX;
        node5Style.position = Position.ABSOLUTE;
        node5Style.alignSelf = AlignItems.CENTER;
        node5Style.size = new Size<>(Dimension.length(60.0f), Dimension.length(60.0f));
        NodeId node5 = tree.newLeaf(node5Style);

        Style node6Style = new Style();
        node6Style.boxSizing = BoxSizing.CONTENT_BOX;
        node6Style.position = Position.ABSOLUTE;
        node6Style.alignSelf = AlignItems.STRETCH;
        node6Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        NodeId node6 = tree.newLeaf(node6Style);

        Style node7Style = new Style();
        node7Style.boxSizing = BoxSizing.CONTENT_BOX;
        node7Style.position = Position.ABSOLUTE;
        node7Style.alignSelf = AlignItems.STRETCH;
        node7Style.size = new Size<>(Dimension.length(60.0f), Dimension.length(60.0f));
        NodeId node7 = tree.newLeaf(node7Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.size = new Size<>(Dimension.length(120.0f), Dimension.length(120.0f));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5, node6, node7);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(120.0f, nodeLayout.size().width, "width of node");
        assertEquals(120.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(20.0f, node0Layout.size().width, "width of node0");
        assertEquals(20.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(60.0f, node1Layout.size().width, "width of node1");
        assertEquals(60.0f, node1Layout.size().height, "height of node1");
        assertEquals(0.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(20.0f, node2Layout.size().width, "width of node2");
        assertEquals(20.0f, node2Layout.size().height, "height of node2");
        assertEquals(0.0f, node2Layout.location().x, "x of node2");
        assertEquals(100.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(60.0f, node3Layout.size().width, "width of node3");
        assertEquals(60.0f, node3Layout.size().height, "height of node3");
        assertEquals(0.0f, node3Layout.location().x, "x of node3");
        assertEquals(60.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(20.0f, node4Layout.size().width, "width of node4");
        assertEquals(20.0f, node4Layout.size().height, "height of node4");
        assertEquals(0.0f, node4Layout.location().x, "x of node4");
        assertEquals(50.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(60.0f, node5Layout.size().width, "width of node5");
        assertEquals(60.0f, node5Layout.size().height, "height of node5");
        assertEquals(0.0f, node5Layout.location().x, "x of node5");
        assertEquals(30.0f, node5Layout.location().y, "y of node5");
        Layout node6Layout = tree.getLayout(node6);
        assertEquals(20.0f, node6Layout.size().width, "width of node6");
        assertEquals(20.0f, node6Layout.size().height, "height of node6");
        assertEquals(0.0f, node6Layout.location().x, "x of node6");
        assertEquals(0.0f, node6Layout.location().y, "y of node6");
        Layout node7Layout = tree.getLayout(node7);
        assertEquals(60.0f, node7Layout.size().width, "width of node7");
        assertEquals(60.0f, node7Layout.size().height, "height of node7");
        assertEquals(0.0f, node7Layout.location().x, "x of node7");
        assertEquals(0.0f, node7Layout.location().y, "y of node7");
    }

    @Test
    @DisplayName("grid_absolute_column_end__border_box")
    void gridAbsoluteColumnEndBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.position = Position.ABSOLUTE;
        node0Style.inset = new Rect<>(LengthPercentageAuto.length(4.0f), LengthPercentageAuto.length(3.0f), LengthPercentageAuto.length(1.0f), LengthPercentageAuto.length(2.0f));
        node0Style.gridColumn = new Line<>(GridPlacement.auto(), GridPlacement.line(1));
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.padding = new Rect<>(LengthPercentage.length(40.0f), LengthPercentage.length(20.0f), LengthPercentage.length(10.0f), LengthPercentage.length(30.0f));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(180.0f, nodeLayout.size().width, "width of node");
        assertEquals(160.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(33.0f, node0Layout.size().width, "width of node0");
        assertEquals(157.0f, node0Layout.size().height, "height of node0");
        assertEquals(4.0f, node0Layout.location().x, "x of node0");
        assertEquals(1.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("grid_absolute_column_end__content_box")
    void gridAbsoluteColumnEndContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.position = Position.ABSOLUTE;
        node0Style.inset = new Rect<>(LengthPercentageAuto.length(4.0f), LengthPercentageAuto.length(3.0f), LengthPercentageAuto.length(1.0f), LengthPercentageAuto.length(2.0f));
        node0Style.gridColumn = new Line<>(GridPlacement.auto(), GridPlacement.line(1));
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.padding = new Rect<>(LengthPercentage.length(40.0f), LengthPercentage.length(20.0f), LengthPercentage.length(10.0f), LengthPercentage.length(30.0f));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(180.0f, nodeLayout.size().width, "width of node");
        assertEquals(160.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(33.0f, node0Layout.size().width, "width of node0");
        assertEquals(157.0f, node0Layout.size().height, "height of node0");
        assertEquals(4.0f, node0Layout.location().x, "x of node0");
        assertEquals(1.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("grid_absolute_column_start__border_box")
    void gridAbsoluteColumnStartBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.position = Position.ABSOLUTE;
        node0Style.inset = new Rect<>(LengthPercentageAuto.length(4.0f), LengthPercentageAuto.length(3.0f), LengthPercentageAuto.length(1.0f), LengthPercentageAuto.length(2.0f));
        node0Style.gridColumn = new Line<>(GridPlacement.line(1), GridPlacement.auto());
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.padding = new Rect<>(LengthPercentage.length(40.0f), LengthPercentage.length(20.0f), LengthPercentage.length(10.0f), LengthPercentage.length(30.0f));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(180.0f, nodeLayout.size().width, "width of node");
        assertEquals(160.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(133.0f, node0Layout.size().width, "width of node0");
        assertEquals(157.0f, node0Layout.size().height, "height of node0");
        assertEquals(44.0f, node0Layout.location().x, "x of node0");
        assertEquals(1.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("grid_absolute_column_start__content_box")
    void gridAbsoluteColumnStartContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.position = Position.ABSOLUTE;
        node0Style.inset = new Rect<>(LengthPercentageAuto.length(4.0f), LengthPercentageAuto.length(3.0f), LengthPercentageAuto.length(1.0f), LengthPercentageAuto.length(2.0f));
        node0Style.gridColumn = new Line<>(GridPlacement.line(1), GridPlacement.auto());
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.padding = new Rect<>(LengthPercentage.length(40.0f), LengthPercentage.length(20.0f), LengthPercentage.length(10.0f), LengthPercentage.length(30.0f));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(180.0f, nodeLayout.size().width, "width of node");
        assertEquals(160.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(133.0f, node0Layout.size().width, "width of node0");
        assertEquals(157.0f, node0Layout.size().height, "height of node0");
        assertEquals(44.0f, node0Layout.location().x, "x of node0");
        assertEquals(1.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("grid_absolute_container_bottom_left__border_box")
    void gridAbsoluteContainerBottomLeftBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.position = Position.ABSOLUTE;
        node0Style.inset = new Rect<>(LengthPercentageAuto.length(0.0f), LengthPercentageAuto.AUTO, LengthPercentageAuto.AUTO, LengthPercentageAuto.length(0.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        NodeId node4 = tree.newLeaf(node4Style);

        Style node5Style = new Style();
        NodeId node5 = tree.newLeaf(node5Style);

        Style node6Style = new Style();
        NodeId node6 = tree.newLeaf(node6Style);

        Style node7Style = new Style();
        NodeId node7 = tree.newLeaf(node7Style);

        Style node8Style = new Style();
        NodeId node8 = tree.newLeaf(node8Style);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.padding = new Rect<>(LengthPercentage.length(40.0f), LengthPercentage.length(20.0f), LengthPercentage.length(10.0f), LengthPercentage.length(30.0f));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5, node6, node7, node8);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(180.0f, nodeLayout.size().width, "width of node");
        assertEquals(160.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(0.0f, node0Layout.size().width, "width of node0");
        assertEquals(0.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(160.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(40.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(40.0f, node1Layout.location().x, "x of node1");
        assertEquals(10.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(40.0f, node2Layout.size().width, "width of node2");
        assertEquals(40.0f, node2Layout.size().height, "height of node2");
        assertEquals(80.0f, node2Layout.location().x, "x of node2");
        assertEquals(10.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(40.0f, node3Layout.size().width, "width of node3");
        assertEquals(40.0f, node3Layout.size().height, "height of node3");
        assertEquals(120.0f, node3Layout.location().x, "x of node3");
        assertEquals(10.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(40.0f, node4Layout.size().width, "width of node4");
        assertEquals(40.0f, node4Layout.size().height, "height of node4");
        assertEquals(40.0f, node4Layout.location().x, "x of node4");
        assertEquals(50.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(40.0f, node5Layout.size().width, "width of node5");
        assertEquals(40.0f, node5Layout.size().height, "height of node5");
        assertEquals(80.0f, node5Layout.location().x, "x of node5");
        assertEquals(50.0f, node5Layout.location().y, "y of node5");
        Layout node6Layout = tree.getLayout(node6);
        assertEquals(40.0f, node6Layout.size().width, "width of node6");
        assertEquals(40.0f, node6Layout.size().height, "height of node6");
        assertEquals(120.0f, node6Layout.location().x, "x of node6");
        assertEquals(50.0f, node6Layout.location().y, "y of node6");
        Layout node7Layout = tree.getLayout(node7);
        assertEquals(40.0f, node7Layout.size().width, "width of node7");
        assertEquals(40.0f, node7Layout.size().height, "height of node7");
        assertEquals(40.0f, node7Layout.location().x, "x of node7");
        assertEquals(90.0f, node7Layout.location().y, "y of node7");
        Layout node8Layout = tree.getLayout(node8);
        assertEquals(40.0f, node8Layout.size().width, "width of node8");
        assertEquals(40.0f, node8Layout.size().height, "height of node8");
        assertEquals(80.0f, node8Layout.location().x, "x of node8");
        assertEquals(90.0f, node8Layout.location().y, "y of node8");
    }

    @Test
    @DisplayName("grid_absolute_container_bottom_left__content_box")
    void gridAbsoluteContainerBottomLeftContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.position = Position.ABSOLUTE;
        node0Style.inset = new Rect<>(LengthPercentageAuto.length(0.0f), LengthPercentageAuto.AUTO, LengthPercentageAuto.AUTO, LengthPercentageAuto.length(0.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        node3Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        node4Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node4 = tree.newLeaf(node4Style);

        Style node5Style = new Style();
        node5Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node5 = tree.newLeaf(node5Style);

        Style node6Style = new Style();
        node6Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node6 = tree.newLeaf(node6Style);

        Style node7Style = new Style();
        node7Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node7 = tree.newLeaf(node7Style);

        Style node8Style = new Style();
        node8Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node8 = tree.newLeaf(node8Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.padding = new Rect<>(LengthPercentage.length(40.0f), LengthPercentage.length(20.0f), LengthPercentage.length(10.0f), LengthPercentage.length(30.0f));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5, node6, node7, node8);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(180.0f, nodeLayout.size().width, "width of node");
        assertEquals(160.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(0.0f, node0Layout.size().width, "width of node0");
        assertEquals(0.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(160.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(40.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(40.0f, node1Layout.location().x, "x of node1");
        assertEquals(10.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(40.0f, node2Layout.size().width, "width of node2");
        assertEquals(40.0f, node2Layout.size().height, "height of node2");
        assertEquals(80.0f, node2Layout.location().x, "x of node2");
        assertEquals(10.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(40.0f, node3Layout.size().width, "width of node3");
        assertEquals(40.0f, node3Layout.size().height, "height of node3");
        assertEquals(120.0f, node3Layout.location().x, "x of node3");
        assertEquals(10.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(40.0f, node4Layout.size().width, "width of node4");
        assertEquals(40.0f, node4Layout.size().height, "height of node4");
        assertEquals(40.0f, node4Layout.location().x, "x of node4");
        assertEquals(50.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(40.0f, node5Layout.size().width, "width of node5");
        assertEquals(40.0f, node5Layout.size().height, "height of node5");
        assertEquals(80.0f, node5Layout.location().x, "x of node5");
        assertEquals(50.0f, node5Layout.location().y, "y of node5");
        Layout node6Layout = tree.getLayout(node6);
        assertEquals(40.0f, node6Layout.size().width, "width of node6");
        assertEquals(40.0f, node6Layout.size().height, "height of node6");
        assertEquals(120.0f, node6Layout.location().x, "x of node6");
        assertEquals(50.0f, node6Layout.location().y, "y of node6");
        Layout node7Layout = tree.getLayout(node7);
        assertEquals(40.0f, node7Layout.size().width, "width of node7");
        assertEquals(40.0f, node7Layout.size().height, "height of node7");
        assertEquals(40.0f, node7Layout.location().x, "x of node7");
        assertEquals(90.0f, node7Layout.location().y, "y of node7");
        Layout node8Layout = tree.getLayout(node8);
        assertEquals(40.0f, node8Layout.size().width, "width of node8");
        assertEquals(40.0f, node8Layout.size().height, "height of node8");
        assertEquals(80.0f, node8Layout.location().x, "x of node8");
        assertEquals(90.0f, node8Layout.location().y, "y of node8");
    }

    @Test
    @DisplayName("grid_absolute_container_bottom_left_margin__border_box")
    void gridAbsoluteContainerBottomLeftMarginBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.position = Position.ABSOLUTE;
        node0Style.size = new Size<>(Dimension.length(10.0f), Dimension.length(10.0f));
        node0Style.margin = new Rect<>(LengthPercentageAuto.length(4.0f), LengthPercentageAuto.length(2.0f), LengthPercentageAuto.length(1.0f), LengthPercentageAuto.length(3.0f));
        node0Style.inset = new Rect<>(LengthPercentageAuto.length(0.0f), LengthPercentageAuto.AUTO, LengthPercentageAuto.AUTO, LengthPercentageAuto.length(0.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        NodeId node4 = tree.newLeaf(node4Style);

        Style node5Style = new Style();
        NodeId node5 = tree.newLeaf(node5Style);

        Style node6Style = new Style();
        NodeId node6 = tree.newLeaf(node6Style);

        Style node7Style = new Style();
        NodeId node7 = tree.newLeaf(node7Style);

        Style node8Style = new Style();
        NodeId node8 = tree.newLeaf(node8Style);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.padding = new Rect<>(LengthPercentage.length(40.0f), LengthPercentage.length(20.0f), LengthPercentage.length(10.0f), LengthPercentage.length(30.0f));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5, node6, node7, node8);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(180.0f, nodeLayout.size().width, "width of node");
        assertEquals(160.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(10.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(4.0f, node0Layout.location().x, "x of node0");
        assertEquals(147.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(40.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(40.0f, node1Layout.location().x, "x of node1");
        assertEquals(10.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(40.0f, node2Layout.size().width, "width of node2");
        assertEquals(40.0f, node2Layout.size().height, "height of node2");
        assertEquals(80.0f, node2Layout.location().x, "x of node2");
        assertEquals(10.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(40.0f, node3Layout.size().width, "width of node3");
        assertEquals(40.0f, node3Layout.size().height, "height of node3");
        assertEquals(120.0f, node3Layout.location().x, "x of node3");
        assertEquals(10.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(40.0f, node4Layout.size().width, "width of node4");
        assertEquals(40.0f, node4Layout.size().height, "height of node4");
        assertEquals(40.0f, node4Layout.location().x, "x of node4");
        assertEquals(50.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(40.0f, node5Layout.size().width, "width of node5");
        assertEquals(40.0f, node5Layout.size().height, "height of node5");
        assertEquals(80.0f, node5Layout.location().x, "x of node5");
        assertEquals(50.0f, node5Layout.location().y, "y of node5");
        Layout node6Layout = tree.getLayout(node6);
        assertEquals(40.0f, node6Layout.size().width, "width of node6");
        assertEquals(40.0f, node6Layout.size().height, "height of node6");
        assertEquals(120.0f, node6Layout.location().x, "x of node6");
        assertEquals(50.0f, node6Layout.location().y, "y of node6");
        Layout node7Layout = tree.getLayout(node7);
        assertEquals(40.0f, node7Layout.size().width, "width of node7");
        assertEquals(40.0f, node7Layout.size().height, "height of node7");
        assertEquals(40.0f, node7Layout.location().x, "x of node7");
        assertEquals(90.0f, node7Layout.location().y, "y of node7");
        Layout node8Layout = tree.getLayout(node8);
        assertEquals(40.0f, node8Layout.size().width, "width of node8");
        assertEquals(40.0f, node8Layout.size().height, "height of node8");
        assertEquals(80.0f, node8Layout.location().x, "x of node8");
        assertEquals(90.0f, node8Layout.location().y, "y of node8");
    }

    @Test
    @DisplayName("grid_absolute_container_bottom_left_margin__content_box")
    void gridAbsoluteContainerBottomLeftMarginContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.position = Position.ABSOLUTE;
        node0Style.size = new Size<>(Dimension.length(10.0f), Dimension.length(10.0f));
        node0Style.margin = new Rect<>(LengthPercentageAuto.length(4.0f), LengthPercentageAuto.length(2.0f), LengthPercentageAuto.length(1.0f), LengthPercentageAuto.length(3.0f));
        node0Style.inset = new Rect<>(LengthPercentageAuto.length(0.0f), LengthPercentageAuto.AUTO, LengthPercentageAuto.AUTO, LengthPercentageAuto.length(0.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        node3Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        node4Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node4 = tree.newLeaf(node4Style);

        Style node5Style = new Style();
        node5Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node5 = tree.newLeaf(node5Style);

        Style node6Style = new Style();
        node6Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node6 = tree.newLeaf(node6Style);

        Style node7Style = new Style();
        node7Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node7 = tree.newLeaf(node7Style);

        Style node8Style = new Style();
        node8Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node8 = tree.newLeaf(node8Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.padding = new Rect<>(LengthPercentage.length(40.0f), LengthPercentage.length(20.0f), LengthPercentage.length(10.0f), LengthPercentage.length(30.0f));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5, node6, node7, node8);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(180.0f, nodeLayout.size().width, "width of node");
        assertEquals(160.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(10.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(4.0f, node0Layout.location().x, "x of node0");
        assertEquals(147.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(40.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(40.0f, node1Layout.location().x, "x of node1");
        assertEquals(10.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(40.0f, node2Layout.size().width, "width of node2");
        assertEquals(40.0f, node2Layout.size().height, "height of node2");
        assertEquals(80.0f, node2Layout.location().x, "x of node2");
        assertEquals(10.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(40.0f, node3Layout.size().width, "width of node3");
        assertEquals(40.0f, node3Layout.size().height, "height of node3");
        assertEquals(120.0f, node3Layout.location().x, "x of node3");
        assertEquals(10.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(40.0f, node4Layout.size().width, "width of node4");
        assertEquals(40.0f, node4Layout.size().height, "height of node4");
        assertEquals(40.0f, node4Layout.location().x, "x of node4");
        assertEquals(50.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(40.0f, node5Layout.size().width, "width of node5");
        assertEquals(40.0f, node5Layout.size().height, "height of node5");
        assertEquals(80.0f, node5Layout.location().x, "x of node5");
        assertEquals(50.0f, node5Layout.location().y, "y of node5");
        Layout node6Layout = tree.getLayout(node6);
        assertEquals(40.0f, node6Layout.size().width, "width of node6");
        assertEquals(40.0f, node6Layout.size().height, "height of node6");
        assertEquals(120.0f, node6Layout.location().x, "x of node6");
        assertEquals(50.0f, node6Layout.location().y, "y of node6");
        Layout node7Layout = tree.getLayout(node7);
        assertEquals(40.0f, node7Layout.size().width, "width of node7");
        assertEquals(40.0f, node7Layout.size().height, "height of node7");
        assertEquals(40.0f, node7Layout.location().x, "x of node7");
        assertEquals(90.0f, node7Layout.location().y, "y of node7");
        Layout node8Layout = tree.getLayout(node8);
        assertEquals(40.0f, node8Layout.size().width, "width of node8");
        assertEquals(40.0f, node8Layout.size().height, "height of node8");
        assertEquals(80.0f, node8Layout.location().x, "x of node8");
        assertEquals(90.0f, node8Layout.location().y, "y of node8");
    }

    @Test
    @DisplayName("grid_absolute_container_left_overrides_right__border_box")
    void gridAbsoluteContainerLeftOverridesRightBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.position = Position.ABSOLUTE;
        node0Style.size = new Size<>(Dimension.length(10.0f), Dimension.AUTO);
        node0Style.inset = new Rect<>(LengthPercentageAuto.length(5.0f), LengthPercentageAuto.length(2.0f), LengthPercentageAuto.AUTO, LengthPercentageAuto.AUTO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        NodeId node4 = tree.newLeaf(node4Style);

        Style node5Style = new Style();
        NodeId node5 = tree.newLeaf(node5Style);

        Style node6Style = new Style();
        NodeId node6 = tree.newLeaf(node6Style);

        Style node7Style = new Style();
        NodeId node7 = tree.newLeaf(node7Style);

        Style node8Style = new Style();
        NodeId node8 = tree.newLeaf(node8Style);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.padding = new Rect<>(LengthPercentage.length(40.0f), LengthPercentage.length(20.0f), LengthPercentage.length(10.0f), LengthPercentage.length(30.0f));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5, node6, node7, node8);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(180.0f, nodeLayout.size().width, "width of node");
        assertEquals(160.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(10.0f, node0Layout.size().width, "width of node0");
        assertEquals(0.0f, node0Layout.size().height, "height of node0");
        assertEquals(5.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(40.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(40.0f, node1Layout.location().x, "x of node1");
        assertEquals(10.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(40.0f, node2Layout.size().width, "width of node2");
        assertEquals(40.0f, node2Layout.size().height, "height of node2");
        assertEquals(80.0f, node2Layout.location().x, "x of node2");
        assertEquals(10.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(40.0f, node3Layout.size().width, "width of node3");
        assertEquals(40.0f, node3Layout.size().height, "height of node3");
        assertEquals(120.0f, node3Layout.location().x, "x of node3");
        assertEquals(10.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(40.0f, node4Layout.size().width, "width of node4");
        assertEquals(40.0f, node4Layout.size().height, "height of node4");
        assertEquals(40.0f, node4Layout.location().x, "x of node4");
        assertEquals(50.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(40.0f, node5Layout.size().width, "width of node5");
        assertEquals(40.0f, node5Layout.size().height, "height of node5");
        assertEquals(80.0f, node5Layout.location().x, "x of node5");
        assertEquals(50.0f, node5Layout.location().y, "y of node5");
        Layout node6Layout = tree.getLayout(node6);
        assertEquals(40.0f, node6Layout.size().width, "width of node6");
        assertEquals(40.0f, node6Layout.size().height, "height of node6");
        assertEquals(120.0f, node6Layout.location().x, "x of node6");
        assertEquals(50.0f, node6Layout.location().y, "y of node6");
        Layout node7Layout = tree.getLayout(node7);
        assertEquals(40.0f, node7Layout.size().width, "width of node7");
        assertEquals(40.0f, node7Layout.size().height, "height of node7");
        assertEquals(40.0f, node7Layout.location().x, "x of node7");
        assertEquals(90.0f, node7Layout.location().y, "y of node7");
        Layout node8Layout = tree.getLayout(node8);
        assertEquals(40.0f, node8Layout.size().width, "width of node8");
        assertEquals(40.0f, node8Layout.size().height, "height of node8");
        assertEquals(80.0f, node8Layout.location().x, "x of node8");
        assertEquals(90.0f, node8Layout.location().y, "y of node8");
    }

    @Test
    @DisplayName("grid_absolute_container_left_overrides_right__content_box")
    void gridAbsoluteContainerLeftOverridesRightContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.position = Position.ABSOLUTE;
        node0Style.size = new Size<>(Dimension.length(10.0f), Dimension.AUTO);
        node0Style.inset = new Rect<>(LengthPercentageAuto.length(5.0f), LengthPercentageAuto.length(2.0f), LengthPercentageAuto.AUTO, LengthPercentageAuto.AUTO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        node3Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        node4Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node4 = tree.newLeaf(node4Style);

        Style node5Style = new Style();
        node5Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node5 = tree.newLeaf(node5Style);

        Style node6Style = new Style();
        node6Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node6 = tree.newLeaf(node6Style);

        Style node7Style = new Style();
        node7Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node7 = tree.newLeaf(node7Style);

        Style node8Style = new Style();
        node8Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node8 = tree.newLeaf(node8Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.padding = new Rect<>(LengthPercentage.length(40.0f), LengthPercentage.length(20.0f), LengthPercentage.length(10.0f), LengthPercentage.length(30.0f));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5, node6, node7, node8);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(180.0f, nodeLayout.size().width, "width of node");
        assertEquals(160.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(10.0f, node0Layout.size().width, "width of node0");
        assertEquals(0.0f, node0Layout.size().height, "height of node0");
        assertEquals(5.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(40.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(40.0f, node1Layout.location().x, "x of node1");
        assertEquals(10.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(40.0f, node2Layout.size().width, "width of node2");
        assertEquals(40.0f, node2Layout.size().height, "height of node2");
        assertEquals(80.0f, node2Layout.location().x, "x of node2");
        assertEquals(10.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(40.0f, node3Layout.size().width, "width of node3");
        assertEquals(40.0f, node3Layout.size().height, "height of node3");
        assertEquals(120.0f, node3Layout.location().x, "x of node3");
        assertEquals(10.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(40.0f, node4Layout.size().width, "width of node4");
        assertEquals(40.0f, node4Layout.size().height, "height of node4");
        assertEquals(40.0f, node4Layout.location().x, "x of node4");
        assertEquals(50.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(40.0f, node5Layout.size().width, "width of node5");
        assertEquals(40.0f, node5Layout.size().height, "height of node5");
        assertEquals(80.0f, node5Layout.location().x, "x of node5");
        assertEquals(50.0f, node5Layout.location().y, "y of node5");
        Layout node6Layout = tree.getLayout(node6);
        assertEquals(40.0f, node6Layout.size().width, "width of node6");
        assertEquals(40.0f, node6Layout.size().height, "height of node6");
        assertEquals(120.0f, node6Layout.location().x, "x of node6");
        assertEquals(50.0f, node6Layout.location().y, "y of node6");
        Layout node7Layout = tree.getLayout(node7);
        assertEquals(40.0f, node7Layout.size().width, "width of node7");
        assertEquals(40.0f, node7Layout.size().height, "height of node7");
        assertEquals(40.0f, node7Layout.location().x, "x of node7");
        assertEquals(90.0f, node7Layout.location().y, "y of node7");
        Layout node8Layout = tree.getLayout(node8);
        assertEquals(40.0f, node8Layout.size().width, "width of node8");
        assertEquals(40.0f, node8Layout.size().height, "height of node8");
        assertEquals(80.0f, node8Layout.location().x, "x of node8");
        assertEquals(90.0f, node8Layout.location().y, "y of node8");
    }

    @Test
    @DisplayName("grid_absolute_container_left_right__border_box")
    void gridAbsoluteContainerLeftRightBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.position = Position.ABSOLUTE;
        node0Style.inset = new Rect<>(LengthPercentageAuto.length(5.0f), LengthPercentageAuto.length(2.0f), LengthPercentageAuto.AUTO, LengthPercentageAuto.AUTO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        NodeId node4 = tree.newLeaf(node4Style);

        Style node5Style = new Style();
        NodeId node5 = tree.newLeaf(node5Style);

        Style node6Style = new Style();
        NodeId node6 = tree.newLeaf(node6Style);

        Style node7Style = new Style();
        NodeId node7 = tree.newLeaf(node7Style);

        Style node8Style = new Style();
        NodeId node8 = tree.newLeaf(node8Style);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.padding = new Rect<>(LengthPercentage.length(40.0f), LengthPercentage.length(20.0f), LengthPercentage.length(10.0f), LengthPercentage.length(30.0f));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5, node6, node7, node8);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(180.0f, nodeLayout.size().width, "width of node");
        assertEquals(160.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(173.0f, node0Layout.size().width, "width of node0");
        assertEquals(0.0f, node0Layout.size().height, "height of node0");
        assertEquals(5.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(40.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(40.0f, node1Layout.location().x, "x of node1");
        assertEquals(10.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(40.0f, node2Layout.size().width, "width of node2");
        assertEquals(40.0f, node2Layout.size().height, "height of node2");
        assertEquals(80.0f, node2Layout.location().x, "x of node2");
        assertEquals(10.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(40.0f, node3Layout.size().width, "width of node3");
        assertEquals(40.0f, node3Layout.size().height, "height of node3");
        assertEquals(120.0f, node3Layout.location().x, "x of node3");
        assertEquals(10.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(40.0f, node4Layout.size().width, "width of node4");
        assertEquals(40.0f, node4Layout.size().height, "height of node4");
        assertEquals(40.0f, node4Layout.location().x, "x of node4");
        assertEquals(50.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(40.0f, node5Layout.size().width, "width of node5");
        assertEquals(40.0f, node5Layout.size().height, "height of node5");
        assertEquals(80.0f, node5Layout.location().x, "x of node5");
        assertEquals(50.0f, node5Layout.location().y, "y of node5");
        Layout node6Layout = tree.getLayout(node6);
        assertEquals(40.0f, node6Layout.size().width, "width of node6");
        assertEquals(40.0f, node6Layout.size().height, "height of node6");
        assertEquals(120.0f, node6Layout.location().x, "x of node6");
        assertEquals(50.0f, node6Layout.location().y, "y of node6");
        Layout node7Layout = tree.getLayout(node7);
        assertEquals(40.0f, node7Layout.size().width, "width of node7");
        assertEquals(40.0f, node7Layout.size().height, "height of node7");
        assertEquals(40.0f, node7Layout.location().x, "x of node7");
        assertEquals(90.0f, node7Layout.location().y, "y of node7");
        Layout node8Layout = tree.getLayout(node8);
        assertEquals(40.0f, node8Layout.size().width, "width of node8");
        assertEquals(40.0f, node8Layout.size().height, "height of node8");
        assertEquals(80.0f, node8Layout.location().x, "x of node8");
        assertEquals(90.0f, node8Layout.location().y, "y of node8");
    }

    @Test
    @DisplayName("grid_absolute_container_left_right__content_box")
    void gridAbsoluteContainerLeftRightContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.position = Position.ABSOLUTE;
        node0Style.inset = new Rect<>(LengthPercentageAuto.length(5.0f), LengthPercentageAuto.length(2.0f), LengthPercentageAuto.AUTO, LengthPercentageAuto.AUTO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        node3Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        node4Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node4 = tree.newLeaf(node4Style);

        Style node5Style = new Style();
        node5Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node5 = tree.newLeaf(node5Style);

        Style node6Style = new Style();
        node6Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node6 = tree.newLeaf(node6Style);

        Style node7Style = new Style();
        node7Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node7 = tree.newLeaf(node7Style);

        Style node8Style = new Style();
        node8Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node8 = tree.newLeaf(node8Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.padding = new Rect<>(LengthPercentage.length(40.0f), LengthPercentage.length(20.0f), LengthPercentage.length(10.0f), LengthPercentage.length(30.0f));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5, node6, node7, node8);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(180.0f, nodeLayout.size().width, "width of node");
        assertEquals(160.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(173.0f, node0Layout.size().width, "width of node0");
        assertEquals(0.0f, node0Layout.size().height, "height of node0");
        assertEquals(5.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(40.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(40.0f, node1Layout.location().x, "x of node1");
        assertEquals(10.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(40.0f, node2Layout.size().width, "width of node2");
        assertEquals(40.0f, node2Layout.size().height, "height of node2");
        assertEquals(80.0f, node2Layout.location().x, "x of node2");
        assertEquals(10.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(40.0f, node3Layout.size().width, "width of node3");
        assertEquals(40.0f, node3Layout.size().height, "height of node3");
        assertEquals(120.0f, node3Layout.location().x, "x of node3");
        assertEquals(10.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(40.0f, node4Layout.size().width, "width of node4");
        assertEquals(40.0f, node4Layout.size().height, "height of node4");
        assertEquals(40.0f, node4Layout.location().x, "x of node4");
        assertEquals(50.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(40.0f, node5Layout.size().width, "width of node5");
        assertEquals(40.0f, node5Layout.size().height, "height of node5");
        assertEquals(80.0f, node5Layout.location().x, "x of node5");
        assertEquals(50.0f, node5Layout.location().y, "y of node5");
        Layout node6Layout = tree.getLayout(node6);
        assertEquals(40.0f, node6Layout.size().width, "width of node6");
        assertEquals(40.0f, node6Layout.size().height, "height of node6");
        assertEquals(120.0f, node6Layout.location().x, "x of node6");
        assertEquals(50.0f, node6Layout.location().y, "y of node6");
        Layout node7Layout = tree.getLayout(node7);
        assertEquals(40.0f, node7Layout.size().width, "width of node7");
        assertEquals(40.0f, node7Layout.size().height, "height of node7");
        assertEquals(40.0f, node7Layout.location().x, "x of node7");
        assertEquals(90.0f, node7Layout.location().y, "y of node7");
        Layout node8Layout = tree.getLayout(node8);
        assertEquals(40.0f, node8Layout.size().width, "width of node8");
        assertEquals(40.0f, node8Layout.size().height, "height of node8");
        assertEquals(80.0f, node8Layout.location().x, "x of node8");
        assertEquals(90.0f, node8Layout.location().y, "y of node8");
    }

    @Test
    @DisplayName("grid_absolute_container_left_right_margin__border_box")
    void gridAbsoluteContainerLeftRightMarginBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.position = Position.ABSOLUTE;
        node0Style.margin = new Rect<>(LengthPercentageAuto.length(4.0f), LengthPercentageAuto.length(2.0f), LengthPercentageAuto.length(1.0f), LengthPercentageAuto.length(3.0f));
        node0Style.inset = new Rect<>(LengthPercentageAuto.length(5.0f), LengthPercentageAuto.length(2.0f), LengthPercentageAuto.AUTO, LengthPercentageAuto.AUTO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        NodeId node4 = tree.newLeaf(node4Style);

        Style node5Style = new Style();
        NodeId node5 = tree.newLeaf(node5Style);

        Style node6Style = new Style();
        NodeId node6 = tree.newLeaf(node6Style);

        Style node7Style = new Style();
        NodeId node7 = tree.newLeaf(node7Style);

        Style node8Style = new Style();
        NodeId node8 = tree.newLeaf(node8Style);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.padding = new Rect<>(LengthPercentage.length(40.0f), LengthPercentage.length(20.0f), LengthPercentage.length(10.0f), LengthPercentage.length(30.0f));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5, node6, node7, node8);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(180.0f, nodeLayout.size().width, "width of node");
        assertEquals(160.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(167.0f, node0Layout.size().width, "width of node0");
        assertEquals(0.0f, node0Layout.size().height, "height of node0");
        assertEquals(9.0f, node0Layout.location().x, "x of node0");
        assertEquals(1.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(40.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(40.0f, node1Layout.location().x, "x of node1");
        assertEquals(10.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(40.0f, node2Layout.size().width, "width of node2");
        assertEquals(40.0f, node2Layout.size().height, "height of node2");
        assertEquals(80.0f, node2Layout.location().x, "x of node2");
        assertEquals(10.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(40.0f, node3Layout.size().width, "width of node3");
        assertEquals(40.0f, node3Layout.size().height, "height of node3");
        assertEquals(120.0f, node3Layout.location().x, "x of node3");
        assertEquals(10.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(40.0f, node4Layout.size().width, "width of node4");
        assertEquals(40.0f, node4Layout.size().height, "height of node4");
        assertEquals(40.0f, node4Layout.location().x, "x of node4");
        assertEquals(50.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(40.0f, node5Layout.size().width, "width of node5");
        assertEquals(40.0f, node5Layout.size().height, "height of node5");
        assertEquals(80.0f, node5Layout.location().x, "x of node5");
        assertEquals(50.0f, node5Layout.location().y, "y of node5");
        Layout node6Layout = tree.getLayout(node6);
        assertEquals(40.0f, node6Layout.size().width, "width of node6");
        assertEquals(40.0f, node6Layout.size().height, "height of node6");
        assertEquals(120.0f, node6Layout.location().x, "x of node6");
        assertEquals(50.0f, node6Layout.location().y, "y of node6");
        Layout node7Layout = tree.getLayout(node7);
        assertEquals(40.0f, node7Layout.size().width, "width of node7");
        assertEquals(40.0f, node7Layout.size().height, "height of node7");
        assertEquals(40.0f, node7Layout.location().x, "x of node7");
        assertEquals(90.0f, node7Layout.location().y, "y of node7");
        Layout node8Layout = tree.getLayout(node8);
        assertEquals(40.0f, node8Layout.size().width, "width of node8");
        assertEquals(40.0f, node8Layout.size().height, "height of node8");
        assertEquals(80.0f, node8Layout.location().x, "x of node8");
        assertEquals(90.0f, node8Layout.location().y, "y of node8");
    }

    @Test
    @DisplayName("grid_absolute_container_left_right_margin__content_box")
    void gridAbsoluteContainerLeftRightMarginContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.position = Position.ABSOLUTE;
        node0Style.margin = new Rect<>(LengthPercentageAuto.length(4.0f), LengthPercentageAuto.length(2.0f), LengthPercentageAuto.length(1.0f), LengthPercentageAuto.length(3.0f));
        node0Style.inset = new Rect<>(LengthPercentageAuto.length(5.0f), LengthPercentageAuto.length(2.0f), LengthPercentageAuto.AUTO, LengthPercentageAuto.AUTO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        node3Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        node4Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node4 = tree.newLeaf(node4Style);

        Style node5Style = new Style();
        node5Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node5 = tree.newLeaf(node5Style);

        Style node6Style = new Style();
        node6Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node6 = tree.newLeaf(node6Style);

        Style node7Style = new Style();
        node7Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node7 = tree.newLeaf(node7Style);

        Style node8Style = new Style();
        node8Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node8 = tree.newLeaf(node8Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.padding = new Rect<>(LengthPercentage.length(40.0f), LengthPercentage.length(20.0f), LengthPercentage.length(10.0f), LengthPercentage.length(30.0f));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5, node6, node7, node8);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(180.0f, nodeLayout.size().width, "width of node");
        assertEquals(160.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(167.0f, node0Layout.size().width, "width of node0");
        assertEquals(0.0f, node0Layout.size().height, "height of node0");
        assertEquals(9.0f, node0Layout.location().x, "x of node0");
        assertEquals(1.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(40.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(40.0f, node1Layout.location().x, "x of node1");
        assertEquals(10.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(40.0f, node2Layout.size().width, "width of node2");
        assertEquals(40.0f, node2Layout.size().height, "height of node2");
        assertEquals(80.0f, node2Layout.location().x, "x of node2");
        assertEquals(10.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(40.0f, node3Layout.size().width, "width of node3");
        assertEquals(40.0f, node3Layout.size().height, "height of node3");
        assertEquals(120.0f, node3Layout.location().x, "x of node3");
        assertEquals(10.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(40.0f, node4Layout.size().width, "width of node4");
        assertEquals(40.0f, node4Layout.size().height, "height of node4");
        assertEquals(40.0f, node4Layout.location().x, "x of node4");
        assertEquals(50.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(40.0f, node5Layout.size().width, "width of node5");
        assertEquals(40.0f, node5Layout.size().height, "height of node5");
        assertEquals(80.0f, node5Layout.location().x, "x of node5");
        assertEquals(50.0f, node5Layout.location().y, "y of node5");
        Layout node6Layout = tree.getLayout(node6);
        assertEquals(40.0f, node6Layout.size().width, "width of node6");
        assertEquals(40.0f, node6Layout.size().height, "height of node6");
        assertEquals(120.0f, node6Layout.location().x, "x of node6");
        assertEquals(50.0f, node6Layout.location().y, "y of node6");
        Layout node7Layout = tree.getLayout(node7);
        assertEquals(40.0f, node7Layout.size().width, "width of node7");
        assertEquals(40.0f, node7Layout.size().height, "height of node7");
        assertEquals(40.0f, node7Layout.location().x, "x of node7");
        assertEquals(90.0f, node7Layout.location().y, "y of node7");
        Layout node8Layout = tree.getLayout(node8);
        assertEquals(40.0f, node8Layout.size().width, "width of node8");
        assertEquals(40.0f, node8Layout.size().height, "height of node8");
        assertEquals(80.0f, node8Layout.location().x, "x of node8");
        assertEquals(90.0f, node8Layout.location().y, "y of node8");
    }

    @Test
    @DisplayName("grid_absolute_container_negative_position__border_box")
    void gridAbsoluteContainerNegativePositionBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.position = Position.ABSOLUTE;
        node0Style.inset = new Rect<>(LengthPercentageAuto.AUTO, LengthPercentageAuto.length(-15.0f), LengthPercentageAuto.length(-5.0f), LengthPercentageAuto.AUTO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.position = Position.ABSOLUTE;
        node1Style.inset = new Rect<>(LengthPercentageAuto.length(-35.0f), LengthPercentageAuto.AUTO, LengthPercentageAuto.AUTO, LengthPercentageAuto.length(-25.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        NodeId node4 = tree.newLeaf(node4Style);

        Style node5Style = new Style();
        NodeId node5 = tree.newLeaf(node5Style);

        Style node6Style = new Style();
        NodeId node6 = tree.newLeaf(node6Style);

        Style node7Style = new Style();
        NodeId node7 = tree.newLeaf(node7Style);

        Style node8Style = new Style();
        NodeId node8 = tree.newLeaf(node8Style);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.padding = new Rect<>(LengthPercentage.length(40.0f), LengthPercentage.length(20.0f), LengthPercentage.length(10.0f), LengthPercentage.length(30.0f));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5, node6, node7, node8);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(180.0f, nodeLayout.size().width, "width of node");
        assertEquals(160.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(0.0f, node0Layout.size().width, "width of node0");
        assertEquals(0.0f, node0Layout.size().height, "height of node0");
        assertEquals(195.0f, node0Layout.location().x, "x of node0");
        assertEquals(-5.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(0.0f, node1Layout.size().width, "width of node1");
        assertEquals(0.0f, node1Layout.size().height, "height of node1");
        assertEquals(-35.0f, node1Layout.location().x, "x of node1");
        assertEquals(185.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(40.0f, node2Layout.size().width, "width of node2");
        assertEquals(40.0f, node2Layout.size().height, "height of node2");
        assertEquals(40.0f, node2Layout.location().x, "x of node2");
        assertEquals(10.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(40.0f, node3Layout.size().width, "width of node3");
        assertEquals(40.0f, node3Layout.size().height, "height of node3");
        assertEquals(80.0f, node3Layout.location().x, "x of node3");
        assertEquals(10.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(40.0f, node4Layout.size().width, "width of node4");
        assertEquals(40.0f, node4Layout.size().height, "height of node4");
        assertEquals(120.0f, node4Layout.location().x, "x of node4");
        assertEquals(10.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(40.0f, node5Layout.size().width, "width of node5");
        assertEquals(40.0f, node5Layout.size().height, "height of node5");
        assertEquals(40.0f, node5Layout.location().x, "x of node5");
        assertEquals(50.0f, node5Layout.location().y, "y of node5");
        Layout node6Layout = tree.getLayout(node6);
        assertEquals(40.0f, node6Layout.size().width, "width of node6");
        assertEquals(40.0f, node6Layout.size().height, "height of node6");
        assertEquals(80.0f, node6Layout.location().x, "x of node6");
        assertEquals(50.0f, node6Layout.location().y, "y of node6");
        Layout node7Layout = tree.getLayout(node7);
        assertEquals(40.0f, node7Layout.size().width, "width of node7");
        assertEquals(40.0f, node7Layout.size().height, "height of node7");
        assertEquals(120.0f, node7Layout.location().x, "x of node7");
        assertEquals(50.0f, node7Layout.location().y, "y of node7");
        Layout node8Layout = tree.getLayout(node8);
        assertEquals(40.0f, node8Layout.size().width, "width of node8");
        assertEquals(40.0f, node8Layout.size().height, "height of node8");
        assertEquals(40.0f, node8Layout.location().x, "x of node8");
        assertEquals(90.0f, node8Layout.location().y, "y of node8");
    }

    @Test
    @DisplayName("grid_absolute_container_negative_position__content_box")
    void gridAbsoluteContainerNegativePositionContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.position = Position.ABSOLUTE;
        node0Style.inset = new Rect<>(LengthPercentageAuto.AUTO, LengthPercentageAuto.length(-15.0f), LengthPercentageAuto.length(-5.0f), LengthPercentageAuto.AUTO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.position = Position.ABSOLUTE;
        node1Style.inset = new Rect<>(LengthPercentageAuto.length(-35.0f), LengthPercentageAuto.AUTO, LengthPercentageAuto.AUTO, LengthPercentageAuto.length(-25.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        node3Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        node4Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node4 = tree.newLeaf(node4Style);

        Style node5Style = new Style();
        node5Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node5 = tree.newLeaf(node5Style);

        Style node6Style = new Style();
        node6Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node6 = tree.newLeaf(node6Style);

        Style node7Style = new Style();
        node7Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node7 = tree.newLeaf(node7Style);

        Style node8Style = new Style();
        node8Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node8 = tree.newLeaf(node8Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.padding = new Rect<>(LengthPercentage.length(40.0f), LengthPercentage.length(20.0f), LengthPercentage.length(10.0f), LengthPercentage.length(30.0f));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5, node6, node7, node8);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(180.0f, nodeLayout.size().width, "width of node");
        assertEquals(160.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(0.0f, node0Layout.size().width, "width of node0");
        assertEquals(0.0f, node0Layout.size().height, "height of node0");
        assertEquals(195.0f, node0Layout.location().x, "x of node0");
        assertEquals(-5.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(0.0f, node1Layout.size().width, "width of node1");
        assertEquals(0.0f, node1Layout.size().height, "height of node1");
        assertEquals(-35.0f, node1Layout.location().x, "x of node1");
        assertEquals(185.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(40.0f, node2Layout.size().width, "width of node2");
        assertEquals(40.0f, node2Layout.size().height, "height of node2");
        assertEquals(40.0f, node2Layout.location().x, "x of node2");
        assertEquals(10.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(40.0f, node3Layout.size().width, "width of node3");
        assertEquals(40.0f, node3Layout.size().height, "height of node3");
        assertEquals(80.0f, node3Layout.location().x, "x of node3");
        assertEquals(10.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(40.0f, node4Layout.size().width, "width of node4");
        assertEquals(40.0f, node4Layout.size().height, "height of node4");
        assertEquals(120.0f, node4Layout.location().x, "x of node4");
        assertEquals(10.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(40.0f, node5Layout.size().width, "width of node5");
        assertEquals(40.0f, node5Layout.size().height, "height of node5");
        assertEquals(40.0f, node5Layout.location().x, "x of node5");
        assertEquals(50.0f, node5Layout.location().y, "y of node5");
        Layout node6Layout = tree.getLayout(node6);
        assertEquals(40.0f, node6Layout.size().width, "width of node6");
        assertEquals(40.0f, node6Layout.size().height, "height of node6");
        assertEquals(80.0f, node6Layout.location().x, "x of node6");
        assertEquals(50.0f, node6Layout.location().y, "y of node6");
        Layout node7Layout = tree.getLayout(node7);
        assertEquals(40.0f, node7Layout.size().width, "width of node7");
        assertEquals(40.0f, node7Layout.size().height, "height of node7");
        assertEquals(120.0f, node7Layout.location().x, "x of node7");
        assertEquals(50.0f, node7Layout.location().y, "y of node7");
        Layout node8Layout = tree.getLayout(node8);
        assertEquals(40.0f, node8Layout.size().width, "width of node8");
        assertEquals(40.0f, node8Layout.size().height, "height of node8");
        assertEquals(40.0f, node8Layout.location().x, "x of node8");
        assertEquals(90.0f, node8Layout.location().y, "y of node8");
    }

    @Test
    @DisplayName("grid_absolute_container_negative_position_margin__border_box")
    void gridAbsoluteContainerNegativePositionMarginBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.position = Position.ABSOLUTE;
        node0Style.margin = new Rect<>(LengthPercentageAuto.length(4.0f), LengthPercentageAuto.length(2.0f), LengthPercentageAuto.length(1.0f), LengthPercentageAuto.length(3.0f));
        node0Style.inset = new Rect<>(LengthPercentageAuto.AUTO, LengthPercentageAuto.length(-15.0f), LengthPercentageAuto.length(-5.0f), LengthPercentageAuto.AUTO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.position = Position.ABSOLUTE;
        node1Style.margin = new Rect<>(LengthPercentageAuto.length(4.0f), LengthPercentageAuto.length(2.0f), LengthPercentageAuto.length(1.0f), LengthPercentageAuto.length(3.0f));
        node1Style.inset = new Rect<>(LengthPercentageAuto.length(-35.0f), LengthPercentageAuto.AUTO, LengthPercentageAuto.AUTO, LengthPercentageAuto.length(-25.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        NodeId node4 = tree.newLeaf(node4Style);

        Style node5Style = new Style();
        NodeId node5 = tree.newLeaf(node5Style);

        Style node6Style = new Style();
        NodeId node6 = tree.newLeaf(node6Style);

        Style node7Style = new Style();
        NodeId node7 = tree.newLeaf(node7Style);

        Style node8Style = new Style();
        NodeId node8 = tree.newLeaf(node8Style);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.padding = new Rect<>(LengthPercentage.length(40.0f), LengthPercentage.length(20.0f), LengthPercentage.length(10.0f), LengthPercentage.length(30.0f));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5, node6, node7, node8);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(180.0f, nodeLayout.size().width, "width of node");
        assertEquals(160.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(0.0f, node0Layout.size().width, "width of node0");
        assertEquals(0.0f, node0Layout.size().height, "height of node0");
        assertEquals(193.0f, node0Layout.location().x, "x of node0");
        assertEquals(-4.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(0.0f, node1Layout.size().width, "width of node1");
        assertEquals(0.0f, node1Layout.size().height, "height of node1");
        assertEquals(-31.0f, node1Layout.location().x, "x of node1");
        assertEquals(182.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(40.0f, node2Layout.size().width, "width of node2");
        assertEquals(40.0f, node2Layout.size().height, "height of node2");
        assertEquals(40.0f, node2Layout.location().x, "x of node2");
        assertEquals(10.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(40.0f, node3Layout.size().width, "width of node3");
        assertEquals(40.0f, node3Layout.size().height, "height of node3");
        assertEquals(80.0f, node3Layout.location().x, "x of node3");
        assertEquals(10.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(40.0f, node4Layout.size().width, "width of node4");
        assertEquals(40.0f, node4Layout.size().height, "height of node4");
        assertEquals(120.0f, node4Layout.location().x, "x of node4");
        assertEquals(10.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(40.0f, node5Layout.size().width, "width of node5");
        assertEquals(40.0f, node5Layout.size().height, "height of node5");
        assertEquals(40.0f, node5Layout.location().x, "x of node5");
        assertEquals(50.0f, node5Layout.location().y, "y of node5");
        Layout node6Layout = tree.getLayout(node6);
        assertEquals(40.0f, node6Layout.size().width, "width of node6");
        assertEquals(40.0f, node6Layout.size().height, "height of node6");
        assertEquals(80.0f, node6Layout.location().x, "x of node6");
        assertEquals(50.0f, node6Layout.location().y, "y of node6");
        Layout node7Layout = tree.getLayout(node7);
        assertEquals(40.0f, node7Layout.size().width, "width of node7");
        assertEquals(40.0f, node7Layout.size().height, "height of node7");
        assertEquals(120.0f, node7Layout.location().x, "x of node7");
        assertEquals(50.0f, node7Layout.location().y, "y of node7");
        Layout node8Layout = tree.getLayout(node8);
        assertEquals(40.0f, node8Layout.size().width, "width of node8");
        assertEquals(40.0f, node8Layout.size().height, "height of node8");
        assertEquals(40.0f, node8Layout.location().x, "x of node8");
        assertEquals(90.0f, node8Layout.location().y, "y of node8");
    }

    @Test
    @DisplayName("grid_absolute_container_negative_position_margin__content_box")
    void gridAbsoluteContainerNegativePositionMarginContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.position = Position.ABSOLUTE;
        node0Style.margin = new Rect<>(LengthPercentageAuto.length(4.0f), LengthPercentageAuto.length(2.0f), LengthPercentageAuto.length(1.0f), LengthPercentageAuto.length(3.0f));
        node0Style.inset = new Rect<>(LengthPercentageAuto.AUTO, LengthPercentageAuto.length(-15.0f), LengthPercentageAuto.length(-5.0f), LengthPercentageAuto.AUTO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.position = Position.ABSOLUTE;
        node1Style.margin = new Rect<>(LengthPercentageAuto.length(4.0f), LengthPercentageAuto.length(2.0f), LengthPercentageAuto.length(1.0f), LengthPercentageAuto.length(3.0f));
        node1Style.inset = new Rect<>(LengthPercentageAuto.length(-35.0f), LengthPercentageAuto.AUTO, LengthPercentageAuto.AUTO, LengthPercentageAuto.length(-25.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        node3Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        node4Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node4 = tree.newLeaf(node4Style);

        Style node5Style = new Style();
        node5Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node5 = tree.newLeaf(node5Style);

        Style node6Style = new Style();
        node6Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node6 = tree.newLeaf(node6Style);

        Style node7Style = new Style();
        node7Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node7 = tree.newLeaf(node7Style);

        Style node8Style = new Style();
        node8Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node8 = tree.newLeaf(node8Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.padding = new Rect<>(LengthPercentage.length(40.0f), LengthPercentage.length(20.0f), LengthPercentage.length(10.0f), LengthPercentage.length(30.0f));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5, node6, node7, node8);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(180.0f, nodeLayout.size().width, "width of node");
        assertEquals(160.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(0.0f, node0Layout.size().width, "width of node0");
        assertEquals(0.0f, node0Layout.size().height, "height of node0");
        assertEquals(193.0f, node0Layout.location().x, "x of node0");
        assertEquals(-4.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(0.0f, node1Layout.size().width, "width of node1");
        assertEquals(0.0f, node1Layout.size().height, "height of node1");
        assertEquals(-31.0f, node1Layout.location().x, "x of node1");
        assertEquals(182.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(40.0f, node2Layout.size().width, "width of node2");
        assertEquals(40.0f, node2Layout.size().height, "height of node2");
        assertEquals(40.0f, node2Layout.location().x, "x of node2");
        assertEquals(10.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(40.0f, node3Layout.size().width, "width of node3");
        assertEquals(40.0f, node3Layout.size().height, "height of node3");
        assertEquals(80.0f, node3Layout.location().x, "x of node3");
        assertEquals(10.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(40.0f, node4Layout.size().width, "width of node4");
        assertEquals(40.0f, node4Layout.size().height, "height of node4");
        assertEquals(120.0f, node4Layout.location().x, "x of node4");
        assertEquals(10.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(40.0f, node5Layout.size().width, "width of node5");
        assertEquals(40.0f, node5Layout.size().height, "height of node5");
        assertEquals(40.0f, node5Layout.location().x, "x of node5");
        assertEquals(50.0f, node5Layout.location().y, "y of node5");
        Layout node6Layout = tree.getLayout(node6);
        assertEquals(40.0f, node6Layout.size().width, "width of node6");
        assertEquals(40.0f, node6Layout.size().height, "height of node6");
        assertEquals(80.0f, node6Layout.location().x, "x of node6");
        assertEquals(50.0f, node6Layout.location().y, "y of node6");
        Layout node7Layout = tree.getLayout(node7);
        assertEquals(40.0f, node7Layout.size().width, "width of node7");
        assertEquals(40.0f, node7Layout.size().height, "height of node7");
        assertEquals(120.0f, node7Layout.location().x, "x of node7");
        assertEquals(50.0f, node7Layout.location().y, "y of node7");
        Layout node8Layout = tree.getLayout(node8);
        assertEquals(40.0f, node8Layout.size().width, "width of node8");
        assertEquals(40.0f, node8Layout.size().height, "height of node8");
        assertEquals(40.0f, node8Layout.location().x, "x of node8");
        assertEquals(90.0f, node8Layout.location().y, "y of node8");
    }

    @Test
    @DisplayName("grid_absolute_container_top_bottom__border_box")
    void gridAbsoluteContainerTopBottomBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.position = Position.ABSOLUTE;
        node0Style.inset = new Rect<>(LengthPercentageAuto.AUTO, LengthPercentageAuto.AUTO, LengthPercentageAuto.length(2.0f), LengthPercentageAuto.length(5.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        NodeId node4 = tree.newLeaf(node4Style);

        Style node5Style = new Style();
        NodeId node5 = tree.newLeaf(node5Style);

        Style node6Style = new Style();
        NodeId node6 = tree.newLeaf(node6Style);

        Style node7Style = new Style();
        NodeId node7 = tree.newLeaf(node7Style);

        Style node8Style = new Style();
        NodeId node8 = tree.newLeaf(node8Style);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.padding = new Rect<>(LengthPercentage.length(40.0f), LengthPercentage.length(20.0f), LengthPercentage.length(10.0f), LengthPercentage.length(30.0f));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5, node6, node7, node8);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(180.0f, nodeLayout.size().width, "width of node");
        assertEquals(160.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(0.0f, node0Layout.size().width, "width of node0");
        assertEquals(153.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(2.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(40.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(40.0f, node1Layout.location().x, "x of node1");
        assertEquals(10.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(40.0f, node2Layout.size().width, "width of node2");
        assertEquals(40.0f, node2Layout.size().height, "height of node2");
        assertEquals(80.0f, node2Layout.location().x, "x of node2");
        assertEquals(10.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(40.0f, node3Layout.size().width, "width of node3");
        assertEquals(40.0f, node3Layout.size().height, "height of node3");
        assertEquals(120.0f, node3Layout.location().x, "x of node3");
        assertEquals(10.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(40.0f, node4Layout.size().width, "width of node4");
        assertEquals(40.0f, node4Layout.size().height, "height of node4");
        assertEquals(40.0f, node4Layout.location().x, "x of node4");
        assertEquals(50.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(40.0f, node5Layout.size().width, "width of node5");
        assertEquals(40.0f, node5Layout.size().height, "height of node5");
        assertEquals(80.0f, node5Layout.location().x, "x of node5");
        assertEquals(50.0f, node5Layout.location().y, "y of node5");
        Layout node6Layout = tree.getLayout(node6);
        assertEquals(40.0f, node6Layout.size().width, "width of node6");
        assertEquals(40.0f, node6Layout.size().height, "height of node6");
        assertEquals(120.0f, node6Layout.location().x, "x of node6");
        assertEquals(50.0f, node6Layout.location().y, "y of node6");
        Layout node7Layout = tree.getLayout(node7);
        assertEquals(40.0f, node7Layout.size().width, "width of node7");
        assertEquals(40.0f, node7Layout.size().height, "height of node7");
        assertEquals(40.0f, node7Layout.location().x, "x of node7");
        assertEquals(90.0f, node7Layout.location().y, "y of node7");
        Layout node8Layout = tree.getLayout(node8);
        assertEquals(40.0f, node8Layout.size().width, "width of node8");
        assertEquals(40.0f, node8Layout.size().height, "height of node8");
        assertEquals(80.0f, node8Layout.location().x, "x of node8");
        assertEquals(90.0f, node8Layout.location().y, "y of node8");
    }

    @Test
    @DisplayName("grid_absolute_container_top_bottom__content_box")
    void gridAbsoluteContainerTopBottomContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.position = Position.ABSOLUTE;
        node0Style.inset = new Rect<>(LengthPercentageAuto.AUTO, LengthPercentageAuto.AUTO, LengthPercentageAuto.length(2.0f), LengthPercentageAuto.length(5.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        node3Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        node4Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node4 = tree.newLeaf(node4Style);

        Style node5Style = new Style();
        node5Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node5 = tree.newLeaf(node5Style);

        Style node6Style = new Style();
        node6Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node6 = tree.newLeaf(node6Style);

        Style node7Style = new Style();
        node7Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node7 = tree.newLeaf(node7Style);

        Style node8Style = new Style();
        node8Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node8 = tree.newLeaf(node8Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.padding = new Rect<>(LengthPercentage.length(40.0f), LengthPercentage.length(20.0f), LengthPercentage.length(10.0f), LengthPercentage.length(30.0f));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5, node6, node7, node8);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(180.0f, nodeLayout.size().width, "width of node");
        assertEquals(160.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(0.0f, node0Layout.size().width, "width of node0");
        assertEquals(153.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(2.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(40.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(40.0f, node1Layout.location().x, "x of node1");
        assertEquals(10.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(40.0f, node2Layout.size().width, "width of node2");
        assertEquals(40.0f, node2Layout.size().height, "height of node2");
        assertEquals(80.0f, node2Layout.location().x, "x of node2");
        assertEquals(10.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(40.0f, node3Layout.size().width, "width of node3");
        assertEquals(40.0f, node3Layout.size().height, "height of node3");
        assertEquals(120.0f, node3Layout.location().x, "x of node3");
        assertEquals(10.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(40.0f, node4Layout.size().width, "width of node4");
        assertEquals(40.0f, node4Layout.size().height, "height of node4");
        assertEquals(40.0f, node4Layout.location().x, "x of node4");
        assertEquals(50.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(40.0f, node5Layout.size().width, "width of node5");
        assertEquals(40.0f, node5Layout.size().height, "height of node5");
        assertEquals(80.0f, node5Layout.location().x, "x of node5");
        assertEquals(50.0f, node5Layout.location().y, "y of node5");
        Layout node6Layout = tree.getLayout(node6);
        assertEquals(40.0f, node6Layout.size().width, "width of node6");
        assertEquals(40.0f, node6Layout.size().height, "height of node6");
        assertEquals(120.0f, node6Layout.location().x, "x of node6");
        assertEquals(50.0f, node6Layout.location().y, "y of node6");
        Layout node7Layout = tree.getLayout(node7);
        assertEquals(40.0f, node7Layout.size().width, "width of node7");
        assertEquals(40.0f, node7Layout.size().height, "height of node7");
        assertEquals(40.0f, node7Layout.location().x, "x of node7");
        assertEquals(90.0f, node7Layout.location().y, "y of node7");
        Layout node8Layout = tree.getLayout(node8);
        assertEquals(40.0f, node8Layout.size().width, "width of node8");
        assertEquals(40.0f, node8Layout.size().height, "height of node8");
        assertEquals(80.0f, node8Layout.location().x, "x of node8");
        assertEquals(90.0f, node8Layout.location().y, "y of node8");
    }

    @Test
    @DisplayName("grid_absolute_container_top_bottom_margin__border_box")
    void gridAbsoluteContainerTopBottomMarginBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.position = Position.ABSOLUTE;
        node0Style.margin = new Rect<>(LengthPercentageAuto.length(4.0f), LengthPercentageAuto.length(2.0f), LengthPercentageAuto.length(1.0f), LengthPercentageAuto.length(3.0f));
        node0Style.inset = new Rect<>(LengthPercentageAuto.AUTO, LengthPercentageAuto.AUTO, LengthPercentageAuto.length(2.0f), LengthPercentageAuto.length(5.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        NodeId node4 = tree.newLeaf(node4Style);

        Style node5Style = new Style();
        NodeId node5 = tree.newLeaf(node5Style);

        Style node6Style = new Style();
        NodeId node6 = tree.newLeaf(node6Style);

        Style node7Style = new Style();
        NodeId node7 = tree.newLeaf(node7Style);

        Style node8Style = new Style();
        NodeId node8 = tree.newLeaf(node8Style);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.padding = new Rect<>(LengthPercentage.length(40.0f), LengthPercentage.length(20.0f), LengthPercentage.length(10.0f), LengthPercentage.length(30.0f));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5, node6, node7, node8);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(180.0f, nodeLayout.size().width, "width of node");
        assertEquals(160.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(0.0f, node0Layout.size().width, "width of node0");
        assertEquals(149.0f, node0Layout.size().height, "height of node0");
        assertEquals(4.0f, node0Layout.location().x, "x of node0");
        assertEquals(3.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(40.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(40.0f, node1Layout.location().x, "x of node1");
        assertEquals(10.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(40.0f, node2Layout.size().width, "width of node2");
        assertEquals(40.0f, node2Layout.size().height, "height of node2");
        assertEquals(80.0f, node2Layout.location().x, "x of node2");
        assertEquals(10.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(40.0f, node3Layout.size().width, "width of node3");
        assertEquals(40.0f, node3Layout.size().height, "height of node3");
        assertEquals(120.0f, node3Layout.location().x, "x of node3");
        assertEquals(10.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(40.0f, node4Layout.size().width, "width of node4");
        assertEquals(40.0f, node4Layout.size().height, "height of node4");
        assertEquals(40.0f, node4Layout.location().x, "x of node4");
        assertEquals(50.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(40.0f, node5Layout.size().width, "width of node5");
        assertEquals(40.0f, node5Layout.size().height, "height of node5");
        assertEquals(80.0f, node5Layout.location().x, "x of node5");
        assertEquals(50.0f, node5Layout.location().y, "y of node5");
        Layout node6Layout = tree.getLayout(node6);
        assertEquals(40.0f, node6Layout.size().width, "width of node6");
        assertEquals(40.0f, node6Layout.size().height, "height of node6");
        assertEquals(120.0f, node6Layout.location().x, "x of node6");
        assertEquals(50.0f, node6Layout.location().y, "y of node6");
        Layout node7Layout = tree.getLayout(node7);
        assertEquals(40.0f, node7Layout.size().width, "width of node7");
        assertEquals(40.0f, node7Layout.size().height, "height of node7");
        assertEquals(40.0f, node7Layout.location().x, "x of node7");
        assertEquals(90.0f, node7Layout.location().y, "y of node7");
        Layout node8Layout = tree.getLayout(node8);
        assertEquals(40.0f, node8Layout.size().width, "width of node8");
        assertEquals(40.0f, node8Layout.size().height, "height of node8");
        assertEquals(80.0f, node8Layout.location().x, "x of node8");
        assertEquals(90.0f, node8Layout.location().y, "y of node8");
    }

    @Test
    @DisplayName("grid_absolute_container_top_bottom_margin__content_box")
    void gridAbsoluteContainerTopBottomMarginContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.position = Position.ABSOLUTE;
        node0Style.margin = new Rect<>(LengthPercentageAuto.length(4.0f), LengthPercentageAuto.length(2.0f), LengthPercentageAuto.length(1.0f), LengthPercentageAuto.length(3.0f));
        node0Style.inset = new Rect<>(LengthPercentageAuto.AUTO, LengthPercentageAuto.AUTO, LengthPercentageAuto.length(2.0f), LengthPercentageAuto.length(5.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        node3Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        node4Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node4 = tree.newLeaf(node4Style);

        Style node5Style = new Style();
        node5Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node5 = tree.newLeaf(node5Style);

        Style node6Style = new Style();
        node6Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node6 = tree.newLeaf(node6Style);

        Style node7Style = new Style();
        node7Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node7 = tree.newLeaf(node7Style);

        Style node8Style = new Style();
        node8Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node8 = tree.newLeaf(node8Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.padding = new Rect<>(LengthPercentage.length(40.0f), LengthPercentage.length(20.0f), LengthPercentage.length(10.0f), LengthPercentage.length(30.0f));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5, node6, node7, node8);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(180.0f, nodeLayout.size().width, "width of node");
        assertEquals(160.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(0.0f, node0Layout.size().width, "width of node0");
        assertEquals(149.0f, node0Layout.size().height, "height of node0");
        assertEquals(4.0f, node0Layout.location().x, "x of node0");
        assertEquals(3.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(40.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(40.0f, node1Layout.location().x, "x of node1");
        assertEquals(10.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(40.0f, node2Layout.size().width, "width of node2");
        assertEquals(40.0f, node2Layout.size().height, "height of node2");
        assertEquals(80.0f, node2Layout.location().x, "x of node2");
        assertEquals(10.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(40.0f, node3Layout.size().width, "width of node3");
        assertEquals(40.0f, node3Layout.size().height, "height of node3");
        assertEquals(120.0f, node3Layout.location().x, "x of node3");
        assertEquals(10.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(40.0f, node4Layout.size().width, "width of node4");
        assertEquals(40.0f, node4Layout.size().height, "height of node4");
        assertEquals(40.0f, node4Layout.location().x, "x of node4");
        assertEquals(50.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(40.0f, node5Layout.size().width, "width of node5");
        assertEquals(40.0f, node5Layout.size().height, "height of node5");
        assertEquals(80.0f, node5Layout.location().x, "x of node5");
        assertEquals(50.0f, node5Layout.location().y, "y of node5");
        Layout node6Layout = tree.getLayout(node6);
        assertEquals(40.0f, node6Layout.size().width, "width of node6");
        assertEquals(40.0f, node6Layout.size().height, "height of node6");
        assertEquals(120.0f, node6Layout.location().x, "x of node6");
        assertEquals(50.0f, node6Layout.location().y, "y of node6");
        Layout node7Layout = tree.getLayout(node7);
        assertEquals(40.0f, node7Layout.size().width, "width of node7");
        assertEquals(40.0f, node7Layout.size().height, "height of node7");
        assertEquals(40.0f, node7Layout.location().x, "x of node7");
        assertEquals(90.0f, node7Layout.location().y, "y of node7");
        Layout node8Layout = tree.getLayout(node8);
        assertEquals(40.0f, node8Layout.size().width, "width of node8");
        assertEquals(40.0f, node8Layout.size().height, "height of node8");
        assertEquals(80.0f, node8Layout.location().x, "x of node8");
        assertEquals(90.0f, node8Layout.location().y, "y of node8");
    }

    @Test
    @DisplayName("grid_absolute_container_top_right__border_box")
    void gridAbsoluteContainerTopRightBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.position = Position.ABSOLUTE;
        node0Style.inset = new Rect<>(LengthPercentageAuto.AUTO, LengthPercentageAuto.length(0.0f), LengthPercentageAuto.length(0.0f), LengthPercentageAuto.AUTO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        NodeId node4 = tree.newLeaf(node4Style);

        Style node5Style = new Style();
        NodeId node5 = tree.newLeaf(node5Style);

        Style node6Style = new Style();
        NodeId node6 = tree.newLeaf(node6Style);

        Style node7Style = new Style();
        NodeId node7 = tree.newLeaf(node7Style);

        Style node8Style = new Style();
        NodeId node8 = tree.newLeaf(node8Style);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.padding = new Rect<>(LengthPercentage.length(40.0f), LengthPercentage.length(20.0f), LengthPercentage.length(10.0f), LengthPercentage.length(30.0f));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5, node6, node7, node8);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(180.0f, nodeLayout.size().width, "width of node");
        assertEquals(160.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(0.0f, node0Layout.size().width, "width of node0");
        assertEquals(0.0f, node0Layout.size().height, "height of node0");
        assertEquals(180.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(40.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(40.0f, node1Layout.location().x, "x of node1");
        assertEquals(10.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(40.0f, node2Layout.size().width, "width of node2");
        assertEquals(40.0f, node2Layout.size().height, "height of node2");
        assertEquals(80.0f, node2Layout.location().x, "x of node2");
        assertEquals(10.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(40.0f, node3Layout.size().width, "width of node3");
        assertEquals(40.0f, node3Layout.size().height, "height of node3");
        assertEquals(120.0f, node3Layout.location().x, "x of node3");
        assertEquals(10.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(40.0f, node4Layout.size().width, "width of node4");
        assertEquals(40.0f, node4Layout.size().height, "height of node4");
        assertEquals(40.0f, node4Layout.location().x, "x of node4");
        assertEquals(50.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(40.0f, node5Layout.size().width, "width of node5");
        assertEquals(40.0f, node5Layout.size().height, "height of node5");
        assertEquals(80.0f, node5Layout.location().x, "x of node5");
        assertEquals(50.0f, node5Layout.location().y, "y of node5");
        Layout node6Layout = tree.getLayout(node6);
        assertEquals(40.0f, node6Layout.size().width, "width of node6");
        assertEquals(40.0f, node6Layout.size().height, "height of node6");
        assertEquals(120.0f, node6Layout.location().x, "x of node6");
        assertEquals(50.0f, node6Layout.location().y, "y of node6");
        Layout node7Layout = tree.getLayout(node7);
        assertEquals(40.0f, node7Layout.size().width, "width of node7");
        assertEquals(40.0f, node7Layout.size().height, "height of node7");
        assertEquals(40.0f, node7Layout.location().x, "x of node7");
        assertEquals(90.0f, node7Layout.location().y, "y of node7");
        Layout node8Layout = tree.getLayout(node8);
        assertEquals(40.0f, node8Layout.size().width, "width of node8");
        assertEquals(40.0f, node8Layout.size().height, "height of node8");
        assertEquals(80.0f, node8Layout.location().x, "x of node8");
        assertEquals(90.0f, node8Layout.location().y, "y of node8");
    }

    @Test
    @DisplayName("grid_absolute_container_top_right__content_box")
    void gridAbsoluteContainerTopRightContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.position = Position.ABSOLUTE;
        node0Style.inset = new Rect<>(LengthPercentageAuto.AUTO, LengthPercentageAuto.length(0.0f), LengthPercentageAuto.length(0.0f), LengthPercentageAuto.AUTO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        node3Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        node4Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node4 = tree.newLeaf(node4Style);

        Style node5Style = new Style();
        node5Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node5 = tree.newLeaf(node5Style);

        Style node6Style = new Style();
        node6Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node6 = tree.newLeaf(node6Style);

        Style node7Style = new Style();
        node7Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node7 = tree.newLeaf(node7Style);

        Style node8Style = new Style();
        node8Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node8 = tree.newLeaf(node8Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.padding = new Rect<>(LengthPercentage.length(40.0f), LengthPercentage.length(20.0f), LengthPercentage.length(10.0f), LengthPercentage.length(30.0f));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5, node6, node7, node8);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(180.0f, nodeLayout.size().width, "width of node");
        assertEquals(160.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(0.0f, node0Layout.size().width, "width of node0");
        assertEquals(0.0f, node0Layout.size().height, "height of node0");
        assertEquals(180.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(40.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(40.0f, node1Layout.location().x, "x of node1");
        assertEquals(10.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(40.0f, node2Layout.size().width, "width of node2");
        assertEquals(40.0f, node2Layout.size().height, "height of node2");
        assertEquals(80.0f, node2Layout.location().x, "x of node2");
        assertEquals(10.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(40.0f, node3Layout.size().width, "width of node3");
        assertEquals(40.0f, node3Layout.size().height, "height of node3");
        assertEquals(120.0f, node3Layout.location().x, "x of node3");
        assertEquals(10.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(40.0f, node4Layout.size().width, "width of node4");
        assertEquals(40.0f, node4Layout.size().height, "height of node4");
        assertEquals(40.0f, node4Layout.location().x, "x of node4");
        assertEquals(50.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(40.0f, node5Layout.size().width, "width of node5");
        assertEquals(40.0f, node5Layout.size().height, "height of node5");
        assertEquals(80.0f, node5Layout.location().x, "x of node5");
        assertEquals(50.0f, node5Layout.location().y, "y of node5");
        Layout node6Layout = tree.getLayout(node6);
        assertEquals(40.0f, node6Layout.size().width, "width of node6");
        assertEquals(40.0f, node6Layout.size().height, "height of node6");
        assertEquals(120.0f, node6Layout.location().x, "x of node6");
        assertEquals(50.0f, node6Layout.location().y, "y of node6");
        Layout node7Layout = tree.getLayout(node7);
        assertEquals(40.0f, node7Layout.size().width, "width of node7");
        assertEquals(40.0f, node7Layout.size().height, "height of node7");
        assertEquals(40.0f, node7Layout.location().x, "x of node7");
        assertEquals(90.0f, node7Layout.location().y, "y of node7");
        Layout node8Layout = tree.getLayout(node8);
        assertEquals(40.0f, node8Layout.size().width, "width of node8");
        assertEquals(40.0f, node8Layout.size().height, "height of node8");
        assertEquals(80.0f, node8Layout.location().x, "x of node8");
        assertEquals(90.0f, node8Layout.location().y, "y of node8");
    }

    @Test
    @DisplayName("grid_absolute_container_top_right_margin__border_box")
    void gridAbsoluteContainerTopRightMarginBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.position = Position.ABSOLUTE;
        node0Style.margin = new Rect<>(LengthPercentageAuto.length(4.0f), LengthPercentageAuto.length(2.0f), LengthPercentageAuto.length(1.0f), LengthPercentageAuto.length(3.0f));
        node0Style.inset = new Rect<>(LengthPercentageAuto.AUTO, LengthPercentageAuto.length(0.0f), LengthPercentageAuto.length(0.0f), LengthPercentageAuto.AUTO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        NodeId node4 = tree.newLeaf(node4Style);

        Style node5Style = new Style();
        NodeId node5 = tree.newLeaf(node5Style);

        Style node6Style = new Style();
        NodeId node6 = tree.newLeaf(node6Style);

        Style node7Style = new Style();
        NodeId node7 = tree.newLeaf(node7Style);

        Style node8Style = new Style();
        NodeId node8 = tree.newLeaf(node8Style);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.padding = new Rect<>(LengthPercentage.length(40.0f), LengthPercentage.length(20.0f), LengthPercentage.length(10.0f), LengthPercentage.length(30.0f));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5, node6, node7, node8);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(180.0f, nodeLayout.size().width, "width of node");
        assertEquals(160.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(0.0f, node0Layout.size().width, "width of node0");
        assertEquals(0.0f, node0Layout.size().height, "height of node0");
        assertEquals(178.0f, node0Layout.location().x, "x of node0");
        assertEquals(1.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(40.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(40.0f, node1Layout.location().x, "x of node1");
        assertEquals(10.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(40.0f, node2Layout.size().width, "width of node2");
        assertEquals(40.0f, node2Layout.size().height, "height of node2");
        assertEquals(80.0f, node2Layout.location().x, "x of node2");
        assertEquals(10.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(40.0f, node3Layout.size().width, "width of node3");
        assertEquals(40.0f, node3Layout.size().height, "height of node3");
        assertEquals(120.0f, node3Layout.location().x, "x of node3");
        assertEquals(10.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(40.0f, node4Layout.size().width, "width of node4");
        assertEquals(40.0f, node4Layout.size().height, "height of node4");
        assertEquals(40.0f, node4Layout.location().x, "x of node4");
        assertEquals(50.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(40.0f, node5Layout.size().width, "width of node5");
        assertEquals(40.0f, node5Layout.size().height, "height of node5");
        assertEquals(80.0f, node5Layout.location().x, "x of node5");
        assertEquals(50.0f, node5Layout.location().y, "y of node5");
        Layout node6Layout = tree.getLayout(node6);
        assertEquals(40.0f, node6Layout.size().width, "width of node6");
        assertEquals(40.0f, node6Layout.size().height, "height of node6");
        assertEquals(120.0f, node6Layout.location().x, "x of node6");
        assertEquals(50.0f, node6Layout.location().y, "y of node6");
        Layout node7Layout = tree.getLayout(node7);
        assertEquals(40.0f, node7Layout.size().width, "width of node7");
        assertEquals(40.0f, node7Layout.size().height, "height of node7");
        assertEquals(40.0f, node7Layout.location().x, "x of node7");
        assertEquals(90.0f, node7Layout.location().y, "y of node7");
        Layout node8Layout = tree.getLayout(node8);
        assertEquals(40.0f, node8Layout.size().width, "width of node8");
        assertEquals(40.0f, node8Layout.size().height, "height of node8");
        assertEquals(80.0f, node8Layout.location().x, "x of node8");
        assertEquals(90.0f, node8Layout.location().y, "y of node8");
    }

    @Test
    @DisplayName("grid_absolute_container_top_right_margin__content_box")
    void gridAbsoluteContainerTopRightMarginContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.position = Position.ABSOLUTE;
        node0Style.margin = new Rect<>(LengthPercentageAuto.length(4.0f), LengthPercentageAuto.length(2.0f), LengthPercentageAuto.length(1.0f), LengthPercentageAuto.length(3.0f));
        node0Style.inset = new Rect<>(LengthPercentageAuto.AUTO, LengthPercentageAuto.length(0.0f), LengthPercentageAuto.length(0.0f), LengthPercentageAuto.AUTO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        node3Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        node4Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node4 = tree.newLeaf(node4Style);

        Style node5Style = new Style();
        node5Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node5 = tree.newLeaf(node5Style);

        Style node6Style = new Style();
        node6Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node6 = tree.newLeaf(node6Style);

        Style node7Style = new Style();
        node7Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node7 = tree.newLeaf(node7Style);

        Style node8Style = new Style();
        node8Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node8 = tree.newLeaf(node8Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.padding = new Rect<>(LengthPercentage.length(40.0f), LengthPercentage.length(20.0f), LengthPercentage.length(10.0f), LengthPercentage.length(30.0f));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5, node6, node7, node8);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(180.0f, nodeLayout.size().width, "width of node");
        assertEquals(160.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(0.0f, node0Layout.size().width, "width of node0");
        assertEquals(0.0f, node0Layout.size().height, "height of node0");
        assertEquals(178.0f, node0Layout.location().x, "x of node0");
        assertEquals(1.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(40.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(40.0f, node1Layout.location().x, "x of node1");
        assertEquals(10.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(40.0f, node2Layout.size().width, "width of node2");
        assertEquals(40.0f, node2Layout.size().height, "height of node2");
        assertEquals(80.0f, node2Layout.location().x, "x of node2");
        assertEquals(10.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(40.0f, node3Layout.size().width, "width of node3");
        assertEquals(40.0f, node3Layout.size().height, "height of node3");
        assertEquals(120.0f, node3Layout.location().x, "x of node3");
        assertEquals(10.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(40.0f, node4Layout.size().width, "width of node4");
        assertEquals(40.0f, node4Layout.size().height, "height of node4");
        assertEquals(40.0f, node4Layout.location().x, "x of node4");
        assertEquals(50.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(40.0f, node5Layout.size().width, "width of node5");
        assertEquals(40.0f, node5Layout.size().height, "height of node5");
        assertEquals(80.0f, node5Layout.location().x, "x of node5");
        assertEquals(50.0f, node5Layout.location().y, "y of node5");
        Layout node6Layout = tree.getLayout(node6);
        assertEquals(40.0f, node6Layout.size().width, "width of node6");
        assertEquals(40.0f, node6Layout.size().height, "height of node6");
        assertEquals(120.0f, node6Layout.location().x, "x of node6");
        assertEquals(50.0f, node6Layout.location().y, "y of node6");
        Layout node7Layout = tree.getLayout(node7);
        assertEquals(40.0f, node7Layout.size().width, "width of node7");
        assertEquals(40.0f, node7Layout.size().height, "height of node7");
        assertEquals(40.0f, node7Layout.location().x, "x of node7");
        assertEquals(90.0f, node7Layout.location().y, "y of node7");
        Layout node8Layout = tree.getLayout(node8);
        assertEquals(40.0f, node8Layout.size().width, "width of node8");
        assertEquals(40.0f, node8Layout.size().height, "height of node8");
        assertEquals(80.0f, node8Layout.location().x, "x of node8");
        assertEquals(90.0f, node8Layout.location().y, "y of node8");
    }

    @Test
    @DisplayName("grid_absolute_justify_self_sized_all__border_box")
    void gridAbsoluteJustifySelfSizedAllBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.position = Position.ABSOLUTE;
        node0Style.justifySelf = AlignItems.START;
        node0Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.position = Position.ABSOLUTE;
        node1Style.justifySelf = AlignItems.START;
        node1Style.size = new Size<>(Dimension.length(60.0f), Dimension.length(60.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.position = Position.ABSOLUTE;
        node2Style.justifySelf = AlignItems.END;
        node2Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        node3Style.position = Position.ABSOLUTE;
        node3Style.justifySelf = AlignItems.END;
        node3Style.size = new Size<>(Dimension.length(60.0f), Dimension.length(60.0f));
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        node4Style.position = Position.ABSOLUTE;
        node4Style.justifySelf = AlignItems.CENTER;
        node4Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        NodeId node4 = tree.newLeaf(node4Style);

        Style node5Style = new Style();
        node5Style.position = Position.ABSOLUTE;
        node5Style.justifySelf = AlignItems.CENTER;
        node5Style.size = new Size<>(Dimension.length(60.0f), Dimension.length(60.0f));
        NodeId node5 = tree.newLeaf(node5Style);

        Style node6Style = new Style();
        node6Style.position = Position.ABSOLUTE;
        node6Style.justifySelf = AlignItems.STRETCH;
        node6Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        NodeId node6 = tree.newLeaf(node6Style);

        Style node7Style = new Style();
        node7Style.position = Position.ABSOLUTE;
        node7Style.justifySelf = AlignItems.STRETCH;
        node7Style.size = new Size<>(Dimension.length(60.0f), Dimension.length(60.0f));
        NodeId node7 = tree.newLeaf(node7Style);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.size = new Size<>(Dimension.length(120.0f), Dimension.length(120.0f));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5, node6, node7);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(120.0f, nodeLayout.size().width, "width of node");
        assertEquals(120.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(20.0f, node0Layout.size().width, "width of node0");
        assertEquals(20.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(60.0f, node1Layout.size().width, "width of node1");
        assertEquals(60.0f, node1Layout.size().height, "height of node1");
        assertEquals(0.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(20.0f, node2Layout.size().width, "width of node2");
        assertEquals(20.0f, node2Layout.size().height, "height of node2");
        assertEquals(100.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(60.0f, node3Layout.size().width, "width of node3");
        assertEquals(60.0f, node3Layout.size().height, "height of node3");
        assertEquals(60.0f, node3Layout.location().x, "x of node3");
        assertEquals(0.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(20.0f, node4Layout.size().width, "width of node4");
        assertEquals(20.0f, node4Layout.size().height, "height of node4");
        assertEquals(50.0f, node4Layout.location().x, "x of node4");
        assertEquals(0.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(60.0f, node5Layout.size().width, "width of node5");
        assertEquals(60.0f, node5Layout.size().height, "height of node5");
        assertEquals(30.0f, node5Layout.location().x, "x of node5");
        assertEquals(0.0f, node5Layout.location().y, "y of node5");
        Layout node6Layout = tree.getLayout(node6);
        assertEquals(20.0f, node6Layout.size().width, "width of node6");
        assertEquals(20.0f, node6Layout.size().height, "height of node6");
        assertEquals(0.0f, node6Layout.location().x, "x of node6");
        assertEquals(0.0f, node6Layout.location().y, "y of node6");
        Layout node7Layout = tree.getLayout(node7);
        assertEquals(60.0f, node7Layout.size().width, "width of node7");
        assertEquals(60.0f, node7Layout.size().height, "height of node7");
        assertEquals(0.0f, node7Layout.location().x, "x of node7");
        assertEquals(0.0f, node7Layout.location().y, "y of node7");
    }

    @Test
    @DisplayName("grid_absolute_justify_self_sized_all__content_box")
    void gridAbsoluteJustifySelfSizedAllContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.position = Position.ABSOLUTE;
        node0Style.justifySelf = AlignItems.START;
        node0Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.position = Position.ABSOLUTE;
        node1Style.justifySelf = AlignItems.START;
        node1Style.size = new Size<>(Dimension.length(60.0f), Dimension.length(60.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        node2Style.position = Position.ABSOLUTE;
        node2Style.justifySelf = AlignItems.END;
        node2Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        node3Style.boxSizing = BoxSizing.CONTENT_BOX;
        node3Style.position = Position.ABSOLUTE;
        node3Style.justifySelf = AlignItems.END;
        node3Style.size = new Size<>(Dimension.length(60.0f), Dimension.length(60.0f));
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        node4Style.boxSizing = BoxSizing.CONTENT_BOX;
        node4Style.position = Position.ABSOLUTE;
        node4Style.justifySelf = AlignItems.CENTER;
        node4Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        NodeId node4 = tree.newLeaf(node4Style);

        Style node5Style = new Style();
        node5Style.boxSizing = BoxSizing.CONTENT_BOX;
        node5Style.position = Position.ABSOLUTE;
        node5Style.justifySelf = AlignItems.CENTER;
        node5Style.size = new Size<>(Dimension.length(60.0f), Dimension.length(60.0f));
        NodeId node5 = tree.newLeaf(node5Style);

        Style node6Style = new Style();
        node6Style.boxSizing = BoxSizing.CONTENT_BOX;
        node6Style.position = Position.ABSOLUTE;
        node6Style.justifySelf = AlignItems.STRETCH;
        node6Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        NodeId node6 = tree.newLeaf(node6Style);

        Style node7Style = new Style();
        node7Style.boxSizing = BoxSizing.CONTENT_BOX;
        node7Style.position = Position.ABSOLUTE;
        node7Style.justifySelf = AlignItems.STRETCH;
        node7Style.size = new Size<>(Dimension.length(60.0f), Dimension.length(60.0f));
        NodeId node7 = tree.newLeaf(node7Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.size = new Size<>(Dimension.length(120.0f), Dimension.length(120.0f));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5, node6, node7);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(120.0f, nodeLayout.size().width, "width of node");
        assertEquals(120.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(20.0f, node0Layout.size().width, "width of node0");
        assertEquals(20.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(60.0f, node1Layout.size().width, "width of node1");
        assertEquals(60.0f, node1Layout.size().height, "height of node1");
        assertEquals(0.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(20.0f, node2Layout.size().width, "width of node2");
        assertEquals(20.0f, node2Layout.size().height, "height of node2");
        assertEquals(100.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(60.0f, node3Layout.size().width, "width of node3");
        assertEquals(60.0f, node3Layout.size().height, "height of node3");
        assertEquals(60.0f, node3Layout.location().x, "x of node3");
        assertEquals(0.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(20.0f, node4Layout.size().width, "width of node4");
        assertEquals(20.0f, node4Layout.size().height, "height of node4");
        assertEquals(50.0f, node4Layout.location().x, "x of node4");
        assertEquals(0.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(60.0f, node5Layout.size().width, "width of node5");
        assertEquals(60.0f, node5Layout.size().height, "height of node5");
        assertEquals(30.0f, node5Layout.location().x, "x of node5");
        assertEquals(0.0f, node5Layout.location().y, "y of node5");
        Layout node6Layout = tree.getLayout(node6);
        assertEquals(20.0f, node6Layout.size().width, "width of node6");
        assertEquals(20.0f, node6Layout.size().height, "height of node6");
        assertEquals(0.0f, node6Layout.location().x, "x of node6");
        assertEquals(0.0f, node6Layout.location().y, "y of node6");
        Layout node7Layout = tree.getLayout(node7);
        assertEquals(60.0f, node7Layout.size().width, "width of node7");
        assertEquals(60.0f, node7Layout.size().height, "height of node7");
        assertEquals(0.0f, node7Layout.location().x, "x of node7");
        assertEquals(0.0f, node7Layout.location().y, "y of node7");
    }

    @Test
    @DisplayName("grid_absolute_layout_within_border__border_box")
    void gridAbsoluteLayoutWithinBorderBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.position = Position.ABSOLUTE;
        node0Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        node0Style.inset = new Rect<>(LengthPercentageAuto.length(0.0f), LengthPercentageAuto.AUTO, LengthPercentageAuto.length(0.0f), LengthPercentageAuto.AUTO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.position = Position.ABSOLUTE;
        node1Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        node1Style.inset = new Rect<>(LengthPercentageAuto.AUTO, LengthPercentageAuto.length(0.0f), LengthPercentageAuto.AUTO, LengthPercentageAuto.length(0.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.position = Position.ABSOLUTE;
        node2Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        node2Style.margin = new Rect<>(LengthPercentageAuto.length(10.0f), LengthPercentageAuto.length(10.0f), LengthPercentageAuto.length(10.0f), LengthPercentageAuto.length(10.0f));
        node2Style.inset = new Rect<>(LengthPercentageAuto.length(0.0f), LengthPercentageAuto.AUTO, LengthPercentageAuto.length(0.0f), LengthPercentageAuto.AUTO);
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        node3Style.position = Position.ABSOLUTE;
        node3Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        node3Style.margin = new Rect<>(LengthPercentageAuto.length(10.0f), LengthPercentageAuto.length(10.0f), LengthPercentageAuto.length(10.0f), LengthPercentageAuto.length(10.0f));
        node3Style.inset = new Rect<>(LengthPercentageAuto.AUTO, LengthPercentageAuto.length(0.0f), LengthPercentageAuto.AUTO, LengthPercentageAuto.length(0.0f));
        NodeId node3 = tree.newLeaf(node3Style);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        nodeStyle.padding = new Rect<>(LengthPercentage.length(10.0f), LengthPercentage.length(10.0f), LengthPercentage.length(10.0f), LengthPercentage.length(10.0f));
        nodeStyle.border = new Rect<>(LengthPercentage.length(10.0f), LengthPercentage.length(10.0f), LengthPercentage.length(10.0f), LengthPercentage.length(10.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(50.0f, node0Layout.size().width, "width of node0");
        assertEquals(50.0f, node0Layout.size().height, "height of node0");
        assertEquals(10.0f, node0Layout.location().x, "x of node0");
        assertEquals(10.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(50.0f, node1Layout.size().width, "width of node1");
        assertEquals(50.0f, node1Layout.size().height, "height of node1");
        assertEquals(40.0f, node1Layout.location().x, "x of node1");
        assertEquals(40.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(50.0f, node2Layout.size().width, "width of node2");
        assertEquals(50.0f, node2Layout.size().height, "height of node2");
        assertEquals(20.0f, node2Layout.location().x, "x of node2");
        assertEquals(20.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(50.0f, node3Layout.size().width, "width of node3");
        assertEquals(50.0f, node3Layout.size().height, "height of node3");
        assertEquals(30.0f, node3Layout.location().x, "x of node3");
        assertEquals(30.0f, node3Layout.location().y, "y of node3");
    }

    @Test
    @DisplayName("grid_absolute_layout_within_border__content_box")
    void gridAbsoluteLayoutWithinBorderContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.position = Position.ABSOLUTE;
        node0Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        node0Style.inset = new Rect<>(LengthPercentageAuto.length(0.0f), LengthPercentageAuto.AUTO, LengthPercentageAuto.length(0.0f), LengthPercentageAuto.AUTO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.position = Position.ABSOLUTE;
        node1Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        node1Style.inset = new Rect<>(LengthPercentageAuto.AUTO, LengthPercentageAuto.length(0.0f), LengthPercentageAuto.AUTO, LengthPercentageAuto.length(0.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        node2Style.position = Position.ABSOLUTE;
        node2Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        node2Style.margin = new Rect<>(LengthPercentageAuto.length(10.0f), LengthPercentageAuto.length(10.0f), LengthPercentageAuto.length(10.0f), LengthPercentageAuto.length(10.0f));
        node2Style.inset = new Rect<>(LengthPercentageAuto.length(0.0f), LengthPercentageAuto.AUTO, LengthPercentageAuto.length(0.0f), LengthPercentageAuto.AUTO);
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        node3Style.boxSizing = BoxSizing.CONTENT_BOX;
        node3Style.position = Position.ABSOLUTE;
        node3Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        node3Style.margin = new Rect<>(LengthPercentageAuto.length(10.0f), LengthPercentageAuto.length(10.0f), LengthPercentageAuto.length(10.0f), LengthPercentageAuto.length(10.0f));
        node3Style.inset = new Rect<>(LengthPercentageAuto.AUTO, LengthPercentageAuto.length(0.0f), LengthPercentageAuto.AUTO, LengthPercentageAuto.length(0.0f));
        NodeId node3 = tree.newLeaf(node3Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        nodeStyle.padding = new Rect<>(LengthPercentage.length(10.0f), LengthPercentage.length(10.0f), LengthPercentage.length(10.0f), LengthPercentage.length(10.0f));
        nodeStyle.border = new Rect<>(LengthPercentage.length(10.0f), LengthPercentage.length(10.0f), LengthPercentage.length(10.0f), LengthPercentage.length(10.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(140.0f, nodeLayout.size().width, "width of node");
        assertEquals(140.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(50.0f, node0Layout.size().width, "width of node0");
        assertEquals(50.0f, node0Layout.size().height, "height of node0");
        assertEquals(10.0f, node0Layout.location().x, "x of node0");
        assertEquals(10.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(50.0f, node1Layout.size().width, "width of node1");
        assertEquals(50.0f, node1Layout.size().height, "height of node1");
        assertEquals(80.0f, node1Layout.location().x, "x of node1");
        assertEquals(80.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(50.0f, node2Layout.size().width, "width of node2");
        assertEquals(50.0f, node2Layout.size().height, "height of node2");
        assertEquals(20.0f, node2Layout.location().x, "x of node2");
        assertEquals(20.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(50.0f, node3Layout.size().width, "width of node3");
        assertEquals(50.0f, node3Layout.size().height, "height of node3");
        assertEquals(70.0f, node3Layout.location().x, "x of node3");
        assertEquals(70.0f, node3Layout.location().y, "y of node3");
    }

    @Test
    @DisplayName("grid_absolute_layout_within_border_static__border_box")
    void gridAbsoluteLayoutWithinBorderStaticBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.position = Position.ABSOLUTE;
        node0Style.alignSelf = AlignItems.START;
        node0Style.justifySelf = AlignItems.START;
        node0Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.position = Position.ABSOLUTE;
        node1Style.alignSelf = AlignItems.END;
        node1Style.justifySelf = AlignItems.END;
        node1Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.position = Position.ABSOLUTE;
        node2Style.alignSelf = AlignItems.START;
        node2Style.justifySelf = AlignItems.START;
        node2Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        node2Style.margin = new Rect<>(LengthPercentageAuto.length(10.0f), LengthPercentageAuto.length(10.0f), LengthPercentageAuto.length(10.0f), LengthPercentageAuto.length(10.0f));
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        node3Style.position = Position.ABSOLUTE;
        node3Style.alignSelf = AlignItems.END;
        node3Style.justifySelf = AlignItems.END;
        node3Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        node3Style.margin = new Rect<>(LengthPercentageAuto.length(10.0f), LengthPercentageAuto.length(10.0f), LengthPercentageAuto.length(10.0f), LengthPercentageAuto.length(10.0f));
        NodeId node3 = tree.newLeaf(node3Style);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        nodeStyle.padding = new Rect<>(LengthPercentage.length(10.0f), LengthPercentage.length(10.0f), LengthPercentage.length(10.0f), LengthPercentage.length(10.0f));
        nodeStyle.border = new Rect<>(LengthPercentage.length(10.0f), LengthPercentage.length(10.0f), LengthPercentage.length(10.0f), LengthPercentage.length(10.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(50.0f, node0Layout.size().width, "width of node0");
        assertEquals(50.0f, node0Layout.size().height, "height of node0");
        assertEquals(10.0f, node0Layout.location().x, "x of node0");
        assertEquals(10.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(50.0f, node1Layout.size().width, "width of node1");
        assertEquals(50.0f, node1Layout.size().height, "height of node1");
        assertEquals(40.0f, node1Layout.location().x, "x of node1");
        assertEquals(40.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(50.0f, node2Layout.size().width, "width of node2");
        assertEquals(50.0f, node2Layout.size().height, "height of node2");
        assertEquals(20.0f, node2Layout.location().x, "x of node2");
        assertEquals(20.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(50.0f, node3Layout.size().width, "width of node3");
        assertEquals(50.0f, node3Layout.size().height, "height of node3");
        assertEquals(30.0f, node3Layout.location().x, "x of node3");
        assertEquals(30.0f, node3Layout.location().y, "y of node3");
    }

    @Test
    @DisplayName("grid_absolute_layout_within_border_static__content_box")
    void gridAbsoluteLayoutWithinBorderStaticContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.position = Position.ABSOLUTE;
        node0Style.alignSelf = AlignItems.START;
        node0Style.justifySelf = AlignItems.START;
        node0Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.position = Position.ABSOLUTE;
        node1Style.alignSelf = AlignItems.END;
        node1Style.justifySelf = AlignItems.END;
        node1Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        node2Style.position = Position.ABSOLUTE;
        node2Style.alignSelf = AlignItems.START;
        node2Style.justifySelf = AlignItems.START;
        node2Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        node2Style.margin = new Rect<>(LengthPercentageAuto.length(10.0f), LengthPercentageAuto.length(10.0f), LengthPercentageAuto.length(10.0f), LengthPercentageAuto.length(10.0f));
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        node3Style.boxSizing = BoxSizing.CONTENT_BOX;
        node3Style.position = Position.ABSOLUTE;
        node3Style.alignSelf = AlignItems.END;
        node3Style.justifySelf = AlignItems.END;
        node3Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        node3Style.margin = new Rect<>(LengthPercentageAuto.length(10.0f), LengthPercentageAuto.length(10.0f), LengthPercentageAuto.length(10.0f), LengthPercentageAuto.length(10.0f));
        NodeId node3 = tree.newLeaf(node3Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        nodeStyle.padding = new Rect<>(LengthPercentage.length(10.0f), LengthPercentage.length(10.0f), LengthPercentage.length(10.0f), LengthPercentage.length(10.0f));
        nodeStyle.border = new Rect<>(LengthPercentage.length(10.0f), LengthPercentage.length(10.0f), LengthPercentage.length(10.0f), LengthPercentage.length(10.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(140.0f, nodeLayout.size().width, "width of node");
        assertEquals(140.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(50.0f, node0Layout.size().width, "width of node0");
        assertEquals(50.0f, node0Layout.size().height, "height of node0");
        assertEquals(10.0f, node0Layout.location().x, "x of node0");
        assertEquals(10.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(50.0f, node1Layout.size().width, "width of node1");
        assertEquals(50.0f, node1Layout.size().height, "height of node1");
        assertEquals(80.0f, node1Layout.location().x, "x of node1");
        assertEquals(80.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(50.0f, node2Layout.size().width, "width of node2");
        assertEquals(50.0f, node2Layout.size().height, "height of node2");
        assertEquals(20.0f, node2Layout.location().x, "x of node2");
        assertEquals(20.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(50.0f, node3Layout.size().width, "width of node3");
        assertEquals(50.0f, node3Layout.size().height, "height of node3");
        assertEquals(70.0f, node3Layout.location().x, "x of node3");
        assertEquals(70.0f, node3Layout.location().y, "y of node3");
    }

    @Test
    @DisplayName("grid_absolute_resolved_insets__border_box")
    void gridAbsoluteResolvedInsetsBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.position = Position.ABSOLUTE;
        node00Style.inset = new Rect<>(LengthPercentageAuto.AUTO, LengthPercentageAuto.AUTO, LengthPercentageAuto.AUTO, LengthPercentageAuto.AUTO);
        NodeId node00 = tree.newLeaf(node00Style);

        Style node01Style = new Style();
        node01Style.position = Position.ABSOLUTE;
        node01Style.inset = new Rect<>(LengthPercentageAuto.length(0.0f), LengthPercentageAuto.AUTO, LengthPercentageAuto.length(0.0f), LengthPercentageAuto.AUTO);
        NodeId node01 = tree.newLeaf(node01Style);

        Style node02Style = new Style();
        node02Style.position = Position.ABSOLUTE;
        node02Style.inset = new Rect<>(LengthPercentageAuto.percent(1.0f), LengthPercentageAuto.AUTO, LengthPercentageAuto.percent(1.0f), LengthPercentageAuto.AUTO);
        NodeId node02 = tree.newLeaf(node02Style);

        Style node03Style = new Style();
        node03Style.position = Position.ABSOLUTE;
        node03Style.inset = new Rect<>(LengthPercentageAuto.AUTO, LengthPercentageAuto.percent(1.0f), LengthPercentageAuto.AUTO, LengthPercentageAuto.percent(1.0f));
        NodeId node03 = tree.newLeaf(node03Style);

        Style node04Style = new Style();
        node04Style.position = Position.ABSOLUTE;
        node04Style.inset = new Rect<>(LengthPercentageAuto.length(30.0f), LengthPercentageAuto.AUTO, LengthPercentageAuto.length(30.0f), LengthPercentageAuto.AUTO);
        NodeId node04 = tree.newLeaf(node04Style);

        Style node05Style = new Style();
        node05Style.position = Position.ABSOLUTE;
        node05Style.size = new Size<>(Dimension.percent(1.0f), Dimension.percent(1.0f));
        node05Style.inset = new Rect<>(LengthPercentageAuto.length(0.0f), LengthPercentageAuto.AUTO, LengthPercentageAuto.length(0.0f), LengthPercentageAuto.AUTO);
        NodeId node05 = tree.newLeaf(node05Style);

        Style node0Style = new Style();
        node0Style.display = Display.GRID;
        node0Style.size = new Size<>(Dimension.length(200.0f), Dimension.length(200.0f));
        node0Style.padding = new Rect<>(LengthPercentage.length(15.0f), LengthPercentage.length(15.0f), LengthPercentage.length(15.0f), LengthPercentage.length(15.0f));
        node0Style.border = new Rect<>(LengthPercentage.length(20.0f), LengthPercentage.length(20.0f), LengthPercentage.length(20.0f), LengthPercentage.length(20.0f));
        NodeId node0 = tree.newWithChildren(node0Style, node00, node01, node02, node03, node04, node05);

        Style node10Style = new Style();
        node10Style.position = Position.ABSOLUTE;
        node10Style.inset = new Rect<>(LengthPercentageAuto.AUTO, LengthPercentageAuto.AUTO, LengthPercentageAuto.AUTO, LengthPercentageAuto.AUTO);
        NodeId node10 = tree.newLeaf(node10Style);

        Style node11Style = new Style();
        node11Style.position = Position.ABSOLUTE;
        node11Style.inset = new Rect<>(LengthPercentageAuto.length(0.0f), LengthPercentageAuto.AUTO, LengthPercentageAuto.length(0.0f), LengthPercentageAuto.AUTO);
        NodeId node11 = tree.newLeaf(node11Style);

        Style node12Style = new Style();
        node12Style.position = Position.ABSOLUTE;
        node12Style.inset = new Rect<>(LengthPercentageAuto.percent(1.0f), LengthPercentageAuto.AUTO, LengthPercentageAuto.percent(1.0f), LengthPercentageAuto.AUTO);
        NodeId node12 = tree.newLeaf(node12Style);

        Style node13Style = new Style();
        node13Style.position = Position.ABSOLUTE;
        node13Style.inset = new Rect<>(LengthPercentageAuto.AUTO, LengthPercentageAuto.percent(1.0f), LengthPercentageAuto.AUTO, LengthPercentageAuto.percent(1.0f));
        NodeId node13 = tree.newLeaf(node13Style);

        Style node14Style = new Style();
        node14Style.position = Position.ABSOLUTE;
        node14Style.inset = new Rect<>(LengthPercentageAuto.length(30.0f), LengthPercentageAuto.AUTO, LengthPercentageAuto.length(30.0f), LengthPercentageAuto.AUTO);
        NodeId node14 = tree.newLeaf(node14Style);

        Style node15Style = new Style();
        node15Style.position = Position.ABSOLUTE;
        node15Style.size = new Size<>(Dimension.percent(1.0f), Dimension.percent(1.0f));
        node15Style.inset = new Rect<>(LengthPercentageAuto.length(0.0f), LengthPercentageAuto.AUTO, LengthPercentageAuto.length(0.0f), LengthPercentageAuto.AUTO);
        NodeId node15 = tree.newLeaf(node15Style);

        Style node1Style = new Style();
        node1Style.display = Display.GRID;
        node1Style.size = new Size<>(Dimension.length(200.0f), Dimension.length(200.0f));
        node1Style.padding = new Rect<>(LengthPercentage.length(15.0f), LengthPercentage.length(15.0f), LengthPercentage.length(15.0f), LengthPercentage.length(15.0f));
        node1Style.border = new Rect<>(LengthPercentage.length(20.0f), LengthPercentage.length(20.0f), LengthPercentage.length(20.0f), LengthPercentage.length(20.0f));
        node1Style.overflow = new Point<>(Overflow.SCROLL, Overflow.SCROLL);
        node1Style.scrollbarWidth = 15.0f;
        NodeId node1 = tree.newWithChildren(node1Style, node10, node11, node12, node13, node14, node15);

        Style nodeStyle = new Style();
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(400.0f, nodeLayout.size().width, "width of node");
        assertEquals(200.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(200.0f, node0Layout.size().width, "width of node0");
        assertEquals(200.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(0.0f, node00Layout.size().width, "width of node00");
        assertEquals(0.0f, node00Layout.size().height, "height of node00");
        assertEquals(20.0f, node00Layout.location().x, "x of node00");
        assertEquals(20.0f, node00Layout.location().y, "y of node00");
        Layout node01Layout = tree.getLayout(node01);
        assertEquals(0.0f, node01Layout.size().width, "width of node01");
        assertEquals(0.0f, node01Layout.size().height, "height of node01");
        assertEquals(20.0f, node01Layout.location().x, "x of node01");
        assertEquals(20.0f, node01Layout.location().y, "y of node01");
        Layout node02Layout = tree.getLayout(node02);
        assertEquals(0.0f, node02Layout.size().width, "width of node02");
        assertEquals(0.0f, node02Layout.size().height, "height of node02");
        assertEquals(180.0f, node02Layout.location().x, "x of node02");
        assertEquals(180.0f, node02Layout.location().y, "y of node02");
        Layout node03Layout = tree.getLayout(node03);
        assertEquals(0.0f, node03Layout.size().width, "width of node03");
        assertEquals(0.0f, node03Layout.size().height, "height of node03");
        assertEquals(20.0f, node03Layout.location().x, "x of node03");
        assertEquals(20.0f, node03Layout.location().y, "y of node03");
        Layout node04Layout = tree.getLayout(node04);
        assertEquals(0.0f, node04Layout.size().width, "width of node04");
        assertEquals(0.0f, node04Layout.size().height, "height of node04");
        assertEquals(50.0f, node04Layout.location().x, "x of node04");
        assertEquals(50.0f, node04Layout.location().y, "y of node04");
        Layout node05Layout = tree.getLayout(node05);
        assertEquals(160.0f, node05Layout.size().width, "width of node05");
        assertEquals(160.0f, node05Layout.size().height, "height of node05");
        assertEquals(20.0f, node05Layout.location().x, "x of node05");
        assertEquals(20.0f, node05Layout.location().y, "y of node05");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(200.0f, node1Layout.size().width, "width of node1");
        assertEquals(200.0f, node1Layout.size().height, "height of node1");
        assertEquals(200.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node10Layout = tree.getLayout(node10);
        assertEquals(0.0f, node10Layout.size().width, "width of node10");
        assertEquals(0.0f, node10Layout.size().height, "height of node10");
        assertEquals(20.0f, node10Layout.location().x, "x of node10");
        assertEquals(20.0f, node10Layout.location().y, "y of node10");
        Layout node11Layout = tree.getLayout(node11);
        assertEquals(0.0f, node11Layout.size().width, "width of node11");
        assertEquals(0.0f, node11Layout.size().height, "height of node11");
        assertEquals(20.0f, node11Layout.location().x, "x of node11");
        assertEquals(20.0f, node11Layout.location().y, "y of node11");
        Layout node12Layout = tree.getLayout(node12);
        assertEquals(0.0f, node12Layout.size().width, "width of node12");
        assertEquals(0.0f, node12Layout.size().height, "height of node12");
        assertEquals(165.0f, node12Layout.location().x, "x of node12");
        assertEquals(165.0f, node12Layout.location().y, "y of node12");
        Layout node13Layout = tree.getLayout(node13);
        assertEquals(0.0f, node13Layout.size().width, "width of node13");
        assertEquals(0.0f, node13Layout.size().height, "height of node13");
        assertEquals(20.0f, node13Layout.location().x, "x of node13");
        assertEquals(20.0f, node13Layout.location().y, "y of node13");
        Layout node14Layout = tree.getLayout(node14);
        assertEquals(0.0f, node14Layout.size().width, "width of node14");
        assertEquals(0.0f, node14Layout.size().height, "height of node14");
        assertEquals(50.0f, node14Layout.location().x, "x of node14");
        assertEquals(50.0f, node14Layout.location().y, "y of node14");
        Layout node15Layout = tree.getLayout(node15);
        assertEquals(145.0f, node15Layout.size().width, "width of node15");
        assertEquals(145.0f, node15Layout.size().height, "height of node15");
        assertEquals(20.0f, node15Layout.location().x, "x of node15");
        assertEquals(20.0f, node15Layout.location().y, "y of node15");
    }

    @Test
    @DisplayName("grid_absolute_resolved_insets__content_box")
    void gridAbsoluteResolvedInsetsContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.boxSizing = BoxSizing.CONTENT_BOX;
        node00Style.position = Position.ABSOLUTE;
        node00Style.inset = new Rect<>(LengthPercentageAuto.AUTO, LengthPercentageAuto.AUTO, LengthPercentageAuto.AUTO, LengthPercentageAuto.AUTO);
        NodeId node00 = tree.newLeaf(node00Style);

        Style node01Style = new Style();
        node01Style.boxSizing = BoxSizing.CONTENT_BOX;
        node01Style.position = Position.ABSOLUTE;
        node01Style.inset = new Rect<>(LengthPercentageAuto.length(0.0f), LengthPercentageAuto.AUTO, LengthPercentageAuto.length(0.0f), LengthPercentageAuto.AUTO);
        NodeId node01 = tree.newLeaf(node01Style);

        Style node02Style = new Style();
        node02Style.boxSizing = BoxSizing.CONTENT_BOX;
        node02Style.position = Position.ABSOLUTE;
        node02Style.inset = new Rect<>(LengthPercentageAuto.percent(1.0f), LengthPercentageAuto.AUTO, LengthPercentageAuto.percent(1.0f), LengthPercentageAuto.AUTO);
        NodeId node02 = tree.newLeaf(node02Style);

        Style node03Style = new Style();
        node03Style.boxSizing = BoxSizing.CONTENT_BOX;
        node03Style.position = Position.ABSOLUTE;
        node03Style.inset = new Rect<>(LengthPercentageAuto.AUTO, LengthPercentageAuto.percent(1.0f), LengthPercentageAuto.AUTO, LengthPercentageAuto.percent(1.0f));
        NodeId node03 = tree.newLeaf(node03Style);

        Style node04Style = new Style();
        node04Style.boxSizing = BoxSizing.CONTENT_BOX;
        node04Style.position = Position.ABSOLUTE;
        node04Style.inset = new Rect<>(LengthPercentageAuto.length(30.0f), LengthPercentageAuto.AUTO, LengthPercentageAuto.length(30.0f), LengthPercentageAuto.AUTO);
        NodeId node04 = tree.newLeaf(node04Style);

        Style node05Style = new Style();
        node05Style.boxSizing = BoxSizing.CONTENT_BOX;
        node05Style.position = Position.ABSOLUTE;
        node05Style.size = new Size<>(Dimension.percent(1.0f), Dimension.percent(1.0f));
        node05Style.inset = new Rect<>(LengthPercentageAuto.length(0.0f), LengthPercentageAuto.AUTO, LengthPercentageAuto.length(0.0f), LengthPercentageAuto.AUTO);
        NodeId node05 = tree.newLeaf(node05Style);

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.display = Display.GRID;
        node0Style.size = new Size<>(Dimension.length(200.0f), Dimension.length(200.0f));
        node0Style.padding = new Rect<>(LengthPercentage.length(15.0f), LengthPercentage.length(15.0f), LengthPercentage.length(15.0f), LengthPercentage.length(15.0f));
        node0Style.border = new Rect<>(LengthPercentage.length(20.0f), LengthPercentage.length(20.0f), LengthPercentage.length(20.0f), LengthPercentage.length(20.0f));
        NodeId node0 = tree.newWithChildren(node0Style, node00, node01, node02, node03, node04, node05);

        Style node10Style = new Style();
        node10Style.boxSizing = BoxSizing.CONTENT_BOX;
        node10Style.position = Position.ABSOLUTE;
        node10Style.inset = new Rect<>(LengthPercentageAuto.AUTO, LengthPercentageAuto.AUTO, LengthPercentageAuto.AUTO, LengthPercentageAuto.AUTO);
        NodeId node10 = tree.newLeaf(node10Style);

        Style node11Style = new Style();
        node11Style.boxSizing = BoxSizing.CONTENT_BOX;
        node11Style.position = Position.ABSOLUTE;
        node11Style.inset = new Rect<>(LengthPercentageAuto.length(0.0f), LengthPercentageAuto.AUTO, LengthPercentageAuto.length(0.0f), LengthPercentageAuto.AUTO);
        NodeId node11 = tree.newLeaf(node11Style);

        Style node12Style = new Style();
        node12Style.boxSizing = BoxSizing.CONTENT_BOX;
        node12Style.position = Position.ABSOLUTE;
        node12Style.inset = new Rect<>(LengthPercentageAuto.percent(1.0f), LengthPercentageAuto.AUTO, LengthPercentageAuto.percent(1.0f), LengthPercentageAuto.AUTO);
        NodeId node12 = tree.newLeaf(node12Style);

        Style node13Style = new Style();
        node13Style.boxSizing = BoxSizing.CONTENT_BOX;
        node13Style.position = Position.ABSOLUTE;
        node13Style.inset = new Rect<>(LengthPercentageAuto.AUTO, LengthPercentageAuto.percent(1.0f), LengthPercentageAuto.AUTO, LengthPercentageAuto.percent(1.0f));
        NodeId node13 = tree.newLeaf(node13Style);

        Style node14Style = new Style();
        node14Style.boxSizing = BoxSizing.CONTENT_BOX;
        node14Style.position = Position.ABSOLUTE;
        node14Style.inset = new Rect<>(LengthPercentageAuto.length(30.0f), LengthPercentageAuto.AUTO, LengthPercentageAuto.length(30.0f), LengthPercentageAuto.AUTO);
        NodeId node14 = tree.newLeaf(node14Style);

        Style node15Style = new Style();
        node15Style.boxSizing = BoxSizing.CONTENT_BOX;
        node15Style.position = Position.ABSOLUTE;
        node15Style.size = new Size<>(Dimension.percent(1.0f), Dimension.percent(1.0f));
        node15Style.inset = new Rect<>(LengthPercentageAuto.length(0.0f), LengthPercentageAuto.AUTO, LengthPercentageAuto.length(0.0f), LengthPercentageAuto.AUTO);
        NodeId node15 = tree.newLeaf(node15Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.display = Display.GRID;
        node1Style.size = new Size<>(Dimension.length(200.0f), Dimension.length(200.0f));
        node1Style.padding = new Rect<>(LengthPercentage.length(15.0f), LengthPercentage.length(15.0f), LengthPercentage.length(15.0f), LengthPercentage.length(15.0f));
        node1Style.border = new Rect<>(LengthPercentage.length(20.0f), LengthPercentage.length(20.0f), LengthPercentage.length(20.0f), LengthPercentage.length(20.0f));
        node1Style.overflow = new Point<>(Overflow.SCROLL, Overflow.SCROLL);
        node1Style.scrollbarWidth = 15.0f;
        NodeId node1 = tree.newWithChildren(node1Style, node10, node11, node12, node13, node14, node15);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(540.0f, nodeLayout.size().width, "width of node");
        assertEquals(270.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(270.0f, node0Layout.size().width, "width of node0");
        assertEquals(270.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(0.0f, node00Layout.size().width, "width of node00");
        assertEquals(0.0f, node00Layout.size().height, "height of node00");
        assertEquals(20.0f, node00Layout.location().x, "x of node00");
        assertEquals(20.0f, node00Layout.location().y, "y of node00");
        Layout node01Layout = tree.getLayout(node01);
        assertEquals(0.0f, node01Layout.size().width, "width of node01");
        assertEquals(0.0f, node01Layout.size().height, "height of node01");
        assertEquals(20.0f, node01Layout.location().x, "x of node01");
        assertEquals(20.0f, node01Layout.location().y, "y of node01");
        Layout node02Layout = tree.getLayout(node02);
        assertEquals(0.0f, node02Layout.size().width, "width of node02");
        assertEquals(0.0f, node02Layout.size().height, "height of node02");
        assertEquals(250.0f, node02Layout.location().x, "x of node02");
        assertEquals(250.0f, node02Layout.location().y, "y of node02");
        Layout node03Layout = tree.getLayout(node03);
        assertEquals(0.0f, node03Layout.size().width, "width of node03");
        assertEquals(0.0f, node03Layout.size().height, "height of node03");
        assertEquals(20.0f, node03Layout.location().x, "x of node03");
        assertEquals(20.0f, node03Layout.location().y, "y of node03");
        Layout node04Layout = tree.getLayout(node04);
        assertEquals(0.0f, node04Layout.size().width, "width of node04");
        assertEquals(0.0f, node04Layout.size().height, "height of node04");
        assertEquals(50.0f, node04Layout.location().x, "x of node04");
        assertEquals(50.0f, node04Layout.location().y, "y of node04");
        Layout node05Layout = tree.getLayout(node05);
        assertEquals(230.0f, node05Layout.size().width, "width of node05");
        assertEquals(230.0f, node05Layout.size().height, "height of node05");
        assertEquals(20.0f, node05Layout.location().x, "x of node05");
        assertEquals(20.0f, node05Layout.location().y, "y of node05");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(270.0f, node1Layout.size().width, "width of node1");
        assertEquals(270.0f, node1Layout.size().height, "height of node1");
        assertEquals(270.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node10Layout = tree.getLayout(node10);
        assertEquals(0.0f, node10Layout.size().width, "width of node10");
        assertEquals(0.0f, node10Layout.size().height, "height of node10");
        assertEquals(20.0f, node10Layout.location().x, "x of node10");
        assertEquals(20.0f, node10Layout.location().y, "y of node10");
        Layout node11Layout = tree.getLayout(node11);
        assertEquals(0.0f, node11Layout.size().width, "width of node11");
        assertEquals(0.0f, node11Layout.size().height, "height of node11");
        assertEquals(20.0f, node11Layout.location().x, "x of node11");
        assertEquals(20.0f, node11Layout.location().y, "y of node11");
        Layout node12Layout = tree.getLayout(node12);
        assertEquals(0.0f, node12Layout.size().width, "width of node12");
        assertEquals(0.0f, node12Layout.size().height, "height of node12");
        assertEquals(235.0f, node12Layout.location().x, "x of node12");
        assertEquals(235.0f, node12Layout.location().y, "y of node12");
        Layout node13Layout = tree.getLayout(node13);
        assertEquals(0.0f, node13Layout.size().width, "width of node13");
        assertEquals(0.0f, node13Layout.size().height, "height of node13");
        assertEquals(20.0f, node13Layout.location().x, "x of node13");
        assertEquals(20.0f, node13Layout.location().y, "y of node13");
        Layout node14Layout = tree.getLayout(node14);
        assertEquals(0.0f, node14Layout.size().width, "width of node14");
        assertEquals(0.0f, node14Layout.size().height, "height of node14");
        assertEquals(50.0f, node14Layout.location().x, "x of node14");
        assertEquals(50.0f, node14Layout.location().y, "y of node14");
        Layout node15Layout = tree.getLayout(node15);
        assertEquals(215.0f, node15Layout.size().width, "width of node15");
        assertEquals(215.0f, node15Layout.size().height, "height of node15");
        assertEquals(20.0f, node15Layout.location().x, "x of node15");
        assertEquals(20.0f, node15Layout.location().y, "y of node15");
    }

    @Test
    @DisplayName("grid_absolute_row_end__border_box")
    void gridAbsoluteRowEndBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.position = Position.ABSOLUTE;
        node0Style.inset = new Rect<>(LengthPercentageAuto.length(4.0f), LengthPercentageAuto.length(3.0f), LengthPercentageAuto.length(1.0f), LengthPercentageAuto.length(2.0f));
        node0Style.gridRow = new Line<>(GridPlacement.auto(), GridPlacement.line(1));
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.padding = new Rect<>(LengthPercentage.length(40.0f), LengthPercentage.length(20.0f), LengthPercentage.length(10.0f), LengthPercentage.length(30.0f));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(180.0f, nodeLayout.size().width, "width of node");
        assertEquals(160.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(173.0f, node0Layout.size().width, "width of node0");
        assertEquals(7.0f, node0Layout.size().height, "height of node0");
        assertEquals(4.0f, node0Layout.location().x, "x of node0");
        assertEquals(1.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("grid_absolute_row_end__content_box")
    void gridAbsoluteRowEndContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.position = Position.ABSOLUTE;
        node0Style.inset = new Rect<>(LengthPercentageAuto.length(4.0f), LengthPercentageAuto.length(3.0f), LengthPercentageAuto.length(1.0f), LengthPercentageAuto.length(2.0f));
        node0Style.gridRow = new Line<>(GridPlacement.auto(), GridPlacement.line(1));
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.padding = new Rect<>(LengthPercentage.length(40.0f), LengthPercentage.length(20.0f), LengthPercentage.length(10.0f), LengthPercentage.length(30.0f));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(180.0f, nodeLayout.size().width, "width of node");
        assertEquals(160.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(173.0f, node0Layout.size().width, "width of node0");
        assertEquals(7.0f, node0Layout.size().height, "height of node0");
        assertEquals(4.0f, node0Layout.location().x, "x of node0");
        assertEquals(1.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("grid_absolute_row_start__border_box")
    void gridAbsoluteRowStartBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.position = Position.ABSOLUTE;
        node0Style.inset = new Rect<>(LengthPercentageAuto.length(4.0f), LengthPercentageAuto.length(3.0f), LengthPercentageAuto.length(1.0f), LengthPercentageAuto.length(2.0f));
        node0Style.gridRow = new Line<>(GridPlacement.line(1), GridPlacement.auto());
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.padding = new Rect<>(LengthPercentage.length(40.0f), LengthPercentage.length(20.0f), LengthPercentage.length(10.0f), LengthPercentage.length(30.0f));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(180.0f, nodeLayout.size().width, "width of node");
        assertEquals(160.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(173.0f, node0Layout.size().width, "width of node0");
        assertEquals(147.0f, node0Layout.size().height, "height of node0");
        assertEquals(4.0f, node0Layout.location().x, "x of node0");
        assertEquals(11.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("grid_absolute_row_start__content_box")
    void gridAbsoluteRowStartContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.position = Position.ABSOLUTE;
        node0Style.inset = new Rect<>(LengthPercentageAuto.length(4.0f), LengthPercentageAuto.length(3.0f), LengthPercentageAuto.length(1.0f), LengthPercentageAuto.length(2.0f));
        node0Style.gridRow = new Line<>(GridPlacement.line(1), GridPlacement.auto());
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.padding = new Rect<>(LengthPercentage.length(40.0f), LengthPercentage.length(20.0f), LengthPercentage.length(10.0f), LengthPercentage.length(30.0f));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(180.0f, nodeLayout.size().width, "width of node");
        assertEquals(160.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(173.0f, node0Layout.size().width, "width of node0");
        assertEquals(147.0f, node0Layout.size().height, "height of node0");
        assertEquals(4.0f, node0Layout.location().x, "x of node0");
        assertEquals(11.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("grid_absolute_top_overrides_bottom__border_box")
    void gridAbsoluteTopOverridesBottomBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.position = Position.ABSOLUTE;
        node0Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        node0Style.inset = new Rect<>(LengthPercentageAuto.AUTO, LengthPercentageAuto.AUTO, LengthPercentageAuto.length(2.0f), LengthPercentageAuto.length(5.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        NodeId node4 = tree.newLeaf(node4Style);

        Style node5Style = new Style();
        NodeId node5 = tree.newLeaf(node5Style);

        Style node6Style = new Style();
        NodeId node6 = tree.newLeaf(node6Style);

        Style node7Style = new Style();
        NodeId node7 = tree.newLeaf(node7Style);

        Style node8Style = new Style();
        NodeId node8 = tree.newLeaf(node8Style);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.padding = new Rect<>(LengthPercentage.length(40.0f), LengthPercentage.length(20.0f), LengthPercentage.length(10.0f), LengthPercentage.length(30.0f));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5, node6, node7, node8);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(180.0f, nodeLayout.size().width, "width of node");
        assertEquals(160.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(0.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(2.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(40.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(40.0f, node1Layout.location().x, "x of node1");
        assertEquals(10.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(40.0f, node2Layout.size().width, "width of node2");
        assertEquals(40.0f, node2Layout.size().height, "height of node2");
        assertEquals(80.0f, node2Layout.location().x, "x of node2");
        assertEquals(10.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(40.0f, node3Layout.size().width, "width of node3");
        assertEquals(40.0f, node3Layout.size().height, "height of node3");
        assertEquals(120.0f, node3Layout.location().x, "x of node3");
        assertEquals(10.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(40.0f, node4Layout.size().width, "width of node4");
        assertEquals(40.0f, node4Layout.size().height, "height of node4");
        assertEquals(40.0f, node4Layout.location().x, "x of node4");
        assertEquals(50.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(40.0f, node5Layout.size().width, "width of node5");
        assertEquals(40.0f, node5Layout.size().height, "height of node5");
        assertEquals(80.0f, node5Layout.location().x, "x of node5");
        assertEquals(50.0f, node5Layout.location().y, "y of node5");
        Layout node6Layout = tree.getLayout(node6);
        assertEquals(40.0f, node6Layout.size().width, "width of node6");
        assertEquals(40.0f, node6Layout.size().height, "height of node6");
        assertEquals(120.0f, node6Layout.location().x, "x of node6");
        assertEquals(50.0f, node6Layout.location().y, "y of node6");
        Layout node7Layout = tree.getLayout(node7);
        assertEquals(40.0f, node7Layout.size().width, "width of node7");
        assertEquals(40.0f, node7Layout.size().height, "height of node7");
        assertEquals(40.0f, node7Layout.location().x, "x of node7");
        assertEquals(90.0f, node7Layout.location().y, "y of node7");
        Layout node8Layout = tree.getLayout(node8);
        assertEquals(40.0f, node8Layout.size().width, "width of node8");
        assertEquals(40.0f, node8Layout.size().height, "height of node8");
        assertEquals(80.0f, node8Layout.location().x, "x of node8");
        assertEquals(90.0f, node8Layout.location().y, "y of node8");
    }

    @Test
    @DisplayName("grid_absolute_top_overrides_bottom__content_box")
    void gridAbsoluteTopOverridesBottomContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.position = Position.ABSOLUTE;
        node0Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        node0Style.inset = new Rect<>(LengthPercentageAuto.AUTO, LengthPercentageAuto.AUTO, LengthPercentageAuto.length(2.0f), LengthPercentageAuto.length(5.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        node3Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        node4Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node4 = tree.newLeaf(node4Style);

        Style node5Style = new Style();
        node5Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node5 = tree.newLeaf(node5Style);

        Style node6Style = new Style();
        node6Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node6 = tree.newLeaf(node6Style);

        Style node7Style = new Style();
        node7Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node7 = tree.newLeaf(node7Style);

        Style node8Style = new Style();
        node8Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node8 = tree.newLeaf(node8Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.padding = new Rect<>(LengthPercentage.length(40.0f), LengthPercentage.length(20.0f), LengthPercentage.length(10.0f), LengthPercentage.length(30.0f));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5, node6, node7, node8);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(180.0f, nodeLayout.size().width, "width of node");
        assertEquals(160.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(0.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(2.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(40.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(40.0f, node1Layout.location().x, "x of node1");
        assertEquals(10.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(40.0f, node2Layout.size().width, "width of node2");
        assertEquals(40.0f, node2Layout.size().height, "height of node2");
        assertEquals(80.0f, node2Layout.location().x, "x of node2");
        assertEquals(10.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(40.0f, node3Layout.size().width, "width of node3");
        assertEquals(40.0f, node3Layout.size().height, "height of node3");
        assertEquals(120.0f, node3Layout.location().x, "x of node3");
        assertEquals(10.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(40.0f, node4Layout.size().width, "width of node4");
        assertEquals(40.0f, node4Layout.size().height, "height of node4");
        assertEquals(40.0f, node4Layout.location().x, "x of node4");
        assertEquals(50.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(40.0f, node5Layout.size().width, "width of node5");
        assertEquals(40.0f, node5Layout.size().height, "height of node5");
        assertEquals(80.0f, node5Layout.location().x, "x of node5");
        assertEquals(50.0f, node5Layout.location().y, "y of node5");
        Layout node6Layout = tree.getLayout(node6);
        assertEquals(40.0f, node6Layout.size().width, "width of node6");
        assertEquals(40.0f, node6Layout.size().height, "height of node6");
        assertEquals(120.0f, node6Layout.location().x, "x of node6");
        assertEquals(50.0f, node6Layout.location().y, "y of node6");
        Layout node7Layout = tree.getLayout(node7);
        assertEquals(40.0f, node7Layout.size().width, "width of node7");
        assertEquals(40.0f, node7Layout.size().height, "height of node7");
        assertEquals(40.0f, node7Layout.location().x, "x of node7");
        assertEquals(90.0f, node7Layout.location().y, "y of node7");
        Layout node8Layout = tree.getLayout(node8);
        assertEquals(40.0f, node8Layout.size().width, "width of node8");
        assertEquals(40.0f, node8Layout.size().height, "height of node8");
        assertEquals(80.0f, node8Layout.location().x, "x of node8");
        assertEquals(90.0f, node8Layout.location().y, "y of node8");
    }

    @Test
    @DisplayName("grid_absolute_with_padding__border_box")
    void gridAbsoluteWithPaddingBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.position = Position.ABSOLUTE;
        node0Style.inset = new Rect<>(LengthPercentageAuto.AUTO, LengthPercentageAuto.length(0.0f), LengthPercentageAuto.length(0.0f), LengthPercentageAuto.AUTO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.position = Position.ABSOLUTE;
        node1Style.inset = new Rect<>(LengthPercentageAuto.length(10.0f), LengthPercentageAuto.AUTO, LengthPercentageAuto.AUTO, LengthPercentageAuto.length(10.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        NodeId node4 = tree.newLeaf(node4Style);

        Style node5Style = new Style();
        NodeId node5 = tree.newLeaf(node5Style);

        Style node6Style = new Style();
        NodeId node6 = tree.newLeaf(node6Style);

        Style node7Style = new Style();
        NodeId node7 = tree.newLeaf(node7Style);

        Style node8Style = new Style();
        NodeId node8 = tree.newLeaf(node8Style);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.padding = new Rect<>(LengthPercentage.length(40.0f), LengthPercentage.length(20.0f), LengthPercentage.length(10.0f), LengthPercentage.length(30.0f));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5, node6, node7, node8);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(180.0f, nodeLayout.size().width, "width of node");
        assertEquals(160.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(0.0f, node0Layout.size().width, "width of node0");
        assertEquals(0.0f, node0Layout.size().height, "height of node0");
        assertEquals(180.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(0.0f, node1Layout.size().width, "width of node1");
        assertEquals(0.0f, node1Layout.size().height, "height of node1");
        assertEquals(10.0f, node1Layout.location().x, "x of node1");
        assertEquals(150.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(40.0f, node2Layout.size().width, "width of node2");
        assertEquals(40.0f, node2Layout.size().height, "height of node2");
        assertEquals(40.0f, node2Layout.location().x, "x of node2");
        assertEquals(10.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(40.0f, node3Layout.size().width, "width of node3");
        assertEquals(40.0f, node3Layout.size().height, "height of node3");
        assertEquals(80.0f, node3Layout.location().x, "x of node3");
        assertEquals(10.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(40.0f, node4Layout.size().width, "width of node4");
        assertEquals(40.0f, node4Layout.size().height, "height of node4");
        assertEquals(120.0f, node4Layout.location().x, "x of node4");
        assertEquals(10.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(40.0f, node5Layout.size().width, "width of node5");
        assertEquals(40.0f, node5Layout.size().height, "height of node5");
        assertEquals(40.0f, node5Layout.location().x, "x of node5");
        assertEquals(50.0f, node5Layout.location().y, "y of node5");
        Layout node6Layout = tree.getLayout(node6);
        assertEquals(40.0f, node6Layout.size().width, "width of node6");
        assertEquals(40.0f, node6Layout.size().height, "height of node6");
        assertEquals(80.0f, node6Layout.location().x, "x of node6");
        assertEquals(50.0f, node6Layout.location().y, "y of node6");
        Layout node7Layout = tree.getLayout(node7);
        assertEquals(40.0f, node7Layout.size().width, "width of node7");
        assertEquals(40.0f, node7Layout.size().height, "height of node7");
        assertEquals(120.0f, node7Layout.location().x, "x of node7");
        assertEquals(50.0f, node7Layout.location().y, "y of node7");
        Layout node8Layout = tree.getLayout(node8);
        assertEquals(40.0f, node8Layout.size().width, "width of node8");
        assertEquals(40.0f, node8Layout.size().height, "height of node8");
        assertEquals(40.0f, node8Layout.location().x, "x of node8");
        assertEquals(90.0f, node8Layout.location().y, "y of node8");
    }

    @Test
    @DisplayName("grid_absolute_with_padding__content_box")
    void gridAbsoluteWithPaddingContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.position = Position.ABSOLUTE;
        node0Style.inset = new Rect<>(LengthPercentageAuto.AUTO, LengthPercentageAuto.length(0.0f), LengthPercentageAuto.length(0.0f), LengthPercentageAuto.AUTO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.position = Position.ABSOLUTE;
        node1Style.inset = new Rect<>(LengthPercentageAuto.length(10.0f), LengthPercentageAuto.AUTO, LengthPercentageAuto.AUTO, LengthPercentageAuto.length(10.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        node3Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        node4Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node4 = tree.newLeaf(node4Style);

        Style node5Style = new Style();
        node5Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node5 = tree.newLeaf(node5Style);

        Style node6Style = new Style();
        node6Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node6 = tree.newLeaf(node6Style);

        Style node7Style = new Style();
        node7Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node7 = tree.newLeaf(node7Style);

        Style node8Style = new Style();
        node8Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node8 = tree.newLeaf(node8Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.padding = new Rect<>(LengthPercentage.length(40.0f), LengthPercentage.length(20.0f), LengthPercentage.length(10.0f), LengthPercentage.length(30.0f));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5, node6, node7, node8);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(180.0f, nodeLayout.size().width, "width of node");
        assertEquals(160.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(0.0f, node0Layout.size().width, "width of node0");
        assertEquals(0.0f, node0Layout.size().height, "height of node0");
        assertEquals(180.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(0.0f, node1Layout.size().width, "width of node1");
        assertEquals(0.0f, node1Layout.size().height, "height of node1");
        assertEquals(10.0f, node1Layout.location().x, "x of node1");
        assertEquals(150.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(40.0f, node2Layout.size().width, "width of node2");
        assertEquals(40.0f, node2Layout.size().height, "height of node2");
        assertEquals(40.0f, node2Layout.location().x, "x of node2");
        assertEquals(10.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(40.0f, node3Layout.size().width, "width of node3");
        assertEquals(40.0f, node3Layout.size().height, "height of node3");
        assertEquals(80.0f, node3Layout.location().x, "x of node3");
        assertEquals(10.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(40.0f, node4Layout.size().width, "width of node4");
        assertEquals(40.0f, node4Layout.size().height, "height of node4");
        assertEquals(120.0f, node4Layout.location().x, "x of node4");
        assertEquals(10.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(40.0f, node5Layout.size().width, "width of node5");
        assertEquals(40.0f, node5Layout.size().height, "height of node5");
        assertEquals(40.0f, node5Layout.location().x, "x of node5");
        assertEquals(50.0f, node5Layout.location().y, "y of node5");
        Layout node6Layout = tree.getLayout(node6);
        assertEquals(40.0f, node6Layout.size().width, "width of node6");
        assertEquals(40.0f, node6Layout.size().height, "height of node6");
        assertEquals(80.0f, node6Layout.location().x, "x of node6");
        assertEquals(50.0f, node6Layout.location().y, "y of node6");
        Layout node7Layout = tree.getLayout(node7);
        assertEquals(40.0f, node7Layout.size().width, "width of node7");
        assertEquals(40.0f, node7Layout.size().height, "height of node7");
        assertEquals(120.0f, node7Layout.location().x, "x of node7");
        assertEquals(50.0f, node7Layout.location().y, "y of node7");
        Layout node8Layout = tree.getLayout(node8);
        assertEquals(40.0f, node8Layout.size().width, "width of node8");
        assertEquals(40.0f, node8Layout.size().height, "height of node8");
        assertEquals(40.0f, node8Layout.location().x, "x of node8");
        assertEquals(90.0f, node8Layout.location().y, "y of node8");
    }

    @Test
    @DisplayName("grid_absolute_with_padding_and_margin__border_box")
    void gridAbsoluteWithPaddingAndMarginBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.position = Position.ABSOLUTE;
        node0Style.margin = new Rect<>(LengthPercentageAuto.length(4.0f), LengthPercentageAuto.length(2.0f), LengthPercentageAuto.length(1.0f), LengthPercentageAuto.length(3.0f));
        node0Style.inset = new Rect<>(LengthPercentageAuto.AUTO, LengthPercentageAuto.length(0.0f), LengthPercentageAuto.length(0.0f), LengthPercentageAuto.AUTO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.position = Position.ABSOLUTE;
        node1Style.margin = new Rect<>(LengthPercentageAuto.length(4.0f), LengthPercentageAuto.length(2.0f), LengthPercentageAuto.length(1.0f), LengthPercentageAuto.length(3.0f));
        node1Style.inset = new Rect<>(LengthPercentageAuto.length(10.0f), LengthPercentageAuto.AUTO, LengthPercentageAuto.AUTO, LengthPercentageAuto.length(10.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        NodeId node4 = tree.newLeaf(node4Style);

        Style node5Style = new Style();
        NodeId node5 = tree.newLeaf(node5Style);

        Style node6Style = new Style();
        NodeId node6 = tree.newLeaf(node6Style);

        Style node7Style = new Style();
        NodeId node7 = tree.newLeaf(node7Style);

        Style node8Style = new Style();
        NodeId node8 = tree.newLeaf(node8Style);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.padding = new Rect<>(LengthPercentage.length(40.0f), LengthPercentage.length(20.0f), LengthPercentage.length(10.0f), LengthPercentage.length(30.0f));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5, node6, node7, node8);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(180.0f, nodeLayout.size().width, "width of node");
        assertEquals(160.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(0.0f, node0Layout.size().width, "width of node0");
        assertEquals(0.0f, node0Layout.size().height, "height of node0");
        assertEquals(178.0f, node0Layout.location().x, "x of node0");
        assertEquals(1.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(0.0f, node1Layout.size().width, "width of node1");
        assertEquals(0.0f, node1Layout.size().height, "height of node1");
        assertEquals(14.0f, node1Layout.location().x, "x of node1");
        assertEquals(147.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(40.0f, node2Layout.size().width, "width of node2");
        assertEquals(40.0f, node2Layout.size().height, "height of node2");
        assertEquals(40.0f, node2Layout.location().x, "x of node2");
        assertEquals(10.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(40.0f, node3Layout.size().width, "width of node3");
        assertEquals(40.0f, node3Layout.size().height, "height of node3");
        assertEquals(80.0f, node3Layout.location().x, "x of node3");
        assertEquals(10.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(40.0f, node4Layout.size().width, "width of node4");
        assertEquals(40.0f, node4Layout.size().height, "height of node4");
        assertEquals(120.0f, node4Layout.location().x, "x of node4");
        assertEquals(10.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(40.0f, node5Layout.size().width, "width of node5");
        assertEquals(40.0f, node5Layout.size().height, "height of node5");
        assertEquals(40.0f, node5Layout.location().x, "x of node5");
        assertEquals(50.0f, node5Layout.location().y, "y of node5");
        Layout node6Layout = tree.getLayout(node6);
        assertEquals(40.0f, node6Layout.size().width, "width of node6");
        assertEquals(40.0f, node6Layout.size().height, "height of node6");
        assertEquals(80.0f, node6Layout.location().x, "x of node6");
        assertEquals(50.0f, node6Layout.location().y, "y of node6");
        Layout node7Layout = tree.getLayout(node7);
        assertEquals(40.0f, node7Layout.size().width, "width of node7");
        assertEquals(40.0f, node7Layout.size().height, "height of node7");
        assertEquals(120.0f, node7Layout.location().x, "x of node7");
        assertEquals(50.0f, node7Layout.location().y, "y of node7");
        Layout node8Layout = tree.getLayout(node8);
        assertEquals(40.0f, node8Layout.size().width, "width of node8");
        assertEquals(40.0f, node8Layout.size().height, "height of node8");
        assertEquals(40.0f, node8Layout.location().x, "x of node8");
        assertEquals(90.0f, node8Layout.location().y, "y of node8");
    }

    @Test
    @DisplayName("grid_absolute_with_padding_and_margin__content_box")
    void gridAbsoluteWithPaddingAndMarginContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.position = Position.ABSOLUTE;
        node0Style.margin = new Rect<>(LengthPercentageAuto.length(4.0f), LengthPercentageAuto.length(2.0f), LengthPercentageAuto.length(1.0f), LengthPercentageAuto.length(3.0f));
        node0Style.inset = new Rect<>(LengthPercentageAuto.AUTO, LengthPercentageAuto.length(0.0f), LengthPercentageAuto.length(0.0f), LengthPercentageAuto.AUTO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.position = Position.ABSOLUTE;
        node1Style.margin = new Rect<>(LengthPercentageAuto.length(4.0f), LengthPercentageAuto.length(2.0f), LengthPercentageAuto.length(1.0f), LengthPercentageAuto.length(3.0f));
        node1Style.inset = new Rect<>(LengthPercentageAuto.length(10.0f), LengthPercentageAuto.AUTO, LengthPercentageAuto.AUTO, LengthPercentageAuto.length(10.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        node3Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        node4Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node4 = tree.newLeaf(node4Style);

        Style node5Style = new Style();
        node5Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node5 = tree.newLeaf(node5Style);

        Style node6Style = new Style();
        node6Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node6 = tree.newLeaf(node6Style);

        Style node7Style = new Style();
        node7Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node7 = tree.newLeaf(node7Style);

        Style node8Style = new Style();
        node8Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node8 = tree.newLeaf(node8Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.padding = new Rect<>(LengthPercentage.length(40.0f), LengthPercentage.length(20.0f), LengthPercentage.length(10.0f), LengthPercentage.length(30.0f));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5, node6, node7, node8);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(180.0f, nodeLayout.size().width, "width of node");
        assertEquals(160.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(0.0f, node0Layout.size().width, "width of node0");
        assertEquals(0.0f, node0Layout.size().height, "height of node0");
        assertEquals(178.0f, node0Layout.location().x, "x of node0");
        assertEquals(1.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(0.0f, node1Layout.size().width, "width of node1");
        assertEquals(0.0f, node1Layout.size().height, "height of node1");
        assertEquals(14.0f, node1Layout.location().x, "x of node1");
        assertEquals(147.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(40.0f, node2Layout.size().width, "width of node2");
        assertEquals(40.0f, node2Layout.size().height, "height of node2");
        assertEquals(40.0f, node2Layout.location().x, "x of node2");
        assertEquals(10.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(40.0f, node3Layout.size().width, "width of node3");
        assertEquals(40.0f, node3Layout.size().height, "height of node3");
        assertEquals(80.0f, node3Layout.location().x, "x of node3");
        assertEquals(10.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(40.0f, node4Layout.size().width, "width of node4");
        assertEquals(40.0f, node4Layout.size().height, "height of node4");
        assertEquals(120.0f, node4Layout.location().x, "x of node4");
        assertEquals(10.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(40.0f, node5Layout.size().width, "width of node5");
        assertEquals(40.0f, node5Layout.size().height, "height of node5");
        assertEquals(40.0f, node5Layout.location().x, "x of node5");
        assertEquals(50.0f, node5Layout.location().y, "y of node5");
        Layout node6Layout = tree.getLayout(node6);
        assertEquals(40.0f, node6Layout.size().width, "width of node6");
        assertEquals(40.0f, node6Layout.size().height, "height of node6");
        assertEquals(80.0f, node6Layout.location().x, "x of node6");
        assertEquals(50.0f, node6Layout.location().y, "y of node6");
        Layout node7Layout = tree.getLayout(node7);
        assertEquals(40.0f, node7Layout.size().width, "width of node7");
        assertEquals(40.0f, node7Layout.size().height, "height of node7");
        assertEquals(120.0f, node7Layout.location().x, "x of node7");
        assertEquals(50.0f, node7Layout.location().y, "y of node7");
        Layout node8Layout = tree.getLayout(node8);
        assertEquals(40.0f, node8Layout.size().width, "width of node8");
        assertEquals(40.0f, node8Layout.size().height, "height of node8");
        assertEquals(40.0f, node8Layout.location().x, "x of node8");
        assertEquals(90.0f, node8Layout.location().y, "y of node8");
    }

    @Test
    @DisplayName("grid_align_content_center__border_box")
    void gridAlignContentCenterBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        NodeId node4 = tree.newLeaf(node4Style);

        Style node5Style = new Style();
        NodeId node5 = tree.newLeaf(node5Style);

        Style node6Style = new Style();
        NodeId node6 = tree.newLeaf(node6Style);

        Style node7Style = new Style();
        NodeId node7 = tree.newLeaf(node7Style);

        Style node8Style = new Style();
        NodeId node8 = tree.newLeaf(node8Style);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.alignContent = AlignContent.CENTER;
        nodeStyle.size = new Size<>(Dimension.length(200.0f), Dimension.length(200.0f));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5, node6, node7, node8);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(200.0f, nodeLayout.size().width, "width of node");
        assertEquals(200.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(40.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(40.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(40.0f, node1Layout.location().x, "x of node1");
        assertEquals(40.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(40.0f, node2Layout.size().width, "width of node2");
        assertEquals(40.0f, node2Layout.size().height, "height of node2");
        assertEquals(80.0f, node2Layout.location().x, "x of node2");
        assertEquals(40.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(40.0f, node3Layout.size().width, "width of node3");
        assertEquals(40.0f, node3Layout.size().height, "height of node3");
        assertEquals(0.0f, node3Layout.location().x, "x of node3");
        assertEquals(80.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(40.0f, node4Layout.size().width, "width of node4");
        assertEquals(40.0f, node4Layout.size().height, "height of node4");
        assertEquals(40.0f, node4Layout.location().x, "x of node4");
        assertEquals(80.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(40.0f, node5Layout.size().width, "width of node5");
        assertEquals(40.0f, node5Layout.size().height, "height of node5");
        assertEquals(80.0f, node5Layout.location().x, "x of node5");
        assertEquals(80.0f, node5Layout.location().y, "y of node5");
        Layout node6Layout = tree.getLayout(node6);
        assertEquals(40.0f, node6Layout.size().width, "width of node6");
        assertEquals(40.0f, node6Layout.size().height, "height of node6");
        assertEquals(0.0f, node6Layout.location().x, "x of node6");
        assertEquals(120.0f, node6Layout.location().y, "y of node6");
        Layout node7Layout = tree.getLayout(node7);
        assertEquals(40.0f, node7Layout.size().width, "width of node7");
        assertEquals(40.0f, node7Layout.size().height, "height of node7");
        assertEquals(40.0f, node7Layout.location().x, "x of node7");
        assertEquals(120.0f, node7Layout.location().y, "y of node7");
        Layout node8Layout = tree.getLayout(node8);
        assertEquals(40.0f, node8Layout.size().width, "width of node8");
        assertEquals(40.0f, node8Layout.size().height, "height of node8");
        assertEquals(80.0f, node8Layout.location().x, "x of node8");
        assertEquals(120.0f, node8Layout.location().y, "y of node8");
    }

    @Test
    @DisplayName("grid_align_content_center__content_box")
    void gridAlignContentCenterContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        node3Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        node4Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node4 = tree.newLeaf(node4Style);

        Style node5Style = new Style();
        node5Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node5 = tree.newLeaf(node5Style);

        Style node6Style = new Style();
        node6Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node6 = tree.newLeaf(node6Style);

        Style node7Style = new Style();
        node7Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node7 = tree.newLeaf(node7Style);

        Style node8Style = new Style();
        node8Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node8 = tree.newLeaf(node8Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.alignContent = AlignContent.CENTER;
        nodeStyle.size = new Size<>(Dimension.length(200.0f), Dimension.length(200.0f));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5, node6, node7, node8);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(200.0f, nodeLayout.size().width, "width of node");
        assertEquals(200.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(40.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(40.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(40.0f, node1Layout.location().x, "x of node1");
        assertEquals(40.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(40.0f, node2Layout.size().width, "width of node2");
        assertEquals(40.0f, node2Layout.size().height, "height of node2");
        assertEquals(80.0f, node2Layout.location().x, "x of node2");
        assertEquals(40.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(40.0f, node3Layout.size().width, "width of node3");
        assertEquals(40.0f, node3Layout.size().height, "height of node3");
        assertEquals(0.0f, node3Layout.location().x, "x of node3");
        assertEquals(80.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(40.0f, node4Layout.size().width, "width of node4");
        assertEquals(40.0f, node4Layout.size().height, "height of node4");
        assertEquals(40.0f, node4Layout.location().x, "x of node4");
        assertEquals(80.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(40.0f, node5Layout.size().width, "width of node5");
        assertEquals(40.0f, node5Layout.size().height, "height of node5");
        assertEquals(80.0f, node5Layout.location().x, "x of node5");
        assertEquals(80.0f, node5Layout.location().y, "y of node5");
        Layout node6Layout = tree.getLayout(node6);
        assertEquals(40.0f, node6Layout.size().width, "width of node6");
        assertEquals(40.0f, node6Layout.size().height, "height of node6");
        assertEquals(0.0f, node6Layout.location().x, "x of node6");
        assertEquals(120.0f, node6Layout.location().y, "y of node6");
        Layout node7Layout = tree.getLayout(node7);
        assertEquals(40.0f, node7Layout.size().width, "width of node7");
        assertEquals(40.0f, node7Layout.size().height, "height of node7");
        assertEquals(40.0f, node7Layout.location().x, "x of node7");
        assertEquals(120.0f, node7Layout.location().y, "y of node7");
        Layout node8Layout = tree.getLayout(node8);
        assertEquals(40.0f, node8Layout.size().width, "width of node8");
        assertEquals(40.0f, node8Layout.size().height, "height of node8");
        assertEquals(80.0f, node8Layout.location().x, "x of node8");
        assertEquals(120.0f, node8Layout.location().y, "y of node8");
    }

    @Test
    @DisplayName("grid_align_content_center_negative_space_gap__border_box")
    void gridAlignContentCenterNegativeSpaceGapBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        NodeId node00 = tree.newLeaf(node00Style);

        Style node01Style = new Style();
        NodeId node01 = tree.newLeaf(node01Style);

        Style node02Style = new Style();
        NodeId node02 = tree.newLeaf(node02Style);

        Style node03Style = new Style();
        NodeId node03 = tree.newLeaf(node03Style);

        Style node04Style = new Style();
        NodeId node04 = tree.newLeaf(node04Style);

        Style node05Style = new Style();
        NodeId node05 = tree.newLeaf(node05Style);

        Style node06Style = new Style();
        NodeId node06 = tree.newLeaf(node06Style);

        Style node07Style = new Style();
        NodeId node07 = tree.newLeaf(node07Style);

        Style node08Style = new Style();
        NodeId node08 = tree.newLeaf(node08Style);

        Style node0Style = new Style();
        node0Style.display = Display.GRID;
        node0Style.alignContent = AlignContent.CENTER;
        node0Style.justifyContent = AlignContent.CENTER;
        node0Style.size = new Size<>(Dimension.length(120.0f), Dimension.length(120.0f));
        node0Style.gap = new Size<>(LengthPercentage.length(10.0f), LengthPercentage.length(10.0f));
        node0Style.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(20.0f)));
        node0Style.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(20.0f)));
        node0Style.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(20.0f)));
        node0Style.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        node0Style.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        node0Style.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node0 = tree.newWithChildren(node0Style, node00, node01, node02, node03, node04, node05, node06, node07, node08);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.size = new Size<>(Dimension.length(240.0f), Dimension.length(240.0f));
        nodeStyle.border = new Rect<>(LengthPercentage.length(60.0f), LengthPercentage.length(60.0f), LengthPercentage.length(60.0f), LengthPercentage.length(60.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(240.0f, nodeLayout.size().width, "width of node");
        assertEquals(240.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(120.0f, node0Layout.size().width, "width of node0");
        assertEquals(120.0f, node0Layout.size().height, "height of node0");
        assertEquals(60.0f, node0Layout.location().x, "x of node0");
        assertEquals(60.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(20.0f, node00Layout.size().width, "width of node00");
        assertEquals(40.0f, node00Layout.size().height, "height of node00");
        assertEquals(20.0f, node00Layout.location().x, "x of node00");
        assertEquals(-10.0f, node00Layout.location().y, "y of node00");
        Layout node01Layout = tree.getLayout(node01);
        assertEquals(20.0f, node01Layout.size().width, "width of node01");
        assertEquals(40.0f, node01Layout.size().height, "height of node01");
        assertEquals(50.0f, node01Layout.location().x, "x of node01");
        assertEquals(-10.0f, node01Layout.location().y, "y of node01");
        Layout node02Layout = tree.getLayout(node02);
        assertEquals(20.0f, node02Layout.size().width, "width of node02");
        assertEquals(40.0f, node02Layout.size().height, "height of node02");
        assertEquals(80.0f, node02Layout.location().x, "x of node02");
        assertEquals(-10.0f, node02Layout.location().y, "y of node02");
        Layout node03Layout = tree.getLayout(node03);
        assertEquals(20.0f, node03Layout.size().width, "width of node03");
        assertEquals(40.0f, node03Layout.size().height, "height of node03");
        assertEquals(20.0f, node03Layout.location().x, "x of node03");
        assertEquals(40.0f, node03Layout.location().y, "y of node03");
        Layout node04Layout = tree.getLayout(node04);
        assertEquals(20.0f, node04Layout.size().width, "width of node04");
        assertEquals(40.0f, node04Layout.size().height, "height of node04");
        assertEquals(50.0f, node04Layout.location().x, "x of node04");
        assertEquals(40.0f, node04Layout.location().y, "y of node04");
        Layout node05Layout = tree.getLayout(node05);
        assertEquals(20.0f, node05Layout.size().width, "width of node05");
        assertEquals(40.0f, node05Layout.size().height, "height of node05");
        assertEquals(80.0f, node05Layout.location().x, "x of node05");
        assertEquals(40.0f, node05Layout.location().y, "y of node05");
        Layout node06Layout = tree.getLayout(node06);
        assertEquals(20.0f, node06Layout.size().width, "width of node06");
        assertEquals(40.0f, node06Layout.size().height, "height of node06");
        assertEquals(20.0f, node06Layout.location().x, "x of node06");
        assertEquals(90.0f, node06Layout.location().y, "y of node06");
        Layout node07Layout = tree.getLayout(node07);
        assertEquals(20.0f, node07Layout.size().width, "width of node07");
        assertEquals(40.0f, node07Layout.size().height, "height of node07");
        assertEquals(50.0f, node07Layout.location().x, "x of node07");
        assertEquals(90.0f, node07Layout.location().y, "y of node07");
        Layout node08Layout = tree.getLayout(node08);
        assertEquals(20.0f, node08Layout.size().width, "width of node08");
        assertEquals(40.0f, node08Layout.size().height, "height of node08");
        assertEquals(80.0f, node08Layout.location().x, "x of node08");
        assertEquals(90.0f, node08Layout.location().y, "y of node08");
    }

    @Test
    @DisplayName("grid_align_content_center_negative_space_gap__content_box")
    void gridAlignContentCenterNegativeSpaceGapContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node00 = tree.newLeaf(node00Style);

        Style node01Style = new Style();
        node01Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node01 = tree.newLeaf(node01Style);

        Style node02Style = new Style();
        node02Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node02 = tree.newLeaf(node02Style);

        Style node03Style = new Style();
        node03Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node03 = tree.newLeaf(node03Style);

        Style node04Style = new Style();
        node04Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node04 = tree.newLeaf(node04Style);

        Style node05Style = new Style();
        node05Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node05 = tree.newLeaf(node05Style);

        Style node06Style = new Style();
        node06Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node06 = tree.newLeaf(node06Style);

        Style node07Style = new Style();
        node07Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node07 = tree.newLeaf(node07Style);

        Style node08Style = new Style();
        node08Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node08 = tree.newLeaf(node08Style);

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.display = Display.GRID;
        node0Style.alignContent = AlignContent.CENTER;
        node0Style.justifyContent = AlignContent.CENTER;
        node0Style.size = new Size<>(Dimension.length(120.0f), Dimension.length(120.0f));
        node0Style.gap = new Size<>(LengthPercentage.length(10.0f), LengthPercentage.length(10.0f));
        node0Style.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(20.0f)));
        node0Style.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(20.0f)));
        node0Style.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(20.0f)));
        node0Style.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        node0Style.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        node0Style.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node0 = tree.newWithChildren(node0Style, node00, node01, node02, node03, node04, node05, node06, node07, node08);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.size = new Size<>(Dimension.length(240.0f), Dimension.length(240.0f));
        nodeStyle.border = new Rect<>(LengthPercentage.length(60.0f), LengthPercentage.length(60.0f), LengthPercentage.length(60.0f), LengthPercentage.length(60.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(360.0f, nodeLayout.size().width, "width of node");
        assertEquals(360.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(120.0f, node0Layout.size().width, "width of node0");
        assertEquals(120.0f, node0Layout.size().height, "height of node0");
        assertEquals(60.0f, node0Layout.location().x, "x of node0");
        assertEquals(60.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(20.0f, node00Layout.size().width, "width of node00");
        assertEquals(40.0f, node00Layout.size().height, "height of node00");
        assertEquals(20.0f, node00Layout.location().x, "x of node00");
        assertEquals(-10.0f, node00Layout.location().y, "y of node00");
        Layout node01Layout = tree.getLayout(node01);
        assertEquals(20.0f, node01Layout.size().width, "width of node01");
        assertEquals(40.0f, node01Layout.size().height, "height of node01");
        assertEquals(50.0f, node01Layout.location().x, "x of node01");
        assertEquals(-10.0f, node01Layout.location().y, "y of node01");
        Layout node02Layout = tree.getLayout(node02);
        assertEquals(20.0f, node02Layout.size().width, "width of node02");
        assertEquals(40.0f, node02Layout.size().height, "height of node02");
        assertEquals(80.0f, node02Layout.location().x, "x of node02");
        assertEquals(-10.0f, node02Layout.location().y, "y of node02");
        Layout node03Layout = tree.getLayout(node03);
        assertEquals(20.0f, node03Layout.size().width, "width of node03");
        assertEquals(40.0f, node03Layout.size().height, "height of node03");
        assertEquals(20.0f, node03Layout.location().x, "x of node03");
        assertEquals(40.0f, node03Layout.location().y, "y of node03");
        Layout node04Layout = tree.getLayout(node04);
        assertEquals(20.0f, node04Layout.size().width, "width of node04");
        assertEquals(40.0f, node04Layout.size().height, "height of node04");
        assertEquals(50.0f, node04Layout.location().x, "x of node04");
        assertEquals(40.0f, node04Layout.location().y, "y of node04");
        Layout node05Layout = tree.getLayout(node05);
        assertEquals(20.0f, node05Layout.size().width, "width of node05");
        assertEquals(40.0f, node05Layout.size().height, "height of node05");
        assertEquals(80.0f, node05Layout.location().x, "x of node05");
        assertEquals(40.0f, node05Layout.location().y, "y of node05");
        Layout node06Layout = tree.getLayout(node06);
        assertEquals(20.0f, node06Layout.size().width, "width of node06");
        assertEquals(40.0f, node06Layout.size().height, "height of node06");
        assertEquals(20.0f, node06Layout.location().x, "x of node06");
        assertEquals(90.0f, node06Layout.location().y, "y of node06");
        Layout node07Layout = tree.getLayout(node07);
        assertEquals(20.0f, node07Layout.size().width, "width of node07");
        assertEquals(40.0f, node07Layout.size().height, "height of node07");
        assertEquals(50.0f, node07Layout.location().x, "x of node07");
        assertEquals(90.0f, node07Layout.location().y, "y of node07");
        Layout node08Layout = tree.getLayout(node08);
        assertEquals(20.0f, node08Layout.size().width, "width of node08");
        assertEquals(40.0f, node08Layout.size().height, "height of node08");
        assertEquals(80.0f, node08Layout.location().x, "x of node08");
        assertEquals(90.0f, node08Layout.location().y, "y of node08");
    }

    @Test
    @DisplayName("grid_align_content_end__border_box")
    void gridAlignContentEndBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        NodeId node4 = tree.newLeaf(node4Style);

        Style node5Style = new Style();
        NodeId node5 = tree.newLeaf(node5Style);

        Style node6Style = new Style();
        NodeId node6 = tree.newLeaf(node6Style);

        Style node7Style = new Style();
        NodeId node7 = tree.newLeaf(node7Style);

        Style node8Style = new Style();
        NodeId node8 = tree.newLeaf(node8Style);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.alignContent = AlignContent.END;
        nodeStyle.size = new Size<>(Dimension.length(200.0f), Dimension.length(200.0f));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5, node6, node7, node8);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(200.0f, nodeLayout.size().width, "width of node");
        assertEquals(200.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(80.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(40.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(40.0f, node1Layout.location().x, "x of node1");
        assertEquals(80.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(40.0f, node2Layout.size().width, "width of node2");
        assertEquals(40.0f, node2Layout.size().height, "height of node2");
        assertEquals(80.0f, node2Layout.location().x, "x of node2");
        assertEquals(80.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(40.0f, node3Layout.size().width, "width of node3");
        assertEquals(40.0f, node3Layout.size().height, "height of node3");
        assertEquals(0.0f, node3Layout.location().x, "x of node3");
        assertEquals(120.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(40.0f, node4Layout.size().width, "width of node4");
        assertEquals(40.0f, node4Layout.size().height, "height of node4");
        assertEquals(40.0f, node4Layout.location().x, "x of node4");
        assertEquals(120.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(40.0f, node5Layout.size().width, "width of node5");
        assertEquals(40.0f, node5Layout.size().height, "height of node5");
        assertEquals(80.0f, node5Layout.location().x, "x of node5");
        assertEquals(120.0f, node5Layout.location().y, "y of node5");
        Layout node6Layout = tree.getLayout(node6);
        assertEquals(40.0f, node6Layout.size().width, "width of node6");
        assertEquals(40.0f, node6Layout.size().height, "height of node6");
        assertEquals(0.0f, node6Layout.location().x, "x of node6");
        assertEquals(160.0f, node6Layout.location().y, "y of node6");
        Layout node7Layout = tree.getLayout(node7);
        assertEquals(40.0f, node7Layout.size().width, "width of node7");
        assertEquals(40.0f, node7Layout.size().height, "height of node7");
        assertEquals(40.0f, node7Layout.location().x, "x of node7");
        assertEquals(160.0f, node7Layout.location().y, "y of node7");
        Layout node8Layout = tree.getLayout(node8);
        assertEquals(40.0f, node8Layout.size().width, "width of node8");
        assertEquals(40.0f, node8Layout.size().height, "height of node8");
        assertEquals(80.0f, node8Layout.location().x, "x of node8");
        assertEquals(160.0f, node8Layout.location().y, "y of node8");
    }

    @Test
    @DisplayName("grid_align_content_end__content_box")
    void gridAlignContentEndContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        node3Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        node4Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node4 = tree.newLeaf(node4Style);

        Style node5Style = new Style();
        node5Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node5 = tree.newLeaf(node5Style);

        Style node6Style = new Style();
        node6Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node6 = tree.newLeaf(node6Style);

        Style node7Style = new Style();
        node7Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node7 = tree.newLeaf(node7Style);

        Style node8Style = new Style();
        node8Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node8 = tree.newLeaf(node8Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.alignContent = AlignContent.END;
        nodeStyle.size = new Size<>(Dimension.length(200.0f), Dimension.length(200.0f));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5, node6, node7, node8);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(200.0f, nodeLayout.size().width, "width of node");
        assertEquals(200.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(80.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(40.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(40.0f, node1Layout.location().x, "x of node1");
        assertEquals(80.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(40.0f, node2Layout.size().width, "width of node2");
        assertEquals(40.0f, node2Layout.size().height, "height of node2");
        assertEquals(80.0f, node2Layout.location().x, "x of node2");
        assertEquals(80.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(40.0f, node3Layout.size().width, "width of node3");
        assertEquals(40.0f, node3Layout.size().height, "height of node3");
        assertEquals(0.0f, node3Layout.location().x, "x of node3");
        assertEquals(120.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(40.0f, node4Layout.size().width, "width of node4");
        assertEquals(40.0f, node4Layout.size().height, "height of node4");
        assertEquals(40.0f, node4Layout.location().x, "x of node4");
        assertEquals(120.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(40.0f, node5Layout.size().width, "width of node5");
        assertEquals(40.0f, node5Layout.size().height, "height of node5");
        assertEquals(80.0f, node5Layout.location().x, "x of node5");
        assertEquals(120.0f, node5Layout.location().y, "y of node5");
        Layout node6Layout = tree.getLayout(node6);
        assertEquals(40.0f, node6Layout.size().width, "width of node6");
        assertEquals(40.0f, node6Layout.size().height, "height of node6");
        assertEquals(0.0f, node6Layout.location().x, "x of node6");
        assertEquals(160.0f, node6Layout.location().y, "y of node6");
        Layout node7Layout = tree.getLayout(node7);
        assertEquals(40.0f, node7Layout.size().width, "width of node7");
        assertEquals(40.0f, node7Layout.size().height, "height of node7");
        assertEquals(40.0f, node7Layout.location().x, "x of node7");
        assertEquals(160.0f, node7Layout.location().y, "y of node7");
        Layout node8Layout = tree.getLayout(node8);
        assertEquals(40.0f, node8Layout.size().width, "width of node8");
        assertEquals(40.0f, node8Layout.size().height, "height of node8");
        assertEquals(80.0f, node8Layout.location().x, "x of node8");
        assertEquals(160.0f, node8Layout.location().y, "y of node8");
    }

    @Test
    @DisplayName("grid_align_content_end_negative_space_gap__border_box")
    void gridAlignContentEndNegativeSpaceGapBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        NodeId node00 = tree.newLeaf(node00Style);

        Style node01Style = new Style();
        NodeId node01 = tree.newLeaf(node01Style);

        Style node02Style = new Style();
        NodeId node02 = tree.newLeaf(node02Style);

        Style node03Style = new Style();
        NodeId node03 = tree.newLeaf(node03Style);

        Style node04Style = new Style();
        NodeId node04 = tree.newLeaf(node04Style);

        Style node05Style = new Style();
        NodeId node05 = tree.newLeaf(node05Style);

        Style node06Style = new Style();
        NodeId node06 = tree.newLeaf(node06Style);

        Style node07Style = new Style();
        NodeId node07 = tree.newLeaf(node07Style);

        Style node08Style = new Style();
        NodeId node08 = tree.newLeaf(node08Style);

        Style node0Style = new Style();
        node0Style.display = Display.GRID;
        node0Style.alignContent = AlignContent.END;
        node0Style.justifyContent = AlignContent.CENTER;
        node0Style.size = new Size<>(Dimension.length(120.0f), Dimension.length(120.0f));
        node0Style.gap = new Size<>(LengthPercentage.length(10.0f), LengthPercentage.length(10.0f));
        node0Style.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(20.0f)));
        node0Style.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(20.0f)));
        node0Style.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(20.0f)));
        node0Style.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        node0Style.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        node0Style.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node0 = tree.newWithChildren(node0Style, node00, node01, node02, node03, node04, node05, node06, node07, node08);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.size = new Size<>(Dimension.length(240.0f), Dimension.length(240.0f));
        nodeStyle.border = new Rect<>(LengthPercentage.length(60.0f), LengthPercentage.length(60.0f), LengthPercentage.length(60.0f), LengthPercentage.length(60.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(240.0f, nodeLayout.size().width, "width of node");
        assertEquals(240.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(120.0f, node0Layout.size().width, "width of node0");
        assertEquals(120.0f, node0Layout.size().height, "height of node0");
        assertEquals(60.0f, node0Layout.location().x, "x of node0");
        assertEquals(60.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(20.0f, node00Layout.size().width, "width of node00");
        assertEquals(40.0f, node00Layout.size().height, "height of node00");
        assertEquals(20.0f, node00Layout.location().x, "x of node00");
        assertEquals(-20.0f, node00Layout.location().y, "y of node00");
        Layout node01Layout = tree.getLayout(node01);
        assertEquals(20.0f, node01Layout.size().width, "width of node01");
        assertEquals(40.0f, node01Layout.size().height, "height of node01");
        assertEquals(50.0f, node01Layout.location().x, "x of node01");
        assertEquals(-20.0f, node01Layout.location().y, "y of node01");
        Layout node02Layout = tree.getLayout(node02);
        assertEquals(20.0f, node02Layout.size().width, "width of node02");
        assertEquals(40.0f, node02Layout.size().height, "height of node02");
        assertEquals(80.0f, node02Layout.location().x, "x of node02");
        assertEquals(-20.0f, node02Layout.location().y, "y of node02");
        Layout node03Layout = tree.getLayout(node03);
        assertEquals(20.0f, node03Layout.size().width, "width of node03");
        assertEquals(40.0f, node03Layout.size().height, "height of node03");
        assertEquals(20.0f, node03Layout.location().x, "x of node03");
        assertEquals(30.0f, node03Layout.location().y, "y of node03");
        Layout node04Layout = tree.getLayout(node04);
        assertEquals(20.0f, node04Layout.size().width, "width of node04");
        assertEquals(40.0f, node04Layout.size().height, "height of node04");
        assertEquals(50.0f, node04Layout.location().x, "x of node04");
        assertEquals(30.0f, node04Layout.location().y, "y of node04");
        Layout node05Layout = tree.getLayout(node05);
        assertEquals(20.0f, node05Layout.size().width, "width of node05");
        assertEquals(40.0f, node05Layout.size().height, "height of node05");
        assertEquals(80.0f, node05Layout.location().x, "x of node05");
        assertEquals(30.0f, node05Layout.location().y, "y of node05");
        Layout node06Layout = tree.getLayout(node06);
        assertEquals(20.0f, node06Layout.size().width, "width of node06");
        assertEquals(40.0f, node06Layout.size().height, "height of node06");
        assertEquals(20.0f, node06Layout.location().x, "x of node06");
        assertEquals(80.0f, node06Layout.location().y, "y of node06");
        Layout node07Layout = tree.getLayout(node07);
        assertEquals(20.0f, node07Layout.size().width, "width of node07");
        assertEquals(40.0f, node07Layout.size().height, "height of node07");
        assertEquals(50.0f, node07Layout.location().x, "x of node07");
        assertEquals(80.0f, node07Layout.location().y, "y of node07");
        Layout node08Layout = tree.getLayout(node08);
        assertEquals(20.0f, node08Layout.size().width, "width of node08");
        assertEquals(40.0f, node08Layout.size().height, "height of node08");
        assertEquals(80.0f, node08Layout.location().x, "x of node08");
        assertEquals(80.0f, node08Layout.location().y, "y of node08");
    }

    @Test
    @DisplayName("grid_align_content_end_negative_space_gap__content_box")
    void gridAlignContentEndNegativeSpaceGapContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node00 = tree.newLeaf(node00Style);

        Style node01Style = new Style();
        node01Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node01 = tree.newLeaf(node01Style);

        Style node02Style = new Style();
        node02Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node02 = tree.newLeaf(node02Style);

        Style node03Style = new Style();
        node03Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node03 = tree.newLeaf(node03Style);

        Style node04Style = new Style();
        node04Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node04 = tree.newLeaf(node04Style);

        Style node05Style = new Style();
        node05Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node05 = tree.newLeaf(node05Style);

        Style node06Style = new Style();
        node06Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node06 = tree.newLeaf(node06Style);

        Style node07Style = new Style();
        node07Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node07 = tree.newLeaf(node07Style);

        Style node08Style = new Style();
        node08Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node08 = tree.newLeaf(node08Style);

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.display = Display.GRID;
        node0Style.alignContent = AlignContent.END;
        node0Style.justifyContent = AlignContent.CENTER;
        node0Style.size = new Size<>(Dimension.length(120.0f), Dimension.length(120.0f));
        node0Style.gap = new Size<>(LengthPercentage.length(10.0f), LengthPercentage.length(10.0f));
        node0Style.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(20.0f)));
        node0Style.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(20.0f)));
        node0Style.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(20.0f)));
        node0Style.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        node0Style.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        node0Style.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node0 = tree.newWithChildren(node0Style, node00, node01, node02, node03, node04, node05, node06, node07, node08);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.size = new Size<>(Dimension.length(240.0f), Dimension.length(240.0f));
        nodeStyle.border = new Rect<>(LengthPercentage.length(60.0f), LengthPercentage.length(60.0f), LengthPercentage.length(60.0f), LengthPercentage.length(60.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(360.0f, nodeLayout.size().width, "width of node");
        assertEquals(360.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(120.0f, node0Layout.size().width, "width of node0");
        assertEquals(120.0f, node0Layout.size().height, "height of node0");
        assertEquals(60.0f, node0Layout.location().x, "x of node0");
        assertEquals(60.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(20.0f, node00Layout.size().width, "width of node00");
        assertEquals(40.0f, node00Layout.size().height, "height of node00");
        assertEquals(20.0f, node00Layout.location().x, "x of node00");
        assertEquals(-20.0f, node00Layout.location().y, "y of node00");
        Layout node01Layout = tree.getLayout(node01);
        assertEquals(20.0f, node01Layout.size().width, "width of node01");
        assertEquals(40.0f, node01Layout.size().height, "height of node01");
        assertEquals(50.0f, node01Layout.location().x, "x of node01");
        assertEquals(-20.0f, node01Layout.location().y, "y of node01");
        Layout node02Layout = tree.getLayout(node02);
        assertEquals(20.0f, node02Layout.size().width, "width of node02");
        assertEquals(40.0f, node02Layout.size().height, "height of node02");
        assertEquals(80.0f, node02Layout.location().x, "x of node02");
        assertEquals(-20.0f, node02Layout.location().y, "y of node02");
        Layout node03Layout = tree.getLayout(node03);
        assertEquals(20.0f, node03Layout.size().width, "width of node03");
        assertEquals(40.0f, node03Layout.size().height, "height of node03");
        assertEquals(20.0f, node03Layout.location().x, "x of node03");
        assertEquals(30.0f, node03Layout.location().y, "y of node03");
        Layout node04Layout = tree.getLayout(node04);
        assertEquals(20.0f, node04Layout.size().width, "width of node04");
        assertEquals(40.0f, node04Layout.size().height, "height of node04");
        assertEquals(50.0f, node04Layout.location().x, "x of node04");
        assertEquals(30.0f, node04Layout.location().y, "y of node04");
        Layout node05Layout = tree.getLayout(node05);
        assertEquals(20.0f, node05Layout.size().width, "width of node05");
        assertEquals(40.0f, node05Layout.size().height, "height of node05");
        assertEquals(80.0f, node05Layout.location().x, "x of node05");
        assertEquals(30.0f, node05Layout.location().y, "y of node05");
        Layout node06Layout = tree.getLayout(node06);
        assertEquals(20.0f, node06Layout.size().width, "width of node06");
        assertEquals(40.0f, node06Layout.size().height, "height of node06");
        assertEquals(20.0f, node06Layout.location().x, "x of node06");
        assertEquals(80.0f, node06Layout.location().y, "y of node06");
        Layout node07Layout = tree.getLayout(node07);
        assertEquals(20.0f, node07Layout.size().width, "width of node07");
        assertEquals(40.0f, node07Layout.size().height, "height of node07");
        assertEquals(50.0f, node07Layout.location().x, "x of node07");
        assertEquals(80.0f, node07Layout.location().y, "y of node07");
        Layout node08Layout = tree.getLayout(node08);
        assertEquals(20.0f, node08Layout.size().width, "width of node08");
        assertEquals(40.0f, node08Layout.size().height, "height of node08");
        assertEquals(80.0f, node08Layout.location().x, "x of node08");
        assertEquals(80.0f, node08Layout.location().y, "y of node08");
    }

    @Test
    @DisplayName("grid_align_content_end_with_padding_border__border_box")
    void gridAlignContentEndWithPaddingBorderBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        NodeId node4 = tree.newLeaf(node4Style);

        Style node5Style = new Style();
        NodeId node5 = tree.newLeaf(node5Style);

        Style node6Style = new Style();
        NodeId node6 = tree.newLeaf(node6Style);

        Style node7Style = new Style();
        NodeId node7 = tree.newLeaf(node7Style);

        Style node8Style = new Style();
        NodeId node8 = tree.newLeaf(node8Style);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.alignContent = AlignContent.END;
        nodeStyle.size = new Size<>(Dimension.length(200.0f), Dimension.length(200.0f));
        nodeStyle.padding = new Rect<>(LengthPercentage.length(40.0f), LengthPercentage.length(20.0f), LengthPercentage.length(10.0f), LengthPercentage.length(30.0f));
        nodeStyle.border = new Rect<>(LengthPercentage.length(8.0f), LengthPercentage.length(4.0f), LengthPercentage.length(2.0f), LengthPercentage.length(6.0f));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5, node6, node7, node8);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(200.0f, nodeLayout.size().width, "width of node");
        assertEquals(200.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(48.0f, node0Layout.location().x, "x of node0");
        assertEquals(44.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(40.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(88.0f, node1Layout.location().x, "x of node1");
        assertEquals(44.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(40.0f, node2Layout.size().width, "width of node2");
        assertEquals(40.0f, node2Layout.size().height, "height of node2");
        assertEquals(128.0f, node2Layout.location().x, "x of node2");
        assertEquals(44.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(40.0f, node3Layout.size().width, "width of node3");
        assertEquals(40.0f, node3Layout.size().height, "height of node3");
        assertEquals(48.0f, node3Layout.location().x, "x of node3");
        assertEquals(84.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(40.0f, node4Layout.size().width, "width of node4");
        assertEquals(40.0f, node4Layout.size().height, "height of node4");
        assertEquals(88.0f, node4Layout.location().x, "x of node4");
        assertEquals(84.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(40.0f, node5Layout.size().width, "width of node5");
        assertEquals(40.0f, node5Layout.size().height, "height of node5");
        assertEquals(128.0f, node5Layout.location().x, "x of node5");
        assertEquals(84.0f, node5Layout.location().y, "y of node5");
        Layout node6Layout = tree.getLayout(node6);
        assertEquals(40.0f, node6Layout.size().width, "width of node6");
        assertEquals(40.0f, node6Layout.size().height, "height of node6");
        assertEquals(48.0f, node6Layout.location().x, "x of node6");
        assertEquals(124.0f, node6Layout.location().y, "y of node6");
        Layout node7Layout = tree.getLayout(node7);
        assertEquals(40.0f, node7Layout.size().width, "width of node7");
        assertEquals(40.0f, node7Layout.size().height, "height of node7");
        assertEquals(88.0f, node7Layout.location().x, "x of node7");
        assertEquals(124.0f, node7Layout.location().y, "y of node7");
        Layout node8Layout = tree.getLayout(node8);
        assertEquals(40.0f, node8Layout.size().width, "width of node8");
        assertEquals(40.0f, node8Layout.size().height, "height of node8");
        assertEquals(128.0f, node8Layout.location().x, "x of node8");
        assertEquals(124.0f, node8Layout.location().y, "y of node8");
    }

    @Test
    @DisplayName("grid_align_content_end_with_padding_border__content_box")
    void gridAlignContentEndWithPaddingBorderContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        node3Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        node4Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node4 = tree.newLeaf(node4Style);

        Style node5Style = new Style();
        node5Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node5 = tree.newLeaf(node5Style);

        Style node6Style = new Style();
        node6Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node6 = tree.newLeaf(node6Style);

        Style node7Style = new Style();
        node7Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node7 = tree.newLeaf(node7Style);

        Style node8Style = new Style();
        node8Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node8 = tree.newLeaf(node8Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.alignContent = AlignContent.END;
        nodeStyle.size = new Size<>(Dimension.length(200.0f), Dimension.length(200.0f));
        nodeStyle.padding = new Rect<>(LengthPercentage.length(40.0f), LengthPercentage.length(20.0f), LengthPercentage.length(10.0f), LengthPercentage.length(30.0f));
        nodeStyle.border = new Rect<>(LengthPercentage.length(8.0f), LengthPercentage.length(4.0f), LengthPercentage.length(2.0f), LengthPercentage.length(6.0f));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5, node6, node7, node8);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(272.0f, nodeLayout.size().width, "width of node");
        assertEquals(248.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(48.0f, node0Layout.location().x, "x of node0");
        assertEquals(92.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(40.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(88.0f, node1Layout.location().x, "x of node1");
        assertEquals(92.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(40.0f, node2Layout.size().width, "width of node2");
        assertEquals(40.0f, node2Layout.size().height, "height of node2");
        assertEquals(128.0f, node2Layout.location().x, "x of node2");
        assertEquals(92.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(40.0f, node3Layout.size().width, "width of node3");
        assertEquals(40.0f, node3Layout.size().height, "height of node3");
        assertEquals(48.0f, node3Layout.location().x, "x of node3");
        assertEquals(132.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(40.0f, node4Layout.size().width, "width of node4");
        assertEquals(40.0f, node4Layout.size().height, "height of node4");
        assertEquals(88.0f, node4Layout.location().x, "x of node4");
        assertEquals(132.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(40.0f, node5Layout.size().width, "width of node5");
        assertEquals(40.0f, node5Layout.size().height, "height of node5");
        assertEquals(128.0f, node5Layout.location().x, "x of node5");
        assertEquals(132.0f, node5Layout.location().y, "y of node5");
        Layout node6Layout = tree.getLayout(node6);
        assertEquals(40.0f, node6Layout.size().width, "width of node6");
        assertEquals(40.0f, node6Layout.size().height, "height of node6");
        assertEquals(48.0f, node6Layout.location().x, "x of node6");
        assertEquals(172.0f, node6Layout.location().y, "y of node6");
        Layout node7Layout = tree.getLayout(node7);
        assertEquals(40.0f, node7Layout.size().width, "width of node7");
        assertEquals(40.0f, node7Layout.size().height, "height of node7");
        assertEquals(88.0f, node7Layout.location().x, "x of node7");
        assertEquals(172.0f, node7Layout.location().y, "y of node7");
        Layout node8Layout = tree.getLayout(node8);
        assertEquals(40.0f, node8Layout.size().width, "width of node8");
        assertEquals(40.0f, node8Layout.size().height, "height of node8");
        assertEquals(128.0f, node8Layout.location().x, "x of node8");
        assertEquals(172.0f, node8Layout.location().y, "y of node8");
    }

    @Test
    @DisplayName("grid_align_content_space_around__border_box")
    void gridAlignContentSpaceAroundBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        NodeId node4 = tree.newLeaf(node4Style);

        Style node5Style = new Style();
        NodeId node5 = tree.newLeaf(node5Style);

        Style node6Style = new Style();
        NodeId node6 = tree.newLeaf(node6Style);

        Style node7Style = new Style();
        NodeId node7 = tree.newLeaf(node7Style);

        Style node8Style = new Style();
        NodeId node8 = tree.newLeaf(node8Style);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.alignContent = AlignContent.SPACE_AROUND;
        nodeStyle.size = new Size<>(Dimension.length(200.0f), Dimension.length(200.0f));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5, node6, node7, node8);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(200.0f, nodeLayout.size().width, "width of node");
        assertEquals(200.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(13.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(40.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(40.0f, node1Layout.location().x, "x of node1");
        assertEquals(13.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(40.0f, node2Layout.size().width, "width of node2");
        assertEquals(40.0f, node2Layout.size().height, "height of node2");
        assertEquals(80.0f, node2Layout.location().x, "x of node2");
        assertEquals(13.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(40.0f, node3Layout.size().width, "width of node3");
        assertEquals(40.0f, node3Layout.size().height, "height of node3");
        assertEquals(0.0f, node3Layout.location().x, "x of node3");
        assertEquals(80.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(40.0f, node4Layout.size().width, "width of node4");
        assertEquals(40.0f, node4Layout.size().height, "height of node4");
        assertEquals(40.0f, node4Layout.location().x, "x of node4");
        assertEquals(80.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(40.0f, node5Layout.size().width, "width of node5");
        assertEquals(40.0f, node5Layout.size().height, "height of node5");
        assertEquals(80.0f, node5Layout.location().x, "x of node5");
        assertEquals(80.0f, node5Layout.location().y, "y of node5");
        Layout node6Layout = tree.getLayout(node6);
        assertEquals(40.0f, node6Layout.size().width, "width of node6");
        assertEquals(40.0f, node6Layout.size().height, "height of node6");
        assertEquals(0.0f, node6Layout.location().x, "x of node6");
        assertEquals(147.0f, node6Layout.location().y, "y of node6");
        Layout node7Layout = tree.getLayout(node7);
        assertEquals(40.0f, node7Layout.size().width, "width of node7");
        assertEquals(40.0f, node7Layout.size().height, "height of node7");
        assertEquals(40.0f, node7Layout.location().x, "x of node7");
        assertEquals(147.0f, node7Layout.location().y, "y of node7");
        Layout node8Layout = tree.getLayout(node8);
        assertEquals(40.0f, node8Layout.size().width, "width of node8");
        assertEquals(40.0f, node8Layout.size().height, "height of node8");
        assertEquals(80.0f, node8Layout.location().x, "x of node8");
        assertEquals(147.0f, node8Layout.location().y, "y of node8");
    }

    @Test
    @DisplayName("grid_align_content_space_around__content_box")
    void gridAlignContentSpaceAroundContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        node3Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        node4Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node4 = tree.newLeaf(node4Style);

        Style node5Style = new Style();
        node5Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node5 = tree.newLeaf(node5Style);

        Style node6Style = new Style();
        node6Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node6 = tree.newLeaf(node6Style);

        Style node7Style = new Style();
        node7Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node7 = tree.newLeaf(node7Style);

        Style node8Style = new Style();
        node8Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node8 = tree.newLeaf(node8Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.alignContent = AlignContent.SPACE_AROUND;
        nodeStyle.size = new Size<>(Dimension.length(200.0f), Dimension.length(200.0f));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5, node6, node7, node8);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(200.0f, nodeLayout.size().width, "width of node");
        assertEquals(200.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(13.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(40.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(40.0f, node1Layout.location().x, "x of node1");
        assertEquals(13.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(40.0f, node2Layout.size().width, "width of node2");
        assertEquals(40.0f, node2Layout.size().height, "height of node2");
        assertEquals(80.0f, node2Layout.location().x, "x of node2");
        assertEquals(13.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(40.0f, node3Layout.size().width, "width of node3");
        assertEquals(40.0f, node3Layout.size().height, "height of node3");
        assertEquals(0.0f, node3Layout.location().x, "x of node3");
        assertEquals(80.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(40.0f, node4Layout.size().width, "width of node4");
        assertEquals(40.0f, node4Layout.size().height, "height of node4");
        assertEquals(40.0f, node4Layout.location().x, "x of node4");
        assertEquals(80.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(40.0f, node5Layout.size().width, "width of node5");
        assertEquals(40.0f, node5Layout.size().height, "height of node5");
        assertEquals(80.0f, node5Layout.location().x, "x of node5");
        assertEquals(80.0f, node5Layout.location().y, "y of node5");
        Layout node6Layout = tree.getLayout(node6);
        assertEquals(40.0f, node6Layout.size().width, "width of node6");
        assertEquals(40.0f, node6Layout.size().height, "height of node6");
        assertEquals(0.0f, node6Layout.location().x, "x of node6");
        assertEquals(147.0f, node6Layout.location().y, "y of node6");
        Layout node7Layout = tree.getLayout(node7);
        assertEquals(40.0f, node7Layout.size().width, "width of node7");
        assertEquals(40.0f, node7Layout.size().height, "height of node7");
        assertEquals(40.0f, node7Layout.location().x, "x of node7");
        assertEquals(147.0f, node7Layout.location().y, "y of node7");
        Layout node8Layout = tree.getLayout(node8);
        assertEquals(40.0f, node8Layout.size().width, "width of node8");
        assertEquals(40.0f, node8Layout.size().height, "height of node8");
        assertEquals(80.0f, node8Layout.location().x, "x of node8");
        assertEquals(147.0f, node8Layout.location().y, "y of node8");
    }

    @Test
    @DisplayName("grid_align_content_space_around_negative_space_gap__border_box")
    void gridAlignContentSpaceAroundNegativeSpaceGapBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        NodeId node00 = tree.newLeaf(node00Style);

        Style node01Style = new Style();
        NodeId node01 = tree.newLeaf(node01Style);

        Style node02Style = new Style();
        NodeId node02 = tree.newLeaf(node02Style);

        Style node03Style = new Style();
        NodeId node03 = tree.newLeaf(node03Style);

        Style node04Style = new Style();
        NodeId node04 = tree.newLeaf(node04Style);

        Style node05Style = new Style();
        NodeId node05 = tree.newLeaf(node05Style);

        Style node06Style = new Style();
        NodeId node06 = tree.newLeaf(node06Style);

        Style node07Style = new Style();
        NodeId node07 = tree.newLeaf(node07Style);

        Style node08Style = new Style();
        NodeId node08 = tree.newLeaf(node08Style);

        Style node0Style = new Style();
        node0Style.display = Display.GRID;
        node0Style.alignContent = AlignContent.SPACE_AROUND;
        node0Style.justifyContent = AlignContent.CENTER;
        node0Style.size = new Size<>(Dimension.length(120.0f), Dimension.length(120.0f));
        node0Style.gap = new Size<>(LengthPercentage.length(10.0f), LengthPercentage.length(10.0f));
        node0Style.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(20.0f)));
        node0Style.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(20.0f)));
        node0Style.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(20.0f)));
        node0Style.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        node0Style.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        node0Style.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node0 = tree.newWithChildren(node0Style, node00, node01, node02, node03, node04, node05, node06, node07, node08);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.size = new Size<>(Dimension.length(240.0f), Dimension.length(240.0f));
        nodeStyle.border = new Rect<>(LengthPercentage.length(60.0f), LengthPercentage.length(60.0f), LengthPercentage.length(60.0f), LengthPercentage.length(60.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(240.0f, nodeLayout.size().width, "width of node");
        assertEquals(240.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(120.0f, node0Layout.size().width, "width of node0");
        assertEquals(120.0f, node0Layout.size().height, "height of node0");
        assertEquals(60.0f, node0Layout.location().x, "x of node0");
        assertEquals(60.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(20.0f, node00Layout.size().width, "width of node00");
        assertEquals(40.0f, node00Layout.size().height, "height of node00");
        assertEquals(20.0f, node00Layout.location().x, "x of node00");
        assertEquals(0.0f, node00Layout.location().y, "y of node00");
        Layout node01Layout = tree.getLayout(node01);
        assertEquals(20.0f, node01Layout.size().width, "width of node01");
        assertEquals(40.0f, node01Layout.size().height, "height of node01");
        assertEquals(50.0f, node01Layout.location().x, "x of node01");
        assertEquals(0.0f, node01Layout.location().y, "y of node01");
        Layout node02Layout = tree.getLayout(node02);
        assertEquals(20.0f, node02Layout.size().width, "width of node02");
        assertEquals(40.0f, node02Layout.size().height, "height of node02");
        assertEquals(80.0f, node02Layout.location().x, "x of node02");
        assertEquals(0.0f, node02Layout.location().y, "y of node02");
        Layout node03Layout = tree.getLayout(node03);
        assertEquals(20.0f, node03Layout.size().width, "width of node03");
        assertEquals(40.0f, node03Layout.size().height, "height of node03");
        assertEquals(20.0f, node03Layout.location().x, "x of node03");
        assertEquals(50.0f, node03Layout.location().y, "y of node03");
        Layout node04Layout = tree.getLayout(node04);
        assertEquals(20.0f, node04Layout.size().width, "width of node04");
        assertEquals(40.0f, node04Layout.size().height, "height of node04");
        assertEquals(50.0f, node04Layout.location().x, "x of node04");
        assertEquals(50.0f, node04Layout.location().y, "y of node04");
        Layout node05Layout = tree.getLayout(node05);
        assertEquals(20.0f, node05Layout.size().width, "width of node05");
        assertEquals(40.0f, node05Layout.size().height, "height of node05");
        assertEquals(80.0f, node05Layout.location().x, "x of node05");
        assertEquals(50.0f, node05Layout.location().y, "y of node05");
        Layout node06Layout = tree.getLayout(node06);
        assertEquals(20.0f, node06Layout.size().width, "width of node06");
        assertEquals(40.0f, node06Layout.size().height, "height of node06");
        assertEquals(20.0f, node06Layout.location().x, "x of node06");
        assertEquals(100.0f, node06Layout.location().y, "y of node06");
        Layout node07Layout = tree.getLayout(node07);
        assertEquals(20.0f, node07Layout.size().width, "width of node07");
        assertEquals(40.0f, node07Layout.size().height, "height of node07");
        assertEquals(50.0f, node07Layout.location().x, "x of node07");
        assertEquals(100.0f, node07Layout.location().y, "y of node07");
        Layout node08Layout = tree.getLayout(node08);
        assertEquals(20.0f, node08Layout.size().width, "width of node08");
        assertEquals(40.0f, node08Layout.size().height, "height of node08");
        assertEquals(80.0f, node08Layout.location().x, "x of node08");
        assertEquals(100.0f, node08Layout.location().y, "y of node08");
    }

    @Test
    @DisplayName("grid_align_content_space_around_negative_space_gap__content_box")
    void gridAlignContentSpaceAroundNegativeSpaceGapContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node00 = tree.newLeaf(node00Style);

        Style node01Style = new Style();
        node01Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node01 = tree.newLeaf(node01Style);

        Style node02Style = new Style();
        node02Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node02 = tree.newLeaf(node02Style);

        Style node03Style = new Style();
        node03Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node03 = tree.newLeaf(node03Style);

        Style node04Style = new Style();
        node04Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node04 = tree.newLeaf(node04Style);

        Style node05Style = new Style();
        node05Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node05 = tree.newLeaf(node05Style);

        Style node06Style = new Style();
        node06Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node06 = tree.newLeaf(node06Style);

        Style node07Style = new Style();
        node07Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node07 = tree.newLeaf(node07Style);

        Style node08Style = new Style();
        node08Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node08 = tree.newLeaf(node08Style);

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.display = Display.GRID;
        node0Style.alignContent = AlignContent.SPACE_AROUND;
        node0Style.justifyContent = AlignContent.CENTER;
        node0Style.size = new Size<>(Dimension.length(120.0f), Dimension.length(120.0f));
        node0Style.gap = new Size<>(LengthPercentage.length(10.0f), LengthPercentage.length(10.0f));
        node0Style.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(20.0f)));
        node0Style.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(20.0f)));
        node0Style.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(20.0f)));
        node0Style.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        node0Style.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        node0Style.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node0 = tree.newWithChildren(node0Style, node00, node01, node02, node03, node04, node05, node06, node07, node08);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.size = new Size<>(Dimension.length(240.0f), Dimension.length(240.0f));
        nodeStyle.border = new Rect<>(LengthPercentage.length(60.0f), LengthPercentage.length(60.0f), LengthPercentage.length(60.0f), LengthPercentage.length(60.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(360.0f, nodeLayout.size().width, "width of node");
        assertEquals(360.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(120.0f, node0Layout.size().width, "width of node0");
        assertEquals(120.0f, node0Layout.size().height, "height of node0");
        assertEquals(60.0f, node0Layout.location().x, "x of node0");
        assertEquals(60.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(20.0f, node00Layout.size().width, "width of node00");
        assertEquals(40.0f, node00Layout.size().height, "height of node00");
        assertEquals(20.0f, node00Layout.location().x, "x of node00");
        assertEquals(0.0f, node00Layout.location().y, "y of node00");
        Layout node01Layout = tree.getLayout(node01);
        assertEquals(20.0f, node01Layout.size().width, "width of node01");
        assertEquals(40.0f, node01Layout.size().height, "height of node01");
        assertEquals(50.0f, node01Layout.location().x, "x of node01");
        assertEquals(0.0f, node01Layout.location().y, "y of node01");
        Layout node02Layout = tree.getLayout(node02);
        assertEquals(20.0f, node02Layout.size().width, "width of node02");
        assertEquals(40.0f, node02Layout.size().height, "height of node02");
        assertEquals(80.0f, node02Layout.location().x, "x of node02");
        assertEquals(0.0f, node02Layout.location().y, "y of node02");
        Layout node03Layout = tree.getLayout(node03);
        assertEquals(20.0f, node03Layout.size().width, "width of node03");
        assertEquals(40.0f, node03Layout.size().height, "height of node03");
        assertEquals(20.0f, node03Layout.location().x, "x of node03");
        assertEquals(50.0f, node03Layout.location().y, "y of node03");
        Layout node04Layout = tree.getLayout(node04);
        assertEquals(20.0f, node04Layout.size().width, "width of node04");
        assertEquals(40.0f, node04Layout.size().height, "height of node04");
        assertEquals(50.0f, node04Layout.location().x, "x of node04");
        assertEquals(50.0f, node04Layout.location().y, "y of node04");
        Layout node05Layout = tree.getLayout(node05);
        assertEquals(20.0f, node05Layout.size().width, "width of node05");
        assertEquals(40.0f, node05Layout.size().height, "height of node05");
        assertEquals(80.0f, node05Layout.location().x, "x of node05");
        assertEquals(50.0f, node05Layout.location().y, "y of node05");
        Layout node06Layout = tree.getLayout(node06);
        assertEquals(20.0f, node06Layout.size().width, "width of node06");
        assertEquals(40.0f, node06Layout.size().height, "height of node06");
        assertEquals(20.0f, node06Layout.location().x, "x of node06");
        assertEquals(100.0f, node06Layout.location().y, "y of node06");
        Layout node07Layout = tree.getLayout(node07);
        assertEquals(20.0f, node07Layout.size().width, "width of node07");
        assertEquals(40.0f, node07Layout.size().height, "height of node07");
        assertEquals(50.0f, node07Layout.location().x, "x of node07");
        assertEquals(100.0f, node07Layout.location().y, "y of node07");
        Layout node08Layout = tree.getLayout(node08);
        assertEquals(20.0f, node08Layout.size().width, "width of node08");
        assertEquals(40.0f, node08Layout.size().height, "height of node08");
        assertEquals(80.0f, node08Layout.location().x, "x of node08");
        assertEquals(100.0f, node08Layout.location().y, "y of node08");
    }

    @Test
    @DisplayName("grid_align_content_space_around_with_padding_border__border_box")
    void gridAlignContentSpaceAroundWithPaddingBorderBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        NodeId node4 = tree.newLeaf(node4Style);

        Style node5Style = new Style();
        NodeId node5 = tree.newLeaf(node5Style);

        Style node6Style = new Style();
        NodeId node6 = tree.newLeaf(node6Style);

        Style node7Style = new Style();
        NodeId node7 = tree.newLeaf(node7Style);

        Style node8Style = new Style();
        NodeId node8 = tree.newLeaf(node8Style);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.alignContent = AlignContent.SPACE_AROUND;
        nodeStyle.size = new Size<>(Dimension.length(200.0f), Dimension.length(200.0f));
        nodeStyle.padding = new Rect<>(LengthPercentage.length(40.0f), LengthPercentage.length(20.0f), LengthPercentage.length(10.0f), LengthPercentage.length(30.0f));
        nodeStyle.border = new Rect<>(LengthPercentage.length(8.0f), LengthPercentage.length(4.0f), LengthPercentage.length(2.0f), LengthPercentage.length(6.0f));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5, node6, node7, node8);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(200.0f, nodeLayout.size().width, "width of node");
        assertEquals(200.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(48.0f, node0Layout.location().x, "x of node0");
        assertEquals(17.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(40.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(88.0f, node1Layout.location().x, "x of node1");
        assertEquals(17.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(40.0f, node2Layout.size().width, "width of node2");
        assertEquals(40.0f, node2Layout.size().height, "height of node2");
        assertEquals(128.0f, node2Layout.location().x, "x of node2");
        assertEquals(17.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(40.0f, node3Layout.size().width, "width of node3");
        assertEquals(40.0f, node3Layout.size().height, "height of node3");
        assertEquals(48.0f, node3Layout.location().x, "x of node3");
        assertEquals(68.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(40.0f, node4Layout.size().width, "width of node4");
        assertEquals(40.0f, node4Layout.size().height, "height of node4");
        assertEquals(88.0f, node4Layout.location().x, "x of node4");
        assertEquals(68.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(40.0f, node5Layout.size().width, "width of node5");
        assertEquals(40.0f, node5Layout.size().height, "height of node5");
        assertEquals(128.0f, node5Layout.location().x, "x of node5");
        assertEquals(68.0f, node5Layout.location().y, "y of node5");
        Layout node6Layout = tree.getLayout(node6);
        assertEquals(40.0f, node6Layout.size().width, "width of node6");
        assertEquals(40.0f, node6Layout.size().height, "height of node6");
        assertEquals(48.0f, node6Layout.location().x, "x of node6");
        assertEquals(119.0f, node6Layout.location().y, "y of node6");
        Layout node7Layout = tree.getLayout(node7);
        assertEquals(40.0f, node7Layout.size().width, "width of node7");
        assertEquals(40.0f, node7Layout.size().height, "height of node7");
        assertEquals(88.0f, node7Layout.location().x, "x of node7");
        assertEquals(119.0f, node7Layout.location().y, "y of node7");
        Layout node8Layout = tree.getLayout(node8);
        assertEquals(40.0f, node8Layout.size().width, "width of node8");
        assertEquals(40.0f, node8Layout.size().height, "height of node8");
        assertEquals(128.0f, node8Layout.location().x, "x of node8");
        assertEquals(119.0f, node8Layout.location().y, "y of node8");
    }

    @Test
    @DisplayName("grid_align_content_space_around_with_padding_border__content_box")
    void gridAlignContentSpaceAroundWithPaddingBorderContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        node3Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        node4Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node4 = tree.newLeaf(node4Style);

        Style node5Style = new Style();
        node5Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node5 = tree.newLeaf(node5Style);

        Style node6Style = new Style();
        node6Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node6 = tree.newLeaf(node6Style);

        Style node7Style = new Style();
        node7Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node7 = tree.newLeaf(node7Style);

        Style node8Style = new Style();
        node8Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node8 = tree.newLeaf(node8Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.alignContent = AlignContent.SPACE_AROUND;
        nodeStyle.size = new Size<>(Dimension.length(200.0f), Dimension.length(200.0f));
        nodeStyle.padding = new Rect<>(LengthPercentage.length(40.0f), LengthPercentage.length(20.0f), LengthPercentage.length(10.0f), LengthPercentage.length(30.0f));
        nodeStyle.border = new Rect<>(LengthPercentage.length(8.0f), LengthPercentage.length(4.0f), LengthPercentage.length(2.0f), LengthPercentage.length(6.0f));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5, node6, node7, node8);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(272.0f, nodeLayout.size().width, "width of node");
        assertEquals(248.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(48.0f, node0Layout.location().x, "x of node0");
        assertEquals(25.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(40.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(88.0f, node1Layout.location().x, "x of node1");
        assertEquals(25.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(40.0f, node2Layout.size().width, "width of node2");
        assertEquals(40.0f, node2Layout.size().height, "height of node2");
        assertEquals(128.0f, node2Layout.location().x, "x of node2");
        assertEquals(25.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(40.0f, node3Layout.size().width, "width of node3");
        assertEquals(40.0f, node3Layout.size().height, "height of node3");
        assertEquals(48.0f, node3Layout.location().x, "x of node3");
        assertEquals(92.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(40.0f, node4Layout.size().width, "width of node4");
        assertEquals(40.0f, node4Layout.size().height, "height of node4");
        assertEquals(88.0f, node4Layout.location().x, "x of node4");
        assertEquals(92.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(40.0f, node5Layout.size().width, "width of node5");
        assertEquals(40.0f, node5Layout.size().height, "height of node5");
        assertEquals(128.0f, node5Layout.location().x, "x of node5");
        assertEquals(92.0f, node5Layout.location().y, "y of node5");
        Layout node6Layout = tree.getLayout(node6);
        assertEquals(40.0f, node6Layout.size().width, "width of node6");
        assertEquals(40.0f, node6Layout.size().height, "height of node6");
        assertEquals(48.0f, node6Layout.location().x, "x of node6");
        assertEquals(159.0f, node6Layout.location().y, "y of node6");
        Layout node7Layout = tree.getLayout(node7);
        assertEquals(40.0f, node7Layout.size().width, "width of node7");
        assertEquals(40.0f, node7Layout.size().height, "height of node7");
        assertEquals(88.0f, node7Layout.location().x, "x of node7");
        assertEquals(159.0f, node7Layout.location().y, "y of node7");
        Layout node8Layout = tree.getLayout(node8);
        assertEquals(40.0f, node8Layout.size().width, "width of node8");
        assertEquals(40.0f, node8Layout.size().height, "height of node8");
        assertEquals(128.0f, node8Layout.location().x, "x of node8");
        assertEquals(159.0f, node8Layout.location().y, "y of node8");
    }

    @Test
    @DisplayName("grid_align_content_space_between__border_box")
    void gridAlignContentSpaceBetweenBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        NodeId node4 = tree.newLeaf(node4Style);

        Style node5Style = new Style();
        NodeId node5 = tree.newLeaf(node5Style);

        Style node6Style = new Style();
        NodeId node6 = tree.newLeaf(node6Style);

        Style node7Style = new Style();
        NodeId node7 = tree.newLeaf(node7Style);

        Style node8Style = new Style();
        NodeId node8 = tree.newLeaf(node8Style);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.alignContent = AlignContent.SPACE_BETWEEN;
        nodeStyle.size = new Size<>(Dimension.length(200.0f), Dimension.length(200.0f));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5, node6, node7, node8);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(200.0f, nodeLayout.size().width, "width of node");
        assertEquals(200.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(40.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(40.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(40.0f, node2Layout.size().width, "width of node2");
        assertEquals(40.0f, node2Layout.size().height, "height of node2");
        assertEquals(80.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(40.0f, node3Layout.size().width, "width of node3");
        assertEquals(40.0f, node3Layout.size().height, "height of node3");
        assertEquals(0.0f, node3Layout.location().x, "x of node3");
        assertEquals(80.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(40.0f, node4Layout.size().width, "width of node4");
        assertEquals(40.0f, node4Layout.size().height, "height of node4");
        assertEquals(40.0f, node4Layout.location().x, "x of node4");
        assertEquals(80.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(40.0f, node5Layout.size().width, "width of node5");
        assertEquals(40.0f, node5Layout.size().height, "height of node5");
        assertEquals(80.0f, node5Layout.location().x, "x of node5");
        assertEquals(80.0f, node5Layout.location().y, "y of node5");
        Layout node6Layout = tree.getLayout(node6);
        assertEquals(40.0f, node6Layout.size().width, "width of node6");
        assertEquals(40.0f, node6Layout.size().height, "height of node6");
        assertEquals(0.0f, node6Layout.location().x, "x of node6");
        assertEquals(160.0f, node6Layout.location().y, "y of node6");
        Layout node7Layout = tree.getLayout(node7);
        assertEquals(40.0f, node7Layout.size().width, "width of node7");
        assertEquals(40.0f, node7Layout.size().height, "height of node7");
        assertEquals(40.0f, node7Layout.location().x, "x of node7");
        assertEquals(160.0f, node7Layout.location().y, "y of node7");
        Layout node8Layout = tree.getLayout(node8);
        assertEquals(40.0f, node8Layout.size().width, "width of node8");
        assertEquals(40.0f, node8Layout.size().height, "height of node8");
        assertEquals(80.0f, node8Layout.location().x, "x of node8");
        assertEquals(160.0f, node8Layout.location().y, "y of node8");
    }

    @Test
    @DisplayName("grid_align_content_space_between__content_box")
    void gridAlignContentSpaceBetweenContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        node3Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        node4Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node4 = tree.newLeaf(node4Style);

        Style node5Style = new Style();
        node5Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node5 = tree.newLeaf(node5Style);

        Style node6Style = new Style();
        node6Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node6 = tree.newLeaf(node6Style);

        Style node7Style = new Style();
        node7Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node7 = tree.newLeaf(node7Style);

        Style node8Style = new Style();
        node8Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node8 = tree.newLeaf(node8Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.alignContent = AlignContent.SPACE_BETWEEN;
        nodeStyle.size = new Size<>(Dimension.length(200.0f), Dimension.length(200.0f));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5, node6, node7, node8);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(200.0f, nodeLayout.size().width, "width of node");
        assertEquals(200.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(40.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(40.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(40.0f, node2Layout.size().width, "width of node2");
        assertEquals(40.0f, node2Layout.size().height, "height of node2");
        assertEquals(80.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(40.0f, node3Layout.size().width, "width of node3");
        assertEquals(40.0f, node3Layout.size().height, "height of node3");
        assertEquals(0.0f, node3Layout.location().x, "x of node3");
        assertEquals(80.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(40.0f, node4Layout.size().width, "width of node4");
        assertEquals(40.0f, node4Layout.size().height, "height of node4");
        assertEquals(40.0f, node4Layout.location().x, "x of node4");
        assertEquals(80.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(40.0f, node5Layout.size().width, "width of node5");
        assertEquals(40.0f, node5Layout.size().height, "height of node5");
        assertEquals(80.0f, node5Layout.location().x, "x of node5");
        assertEquals(80.0f, node5Layout.location().y, "y of node5");
        Layout node6Layout = tree.getLayout(node6);
        assertEquals(40.0f, node6Layout.size().width, "width of node6");
        assertEquals(40.0f, node6Layout.size().height, "height of node6");
        assertEquals(0.0f, node6Layout.location().x, "x of node6");
        assertEquals(160.0f, node6Layout.location().y, "y of node6");
        Layout node7Layout = tree.getLayout(node7);
        assertEquals(40.0f, node7Layout.size().width, "width of node7");
        assertEquals(40.0f, node7Layout.size().height, "height of node7");
        assertEquals(40.0f, node7Layout.location().x, "x of node7");
        assertEquals(160.0f, node7Layout.location().y, "y of node7");
        Layout node8Layout = tree.getLayout(node8);
        assertEquals(40.0f, node8Layout.size().width, "width of node8");
        assertEquals(40.0f, node8Layout.size().height, "height of node8");
        assertEquals(80.0f, node8Layout.location().x, "x of node8");
        assertEquals(160.0f, node8Layout.location().y, "y of node8");
    }

    @Test
    @DisplayName("grid_align_content_space_between_negative_space_gap__border_box")
    void gridAlignContentSpaceBetweenNegativeSpaceGapBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        NodeId node00 = tree.newLeaf(node00Style);

        Style node01Style = new Style();
        NodeId node01 = tree.newLeaf(node01Style);

        Style node02Style = new Style();
        NodeId node02 = tree.newLeaf(node02Style);

        Style node03Style = new Style();
        NodeId node03 = tree.newLeaf(node03Style);

        Style node04Style = new Style();
        NodeId node04 = tree.newLeaf(node04Style);

        Style node05Style = new Style();
        NodeId node05 = tree.newLeaf(node05Style);

        Style node06Style = new Style();
        NodeId node06 = tree.newLeaf(node06Style);

        Style node07Style = new Style();
        NodeId node07 = tree.newLeaf(node07Style);

        Style node08Style = new Style();
        NodeId node08 = tree.newLeaf(node08Style);

        Style node0Style = new Style();
        node0Style.display = Display.GRID;
        node0Style.alignContent = AlignContent.SPACE_BETWEEN;
        node0Style.justifyContent = AlignContent.CENTER;
        node0Style.size = new Size<>(Dimension.length(120.0f), Dimension.length(120.0f));
        node0Style.gap = new Size<>(LengthPercentage.length(10.0f), LengthPercentage.length(10.0f));
        node0Style.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(20.0f)));
        node0Style.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(20.0f)));
        node0Style.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(20.0f)));
        node0Style.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        node0Style.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        node0Style.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node0 = tree.newWithChildren(node0Style, node00, node01, node02, node03, node04, node05, node06, node07, node08);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.size = new Size<>(Dimension.length(240.0f), Dimension.length(240.0f));
        nodeStyle.border = new Rect<>(LengthPercentage.length(60.0f), LengthPercentage.length(60.0f), LengthPercentage.length(60.0f), LengthPercentage.length(60.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(240.0f, nodeLayout.size().width, "width of node");
        assertEquals(240.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(120.0f, node0Layout.size().width, "width of node0");
        assertEquals(120.0f, node0Layout.size().height, "height of node0");
        assertEquals(60.0f, node0Layout.location().x, "x of node0");
        assertEquals(60.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(20.0f, node00Layout.size().width, "width of node00");
        assertEquals(40.0f, node00Layout.size().height, "height of node00");
        assertEquals(20.0f, node00Layout.location().x, "x of node00");
        assertEquals(0.0f, node00Layout.location().y, "y of node00");
        Layout node01Layout = tree.getLayout(node01);
        assertEquals(20.0f, node01Layout.size().width, "width of node01");
        assertEquals(40.0f, node01Layout.size().height, "height of node01");
        assertEquals(50.0f, node01Layout.location().x, "x of node01");
        assertEquals(0.0f, node01Layout.location().y, "y of node01");
        Layout node02Layout = tree.getLayout(node02);
        assertEquals(20.0f, node02Layout.size().width, "width of node02");
        assertEquals(40.0f, node02Layout.size().height, "height of node02");
        assertEquals(80.0f, node02Layout.location().x, "x of node02");
        assertEquals(0.0f, node02Layout.location().y, "y of node02");
        Layout node03Layout = tree.getLayout(node03);
        assertEquals(20.0f, node03Layout.size().width, "width of node03");
        assertEquals(40.0f, node03Layout.size().height, "height of node03");
        assertEquals(20.0f, node03Layout.location().x, "x of node03");
        assertEquals(50.0f, node03Layout.location().y, "y of node03");
        Layout node04Layout = tree.getLayout(node04);
        assertEquals(20.0f, node04Layout.size().width, "width of node04");
        assertEquals(40.0f, node04Layout.size().height, "height of node04");
        assertEquals(50.0f, node04Layout.location().x, "x of node04");
        assertEquals(50.0f, node04Layout.location().y, "y of node04");
        Layout node05Layout = tree.getLayout(node05);
        assertEquals(20.0f, node05Layout.size().width, "width of node05");
        assertEquals(40.0f, node05Layout.size().height, "height of node05");
        assertEquals(80.0f, node05Layout.location().x, "x of node05");
        assertEquals(50.0f, node05Layout.location().y, "y of node05");
        Layout node06Layout = tree.getLayout(node06);
        assertEquals(20.0f, node06Layout.size().width, "width of node06");
        assertEquals(40.0f, node06Layout.size().height, "height of node06");
        assertEquals(20.0f, node06Layout.location().x, "x of node06");
        assertEquals(100.0f, node06Layout.location().y, "y of node06");
        Layout node07Layout = tree.getLayout(node07);
        assertEquals(20.0f, node07Layout.size().width, "width of node07");
        assertEquals(40.0f, node07Layout.size().height, "height of node07");
        assertEquals(50.0f, node07Layout.location().x, "x of node07");
        assertEquals(100.0f, node07Layout.location().y, "y of node07");
        Layout node08Layout = tree.getLayout(node08);
        assertEquals(20.0f, node08Layout.size().width, "width of node08");
        assertEquals(40.0f, node08Layout.size().height, "height of node08");
        assertEquals(80.0f, node08Layout.location().x, "x of node08");
        assertEquals(100.0f, node08Layout.location().y, "y of node08");
    }

    @Test
    @DisplayName("grid_align_content_space_between_negative_space_gap__content_box")
    void gridAlignContentSpaceBetweenNegativeSpaceGapContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node00 = tree.newLeaf(node00Style);

        Style node01Style = new Style();
        node01Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node01 = tree.newLeaf(node01Style);

        Style node02Style = new Style();
        node02Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node02 = tree.newLeaf(node02Style);

        Style node03Style = new Style();
        node03Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node03 = tree.newLeaf(node03Style);

        Style node04Style = new Style();
        node04Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node04 = tree.newLeaf(node04Style);

        Style node05Style = new Style();
        node05Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node05 = tree.newLeaf(node05Style);

        Style node06Style = new Style();
        node06Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node06 = tree.newLeaf(node06Style);

        Style node07Style = new Style();
        node07Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node07 = tree.newLeaf(node07Style);

        Style node08Style = new Style();
        node08Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node08 = tree.newLeaf(node08Style);

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.display = Display.GRID;
        node0Style.alignContent = AlignContent.SPACE_BETWEEN;
        node0Style.justifyContent = AlignContent.CENTER;
        node0Style.size = new Size<>(Dimension.length(120.0f), Dimension.length(120.0f));
        node0Style.gap = new Size<>(LengthPercentage.length(10.0f), LengthPercentage.length(10.0f));
        node0Style.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(20.0f)));
        node0Style.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(20.0f)));
        node0Style.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(20.0f)));
        node0Style.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        node0Style.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        node0Style.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node0 = tree.newWithChildren(node0Style, node00, node01, node02, node03, node04, node05, node06, node07, node08);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.size = new Size<>(Dimension.length(240.0f), Dimension.length(240.0f));
        nodeStyle.border = new Rect<>(LengthPercentage.length(60.0f), LengthPercentage.length(60.0f), LengthPercentage.length(60.0f), LengthPercentage.length(60.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(360.0f, nodeLayout.size().width, "width of node");
        assertEquals(360.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(120.0f, node0Layout.size().width, "width of node0");
        assertEquals(120.0f, node0Layout.size().height, "height of node0");
        assertEquals(60.0f, node0Layout.location().x, "x of node0");
        assertEquals(60.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(20.0f, node00Layout.size().width, "width of node00");
        assertEquals(40.0f, node00Layout.size().height, "height of node00");
        assertEquals(20.0f, node00Layout.location().x, "x of node00");
        assertEquals(0.0f, node00Layout.location().y, "y of node00");
        Layout node01Layout = tree.getLayout(node01);
        assertEquals(20.0f, node01Layout.size().width, "width of node01");
        assertEquals(40.0f, node01Layout.size().height, "height of node01");
        assertEquals(50.0f, node01Layout.location().x, "x of node01");
        assertEquals(0.0f, node01Layout.location().y, "y of node01");
        Layout node02Layout = tree.getLayout(node02);
        assertEquals(20.0f, node02Layout.size().width, "width of node02");
        assertEquals(40.0f, node02Layout.size().height, "height of node02");
        assertEquals(80.0f, node02Layout.location().x, "x of node02");
        assertEquals(0.0f, node02Layout.location().y, "y of node02");
        Layout node03Layout = tree.getLayout(node03);
        assertEquals(20.0f, node03Layout.size().width, "width of node03");
        assertEquals(40.0f, node03Layout.size().height, "height of node03");
        assertEquals(20.0f, node03Layout.location().x, "x of node03");
        assertEquals(50.0f, node03Layout.location().y, "y of node03");
        Layout node04Layout = tree.getLayout(node04);
        assertEquals(20.0f, node04Layout.size().width, "width of node04");
        assertEquals(40.0f, node04Layout.size().height, "height of node04");
        assertEquals(50.0f, node04Layout.location().x, "x of node04");
        assertEquals(50.0f, node04Layout.location().y, "y of node04");
        Layout node05Layout = tree.getLayout(node05);
        assertEquals(20.0f, node05Layout.size().width, "width of node05");
        assertEquals(40.0f, node05Layout.size().height, "height of node05");
        assertEquals(80.0f, node05Layout.location().x, "x of node05");
        assertEquals(50.0f, node05Layout.location().y, "y of node05");
        Layout node06Layout = tree.getLayout(node06);
        assertEquals(20.0f, node06Layout.size().width, "width of node06");
        assertEquals(40.0f, node06Layout.size().height, "height of node06");
        assertEquals(20.0f, node06Layout.location().x, "x of node06");
        assertEquals(100.0f, node06Layout.location().y, "y of node06");
        Layout node07Layout = tree.getLayout(node07);
        assertEquals(20.0f, node07Layout.size().width, "width of node07");
        assertEquals(40.0f, node07Layout.size().height, "height of node07");
        assertEquals(50.0f, node07Layout.location().x, "x of node07");
        assertEquals(100.0f, node07Layout.location().y, "y of node07");
        Layout node08Layout = tree.getLayout(node08);
        assertEquals(20.0f, node08Layout.size().width, "width of node08");
        assertEquals(40.0f, node08Layout.size().height, "height of node08");
        assertEquals(80.0f, node08Layout.location().x, "x of node08");
        assertEquals(100.0f, node08Layout.location().y, "y of node08");
    }

    @Test
    @DisplayName("grid_align_content_space_between_with_padding_border__border_box")
    void gridAlignContentSpaceBetweenWithPaddingBorderBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        NodeId node4 = tree.newLeaf(node4Style);

        Style node5Style = new Style();
        NodeId node5 = tree.newLeaf(node5Style);

        Style node6Style = new Style();
        NodeId node6 = tree.newLeaf(node6Style);

        Style node7Style = new Style();
        NodeId node7 = tree.newLeaf(node7Style);

        Style node8Style = new Style();
        NodeId node8 = tree.newLeaf(node8Style);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.alignContent = AlignContent.SPACE_BETWEEN;
        nodeStyle.size = new Size<>(Dimension.length(200.0f), Dimension.length(200.0f));
        nodeStyle.padding = new Rect<>(LengthPercentage.length(40.0f), LengthPercentage.length(20.0f), LengthPercentage.length(10.0f), LengthPercentage.length(30.0f));
        nodeStyle.border = new Rect<>(LengthPercentage.length(8.0f), LengthPercentage.length(4.0f), LengthPercentage.length(2.0f), LengthPercentage.length(6.0f));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5, node6, node7, node8);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(200.0f, nodeLayout.size().width, "width of node");
        assertEquals(200.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(48.0f, node0Layout.location().x, "x of node0");
        assertEquals(12.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(40.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(88.0f, node1Layout.location().x, "x of node1");
        assertEquals(12.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(40.0f, node2Layout.size().width, "width of node2");
        assertEquals(40.0f, node2Layout.size().height, "height of node2");
        assertEquals(128.0f, node2Layout.location().x, "x of node2");
        assertEquals(12.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(40.0f, node3Layout.size().width, "width of node3");
        assertEquals(40.0f, node3Layout.size().height, "height of node3");
        assertEquals(48.0f, node3Layout.location().x, "x of node3");
        assertEquals(68.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(40.0f, node4Layout.size().width, "width of node4");
        assertEquals(40.0f, node4Layout.size().height, "height of node4");
        assertEquals(88.0f, node4Layout.location().x, "x of node4");
        assertEquals(68.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(40.0f, node5Layout.size().width, "width of node5");
        assertEquals(40.0f, node5Layout.size().height, "height of node5");
        assertEquals(128.0f, node5Layout.location().x, "x of node5");
        assertEquals(68.0f, node5Layout.location().y, "y of node5");
        Layout node6Layout = tree.getLayout(node6);
        assertEquals(40.0f, node6Layout.size().width, "width of node6");
        assertEquals(40.0f, node6Layout.size().height, "height of node6");
        assertEquals(48.0f, node6Layout.location().x, "x of node6");
        assertEquals(124.0f, node6Layout.location().y, "y of node6");
        Layout node7Layout = tree.getLayout(node7);
        assertEquals(40.0f, node7Layout.size().width, "width of node7");
        assertEquals(40.0f, node7Layout.size().height, "height of node7");
        assertEquals(88.0f, node7Layout.location().x, "x of node7");
        assertEquals(124.0f, node7Layout.location().y, "y of node7");
        Layout node8Layout = tree.getLayout(node8);
        assertEquals(40.0f, node8Layout.size().width, "width of node8");
        assertEquals(40.0f, node8Layout.size().height, "height of node8");
        assertEquals(128.0f, node8Layout.location().x, "x of node8");
        assertEquals(124.0f, node8Layout.location().y, "y of node8");
    }

    @Test
    @DisplayName("grid_align_content_space_between_with_padding_border__content_box")
    void gridAlignContentSpaceBetweenWithPaddingBorderContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        node3Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        node4Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node4 = tree.newLeaf(node4Style);

        Style node5Style = new Style();
        node5Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node5 = tree.newLeaf(node5Style);

        Style node6Style = new Style();
        node6Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node6 = tree.newLeaf(node6Style);

        Style node7Style = new Style();
        node7Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node7 = tree.newLeaf(node7Style);

        Style node8Style = new Style();
        node8Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node8 = tree.newLeaf(node8Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.alignContent = AlignContent.SPACE_BETWEEN;
        nodeStyle.size = new Size<>(Dimension.length(200.0f), Dimension.length(200.0f));
        nodeStyle.padding = new Rect<>(LengthPercentage.length(40.0f), LengthPercentage.length(20.0f), LengthPercentage.length(10.0f), LengthPercentage.length(30.0f));
        nodeStyle.border = new Rect<>(LengthPercentage.length(8.0f), LengthPercentage.length(4.0f), LengthPercentage.length(2.0f), LengthPercentage.length(6.0f));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5, node6, node7, node8);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(272.0f, nodeLayout.size().width, "width of node");
        assertEquals(248.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(48.0f, node0Layout.location().x, "x of node0");
        assertEquals(12.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(40.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(88.0f, node1Layout.location().x, "x of node1");
        assertEquals(12.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(40.0f, node2Layout.size().width, "width of node2");
        assertEquals(40.0f, node2Layout.size().height, "height of node2");
        assertEquals(128.0f, node2Layout.location().x, "x of node2");
        assertEquals(12.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(40.0f, node3Layout.size().width, "width of node3");
        assertEquals(40.0f, node3Layout.size().height, "height of node3");
        assertEquals(48.0f, node3Layout.location().x, "x of node3");
        assertEquals(92.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(40.0f, node4Layout.size().width, "width of node4");
        assertEquals(40.0f, node4Layout.size().height, "height of node4");
        assertEquals(88.0f, node4Layout.location().x, "x of node4");
        assertEquals(92.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(40.0f, node5Layout.size().width, "width of node5");
        assertEquals(40.0f, node5Layout.size().height, "height of node5");
        assertEquals(128.0f, node5Layout.location().x, "x of node5");
        assertEquals(92.0f, node5Layout.location().y, "y of node5");
        Layout node6Layout = tree.getLayout(node6);
        assertEquals(40.0f, node6Layout.size().width, "width of node6");
        assertEquals(40.0f, node6Layout.size().height, "height of node6");
        assertEquals(48.0f, node6Layout.location().x, "x of node6");
        assertEquals(172.0f, node6Layout.location().y, "y of node6");
        Layout node7Layout = tree.getLayout(node7);
        assertEquals(40.0f, node7Layout.size().width, "width of node7");
        assertEquals(40.0f, node7Layout.size().height, "height of node7");
        assertEquals(88.0f, node7Layout.location().x, "x of node7");
        assertEquals(172.0f, node7Layout.location().y, "y of node7");
        Layout node8Layout = tree.getLayout(node8);
        assertEquals(40.0f, node8Layout.size().width, "width of node8");
        assertEquals(40.0f, node8Layout.size().height, "height of node8");
        assertEquals(128.0f, node8Layout.location().x, "x of node8");
        assertEquals(172.0f, node8Layout.location().y, "y of node8");
    }

    @Test
    @DisplayName("grid_align_content_space_evenly__border_box")
    void gridAlignContentSpaceEvenlyBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        NodeId node4 = tree.newLeaf(node4Style);

        Style node5Style = new Style();
        NodeId node5 = tree.newLeaf(node5Style);

        Style node6Style = new Style();
        NodeId node6 = tree.newLeaf(node6Style);

        Style node7Style = new Style();
        NodeId node7 = tree.newLeaf(node7Style);

        Style node8Style = new Style();
        NodeId node8 = tree.newLeaf(node8Style);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.alignContent = AlignContent.SPACE_EVENLY;
        nodeStyle.size = new Size<>(Dimension.length(200.0f), Dimension.length(200.0f));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5, node6, node7, node8);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(200.0f, nodeLayout.size().width, "width of node");
        assertEquals(200.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(20.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(40.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(40.0f, node1Layout.location().x, "x of node1");
        assertEquals(20.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(40.0f, node2Layout.size().width, "width of node2");
        assertEquals(40.0f, node2Layout.size().height, "height of node2");
        assertEquals(80.0f, node2Layout.location().x, "x of node2");
        assertEquals(20.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(40.0f, node3Layout.size().width, "width of node3");
        assertEquals(40.0f, node3Layout.size().height, "height of node3");
        assertEquals(0.0f, node3Layout.location().x, "x of node3");
        assertEquals(80.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(40.0f, node4Layout.size().width, "width of node4");
        assertEquals(40.0f, node4Layout.size().height, "height of node4");
        assertEquals(40.0f, node4Layout.location().x, "x of node4");
        assertEquals(80.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(40.0f, node5Layout.size().width, "width of node5");
        assertEquals(40.0f, node5Layout.size().height, "height of node5");
        assertEquals(80.0f, node5Layout.location().x, "x of node5");
        assertEquals(80.0f, node5Layout.location().y, "y of node5");
        Layout node6Layout = tree.getLayout(node6);
        assertEquals(40.0f, node6Layout.size().width, "width of node6");
        assertEquals(40.0f, node6Layout.size().height, "height of node6");
        assertEquals(0.0f, node6Layout.location().x, "x of node6");
        assertEquals(140.0f, node6Layout.location().y, "y of node6");
        Layout node7Layout = tree.getLayout(node7);
        assertEquals(40.0f, node7Layout.size().width, "width of node7");
        assertEquals(40.0f, node7Layout.size().height, "height of node7");
        assertEquals(40.0f, node7Layout.location().x, "x of node7");
        assertEquals(140.0f, node7Layout.location().y, "y of node7");
        Layout node8Layout = tree.getLayout(node8);
        assertEquals(40.0f, node8Layout.size().width, "width of node8");
        assertEquals(40.0f, node8Layout.size().height, "height of node8");
        assertEquals(80.0f, node8Layout.location().x, "x of node8");
        assertEquals(140.0f, node8Layout.location().y, "y of node8");
    }

    @Test
    @DisplayName("grid_align_content_space_evenly__content_box")
    void gridAlignContentSpaceEvenlyContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        node3Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        node4Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node4 = tree.newLeaf(node4Style);

        Style node5Style = new Style();
        node5Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node5 = tree.newLeaf(node5Style);

        Style node6Style = new Style();
        node6Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node6 = tree.newLeaf(node6Style);

        Style node7Style = new Style();
        node7Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node7 = tree.newLeaf(node7Style);

        Style node8Style = new Style();
        node8Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node8 = tree.newLeaf(node8Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.alignContent = AlignContent.SPACE_EVENLY;
        nodeStyle.size = new Size<>(Dimension.length(200.0f), Dimension.length(200.0f));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5, node6, node7, node8);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(200.0f, nodeLayout.size().width, "width of node");
        assertEquals(200.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(20.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(40.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(40.0f, node1Layout.location().x, "x of node1");
        assertEquals(20.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(40.0f, node2Layout.size().width, "width of node2");
        assertEquals(40.0f, node2Layout.size().height, "height of node2");
        assertEquals(80.0f, node2Layout.location().x, "x of node2");
        assertEquals(20.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(40.0f, node3Layout.size().width, "width of node3");
        assertEquals(40.0f, node3Layout.size().height, "height of node3");
        assertEquals(0.0f, node3Layout.location().x, "x of node3");
        assertEquals(80.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(40.0f, node4Layout.size().width, "width of node4");
        assertEquals(40.0f, node4Layout.size().height, "height of node4");
        assertEquals(40.0f, node4Layout.location().x, "x of node4");
        assertEquals(80.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(40.0f, node5Layout.size().width, "width of node5");
        assertEquals(40.0f, node5Layout.size().height, "height of node5");
        assertEquals(80.0f, node5Layout.location().x, "x of node5");
        assertEquals(80.0f, node5Layout.location().y, "y of node5");
        Layout node6Layout = tree.getLayout(node6);
        assertEquals(40.0f, node6Layout.size().width, "width of node6");
        assertEquals(40.0f, node6Layout.size().height, "height of node6");
        assertEquals(0.0f, node6Layout.location().x, "x of node6");
        assertEquals(140.0f, node6Layout.location().y, "y of node6");
        Layout node7Layout = tree.getLayout(node7);
        assertEquals(40.0f, node7Layout.size().width, "width of node7");
        assertEquals(40.0f, node7Layout.size().height, "height of node7");
        assertEquals(40.0f, node7Layout.location().x, "x of node7");
        assertEquals(140.0f, node7Layout.location().y, "y of node7");
        Layout node8Layout = tree.getLayout(node8);
        assertEquals(40.0f, node8Layout.size().width, "width of node8");
        assertEquals(40.0f, node8Layout.size().height, "height of node8");
        assertEquals(80.0f, node8Layout.location().x, "x of node8");
        assertEquals(140.0f, node8Layout.location().y, "y of node8");
    }

    @Test
    @DisplayName("grid_align_content_space_evenly_negative_space_gap__border_box")
    void gridAlignContentSpaceEvenlyNegativeSpaceGapBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        NodeId node00 = tree.newLeaf(node00Style);

        Style node01Style = new Style();
        NodeId node01 = tree.newLeaf(node01Style);

        Style node02Style = new Style();
        NodeId node02 = tree.newLeaf(node02Style);

        Style node03Style = new Style();
        NodeId node03 = tree.newLeaf(node03Style);

        Style node04Style = new Style();
        NodeId node04 = tree.newLeaf(node04Style);

        Style node05Style = new Style();
        NodeId node05 = tree.newLeaf(node05Style);

        Style node06Style = new Style();
        NodeId node06 = tree.newLeaf(node06Style);

        Style node07Style = new Style();
        NodeId node07 = tree.newLeaf(node07Style);

        Style node08Style = new Style();
        NodeId node08 = tree.newLeaf(node08Style);

        Style node0Style = new Style();
        node0Style.display = Display.GRID;
        node0Style.alignContent = AlignContent.SPACE_BETWEEN;
        node0Style.justifyContent = AlignContent.CENTER;
        node0Style.size = new Size<>(Dimension.length(120.0f), Dimension.length(120.0f));
        node0Style.gap = new Size<>(LengthPercentage.length(10.0f), LengthPercentage.length(10.0f));
        node0Style.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(20.0f)));
        node0Style.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(20.0f)));
        node0Style.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(20.0f)));
        node0Style.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        node0Style.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        node0Style.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node0 = tree.newWithChildren(node0Style, node00, node01, node02, node03, node04, node05, node06, node07, node08);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.size = new Size<>(Dimension.length(240.0f), Dimension.length(240.0f));
        nodeStyle.border = new Rect<>(LengthPercentage.length(60.0f), LengthPercentage.length(60.0f), LengthPercentage.length(60.0f), LengthPercentage.length(60.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(240.0f, nodeLayout.size().width, "width of node");
        assertEquals(240.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(120.0f, node0Layout.size().width, "width of node0");
        assertEquals(120.0f, node0Layout.size().height, "height of node0");
        assertEquals(60.0f, node0Layout.location().x, "x of node0");
        assertEquals(60.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(20.0f, node00Layout.size().width, "width of node00");
        assertEquals(40.0f, node00Layout.size().height, "height of node00");
        assertEquals(20.0f, node00Layout.location().x, "x of node00");
        assertEquals(0.0f, node00Layout.location().y, "y of node00");
        Layout node01Layout = tree.getLayout(node01);
        assertEquals(20.0f, node01Layout.size().width, "width of node01");
        assertEquals(40.0f, node01Layout.size().height, "height of node01");
        assertEquals(50.0f, node01Layout.location().x, "x of node01");
        assertEquals(0.0f, node01Layout.location().y, "y of node01");
        Layout node02Layout = tree.getLayout(node02);
        assertEquals(20.0f, node02Layout.size().width, "width of node02");
        assertEquals(40.0f, node02Layout.size().height, "height of node02");
        assertEquals(80.0f, node02Layout.location().x, "x of node02");
        assertEquals(0.0f, node02Layout.location().y, "y of node02");
        Layout node03Layout = tree.getLayout(node03);
        assertEquals(20.0f, node03Layout.size().width, "width of node03");
        assertEquals(40.0f, node03Layout.size().height, "height of node03");
        assertEquals(20.0f, node03Layout.location().x, "x of node03");
        assertEquals(50.0f, node03Layout.location().y, "y of node03");
        Layout node04Layout = tree.getLayout(node04);
        assertEquals(20.0f, node04Layout.size().width, "width of node04");
        assertEquals(40.0f, node04Layout.size().height, "height of node04");
        assertEquals(50.0f, node04Layout.location().x, "x of node04");
        assertEquals(50.0f, node04Layout.location().y, "y of node04");
        Layout node05Layout = tree.getLayout(node05);
        assertEquals(20.0f, node05Layout.size().width, "width of node05");
        assertEquals(40.0f, node05Layout.size().height, "height of node05");
        assertEquals(80.0f, node05Layout.location().x, "x of node05");
        assertEquals(50.0f, node05Layout.location().y, "y of node05");
        Layout node06Layout = tree.getLayout(node06);
        assertEquals(20.0f, node06Layout.size().width, "width of node06");
        assertEquals(40.0f, node06Layout.size().height, "height of node06");
        assertEquals(20.0f, node06Layout.location().x, "x of node06");
        assertEquals(100.0f, node06Layout.location().y, "y of node06");
        Layout node07Layout = tree.getLayout(node07);
        assertEquals(20.0f, node07Layout.size().width, "width of node07");
        assertEquals(40.0f, node07Layout.size().height, "height of node07");
        assertEquals(50.0f, node07Layout.location().x, "x of node07");
        assertEquals(100.0f, node07Layout.location().y, "y of node07");
        Layout node08Layout = tree.getLayout(node08);
        assertEquals(20.0f, node08Layout.size().width, "width of node08");
        assertEquals(40.0f, node08Layout.size().height, "height of node08");
        assertEquals(80.0f, node08Layout.location().x, "x of node08");
        assertEquals(100.0f, node08Layout.location().y, "y of node08");
    }

    @Test
    @DisplayName("grid_align_content_space_evenly_negative_space_gap__content_box")
    void gridAlignContentSpaceEvenlyNegativeSpaceGapContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node00 = tree.newLeaf(node00Style);

        Style node01Style = new Style();
        node01Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node01 = tree.newLeaf(node01Style);

        Style node02Style = new Style();
        node02Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node02 = tree.newLeaf(node02Style);

        Style node03Style = new Style();
        node03Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node03 = tree.newLeaf(node03Style);

        Style node04Style = new Style();
        node04Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node04 = tree.newLeaf(node04Style);

        Style node05Style = new Style();
        node05Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node05 = tree.newLeaf(node05Style);

        Style node06Style = new Style();
        node06Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node06 = tree.newLeaf(node06Style);

        Style node07Style = new Style();
        node07Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node07 = tree.newLeaf(node07Style);

        Style node08Style = new Style();
        node08Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node08 = tree.newLeaf(node08Style);

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.display = Display.GRID;
        node0Style.alignContent = AlignContent.SPACE_BETWEEN;
        node0Style.justifyContent = AlignContent.CENTER;
        node0Style.size = new Size<>(Dimension.length(120.0f), Dimension.length(120.0f));
        node0Style.gap = new Size<>(LengthPercentage.length(10.0f), LengthPercentage.length(10.0f));
        node0Style.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(20.0f)));
        node0Style.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(20.0f)));
        node0Style.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(20.0f)));
        node0Style.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        node0Style.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        node0Style.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node0 = tree.newWithChildren(node0Style, node00, node01, node02, node03, node04, node05, node06, node07, node08);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.size = new Size<>(Dimension.length(240.0f), Dimension.length(240.0f));
        nodeStyle.border = new Rect<>(LengthPercentage.length(60.0f), LengthPercentage.length(60.0f), LengthPercentage.length(60.0f), LengthPercentage.length(60.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(360.0f, nodeLayout.size().width, "width of node");
        assertEquals(360.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(120.0f, node0Layout.size().width, "width of node0");
        assertEquals(120.0f, node0Layout.size().height, "height of node0");
        assertEquals(60.0f, node0Layout.location().x, "x of node0");
        assertEquals(60.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(20.0f, node00Layout.size().width, "width of node00");
        assertEquals(40.0f, node00Layout.size().height, "height of node00");
        assertEquals(20.0f, node00Layout.location().x, "x of node00");
        assertEquals(0.0f, node00Layout.location().y, "y of node00");
        Layout node01Layout = tree.getLayout(node01);
        assertEquals(20.0f, node01Layout.size().width, "width of node01");
        assertEquals(40.0f, node01Layout.size().height, "height of node01");
        assertEquals(50.0f, node01Layout.location().x, "x of node01");
        assertEquals(0.0f, node01Layout.location().y, "y of node01");
        Layout node02Layout = tree.getLayout(node02);
        assertEquals(20.0f, node02Layout.size().width, "width of node02");
        assertEquals(40.0f, node02Layout.size().height, "height of node02");
        assertEquals(80.0f, node02Layout.location().x, "x of node02");
        assertEquals(0.0f, node02Layout.location().y, "y of node02");
        Layout node03Layout = tree.getLayout(node03);
        assertEquals(20.0f, node03Layout.size().width, "width of node03");
        assertEquals(40.0f, node03Layout.size().height, "height of node03");
        assertEquals(20.0f, node03Layout.location().x, "x of node03");
        assertEquals(50.0f, node03Layout.location().y, "y of node03");
        Layout node04Layout = tree.getLayout(node04);
        assertEquals(20.0f, node04Layout.size().width, "width of node04");
        assertEquals(40.0f, node04Layout.size().height, "height of node04");
        assertEquals(50.0f, node04Layout.location().x, "x of node04");
        assertEquals(50.0f, node04Layout.location().y, "y of node04");
        Layout node05Layout = tree.getLayout(node05);
        assertEquals(20.0f, node05Layout.size().width, "width of node05");
        assertEquals(40.0f, node05Layout.size().height, "height of node05");
        assertEquals(80.0f, node05Layout.location().x, "x of node05");
        assertEquals(50.0f, node05Layout.location().y, "y of node05");
        Layout node06Layout = tree.getLayout(node06);
        assertEquals(20.0f, node06Layout.size().width, "width of node06");
        assertEquals(40.0f, node06Layout.size().height, "height of node06");
        assertEquals(20.0f, node06Layout.location().x, "x of node06");
        assertEquals(100.0f, node06Layout.location().y, "y of node06");
        Layout node07Layout = tree.getLayout(node07);
        assertEquals(20.0f, node07Layout.size().width, "width of node07");
        assertEquals(40.0f, node07Layout.size().height, "height of node07");
        assertEquals(50.0f, node07Layout.location().x, "x of node07");
        assertEquals(100.0f, node07Layout.location().y, "y of node07");
        Layout node08Layout = tree.getLayout(node08);
        assertEquals(20.0f, node08Layout.size().width, "width of node08");
        assertEquals(40.0f, node08Layout.size().height, "height of node08");
        assertEquals(80.0f, node08Layout.location().x, "x of node08");
        assertEquals(100.0f, node08Layout.location().y, "y of node08");
    }

    @Test
    @DisplayName("grid_align_content_space_evenly_with_padding_border__border_box")
    void gridAlignContentSpaceEvenlyWithPaddingBorderBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        NodeId node4 = tree.newLeaf(node4Style);

        Style node5Style = new Style();
        NodeId node5 = tree.newLeaf(node5Style);

        Style node6Style = new Style();
        NodeId node6 = tree.newLeaf(node6Style);

        Style node7Style = new Style();
        NodeId node7 = tree.newLeaf(node7Style);

        Style node8Style = new Style();
        NodeId node8 = tree.newLeaf(node8Style);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.alignContent = AlignContent.SPACE_EVENLY;
        nodeStyle.size = new Size<>(Dimension.length(200.0f), Dimension.length(200.0f));
        nodeStyle.padding = new Rect<>(LengthPercentage.length(40.0f), LengthPercentage.length(20.0f), LengthPercentage.length(10.0f), LengthPercentage.length(30.0f));
        nodeStyle.border = new Rect<>(LengthPercentage.length(8.0f), LengthPercentage.length(4.0f), LengthPercentage.length(2.0f), LengthPercentage.length(6.0f));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5, node6, node7, node8);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(200.0f, nodeLayout.size().width, "width of node");
        assertEquals(200.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(48.0f, node0Layout.location().x, "x of node0");
        assertEquals(20.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(40.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(88.0f, node1Layout.location().x, "x of node1");
        assertEquals(20.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(40.0f, node2Layout.size().width, "width of node2");
        assertEquals(40.0f, node2Layout.size().height, "height of node2");
        assertEquals(128.0f, node2Layout.location().x, "x of node2");
        assertEquals(20.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(40.0f, node3Layout.size().width, "width of node3");
        assertEquals(40.0f, node3Layout.size().height, "height of node3");
        assertEquals(48.0f, node3Layout.location().x, "x of node3");
        assertEquals(68.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(40.0f, node4Layout.size().width, "width of node4");
        assertEquals(40.0f, node4Layout.size().height, "height of node4");
        assertEquals(88.0f, node4Layout.location().x, "x of node4");
        assertEquals(68.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(40.0f, node5Layout.size().width, "width of node5");
        assertEquals(40.0f, node5Layout.size().height, "height of node5");
        assertEquals(128.0f, node5Layout.location().x, "x of node5");
        assertEquals(68.0f, node5Layout.location().y, "y of node5");
        Layout node6Layout = tree.getLayout(node6);
        assertEquals(40.0f, node6Layout.size().width, "width of node6");
        assertEquals(40.0f, node6Layout.size().height, "height of node6");
        assertEquals(48.0f, node6Layout.location().x, "x of node6");
        assertEquals(116.0f, node6Layout.location().y, "y of node6");
        Layout node7Layout = tree.getLayout(node7);
        assertEquals(40.0f, node7Layout.size().width, "width of node7");
        assertEquals(40.0f, node7Layout.size().height, "height of node7");
        assertEquals(88.0f, node7Layout.location().x, "x of node7");
        assertEquals(116.0f, node7Layout.location().y, "y of node7");
        Layout node8Layout = tree.getLayout(node8);
        assertEquals(40.0f, node8Layout.size().width, "width of node8");
        assertEquals(40.0f, node8Layout.size().height, "height of node8");
        assertEquals(128.0f, node8Layout.location().x, "x of node8");
        assertEquals(116.0f, node8Layout.location().y, "y of node8");
    }

    @Test
    @DisplayName("grid_align_content_space_evenly_with_padding_border__content_box")
    void gridAlignContentSpaceEvenlyWithPaddingBorderContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        node3Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        node4Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node4 = tree.newLeaf(node4Style);

        Style node5Style = new Style();
        node5Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node5 = tree.newLeaf(node5Style);

        Style node6Style = new Style();
        node6Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node6 = tree.newLeaf(node6Style);

        Style node7Style = new Style();
        node7Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node7 = tree.newLeaf(node7Style);

        Style node8Style = new Style();
        node8Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node8 = tree.newLeaf(node8Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.alignContent = AlignContent.SPACE_EVENLY;
        nodeStyle.size = new Size<>(Dimension.length(200.0f), Dimension.length(200.0f));
        nodeStyle.padding = new Rect<>(LengthPercentage.length(40.0f), LengthPercentage.length(20.0f), LengthPercentage.length(10.0f), LengthPercentage.length(30.0f));
        nodeStyle.border = new Rect<>(LengthPercentage.length(8.0f), LengthPercentage.length(4.0f), LengthPercentage.length(2.0f), LengthPercentage.length(6.0f));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5, node6, node7, node8);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(272.0f, nodeLayout.size().width, "width of node");
        assertEquals(248.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(48.0f, node0Layout.location().x, "x of node0");
        assertEquals(32.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(40.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(88.0f, node1Layout.location().x, "x of node1");
        assertEquals(32.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(40.0f, node2Layout.size().width, "width of node2");
        assertEquals(40.0f, node2Layout.size().height, "height of node2");
        assertEquals(128.0f, node2Layout.location().x, "x of node2");
        assertEquals(32.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(40.0f, node3Layout.size().width, "width of node3");
        assertEquals(40.0f, node3Layout.size().height, "height of node3");
        assertEquals(48.0f, node3Layout.location().x, "x of node3");
        assertEquals(92.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(40.0f, node4Layout.size().width, "width of node4");
        assertEquals(40.0f, node4Layout.size().height, "height of node4");
        assertEquals(88.0f, node4Layout.location().x, "x of node4");
        assertEquals(92.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(40.0f, node5Layout.size().width, "width of node5");
        assertEquals(40.0f, node5Layout.size().height, "height of node5");
        assertEquals(128.0f, node5Layout.location().x, "x of node5");
        assertEquals(92.0f, node5Layout.location().y, "y of node5");
        Layout node6Layout = tree.getLayout(node6);
        assertEquals(40.0f, node6Layout.size().width, "width of node6");
        assertEquals(40.0f, node6Layout.size().height, "height of node6");
        assertEquals(48.0f, node6Layout.location().x, "x of node6");
        assertEquals(152.0f, node6Layout.location().y, "y of node6");
        Layout node7Layout = tree.getLayout(node7);
        assertEquals(40.0f, node7Layout.size().width, "width of node7");
        assertEquals(40.0f, node7Layout.size().height, "height of node7");
        assertEquals(88.0f, node7Layout.location().x, "x of node7");
        assertEquals(152.0f, node7Layout.location().y, "y of node7");
        Layout node8Layout = tree.getLayout(node8);
        assertEquals(40.0f, node8Layout.size().width, "width of node8");
        assertEquals(40.0f, node8Layout.size().height, "height of node8");
        assertEquals(128.0f, node8Layout.location().x, "x of node8");
        assertEquals(152.0f, node8Layout.location().y, "y of node8");
    }

    @Test
    @DisplayName("grid_align_content_start__border_box")
    void gridAlignContentStartBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        NodeId node4 = tree.newLeaf(node4Style);

        Style node5Style = new Style();
        NodeId node5 = tree.newLeaf(node5Style);

        Style node6Style = new Style();
        NodeId node6 = tree.newLeaf(node6Style);

        Style node7Style = new Style();
        NodeId node7 = tree.newLeaf(node7Style);

        Style node8Style = new Style();
        NodeId node8 = tree.newLeaf(node8Style);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.alignContent = AlignContent.START;
        nodeStyle.size = new Size<>(Dimension.length(200.0f), Dimension.length(200.0f));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5, node6, node7, node8);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(200.0f, nodeLayout.size().width, "width of node");
        assertEquals(200.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(40.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(40.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(40.0f, node2Layout.size().width, "width of node2");
        assertEquals(40.0f, node2Layout.size().height, "height of node2");
        assertEquals(80.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(40.0f, node3Layout.size().width, "width of node3");
        assertEquals(40.0f, node3Layout.size().height, "height of node3");
        assertEquals(0.0f, node3Layout.location().x, "x of node3");
        assertEquals(40.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(40.0f, node4Layout.size().width, "width of node4");
        assertEquals(40.0f, node4Layout.size().height, "height of node4");
        assertEquals(40.0f, node4Layout.location().x, "x of node4");
        assertEquals(40.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(40.0f, node5Layout.size().width, "width of node5");
        assertEquals(40.0f, node5Layout.size().height, "height of node5");
        assertEquals(80.0f, node5Layout.location().x, "x of node5");
        assertEquals(40.0f, node5Layout.location().y, "y of node5");
        Layout node6Layout = tree.getLayout(node6);
        assertEquals(40.0f, node6Layout.size().width, "width of node6");
        assertEquals(40.0f, node6Layout.size().height, "height of node6");
        assertEquals(0.0f, node6Layout.location().x, "x of node6");
        assertEquals(80.0f, node6Layout.location().y, "y of node6");
        Layout node7Layout = tree.getLayout(node7);
        assertEquals(40.0f, node7Layout.size().width, "width of node7");
        assertEquals(40.0f, node7Layout.size().height, "height of node7");
        assertEquals(40.0f, node7Layout.location().x, "x of node7");
        assertEquals(80.0f, node7Layout.location().y, "y of node7");
        Layout node8Layout = tree.getLayout(node8);
        assertEquals(40.0f, node8Layout.size().width, "width of node8");
        assertEquals(40.0f, node8Layout.size().height, "height of node8");
        assertEquals(80.0f, node8Layout.location().x, "x of node8");
        assertEquals(80.0f, node8Layout.location().y, "y of node8");
    }

    @Test
    @DisplayName("grid_align_content_start__content_box")
    void gridAlignContentStartContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        node3Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        node4Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node4 = tree.newLeaf(node4Style);

        Style node5Style = new Style();
        node5Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node5 = tree.newLeaf(node5Style);

        Style node6Style = new Style();
        node6Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node6 = tree.newLeaf(node6Style);

        Style node7Style = new Style();
        node7Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node7 = tree.newLeaf(node7Style);

        Style node8Style = new Style();
        node8Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node8 = tree.newLeaf(node8Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.alignContent = AlignContent.START;
        nodeStyle.size = new Size<>(Dimension.length(200.0f), Dimension.length(200.0f));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5, node6, node7, node8);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(200.0f, nodeLayout.size().width, "width of node");
        assertEquals(200.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(40.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(40.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(40.0f, node2Layout.size().width, "width of node2");
        assertEquals(40.0f, node2Layout.size().height, "height of node2");
        assertEquals(80.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(40.0f, node3Layout.size().width, "width of node3");
        assertEquals(40.0f, node3Layout.size().height, "height of node3");
        assertEquals(0.0f, node3Layout.location().x, "x of node3");
        assertEquals(40.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(40.0f, node4Layout.size().width, "width of node4");
        assertEquals(40.0f, node4Layout.size().height, "height of node4");
        assertEquals(40.0f, node4Layout.location().x, "x of node4");
        assertEquals(40.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(40.0f, node5Layout.size().width, "width of node5");
        assertEquals(40.0f, node5Layout.size().height, "height of node5");
        assertEquals(80.0f, node5Layout.location().x, "x of node5");
        assertEquals(40.0f, node5Layout.location().y, "y of node5");
        Layout node6Layout = tree.getLayout(node6);
        assertEquals(40.0f, node6Layout.size().width, "width of node6");
        assertEquals(40.0f, node6Layout.size().height, "height of node6");
        assertEquals(0.0f, node6Layout.location().x, "x of node6");
        assertEquals(80.0f, node6Layout.location().y, "y of node6");
        Layout node7Layout = tree.getLayout(node7);
        assertEquals(40.0f, node7Layout.size().width, "width of node7");
        assertEquals(40.0f, node7Layout.size().height, "height of node7");
        assertEquals(40.0f, node7Layout.location().x, "x of node7");
        assertEquals(80.0f, node7Layout.location().y, "y of node7");
        Layout node8Layout = tree.getLayout(node8);
        assertEquals(40.0f, node8Layout.size().width, "width of node8");
        assertEquals(40.0f, node8Layout.size().height, "height of node8");
        assertEquals(80.0f, node8Layout.location().x, "x of node8");
        assertEquals(80.0f, node8Layout.location().y, "y of node8");
    }

    @Test
    @DisplayName("grid_align_content_start_negative_space_gap__border_box")
    void gridAlignContentStartNegativeSpaceGapBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        NodeId node00 = tree.newLeaf(node00Style);

        Style node01Style = new Style();
        NodeId node01 = tree.newLeaf(node01Style);

        Style node02Style = new Style();
        NodeId node02 = tree.newLeaf(node02Style);

        Style node03Style = new Style();
        NodeId node03 = tree.newLeaf(node03Style);

        Style node04Style = new Style();
        NodeId node04 = tree.newLeaf(node04Style);

        Style node05Style = new Style();
        NodeId node05 = tree.newLeaf(node05Style);

        Style node06Style = new Style();
        NodeId node06 = tree.newLeaf(node06Style);

        Style node07Style = new Style();
        NodeId node07 = tree.newLeaf(node07Style);

        Style node08Style = new Style();
        NodeId node08 = tree.newLeaf(node08Style);

        Style node0Style = new Style();
        node0Style.display = Display.GRID;
        node0Style.alignContent = AlignContent.START;
        node0Style.justifyContent = AlignContent.CENTER;
        node0Style.size = new Size<>(Dimension.length(120.0f), Dimension.length(120.0f));
        node0Style.gap = new Size<>(LengthPercentage.length(10.0f), LengthPercentage.length(10.0f));
        node0Style.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(20.0f)));
        node0Style.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(20.0f)));
        node0Style.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(20.0f)));
        node0Style.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        node0Style.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        node0Style.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node0 = tree.newWithChildren(node0Style, node00, node01, node02, node03, node04, node05, node06, node07, node08);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.size = new Size<>(Dimension.length(240.0f), Dimension.length(240.0f));
        nodeStyle.border = new Rect<>(LengthPercentage.length(60.0f), LengthPercentage.length(60.0f), LengthPercentage.length(60.0f), LengthPercentage.length(60.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(240.0f, nodeLayout.size().width, "width of node");
        assertEquals(240.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(120.0f, node0Layout.size().width, "width of node0");
        assertEquals(120.0f, node0Layout.size().height, "height of node0");
        assertEquals(60.0f, node0Layout.location().x, "x of node0");
        assertEquals(60.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(20.0f, node00Layout.size().width, "width of node00");
        assertEquals(40.0f, node00Layout.size().height, "height of node00");
        assertEquals(20.0f, node00Layout.location().x, "x of node00");
        assertEquals(0.0f, node00Layout.location().y, "y of node00");
        Layout node01Layout = tree.getLayout(node01);
        assertEquals(20.0f, node01Layout.size().width, "width of node01");
        assertEquals(40.0f, node01Layout.size().height, "height of node01");
        assertEquals(50.0f, node01Layout.location().x, "x of node01");
        assertEquals(0.0f, node01Layout.location().y, "y of node01");
        Layout node02Layout = tree.getLayout(node02);
        assertEquals(20.0f, node02Layout.size().width, "width of node02");
        assertEquals(40.0f, node02Layout.size().height, "height of node02");
        assertEquals(80.0f, node02Layout.location().x, "x of node02");
        assertEquals(0.0f, node02Layout.location().y, "y of node02");
        Layout node03Layout = tree.getLayout(node03);
        assertEquals(20.0f, node03Layout.size().width, "width of node03");
        assertEquals(40.0f, node03Layout.size().height, "height of node03");
        assertEquals(20.0f, node03Layout.location().x, "x of node03");
        assertEquals(50.0f, node03Layout.location().y, "y of node03");
        Layout node04Layout = tree.getLayout(node04);
        assertEquals(20.0f, node04Layout.size().width, "width of node04");
        assertEquals(40.0f, node04Layout.size().height, "height of node04");
        assertEquals(50.0f, node04Layout.location().x, "x of node04");
        assertEquals(50.0f, node04Layout.location().y, "y of node04");
        Layout node05Layout = tree.getLayout(node05);
        assertEquals(20.0f, node05Layout.size().width, "width of node05");
        assertEquals(40.0f, node05Layout.size().height, "height of node05");
        assertEquals(80.0f, node05Layout.location().x, "x of node05");
        assertEquals(50.0f, node05Layout.location().y, "y of node05");
        Layout node06Layout = tree.getLayout(node06);
        assertEquals(20.0f, node06Layout.size().width, "width of node06");
        assertEquals(40.0f, node06Layout.size().height, "height of node06");
        assertEquals(20.0f, node06Layout.location().x, "x of node06");
        assertEquals(100.0f, node06Layout.location().y, "y of node06");
        Layout node07Layout = tree.getLayout(node07);
        assertEquals(20.0f, node07Layout.size().width, "width of node07");
        assertEquals(40.0f, node07Layout.size().height, "height of node07");
        assertEquals(50.0f, node07Layout.location().x, "x of node07");
        assertEquals(100.0f, node07Layout.location().y, "y of node07");
        Layout node08Layout = tree.getLayout(node08);
        assertEquals(20.0f, node08Layout.size().width, "width of node08");
        assertEquals(40.0f, node08Layout.size().height, "height of node08");
        assertEquals(80.0f, node08Layout.location().x, "x of node08");
        assertEquals(100.0f, node08Layout.location().y, "y of node08");
    }

    @Test
    @DisplayName("grid_align_content_start_negative_space_gap__content_box")
    void gridAlignContentStartNegativeSpaceGapContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node00 = tree.newLeaf(node00Style);

        Style node01Style = new Style();
        node01Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node01 = tree.newLeaf(node01Style);

        Style node02Style = new Style();
        node02Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node02 = tree.newLeaf(node02Style);

        Style node03Style = new Style();
        node03Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node03 = tree.newLeaf(node03Style);

        Style node04Style = new Style();
        node04Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node04 = tree.newLeaf(node04Style);

        Style node05Style = new Style();
        node05Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node05 = tree.newLeaf(node05Style);

        Style node06Style = new Style();
        node06Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node06 = tree.newLeaf(node06Style);

        Style node07Style = new Style();
        node07Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node07 = tree.newLeaf(node07Style);

        Style node08Style = new Style();
        node08Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node08 = tree.newLeaf(node08Style);

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.display = Display.GRID;
        node0Style.alignContent = AlignContent.START;
        node0Style.justifyContent = AlignContent.CENTER;
        node0Style.size = new Size<>(Dimension.length(120.0f), Dimension.length(120.0f));
        node0Style.gap = new Size<>(LengthPercentage.length(10.0f), LengthPercentage.length(10.0f));
        node0Style.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(20.0f)));
        node0Style.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(20.0f)));
        node0Style.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(20.0f)));
        node0Style.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        node0Style.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        node0Style.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node0 = tree.newWithChildren(node0Style, node00, node01, node02, node03, node04, node05, node06, node07, node08);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.size = new Size<>(Dimension.length(240.0f), Dimension.length(240.0f));
        nodeStyle.border = new Rect<>(LengthPercentage.length(60.0f), LengthPercentage.length(60.0f), LengthPercentage.length(60.0f), LengthPercentage.length(60.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(360.0f, nodeLayout.size().width, "width of node");
        assertEquals(360.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(120.0f, node0Layout.size().width, "width of node0");
        assertEquals(120.0f, node0Layout.size().height, "height of node0");
        assertEquals(60.0f, node0Layout.location().x, "x of node0");
        assertEquals(60.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(20.0f, node00Layout.size().width, "width of node00");
        assertEquals(40.0f, node00Layout.size().height, "height of node00");
        assertEquals(20.0f, node00Layout.location().x, "x of node00");
        assertEquals(0.0f, node00Layout.location().y, "y of node00");
        Layout node01Layout = tree.getLayout(node01);
        assertEquals(20.0f, node01Layout.size().width, "width of node01");
        assertEquals(40.0f, node01Layout.size().height, "height of node01");
        assertEquals(50.0f, node01Layout.location().x, "x of node01");
        assertEquals(0.0f, node01Layout.location().y, "y of node01");
        Layout node02Layout = tree.getLayout(node02);
        assertEquals(20.0f, node02Layout.size().width, "width of node02");
        assertEquals(40.0f, node02Layout.size().height, "height of node02");
        assertEquals(80.0f, node02Layout.location().x, "x of node02");
        assertEquals(0.0f, node02Layout.location().y, "y of node02");
        Layout node03Layout = tree.getLayout(node03);
        assertEquals(20.0f, node03Layout.size().width, "width of node03");
        assertEquals(40.0f, node03Layout.size().height, "height of node03");
        assertEquals(20.0f, node03Layout.location().x, "x of node03");
        assertEquals(50.0f, node03Layout.location().y, "y of node03");
        Layout node04Layout = tree.getLayout(node04);
        assertEquals(20.0f, node04Layout.size().width, "width of node04");
        assertEquals(40.0f, node04Layout.size().height, "height of node04");
        assertEquals(50.0f, node04Layout.location().x, "x of node04");
        assertEquals(50.0f, node04Layout.location().y, "y of node04");
        Layout node05Layout = tree.getLayout(node05);
        assertEquals(20.0f, node05Layout.size().width, "width of node05");
        assertEquals(40.0f, node05Layout.size().height, "height of node05");
        assertEquals(80.0f, node05Layout.location().x, "x of node05");
        assertEquals(50.0f, node05Layout.location().y, "y of node05");
        Layout node06Layout = tree.getLayout(node06);
        assertEquals(20.0f, node06Layout.size().width, "width of node06");
        assertEquals(40.0f, node06Layout.size().height, "height of node06");
        assertEquals(20.0f, node06Layout.location().x, "x of node06");
        assertEquals(100.0f, node06Layout.location().y, "y of node06");
        Layout node07Layout = tree.getLayout(node07);
        assertEquals(20.0f, node07Layout.size().width, "width of node07");
        assertEquals(40.0f, node07Layout.size().height, "height of node07");
        assertEquals(50.0f, node07Layout.location().x, "x of node07");
        assertEquals(100.0f, node07Layout.location().y, "y of node07");
        Layout node08Layout = tree.getLayout(node08);
        assertEquals(20.0f, node08Layout.size().width, "width of node08");
        assertEquals(40.0f, node08Layout.size().height, "height of node08");
        assertEquals(80.0f, node08Layout.location().x, "x of node08");
        assertEquals(100.0f, node08Layout.location().y, "y of node08");
    }

    @Test
    @DisplayName("grid_align_content_start_with_padding_border__border_box")
    void gridAlignContentStartWithPaddingBorderBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        NodeId node4 = tree.newLeaf(node4Style);

        Style node5Style = new Style();
        NodeId node5 = tree.newLeaf(node5Style);

        Style node6Style = new Style();
        NodeId node6 = tree.newLeaf(node6Style);

        Style node7Style = new Style();
        NodeId node7 = tree.newLeaf(node7Style);

        Style node8Style = new Style();
        NodeId node8 = tree.newLeaf(node8Style);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.alignContent = AlignContent.START;
        nodeStyle.size = new Size<>(Dimension.length(200.0f), Dimension.length(200.0f));
        nodeStyle.padding = new Rect<>(LengthPercentage.length(40.0f), LengthPercentage.length(20.0f), LengthPercentage.length(10.0f), LengthPercentage.length(30.0f));
        nodeStyle.border = new Rect<>(LengthPercentage.length(8.0f), LengthPercentage.length(4.0f), LengthPercentage.length(2.0f), LengthPercentage.length(6.0f));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5, node6, node7, node8);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(200.0f, nodeLayout.size().width, "width of node");
        assertEquals(200.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(48.0f, node0Layout.location().x, "x of node0");
        assertEquals(12.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(40.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(88.0f, node1Layout.location().x, "x of node1");
        assertEquals(12.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(40.0f, node2Layout.size().width, "width of node2");
        assertEquals(40.0f, node2Layout.size().height, "height of node2");
        assertEquals(128.0f, node2Layout.location().x, "x of node2");
        assertEquals(12.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(40.0f, node3Layout.size().width, "width of node3");
        assertEquals(40.0f, node3Layout.size().height, "height of node3");
        assertEquals(48.0f, node3Layout.location().x, "x of node3");
        assertEquals(52.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(40.0f, node4Layout.size().width, "width of node4");
        assertEquals(40.0f, node4Layout.size().height, "height of node4");
        assertEquals(88.0f, node4Layout.location().x, "x of node4");
        assertEquals(52.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(40.0f, node5Layout.size().width, "width of node5");
        assertEquals(40.0f, node5Layout.size().height, "height of node5");
        assertEquals(128.0f, node5Layout.location().x, "x of node5");
        assertEquals(52.0f, node5Layout.location().y, "y of node5");
        Layout node6Layout = tree.getLayout(node6);
        assertEquals(40.0f, node6Layout.size().width, "width of node6");
        assertEquals(40.0f, node6Layout.size().height, "height of node6");
        assertEquals(48.0f, node6Layout.location().x, "x of node6");
        assertEquals(92.0f, node6Layout.location().y, "y of node6");
        Layout node7Layout = tree.getLayout(node7);
        assertEquals(40.0f, node7Layout.size().width, "width of node7");
        assertEquals(40.0f, node7Layout.size().height, "height of node7");
        assertEquals(88.0f, node7Layout.location().x, "x of node7");
        assertEquals(92.0f, node7Layout.location().y, "y of node7");
        Layout node8Layout = tree.getLayout(node8);
        assertEquals(40.0f, node8Layout.size().width, "width of node8");
        assertEquals(40.0f, node8Layout.size().height, "height of node8");
        assertEquals(128.0f, node8Layout.location().x, "x of node8");
        assertEquals(92.0f, node8Layout.location().y, "y of node8");
    }

    @Test
    @DisplayName("grid_align_content_start_with_padding_border__content_box")
    void gridAlignContentStartWithPaddingBorderContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        node3Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        node4Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node4 = tree.newLeaf(node4Style);

        Style node5Style = new Style();
        node5Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node5 = tree.newLeaf(node5Style);

        Style node6Style = new Style();
        node6Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node6 = tree.newLeaf(node6Style);

        Style node7Style = new Style();
        node7Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node7 = tree.newLeaf(node7Style);

        Style node8Style = new Style();
        node8Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node8 = tree.newLeaf(node8Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.alignContent = AlignContent.START;
        nodeStyle.size = new Size<>(Dimension.length(200.0f), Dimension.length(200.0f));
        nodeStyle.padding = new Rect<>(LengthPercentage.length(40.0f), LengthPercentage.length(20.0f), LengthPercentage.length(10.0f), LengthPercentage.length(30.0f));
        nodeStyle.border = new Rect<>(LengthPercentage.length(8.0f), LengthPercentage.length(4.0f), LengthPercentage.length(2.0f), LengthPercentage.length(6.0f));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5, node6, node7, node8);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(272.0f, nodeLayout.size().width, "width of node");
        assertEquals(248.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(48.0f, node0Layout.location().x, "x of node0");
        assertEquals(12.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(40.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(88.0f, node1Layout.location().x, "x of node1");
        assertEquals(12.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(40.0f, node2Layout.size().width, "width of node2");
        assertEquals(40.0f, node2Layout.size().height, "height of node2");
        assertEquals(128.0f, node2Layout.location().x, "x of node2");
        assertEquals(12.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(40.0f, node3Layout.size().width, "width of node3");
        assertEquals(40.0f, node3Layout.size().height, "height of node3");
        assertEquals(48.0f, node3Layout.location().x, "x of node3");
        assertEquals(52.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(40.0f, node4Layout.size().width, "width of node4");
        assertEquals(40.0f, node4Layout.size().height, "height of node4");
        assertEquals(88.0f, node4Layout.location().x, "x of node4");
        assertEquals(52.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(40.0f, node5Layout.size().width, "width of node5");
        assertEquals(40.0f, node5Layout.size().height, "height of node5");
        assertEquals(128.0f, node5Layout.location().x, "x of node5");
        assertEquals(52.0f, node5Layout.location().y, "y of node5");
        Layout node6Layout = tree.getLayout(node6);
        assertEquals(40.0f, node6Layout.size().width, "width of node6");
        assertEquals(40.0f, node6Layout.size().height, "height of node6");
        assertEquals(48.0f, node6Layout.location().x, "x of node6");
        assertEquals(92.0f, node6Layout.location().y, "y of node6");
        Layout node7Layout = tree.getLayout(node7);
        assertEquals(40.0f, node7Layout.size().width, "width of node7");
        assertEquals(40.0f, node7Layout.size().height, "height of node7");
        assertEquals(88.0f, node7Layout.location().x, "x of node7");
        assertEquals(92.0f, node7Layout.location().y, "y of node7");
        Layout node8Layout = tree.getLayout(node8);
        assertEquals(40.0f, node8Layout.size().width, "width of node8");
        assertEquals(40.0f, node8Layout.size().height, "height of node8");
        assertEquals(128.0f, node8Layout.location().x, "x of node8");
        assertEquals(92.0f, node8Layout.location().y, "y of node8");
    }

    @Test
    @DisplayName("grid_align_items_baseline__border_box")
    void gridAlignItemsBaselineBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.display = Display.GRID;
        node0Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.display = Display.GRID;
        node1Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(20.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.alignItems = AlignItems.BASELINE;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(50.0f, node0Layout.size().width, "width of node0");
        assertEquals(50.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(50.0f, node1Layout.size().width, "width of node1");
        assertEquals(20.0f, node1Layout.size().height, "height of node1");
        assertEquals(0.0f, node1Layout.location().x, "x of node1");
        assertEquals(65.0f, node1Layout.location().y, "y of node1");
    }

    @Test
    @DisplayName("grid_align_items_baseline__content_box")
    void gridAlignItemsBaselineContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.display = Display.GRID;
        node0Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.display = Display.GRID;
        node1Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(20.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.alignItems = AlignItems.BASELINE;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(50.0f, node0Layout.size().width, "width of node0");
        assertEquals(50.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(50.0f, node1Layout.size().width, "width of node1");
        assertEquals(20.0f, node1Layout.size().height, "height of node1");
        assertEquals(0.0f, node1Layout.location().x, "x of node1");
        assertEquals(65.0f, node1Layout.location().y, "y of node1");
    }

    @Test
    @DisplayName("grid_align_items_baseline_child__border_box")
    void gridAlignItemsBaselineChildBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.display = Display.GRID;
        node0Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node10Style = new Style();
        node10Style.display = Display.GRID;
        node10Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(10.0f));
        NodeId node10 = tree.newLeaf(node10Style);

        Style node1Style = new Style();
        node1Style.display = Display.GRID;
        node1Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(20.0f));
        NodeId node1 = tree.newWithChildren(node1Style, node10);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.alignItems = AlignItems.BASELINE;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(50.0f, node0Layout.size().width, "width of node0");
        assertEquals(50.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(50.0f, node1Layout.size().width, "width of node1");
        assertEquals(20.0f, node1Layout.size().height, "height of node1");
        assertEquals(0.0f, node1Layout.location().x, "x of node1");
        assertEquals(65.0f, node1Layout.location().y, "y of node1");
        Layout node10Layout = tree.getLayout(node10);
        assertEquals(50.0f, node10Layout.size().width, "width of node10");
        assertEquals(10.0f, node10Layout.size().height, "height of node10");
        assertEquals(0.0f, node10Layout.location().x, "x of node10");
        assertEquals(0.0f, node10Layout.location().y, "y of node10");
    }

    @Test
    @DisplayName("grid_align_items_baseline_child__content_box")
    void gridAlignItemsBaselineChildContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.display = Display.GRID;
        node0Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node10Style = new Style();
        node10Style.boxSizing = BoxSizing.CONTENT_BOX;
        node10Style.display = Display.GRID;
        node10Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(10.0f));
        NodeId node10 = tree.newLeaf(node10Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.display = Display.GRID;
        node1Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(20.0f));
        NodeId node1 = tree.newWithChildren(node1Style, node10);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.alignItems = AlignItems.BASELINE;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(50.0f, node0Layout.size().width, "width of node0");
        assertEquals(50.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(50.0f, node1Layout.size().width, "width of node1");
        assertEquals(20.0f, node1Layout.size().height, "height of node1");
        assertEquals(0.0f, node1Layout.location().x, "x of node1");
        assertEquals(65.0f, node1Layout.location().y, "y of node1");
        Layout node10Layout = tree.getLayout(node10);
        assertEquals(50.0f, node10Layout.size().width, "width of node10");
        assertEquals(10.0f, node10Layout.size().height, "height of node10");
        assertEquals(0.0f, node10Layout.location().x, "x of node10");
        assertEquals(0.0f, node10Layout.location().y, "y of node10");
    }

    @Test
    @DisplayName("grid_align_items_baseline_child_margin__border_box")
    void gridAlignItemsBaselineChildMarginBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.display = Display.GRID;
        node0Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        node0Style.margin = new Rect<>(LengthPercentageAuto.length(5.0f), LengthPercentageAuto.length(5.0f), LengthPercentageAuto.length(5.0f), LengthPercentageAuto.length(5.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node10Style = new Style();
        node10Style.display = Display.GRID;
        node10Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(10.0f));
        node10Style.margin = new Rect<>(LengthPercentageAuto.length(5.0f), LengthPercentageAuto.length(5.0f), LengthPercentageAuto.length(5.0f), LengthPercentageAuto.length(5.0f));
        NodeId node10 = tree.newLeaf(node10Style);

        Style node1Style = new Style();
        node1Style.display = Display.GRID;
        node1Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(20.0f));
        NodeId node1 = tree.newWithChildren(node1Style, node10);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.alignItems = AlignItems.BASELINE;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(50.0f, node0Layout.size().width, "width of node0");
        assertEquals(50.0f, node0Layout.size().height, "height of node0");
        assertEquals(5.0f, node0Layout.location().x, "x of node0");
        assertEquals(5.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(50.0f, node1Layout.size().width, "width of node1");
        assertEquals(20.0f, node1Layout.size().height, "height of node1");
        assertEquals(0.0f, node1Layout.location().x, "x of node1");
        assertEquals(70.0f, node1Layout.location().y, "y of node1");
        Layout node10Layout = tree.getLayout(node10);
        assertEquals(50.0f, node10Layout.size().width, "width of node10");
        assertEquals(10.0f, node10Layout.size().height, "height of node10");
        assertEquals(5.0f, node10Layout.location().x, "x of node10");
        assertEquals(5.0f, node10Layout.location().y, "y of node10");
    }

    @Test
    @DisplayName("grid_align_items_baseline_child_margin__content_box")
    void gridAlignItemsBaselineChildMarginContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.display = Display.GRID;
        node0Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        node0Style.margin = new Rect<>(LengthPercentageAuto.length(5.0f), LengthPercentageAuto.length(5.0f), LengthPercentageAuto.length(5.0f), LengthPercentageAuto.length(5.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node10Style = new Style();
        node10Style.boxSizing = BoxSizing.CONTENT_BOX;
        node10Style.display = Display.GRID;
        node10Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(10.0f));
        node10Style.margin = new Rect<>(LengthPercentageAuto.length(5.0f), LengthPercentageAuto.length(5.0f), LengthPercentageAuto.length(5.0f), LengthPercentageAuto.length(5.0f));
        NodeId node10 = tree.newLeaf(node10Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.display = Display.GRID;
        node1Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(20.0f));
        NodeId node1 = tree.newWithChildren(node1Style, node10);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.alignItems = AlignItems.BASELINE;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(50.0f, node0Layout.size().width, "width of node0");
        assertEquals(50.0f, node0Layout.size().height, "height of node0");
        assertEquals(5.0f, node0Layout.location().x, "x of node0");
        assertEquals(5.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(50.0f, node1Layout.size().width, "width of node1");
        assertEquals(20.0f, node1Layout.size().height, "height of node1");
        assertEquals(0.0f, node1Layout.location().x, "x of node1");
        assertEquals(70.0f, node1Layout.location().y, "y of node1");
        Layout node10Layout = tree.getLayout(node10);
        assertEquals(50.0f, node10Layout.size().width, "width of node10");
        assertEquals(10.0f, node10Layout.size().height, "height of node10");
        assertEquals(5.0f, node10Layout.location().x, "x of node10");
        assertEquals(5.0f, node10Layout.location().y, "y of node10");
    }

    @Test
    @DisplayName("grid_align_items_baseline_child_margin_percent__border_box")
    void gridAlignItemsBaselineChildMarginPercentBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.display = Display.GRID;
        node0Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        node0Style.margin = new Rect<>(LengthPercentageAuto.percent(0.05f), LengthPercentageAuto.percent(0.05f), LengthPercentageAuto.percent(0.05f), LengthPercentageAuto.percent(0.05f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node10Style = new Style();
        node10Style.display = Display.GRID;
        node10Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(10.0f));
        node10Style.margin = new Rect<>(LengthPercentageAuto.percent(0.01f), LengthPercentageAuto.percent(0.01f), LengthPercentageAuto.percent(0.01f), LengthPercentageAuto.percent(0.01f));
        NodeId node10 = tree.newLeaf(node10Style);

        Style node1Style = new Style();
        node1Style.display = Display.GRID;
        node1Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(20.0f));
        NodeId node1 = tree.newWithChildren(node1Style, node10);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.alignItems = AlignItems.BASELINE;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(50.0f, node0Layout.size().width, "width of node0");
        assertEquals(50.0f, node0Layout.size().height, "height of node0");
        assertEquals(5.0f, node0Layout.location().x, "x of node0");
        assertEquals(5.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(50.0f, node1Layout.size().width, "width of node1");
        assertEquals(20.0f, node1Layout.size().height, "height of node1");
        assertEquals(0.0f, node1Layout.location().x, "x of node1");
        assertEquals(70.0f, node1Layout.location().y, "y of node1");
        Layout node10Layout = tree.getLayout(node10);
        assertEquals(50.0f, node10Layout.size().width, "width of node10");
        assertEquals(10.0f, node10Layout.size().height, "height of node10");
        assertEquals(1.0f, node10Layout.location().x, "x of node10");
        assertEquals(1.0f, node10Layout.location().y, "y of node10");
    }

    @Test
    @DisplayName("grid_align_items_baseline_child_margin_percent__content_box")
    void gridAlignItemsBaselineChildMarginPercentContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.display = Display.GRID;
        node0Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        node0Style.margin = new Rect<>(LengthPercentageAuto.percent(0.05f), LengthPercentageAuto.percent(0.05f), LengthPercentageAuto.percent(0.05f), LengthPercentageAuto.percent(0.05f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node10Style = new Style();
        node10Style.boxSizing = BoxSizing.CONTENT_BOX;
        node10Style.display = Display.GRID;
        node10Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(10.0f));
        node10Style.margin = new Rect<>(LengthPercentageAuto.percent(0.01f), LengthPercentageAuto.percent(0.01f), LengthPercentageAuto.percent(0.01f), LengthPercentageAuto.percent(0.01f));
        NodeId node10 = tree.newLeaf(node10Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.display = Display.GRID;
        node1Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(20.0f));
        NodeId node1 = tree.newWithChildren(node1Style, node10);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.alignItems = AlignItems.BASELINE;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(50.0f, node0Layout.size().width, "width of node0");
        assertEquals(50.0f, node0Layout.size().height, "height of node0");
        assertEquals(5.0f, node0Layout.location().x, "x of node0");
        assertEquals(5.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(50.0f, node1Layout.size().width, "width of node1");
        assertEquals(20.0f, node1Layout.size().height, "height of node1");
        assertEquals(0.0f, node1Layout.location().x, "x of node1");
        assertEquals(70.0f, node1Layout.location().y, "y of node1");
        Layout node10Layout = tree.getLayout(node10);
        assertEquals(50.0f, node10Layout.size().width, "width of node10");
        assertEquals(10.0f, node10Layout.size().height, "height of node10");
        assertEquals(1.0f, node10Layout.location().x, "x of node10");
        assertEquals(1.0f, node10Layout.location().y, "y of node10");
    }

    @Test
    @DisplayName("grid_align_items_baseline_child_multiline__border_box")
    void gridAlignItemsBaselineChildMultilineBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.display = Display.GRID;
        node0Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(60.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node10Style = new Style();
        node10Style.display = Display.GRID;
        node10Style.size = new Size<>(Dimension.length(25.0f), Dimension.length(20.0f));
        NodeId node10 = tree.newLeaf(node10Style);

        Style node11Style = new Style();
        node11Style.display = Display.GRID;
        node11Style.size = new Size<>(Dimension.length(25.0f), Dimension.length(10.0f));
        NodeId node11 = tree.newLeaf(node11Style);

        Style node12Style = new Style();
        node12Style.display = Display.GRID;
        node12Style.size = new Size<>(Dimension.length(25.0f), Dimension.length(20.0f));
        NodeId node12 = tree.newLeaf(node12Style);

        Style node13Style = new Style();
        node13Style.display = Display.GRID;
        node13Style.size = new Size<>(Dimension.length(25.0f), Dimension.length(10.0f));
        NodeId node13 = tree.newLeaf(node13Style);

        Style node1Style = new Style();
        node1Style.display = Display.GRID;
        node1Style.flexWrap = FlexWrap.WRAP;
        node1Style.size = new Size<>(Dimension.length(50.0f), Dimension.AUTO);
        node1Style.gridTemplateColumns.add(TrackSizingFunction.auto());
        node1Style.gridTemplateColumns.add(TrackSizingFunction.auto());
        NodeId node1 = tree.newWithChildren(node1Style, node10, node11, node12, node13);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.alignItems = AlignItems.BASELINE;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.AUTO);
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(50.0f, node0Layout.size().width, "width of node0");
        assertEquals(60.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(50.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(0.0f, node1Layout.location().x, "x of node1");
        assertEquals(60.0f, node1Layout.location().y, "y of node1");
        Layout node10Layout = tree.getLayout(node10);
        assertEquals(25.0f, node10Layout.size().width, "width of node10");
        assertEquals(20.0f, node10Layout.size().height, "height of node10");
        assertEquals(0.0f, node10Layout.location().x, "x of node10");
        assertEquals(0.0f, node10Layout.location().y, "y of node10");
        Layout node11Layout = tree.getLayout(node11);
        assertEquals(25.0f, node11Layout.size().width, "width of node11");
        assertEquals(10.0f, node11Layout.size().height, "height of node11");
        assertEquals(25.0f, node11Layout.location().x, "x of node11");
        assertEquals(0.0f, node11Layout.location().y, "y of node11");
        Layout node12Layout = tree.getLayout(node12);
        assertEquals(25.0f, node12Layout.size().width, "width of node12");
        assertEquals(20.0f, node12Layout.size().height, "height of node12");
        assertEquals(0.0f, node12Layout.location().x, "x of node12");
        assertEquals(20.0f, node12Layout.location().y, "y of node12");
        Layout node13Layout = tree.getLayout(node13);
        assertEquals(25.0f, node13Layout.size().width, "width of node13");
        assertEquals(10.0f, node13Layout.size().height, "height of node13");
        assertEquals(25.0f, node13Layout.location().x, "x of node13");
        assertEquals(20.0f, node13Layout.location().y, "y of node13");
    }

    @Test
    @DisplayName("grid_align_items_baseline_child_multiline__content_box")
    void gridAlignItemsBaselineChildMultilineContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.display = Display.GRID;
        node0Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(60.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node10Style = new Style();
        node10Style.boxSizing = BoxSizing.CONTENT_BOX;
        node10Style.display = Display.GRID;
        node10Style.size = new Size<>(Dimension.length(25.0f), Dimension.length(20.0f));
        NodeId node10 = tree.newLeaf(node10Style);

        Style node11Style = new Style();
        node11Style.boxSizing = BoxSizing.CONTENT_BOX;
        node11Style.display = Display.GRID;
        node11Style.size = new Size<>(Dimension.length(25.0f), Dimension.length(10.0f));
        NodeId node11 = tree.newLeaf(node11Style);

        Style node12Style = new Style();
        node12Style.boxSizing = BoxSizing.CONTENT_BOX;
        node12Style.display = Display.GRID;
        node12Style.size = new Size<>(Dimension.length(25.0f), Dimension.length(20.0f));
        NodeId node12 = tree.newLeaf(node12Style);

        Style node13Style = new Style();
        node13Style.boxSizing = BoxSizing.CONTENT_BOX;
        node13Style.display = Display.GRID;
        node13Style.size = new Size<>(Dimension.length(25.0f), Dimension.length(10.0f));
        NodeId node13 = tree.newLeaf(node13Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.display = Display.GRID;
        node1Style.flexWrap = FlexWrap.WRAP;
        node1Style.size = new Size<>(Dimension.length(50.0f), Dimension.AUTO);
        node1Style.gridTemplateColumns.add(TrackSizingFunction.auto());
        node1Style.gridTemplateColumns.add(TrackSizingFunction.auto());
        NodeId node1 = tree.newWithChildren(node1Style, node10, node11, node12, node13);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.alignItems = AlignItems.BASELINE;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.AUTO);
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(50.0f, node0Layout.size().width, "width of node0");
        assertEquals(60.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(50.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(0.0f, node1Layout.location().x, "x of node1");
        assertEquals(60.0f, node1Layout.location().y, "y of node1");
        Layout node10Layout = tree.getLayout(node10);
        assertEquals(25.0f, node10Layout.size().width, "width of node10");
        assertEquals(20.0f, node10Layout.size().height, "height of node10");
        assertEquals(0.0f, node10Layout.location().x, "x of node10");
        assertEquals(0.0f, node10Layout.location().y, "y of node10");
        Layout node11Layout = tree.getLayout(node11);
        assertEquals(25.0f, node11Layout.size().width, "width of node11");
        assertEquals(10.0f, node11Layout.size().height, "height of node11");
        assertEquals(25.0f, node11Layout.location().x, "x of node11");
        assertEquals(0.0f, node11Layout.location().y, "y of node11");
        Layout node12Layout = tree.getLayout(node12);
        assertEquals(25.0f, node12Layout.size().width, "width of node12");
        assertEquals(20.0f, node12Layout.size().height, "height of node12");
        assertEquals(0.0f, node12Layout.location().x, "x of node12");
        assertEquals(20.0f, node12Layout.location().y, "y of node12");
        Layout node13Layout = tree.getLayout(node13);
        assertEquals(25.0f, node13Layout.size().width, "width of node13");
        assertEquals(10.0f, node13Layout.size().height, "height of node13");
        assertEquals(25.0f, node13Layout.location().x, "x of node13");
        assertEquals(20.0f, node13Layout.location().y, "y of node13");
    }

    @Test
    @DisplayName("grid_align_items_baseline_child_multiline_no_override_on_secondline__border_box")
    void gridAlignItemsBaselineChildMultilineNoOverrideOnSecondlineBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.display = Display.GRID;
        node0Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(60.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node10Style = new Style();
        node10Style.display = Display.GRID;
        node10Style.size = new Size<>(Dimension.length(25.0f), Dimension.length(20.0f));
        NodeId node10 = tree.newLeaf(node10Style);

        Style node11Style = new Style();
        node11Style.display = Display.GRID;
        node11Style.size = new Size<>(Dimension.length(25.0f), Dimension.length(10.0f));
        NodeId node11 = tree.newLeaf(node11Style);

        Style node12Style = new Style();
        node12Style.display = Display.GRID;
        node12Style.size = new Size<>(Dimension.length(25.0f), Dimension.length(20.0f));
        NodeId node12 = tree.newLeaf(node12Style);

        Style node13Style = new Style();
        node13Style.display = Display.GRID;
        node13Style.alignSelf = AlignItems.BASELINE;
        node13Style.size = new Size<>(Dimension.length(25.0f), Dimension.length(10.0f));
        NodeId node13 = tree.newLeaf(node13Style);

        Style node1Style = new Style();
        node1Style.display = Display.GRID;
        node1Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(25.0f));
        node1Style.gridTemplateColumns.add(TrackSizingFunction.auto());
        node1Style.gridTemplateColumns.add(TrackSizingFunction.auto());
        NodeId node1 = tree.newWithChildren(node1Style, node10, node11, node12, node13);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.alignItems = AlignItems.BASELINE;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(50.0f, node0Layout.size().width, "width of node0");
        assertEquals(60.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(50.0f, node1Layout.size().width, "width of node1");
        assertEquals(25.0f, node1Layout.size().height, "height of node1");
        assertEquals(0.0f, node1Layout.location().x, "x of node1");
        assertEquals(68.0f, node1Layout.location().y, "y of node1");
        Layout node10Layout = tree.getLayout(node10);
        assertEquals(25.0f, node10Layout.size().width, "width of node10");
        assertEquals(20.0f, node10Layout.size().height, "height of node10");
        assertEquals(0.0f, node10Layout.location().x, "x of node10");
        assertEquals(0.0f, node10Layout.location().y, "y of node10");
        Layout node11Layout = tree.getLayout(node11);
        assertEquals(25.0f, node11Layout.size().width, "width of node11");
        assertEquals(10.0f, node11Layout.size().height, "height of node11");
        assertEquals(25.0f, node11Layout.location().x, "x of node11");
        assertEquals(0.0f, node11Layout.location().y, "y of node11");
        Layout node12Layout = tree.getLayout(node12);
        assertEquals(25.0f, node12Layout.size().width, "width of node12");
        assertEquals(20.0f, node12Layout.size().height, "height of node12");
        assertEquals(0.0f, node12Layout.location().x, "x of node12");
        assertEquals(20.0f, node12Layout.location().y, "y of node12");
        Layout node13Layout = tree.getLayout(node13);
        assertEquals(25.0f, node13Layout.size().width, "width of node13");
        assertEquals(10.0f, node13Layout.size().height, "height of node13");
        assertEquals(25.0f, node13Layout.location().x, "x of node13");
        assertEquals(20.0f, node13Layout.location().y, "y of node13");
    }

    @Test
    @DisplayName("grid_align_items_baseline_child_multiline_no_override_on_secondline__content_box")
    void gridAlignItemsBaselineChildMultilineNoOverrideOnSecondlineContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.display = Display.GRID;
        node0Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(60.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node10Style = new Style();
        node10Style.boxSizing = BoxSizing.CONTENT_BOX;
        node10Style.display = Display.GRID;
        node10Style.size = new Size<>(Dimension.length(25.0f), Dimension.length(20.0f));
        NodeId node10 = tree.newLeaf(node10Style);

        Style node11Style = new Style();
        node11Style.boxSizing = BoxSizing.CONTENT_BOX;
        node11Style.display = Display.GRID;
        node11Style.size = new Size<>(Dimension.length(25.0f), Dimension.length(10.0f));
        NodeId node11 = tree.newLeaf(node11Style);

        Style node12Style = new Style();
        node12Style.boxSizing = BoxSizing.CONTENT_BOX;
        node12Style.display = Display.GRID;
        node12Style.size = new Size<>(Dimension.length(25.0f), Dimension.length(20.0f));
        NodeId node12 = tree.newLeaf(node12Style);

        Style node13Style = new Style();
        node13Style.boxSizing = BoxSizing.CONTENT_BOX;
        node13Style.display = Display.GRID;
        node13Style.alignSelf = AlignItems.BASELINE;
        node13Style.size = new Size<>(Dimension.length(25.0f), Dimension.length(10.0f));
        NodeId node13 = tree.newLeaf(node13Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.display = Display.GRID;
        node1Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(25.0f));
        node1Style.gridTemplateColumns.add(TrackSizingFunction.auto());
        node1Style.gridTemplateColumns.add(TrackSizingFunction.auto());
        NodeId node1 = tree.newWithChildren(node1Style, node10, node11, node12, node13);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.alignItems = AlignItems.BASELINE;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(50.0f, node0Layout.size().width, "width of node0");
        assertEquals(60.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(50.0f, node1Layout.size().width, "width of node1");
        assertEquals(25.0f, node1Layout.size().height, "height of node1");
        assertEquals(0.0f, node1Layout.location().x, "x of node1");
        assertEquals(68.0f, node1Layout.location().y, "y of node1");
        Layout node10Layout = tree.getLayout(node10);
        assertEquals(25.0f, node10Layout.size().width, "width of node10");
        assertEquals(20.0f, node10Layout.size().height, "height of node10");
        assertEquals(0.0f, node10Layout.location().x, "x of node10");
        assertEquals(0.0f, node10Layout.location().y, "y of node10");
        Layout node11Layout = tree.getLayout(node11);
        assertEquals(25.0f, node11Layout.size().width, "width of node11");
        assertEquals(10.0f, node11Layout.size().height, "height of node11");
        assertEquals(25.0f, node11Layout.location().x, "x of node11");
        assertEquals(0.0f, node11Layout.location().y, "y of node11");
        Layout node12Layout = tree.getLayout(node12);
        assertEquals(25.0f, node12Layout.size().width, "width of node12");
        assertEquals(20.0f, node12Layout.size().height, "height of node12");
        assertEquals(0.0f, node12Layout.location().x, "x of node12");
        assertEquals(20.0f, node12Layout.location().y, "y of node12");
        Layout node13Layout = tree.getLayout(node13);
        assertEquals(25.0f, node13Layout.size().width, "width of node13");
        assertEquals(10.0f, node13Layout.size().height, "height of node13");
        assertEquals(25.0f, node13Layout.location().x, "x of node13");
        assertEquals(20.0f, node13Layout.location().y, "y of node13");
    }

    @Test
    @DisplayName("grid_align_items_baseline_child_multiline_override__border_box")
    void gridAlignItemsBaselineChildMultilineOverrideBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.display = Display.GRID;
        node0Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(60.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node10Style = new Style();
        node10Style.display = Display.GRID;
        node10Style.size = new Size<>(Dimension.length(25.0f), Dimension.length(20.0f));
        NodeId node10 = tree.newLeaf(node10Style);

        Style node11Style = new Style();
        node11Style.display = Display.GRID;
        node11Style.alignSelf = AlignItems.BASELINE;
        node11Style.size = new Size<>(Dimension.length(25.0f), Dimension.length(10.0f));
        NodeId node11 = tree.newLeaf(node11Style);

        Style node12Style = new Style();
        node12Style.display = Display.GRID;
        node12Style.size = new Size<>(Dimension.length(25.0f), Dimension.length(20.0f));
        NodeId node12 = tree.newLeaf(node12Style);

        Style node13Style = new Style();
        node13Style.display = Display.GRID;
        node13Style.alignSelf = AlignItems.BASELINE;
        node13Style.size = new Size<>(Dimension.length(25.0f), Dimension.length(10.0f));
        NodeId node13 = tree.newLeaf(node13Style);

        Style node1Style = new Style();
        node1Style.display = Display.GRID;
        node1Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(25.0f));
        node1Style.gridTemplateColumns.add(TrackSizingFunction.auto());
        node1Style.gridTemplateColumns.add(TrackSizingFunction.auto());
        NodeId node1 = tree.newWithChildren(node1Style, node10, node11, node12, node13);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.alignItems = AlignItems.BASELINE;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(50.0f, node0Layout.size().width, "width of node0");
        assertEquals(60.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(50.0f, node1Layout.size().width, "width of node1");
        assertEquals(25.0f, node1Layout.size().height, "height of node1");
        assertEquals(0.0f, node1Layout.location().x, "x of node1");
        assertEquals(68.0f, node1Layout.location().y, "y of node1");
        Layout node10Layout = tree.getLayout(node10);
        assertEquals(25.0f, node10Layout.size().width, "width of node10");
        assertEquals(20.0f, node10Layout.size().height, "height of node10");
        assertEquals(0.0f, node10Layout.location().x, "x of node10");
        assertEquals(0.0f, node10Layout.location().y, "y of node10");
        Layout node11Layout = tree.getLayout(node11);
        assertEquals(25.0f, node11Layout.size().width, "width of node11");
        assertEquals(10.0f, node11Layout.size().height, "height of node11");
        assertEquals(25.0f, node11Layout.location().x, "x of node11");
        assertEquals(0.0f, node11Layout.location().y, "y of node11");
        Layout node12Layout = tree.getLayout(node12);
        assertEquals(25.0f, node12Layout.size().width, "width of node12");
        assertEquals(20.0f, node12Layout.size().height, "height of node12");
        assertEquals(0.0f, node12Layout.location().x, "x of node12");
        assertEquals(20.0f, node12Layout.location().y, "y of node12");
        Layout node13Layout = tree.getLayout(node13);
        assertEquals(25.0f, node13Layout.size().width, "width of node13");
        assertEquals(10.0f, node13Layout.size().height, "height of node13");
        assertEquals(25.0f, node13Layout.location().x, "x of node13");
        assertEquals(20.0f, node13Layout.location().y, "y of node13");
    }

    @Test
    @DisplayName("grid_align_items_baseline_child_multiline_override__content_box")
    void gridAlignItemsBaselineChildMultilineOverrideContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.display = Display.GRID;
        node0Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(60.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node10Style = new Style();
        node10Style.boxSizing = BoxSizing.CONTENT_BOX;
        node10Style.display = Display.GRID;
        node10Style.size = new Size<>(Dimension.length(25.0f), Dimension.length(20.0f));
        NodeId node10 = tree.newLeaf(node10Style);

        Style node11Style = new Style();
        node11Style.boxSizing = BoxSizing.CONTENT_BOX;
        node11Style.display = Display.GRID;
        node11Style.alignSelf = AlignItems.BASELINE;
        node11Style.size = new Size<>(Dimension.length(25.0f), Dimension.length(10.0f));
        NodeId node11 = tree.newLeaf(node11Style);

        Style node12Style = new Style();
        node12Style.boxSizing = BoxSizing.CONTENT_BOX;
        node12Style.display = Display.GRID;
        node12Style.size = new Size<>(Dimension.length(25.0f), Dimension.length(20.0f));
        NodeId node12 = tree.newLeaf(node12Style);

        Style node13Style = new Style();
        node13Style.boxSizing = BoxSizing.CONTENT_BOX;
        node13Style.display = Display.GRID;
        node13Style.alignSelf = AlignItems.BASELINE;
        node13Style.size = new Size<>(Dimension.length(25.0f), Dimension.length(10.0f));
        NodeId node13 = tree.newLeaf(node13Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.display = Display.GRID;
        node1Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(25.0f));
        node1Style.gridTemplateColumns.add(TrackSizingFunction.auto());
        node1Style.gridTemplateColumns.add(TrackSizingFunction.auto());
        NodeId node1 = tree.newWithChildren(node1Style, node10, node11, node12, node13);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.alignItems = AlignItems.BASELINE;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(50.0f, node0Layout.size().width, "width of node0");
        assertEquals(60.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(50.0f, node1Layout.size().width, "width of node1");
        assertEquals(25.0f, node1Layout.size().height, "height of node1");
        assertEquals(0.0f, node1Layout.location().x, "x of node1");
        assertEquals(68.0f, node1Layout.location().y, "y of node1");
        Layout node10Layout = tree.getLayout(node10);
        assertEquals(25.0f, node10Layout.size().width, "width of node10");
        assertEquals(20.0f, node10Layout.size().height, "height of node10");
        assertEquals(0.0f, node10Layout.location().x, "x of node10");
        assertEquals(0.0f, node10Layout.location().y, "y of node10");
        Layout node11Layout = tree.getLayout(node11);
        assertEquals(25.0f, node11Layout.size().width, "width of node11");
        assertEquals(10.0f, node11Layout.size().height, "height of node11");
        assertEquals(25.0f, node11Layout.location().x, "x of node11");
        assertEquals(0.0f, node11Layout.location().y, "y of node11");
        Layout node12Layout = tree.getLayout(node12);
        assertEquals(25.0f, node12Layout.size().width, "width of node12");
        assertEquals(20.0f, node12Layout.size().height, "height of node12");
        assertEquals(0.0f, node12Layout.location().x, "x of node12");
        assertEquals(20.0f, node12Layout.location().y, "y of node12");
        Layout node13Layout = tree.getLayout(node13);
        assertEquals(25.0f, node13Layout.size().width, "width of node13");
        assertEquals(10.0f, node13Layout.size().height, "height of node13");
        assertEquals(25.0f, node13Layout.location().x, "x of node13");
        assertEquals(20.0f, node13Layout.location().y, "y of node13");
    }

    @Test
    @DisplayName("grid_align_items_baseline_child_padding__border_box")
    void gridAlignItemsBaselineChildPaddingBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.display = Display.GRID;
        node0Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node10Style = new Style();
        node10Style.display = Display.GRID;
        node10Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(10.0f));
        NodeId node10 = tree.newLeaf(node10Style);

        Style node1Style = new Style();
        node1Style.display = Display.GRID;
        node1Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(20.0f));
        node1Style.padding = new Rect<>(LengthPercentage.length(5.0f), LengthPercentage.length(5.0f), LengthPercentage.length(5.0f), LengthPercentage.length(5.0f));
        NodeId node1 = tree.newWithChildren(node1Style, node10);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.alignItems = AlignItems.BASELINE;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        nodeStyle.padding = new Rect<>(LengthPercentage.length(5.0f), LengthPercentage.length(5.0f), LengthPercentage.length(5.0f), LengthPercentage.length(5.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(50.0f, node0Layout.size().width, "width of node0");
        assertEquals(50.0f, node0Layout.size().height, "height of node0");
        assertEquals(5.0f, node0Layout.location().x, "x of node0");
        assertEquals(5.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(50.0f, node1Layout.size().width, "width of node1");
        assertEquals(20.0f, node1Layout.size().height, "height of node1");
        assertEquals(5.0f, node1Layout.location().x, "x of node1");
        assertEquals(65.0f, node1Layout.location().y, "y of node1");
        Layout node10Layout = tree.getLayout(node10);
        assertEquals(50.0f, node10Layout.size().width, "width of node10");
        assertEquals(10.0f, node10Layout.size().height, "height of node10");
        assertEquals(5.0f, node10Layout.location().x, "x of node10");
        assertEquals(5.0f, node10Layout.location().y, "y of node10");
    }

    @Test
    @DisplayName("grid_align_items_baseline_child_padding__content_box")
    void gridAlignItemsBaselineChildPaddingContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.display = Display.GRID;
        node0Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node10Style = new Style();
        node10Style.boxSizing = BoxSizing.CONTENT_BOX;
        node10Style.display = Display.GRID;
        node10Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(10.0f));
        NodeId node10 = tree.newLeaf(node10Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.display = Display.GRID;
        node1Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(20.0f));
        node1Style.padding = new Rect<>(LengthPercentage.length(5.0f), LengthPercentage.length(5.0f), LengthPercentage.length(5.0f), LengthPercentage.length(5.0f));
        NodeId node1 = tree.newWithChildren(node1Style, node10);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.alignItems = AlignItems.BASELINE;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        nodeStyle.padding = new Rect<>(LengthPercentage.length(5.0f), LengthPercentage.length(5.0f), LengthPercentage.length(5.0f), LengthPercentage.length(5.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(110.0f, nodeLayout.size().width, "width of node");
        assertEquals(110.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(50.0f, node0Layout.size().width, "width of node0");
        assertEquals(50.0f, node0Layout.size().height, "height of node0");
        assertEquals(5.0f, node0Layout.location().x, "x of node0");
        assertEquals(5.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(60.0f, node1Layout.size().width, "width of node1");
        assertEquals(30.0f, node1Layout.size().height, "height of node1");
        assertEquals(5.0f, node1Layout.location().x, "x of node1");
        assertEquals(65.0f, node1Layout.location().y, "y of node1");
        Layout node10Layout = tree.getLayout(node10);
        assertEquals(50.0f, node10Layout.size().width, "width of node10");
        assertEquals(10.0f, node10Layout.size().height, "height of node10");
        assertEquals(5.0f, node10Layout.location().x, "x of node10");
        assertEquals(5.0f, node10Layout.location().y, "y of node10");
    }

    @Test
    @DisplayName("grid_align_items_baseline_child_top__border_box")
    void gridAlignItemsBaselineChildTopBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.display = Display.GRID;
        node0Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        node0Style.inset = new Rect<>(LengthPercentageAuto.AUTO, LengthPercentageAuto.AUTO, LengthPercentageAuto.length(10.0f), LengthPercentageAuto.AUTO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style node10Style = new Style();
        node10Style.display = Display.GRID;
        node10Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(10.0f));
        NodeId node10 = tree.newLeaf(node10Style);

        Style node1Style = new Style();
        node1Style.display = Display.GRID;
        node1Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(20.0f));
        NodeId node1 = tree.newWithChildren(node1Style, node10);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.alignItems = AlignItems.BASELINE;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(50.0f, node0Layout.size().width, "width of node0");
        assertEquals(50.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(10.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(50.0f, node1Layout.size().width, "width of node1");
        assertEquals(20.0f, node1Layout.size().height, "height of node1");
        assertEquals(0.0f, node1Layout.location().x, "x of node1");
        assertEquals(65.0f, node1Layout.location().y, "y of node1");
        Layout node10Layout = tree.getLayout(node10);
        assertEquals(50.0f, node10Layout.size().width, "width of node10");
        assertEquals(10.0f, node10Layout.size().height, "height of node10");
        assertEquals(0.0f, node10Layout.location().x, "x of node10");
        assertEquals(0.0f, node10Layout.location().y, "y of node10");
    }

    @Test
    @DisplayName("grid_align_items_baseline_child_top__content_box")
    void gridAlignItemsBaselineChildTopContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.display = Display.GRID;
        node0Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        node0Style.inset = new Rect<>(LengthPercentageAuto.AUTO, LengthPercentageAuto.AUTO, LengthPercentageAuto.length(10.0f), LengthPercentageAuto.AUTO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style node10Style = new Style();
        node10Style.boxSizing = BoxSizing.CONTENT_BOX;
        node10Style.display = Display.GRID;
        node10Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(10.0f));
        NodeId node10 = tree.newLeaf(node10Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.display = Display.GRID;
        node1Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(20.0f));
        NodeId node1 = tree.newWithChildren(node1Style, node10);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.alignItems = AlignItems.BASELINE;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(50.0f, node0Layout.size().width, "width of node0");
        assertEquals(50.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(10.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(50.0f, node1Layout.size().width, "width of node1");
        assertEquals(20.0f, node1Layout.size().height, "height of node1");
        assertEquals(0.0f, node1Layout.location().x, "x of node1");
        assertEquals(65.0f, node1Layout.location().y, "y of node1");
        Layout node10Layout = tree.getLayout(node10);
        assertEquals(50.0f, node10Layout.size().width, "width of node10");
        assertEquals(10.0f, node10Layout.size().height, "height of node10");
        assertEquals(0.0f, node10Layout.location().x, "x of node10");
        assertEquals(0.0f, node10Layout.location().y, "y of node10");
    }

    @Test
    @DisplayName("grid_align_items_baseline_child_top2__border_box")
    void gridAlignItemsBaselineChildTop2BorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.display = Display.GRID;
        node0Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node10Style = new Style();
        node10Style.display = Display.GRID;
        node10Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(10.0f));
        NodeId node10 = tree.newLeaf(node10Style);

        Style node1Style = new Style();
        node1Style.display = Display.GRID;
        node1Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(20.0f));
        node1Style.inset = new Rect<>(LengthPercentageAuto.AUTO, LengthPercentageAuto.AUTO, LengthPercentageAuto.length(5.0f), LengthPercentageAuto.AUTO);
        NodeId node1 = tree.newWithChildren(node1Style, node10);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.alignItems = AlignItems.BASELINE;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(50.0f, node0Layout.size().width, "width of node0");
        assertEquals(50.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(50.0f, node1Layout.size().width, "width of node1");
        assertEquals(20.0f, node1Layout.size().height, "height of node1");
        assertEquals(0.0f, node1Layout.location().x, "x of node1");
        assertEquals(70.0f, node1Layout.location().y, "y of node1");
        Layout node10Layout = tree.getLayout(node10);
        assertEquals(50.0f, node10Layout.size().width, "width of node10");
        assertEquals(10.0f, node10Layout.size().height, "height of node10");
        assertEquals(0.0f, node10Layout.location().x, "x of node10");
        assertEquals(0.0f, node10Layout.location().y, "y of node10");
    }

    @Test
    @DisplayName("grid_align_items_baseline_child_top2__content_box")
    void gridAlignItemsBaselineChildTop2ContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.display = Display.GRID;
        node0Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node10Style = new Style();
        node10Style.boxSizing = BoxSizing.CONTENT_BOX;
        node10Style.display = Display.GRID;
        node10Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(10.0f));
        NodeId node10 = tree.newLeaf(node10Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.display = Display.GRID;
        node1Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(20.0f));
        node1Style.inset = new Rect<>(LengthPercentageAuto.AUTO, LengthPercentageAuto.AUTO, LengthPercentageAuto.length(5.0f), LengthPercentageAuto.AUTO);
        NodeId node1 = tree.newWithChildren(node1Style, node10);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.alignItems = AlignItems.BASELINE;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(50.0f, node0Layout.size().width, "width of node0");
        assertEquals(50.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(50.0f, node1Layout.size().width, "width of node1");
        assertEquals(20.0f, node1Layout.size().height, "height of node1");
        assertEquals(0.0f, node1Layout.location().x, "x of node1");
        assertEquals(70.0f, node1Layout.location().y, "y of node1");
        Layout node10Layout = tree.getLayout(node10);
        assertEquals(50.0f, node10Layout.size().width, "width of node10");
        assertEquals(10.0f, node10Layout.size().height, "height of node10");
        assertEquals(0.0f, node10Layout.location().x, "x of node10");
        assertEquals(0.0f, node10Layout.location().y, "y of node10");
    }

    @Test
    @DisplayName("grid_align_items_baseline_complex__border_box")
    void gridAlignItemsBaselineComplexBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node10Style = new Style();
        node10Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        NodeId node10 = tree.newLeaf(node10Style);

        Style node1Style = new Style();
        node1Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        NodeId node1 = tree.newWithChildren(node1Style, node10);

        Style node20Style = new Style();
        node20Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        NodeId node20 = tree.newLeaf(node20Style);

        Style node2Style = new Style();
        node2Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        NodeId node2 = tree.newWithChildren(node2Style, node20);

        Style node3Style = new Style();
        node3Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        node4Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        NodeId node4 = tree.newLeaf(node4Style);

        Style node5Style = new Style();
        node5Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        NodeId node5 = tree.newLeaf(node5Style);

        Style node60Style = new Style();
        node60Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        NodeId node60 = tree.newLeaf(node60Style);

        Style node6Style = new Style();
        node6Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        NodeId node6 = tree.newWithChildren(node6Style, node60);

        Style node70Style = new Style();
        node70Style.size = new Size<>(Dimension.AUTO, Dimension.length(5.0f));
        NodeId node70 = tree.newLeaf(node70Style);

        Style node7Style = new Style();
        node7Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        NodeId node7 = tree.newWithChildren(node7Style, node70);

        Style node8Style = new Style();
        node8Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        NodeId node8 = tree.newLeaf(node8Style);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.alignItems = AlignItems.BASELINE;
        nodeStyle.size = new Size<>(Dimension.length(120.0f), Dimension.length(120.0f));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5, node6, node7, node8);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(120.0f, nodeLayout.size().width, "width of node");
        assertEquals(120.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(20.0f, node0Layout.size().width, "width of node0");
        assertEquals(20.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(20.0f, node1Layout.size().width, "width of node1");
        assertEquals(20.0f, node1Layout.size().height, "height of node1");
        assertEquals(40.0f, node1Layout.location().x, "x of node1");
        assertEquals(10.0f, node1Layout.location().y, "y of node1");
        Layout node10Layout = tree.getLayout(node10);
        assertEquals(0.0f, node10Layout.size().width, "width of node10");
        assertEquals(10.0f, node10Layout.size().height, "height of node10");
        assertEquals(0.0f, node10Layout.location().x, "x of node10");
        assertEquals(0.0f, node10Layout.location().y, "y of node10");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(20.0f, node2Layout.size().width, "width of node2");
        assertEquals(20.0f, node2Layout.size().height, "height of node2");
        assertEquals(80.0f, node2Layout.location().x, "x of node2");
        assertEquals(10.0f, node2Layout.location().y, "y of node2");
        Layout node20Layout = tree.getLayout(node20);
        assertEquals(0.0f, node20Layout.size().width, "width of node20");
        assertEquals(10.0f, node20Layout.size().height, "height of node20");
        assertEquals(0.0f, node20Layout.location().x, "x of node20");
        assertEquals(0.0f, node20Layout.location().y, "y of node20");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(20.0f, node3Layout.size().width, "width of node3");
        assertEquals(20.0f, node3Layout.size().height, "height of node3");
        assertEquals(0.0f, node3Layout.location().x, "x of node3");
        assertEquals(40.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(20.0f, node4Layout.size().width, "width of node4");
        assertEquals(20.0f, node4Layout.size().height, "height of node4");
        assertEquals(40.0f, node4Layout.location().x, "x of node4");
        assertEquals(40.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(20.0f, node5Layout.size().width, "width of node5");
        assertEquals(20.0f, node5Layout.size().height, "height of node5");
        assertEquals(80.0f, node5Layout.location().x, "x of node5");
        assertEquals(40.0f, node5Layout.location().y, "y of node5");
        Layout node6Layout = tree.getLayout(node6);
        assertEquals(20.0f, node6Layout.size().width, "width of node6");
        assertEquals(20.0f, node6Layout.size().height, "height of node6");
        assertEquals(0.0f, node6Layout.location().x, "x of node6");
        assertEquals(90.0f, node6Layout.location().y, "y of node6");
        Layout node60Layout = tree.getLayout(node60);
        assertEquals(0.0f, node60Layout.size().width, "width of node60");
        assertEquals(10.0f, node60Layout.size().height, "height of node60");
        assertEquals(0.0f, node60Layout.location().x, "x of node60");
        assertEquals(0.0f, node60Layout.location().y, "y of node60");
        Layout node7Layout = tree.getLayout(node7);
        assertEquals(20.0f, node7Layout.size().width, "width of node7");
        assertEquals(20.0f, node7Layout.size().height, "height of node7");
        assertEquals(40.0f, node7Layout.location().x, "x of node7");
        assertEquals(95.0f, node7Layout.location().y, "y of node7");
        Layout node70Layout = tree.getLayout(node70);
        assertEquals(0.0f, node70Layout.size().width, "width of node70");
        assertEquals(5.0f, node70Layout.size().height, "height of node70");
        assertEquals(0.0f, node70Layout.location().x, "x of node70");
        assertEquals(0.0f, node70Layout.location().y, "y of node70");
        Layout node8Layout = tree.getLayout(node8);
        assertEquals(20.0f, node8Layout.size().width, "width of node8");
        assertEquals(20.0f, node8Layout.size().height, "height of node8");
        assertEquals(80.0f, node8Layout.location().x, "x of node8");
        assertEquals(80.0f, node8Layout.location().y, "y of node8");
    }

    @Test
    @DisplayName("grid_align_items_baseline_complex__content_box")
    void gridAlignItemsBaselineComplexContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node10Style = new Style();
        node10Style.boxSizing = BoxSizing.CONTENT_BOX;
        node10Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        NodeId node10 = tree.newLeaf(node10Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        NodeId node1 = tree.newWithChildren(node1Style, node10);

        Style node20Style = new Style();
        node20Style.boxSizing = BoxSizing.CONTENT_BOX;
        node20Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        NodeId node20 = tree.newLeaf(node20Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        node2Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        NodeId node2 = tree.newWithChildren(node2Style, node20);

        Style node3Style = new Style();
        node3Style.boxSizing = BoxSizing.CONTENT_BOX;
        node3Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        node4Style.boxSizing = BoxSizing.CONTENT_BOX;
        node4Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        NodeId node4 = tree.newLeaf(node4Style);

        Style node5Style = new Style();
        node5Style.boxSizing = BoxSizing.CONTENT_BOX;
        node5Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        NodeId node5 = tree.newLeaf(node5Style);

        Style node60Style = new Style();
        node60Style.boxSizing = BoxSizing.CONTENT_BOX;
        node60Style.size = new Size<>(Dimension.AUTO, Dimension.length(10.0f));
        NodeId node60 = tree.newLeaf(node60Style);

        Style node6Style = new Style();
        node6Style.boxSizing = BoxSizing.CONTENT_BOX;
        node6Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        NodeId node6 = tree.newWithChildren(node6Style, node60);

        Style node70Style = new Style();
        node70Style.boxSizing = BoxSizing.CONTENT_BOX;
        node70Style.size = new Size<>(Dimension.AUTO, Dimension.length(5.0f));
        NodeId node70 = tree.newLeaf(node70Style);

        Style node7Style = new Style();
        node7Style.boxSizing = BoxSizing.CONTENT_BOX;
        node7Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        NodeId node7 = tree.newWithChildren(node7Style, node70);

        Style node8Style = new Style();
        node8Style.boxSizing = BoxSizing.CONTENT_BOX;
        node8Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        NodeId node8 = tree.newLeaf(node8Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.alignItems = AlignItems.BASELINE;
        nodeStyle.size = new Size<>(Dimension.length(120.0f), Dimension.length(120.0f));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5, node6, node7, node8);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(120.0f, nodeLayout.size().width, "width of node");
        assertEquals(120.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(20.0f, node0Layout.size().width, "width of node0");
        assertEquals(20.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(20.0f, node1Layout.size().width, "width of node1");
        assertEquals(20.0f, node1Layout.size().height, "height of node1");
        assertEquals(40.0f, node1Layout.location().x, "x of node1");
        assertEquals(10.0f, node1Layout.location().y, "y of node1");
        Layout node10Layout = tree.getLayout(node10);
        assertEquals(0.0f, node10Layout.size().width, "width of node10");
        assertEquals(10.0f, node10Layout.size().height, "height of node10");
        assertEquals(0.0f, node10Layout.location().x, "x of node10");
        assertEquals(0.0f, node10Layout.location().y, "y of node10");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(20.0f, node2Layout.size().width, "width of node2");
        assertEquals(20.0f, node2Layout.size().height, "height of node2");
        assertEquals(80.0f, node2Layout.location().x, "x of node2");
        assertEquals(10.0f, node2Layout.location().y, "y of node2");
        Layout node20Layout = tree.getLayout(node20);
        assertEquals(0.0f, node20Layout.size().width, "width of node20");
        assertEquals(10.0f, node20Layout.size().height, "height of node20");
        assertEquals(0.0f, node20Layout.location().x, "x of node20");
        assertEquals(0.0f, node20Layout.location().y, "y of node20");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(20.0f, node3Layout.size().width, "width of node3");
        assertEquals(20.0f, node3Layout.size().height, "height of node3");
        assertEquals(0.0f, node3Layout.location().x, "x of node3");
        assertEquals(40.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(20.0f, node4Layout.size().width, "width of node4");
        assertEquals(20.0f, node4Layout.size().height, "height of node4");
        assertEquals(40.0f, node4Layout.location().x, "x of node4");
        assertEquals(40.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(20.0f, node5Layout.size().width, "width of node5");
        assertEquals(20.0f, node5Layout.size().height, "height of node5");
        assertEquals(80.0f, node5Layout.location().x, "x of node5");
        assertEquals(40.0f, node5Layout.location().y, "y of node5");
        Layout node6Layout = tree.getLayout(node6);
        assertEquals(20.0f, node6Layout.size().width, "width of node6");
        assertEquals(20.0f, node6Layout.size().height, "height of node6");
        assertEquals(0.0f, node6Layout.location().x, "x of node6");
        assertEquals(90.0f, node6Layout.location().y, "y of node6");
        Layout node60Layout = tree.getLayout(node60);
        assertEquals(0.0f, node60Layout.size().width, "width of node60");
        assertEquals(10.0f, node60Layout.size().height, "height of node60");
        assertEquals(0.0f, node60Layout.location().x, "x of node60");
        assertEquals(0.0f, node60Layout.location().y, "y of node60");
        Layout node7Layout = tree.getLayout(node7);
        assertEquals(20.0f, node7Layout.size().width, "width of node7");
        assertEquals(20.0f, node7Layout.size().height, "height of node7");
        assertEquals(40.0f, node7Layout.location().x, "x of node7");
        assertEquals(95.0f, node7Layout.location().y, "y of node7");
        Layout node70Layout = tree.getLayout(node70);
        assertEquals(0.0f, node70Layout.size().width, "width of node70");
        assertEquals(5.0f, node70Layout.size().height, "height of node70");
        assertEquals(0.0f, node70Layout.location().x, "x of node70");
        assertEquals(0.0f, node70Layout.location().y, "y of node70");
        Layout node8Layout = tree.getLayout(node8);
        assertEquals(20.0f, node8Layout.size().width, "width of node8");
        assertEquals(20.0f, node8Layout.size().height, "height of node8");
        assertEquals(80.0f, node8Layout.location().x, "x of node8");
        assertEquals(80.0f, node8Layout.location().y, "y of node8");
    }

    @Test
    @DisplayName("grid_align_items_baseline_double_nested_child__border_box")
    void gridAlignItemsBaselineDoubleNestedChildBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.display = Display.GRID;
        node00Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(20.0f));
        NodeId node00 = tree.newLeaf(node00Style);

        Style node0Style = new Style();
        node0Style.display = Display.GRID;
        node0Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        NodeId node0 = tree.newWithChildren(node0Style, node00);

        Style node10Style = new Style();
        node10Style.display = Display.GRID;
        node10Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(15.0f));
        NodeId node10 = tree.newLeaf(node10Style);

        Style node1Style = new Style();
        node1Style.display = Display.GRID;
        node1Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(20.0f));
        NodeId node1 = tree.newWithChildren(node1Style, node10);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.alignItems = AlignItems.BASELINE;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(50.0f, node0Layout.size().width, "width of node0");
        assertEquals(50.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(50.0f, node00Layout.size().width, "width of node00");
        assertEquals(20.0f, node00Layout.size().height, "height of node00");
        assertEquals(0.0f, node00Layout.location().x, "x of node00");
        assertEquals(0.0f, node00Layout.location().y, "y of node00");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(50.0f, node1Layout.size().width, "width of node1");
        assertEquals(20.0f, node1Layout.size().height, "height of node1");
        assertEquals(0.0f, node1Layout.location().x, "x of node1");
        assertEquals(65.0f, node1Layout.location().y, "y of node1");
        Layout node10Layout = tree.getLayout(node10);
        assertEquals(50.0f, node10Layout.size().width, "width of node10");
        assertEquals(15.0f, node10Layout.size().height, "height of node10");
        assertEquals(0.0f, node10Layout.location().x, "x of node10");
        assertEquals(0.0f, node10Layout.location().y, "y of node10");
    }

    @Test
    @DisplayName("grid_align_items_baseline_double_nested_child__content_box")
    void gridAlignItemsBaselineDoubleNestedChildContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.boxSizing = BoxSizing.CONTENT_BOX;
        node00Style.display = Display.GRID;
        node00Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(20.0f));
        NodeId node00 = tree.newLeaf(node00Style);

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.display = Display.GRID;
        node0Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        NodeId node0 = tree.newWithChildren(node0Style, node00);

        Style node10Style = new Style();
        node10Style.boxSizing = BoxSizing.CONTENT_BOX;
        node10Style.display = Display.GRID;
        node10Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(15.0f));
        NodeId node10 = tree.newLeaf(node10Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.display = Display.GRID;
        node1Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(20.0f));
        NodeId node1 = tree.newWithChildren(node1Style, node10);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.alignItems = AlignItems.BASELINE;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(50.0f, node0Layout.size().width, "width of node0");
        assertEquals(50.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(50.0f, node00Layout.size().width, "width of node00");
        assertEquals(20.0f, node00Layout.size().height, "height of node00");
        assertEquals(0.0f, node00Layout.location().x, "x of node00");
        assertEquals(0.0f, node00Layout.location().y, "y of node00");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(50.0f, node1Layout.size().width, "width of node1");
        assertEquals(20.0f, node1Layout.size().height, "height of node1");
        assertEquals(0.0f, node1Layout.location().x, "x of node1");
        assertEquals(65.0f, node1Layout.location().y, "y of node1");
        Layout node10Layout = tree.getLayout(node10);
        assertEquals(50.0f, node10Layout.size().width, "width of node10");
        assertEquals(15.0f, node10Layout.size().height, "height of node10");
        assertEquals(0.0f, node10Layout.location().x, "x of node10");
        assertEquals(0.0f, node10Layout.location().y, "y of node10");
    }

    @Test
    @DisplayName("grid_align_items_baseline_multiline__border_box")
    void gridAlignItemsBaselineMultilineBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.display = Display.GRID;
        node0Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node10Style = new Style();
        node10Style.display = Display.GRID;
        node10Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(10.0f));
        NodeId node10 = tree.newLeaf(node10Style);

        Style node1Style = new Style();
        node1Style.display = Display.GRID;
        node1Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(20.0f));
        NodeId node1 = tree.newWithChildren(node1Style, node10);

        Style node20Style = new Style();
        node20Style.display = Display.GRID;
        node20Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(10.0f));
        NodeId node20 = tree.newLeaf(node20Style);

        Style node2Style = new Style();
        node2Style.display = Display.GRID;
        node2Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(20.0f));
        NodeId node2 = tree.newWithChildren(node2Style, node20);

        Style node3Style = new Style();
        node3Style.display = Display.GRID;
        node3Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        NodeId node3 = tree.newLeaf(node3Style);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.alignItems = AlignItems.BASELINE;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.auto());
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.auto());
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(50.0f, node0Layout.size().width, "width of node0");
        assertEquals(50.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(50.0f, node1Layout.size().width, "width of node1");
        assertEquals(20.0f, node1Layout.size().height, "height of node1");
        assertEquals(50.0f, node1Layout.location().x, "x of node1");
        assertEquals(40.0f, node1Layout.location().y, "y of node1");
        Layout node10Layout = tree.getLayout(node10);
        assertEquals(50.0f, node10Layout.size().width, "width of node10");
        assertEquals(10.0f, node10Layout.size().height, "height of node10");
        assertEquals(0.0f, node10Layout.location().x, "x of node10");
        assertEquals(0.0f, node10Layout.location().y, "y of node10");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(50.0f, node2Layout.size().width, "width of node2");
        assertEquals(20.0f, node2Layout.size().height, "height of node2");
        assertEquals(0.0f, node2Layout.location().x, "x of node2");
        assertEquals(100.0f, node2Layout.location().y, "y of node2");
        Layout node20Layout = tree.getLayout(node20);
        assertEquals(50.0f, node20Layout.size().width, "width of node20");
        assertEquals(10.0f, node20Layout.size().height, "height of node20");
        assertEquals(0.0f, node20Layout.location().x, "x of node20");
        assertEquals(0.0f, node20Layout.location().y, "y of node20");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(50.0f, node3Layout.size().width, "width of node3");
        assertEquals(50.0f, node3Layout.size().height, "height of node3");
        assertEquals(50.0f, node3Layout.location().x, "x of node3");
        assertEquals(60.0f, node3Layout.location().y, "y of node3");
    }

    @Test
    @DisplayName("grid_align_items_baseline_multiline__content_box")
    void gridAlignItemsBaselineMultilineContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.display = Display.GRID;
        node0Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node10Style = new Style();
        node10Style.boxSizing = BoxSizing.CONTENT_BOX;
        node10Style.display = Display.GRID;
        node10Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(10.0f));
        NodeId node10 = tree.newLeaf(node10Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.display = Display.GRID;
        node1Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(20.0f));
        NodeId node1 = tree.newWithChildren(node1Style, node10);

        Style node20Style = new Style();
        node20Style.boxSizing = BoxSizing.CONTENT_BOX;
        node20Style.display = Display.GRID;
        node20Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(10.0f));
        NodeId node20 = tree.newLeaf(node20Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        node2Style.display = Display.GRID;
        node2Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(20.0f));
        NodeId node2 = tree.newWithChildren(node2Style, node20);

        Style node3Style = new Style();
        node3Style.boxSizing = BoxSizing.CONTENT_BOX;
        node3Style.display = Display.GRID;
        node3Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        NodeId node3 = tree.newLeaf(node3Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.alignItems = AlignItems.BASELINE;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.auto());
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.auto());
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(50.0f, node0Layout.size().width, "width of node0");
        assertEquals(50.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(50.0f, node1Layout.size().width, "width of node1");
        assertEquals(20.0f, node1Layout.size().height, "height of node1");
        assertEquals(50.0f, node1Layout.location().x, "x of node1");
        assertEquals(40.0f, node1Layout.location().y, "y of node1");
        Layout node10Layout = tree.getLayout(node10);
        assertEquals(50.0f, node10Layout.size().width, "width of node10");
        assertEquals(10.0f, node10Layout.size().height, "height of node10");
        assertEquals(0.0f, node10Layout.location().x, "x of node10");
        assertEquals(0.0f, node10Layout.location().y, "y of node10");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(50.0f, node2Layout.size().width, "width of node2");
        assertEquals(20.0f, node2Layout.size().height, "height of node2");
        assertEquals(0.0f, node2Layout.location().x, "x of node2");
        assertEquals(100.0f, node2Layout.location().y, "y of node2");
        Layout node20Layout = tree.getLayout(node20);
        assertEquals(50.0f, node20Layout.size().width, "width of node20");
        assertEquals(10.0f, node20Layout.size().height, "height of node20");
        assertEquals(0.0f, node20Layout.location().x, "x of node20");
        assertEquals(0.0f, node20Layout.location().y, "y of node20");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(50.0f, node3Layout.size().width, "width of node3");
        assertEquals(50.0f, node3Layout.size().height, "height of node3");
        assertEquals(50.0f, node3Layout.location().x, "x of node3");
        assertEquals(60.0f, node3Layout.location().y, "y of node3");
    }

    @Test
    @DisplayName("grid_align_items_baseline_multiline_column__border_box")
    void gridAlignItemsBaselineMultilineColumnBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.display = Display.GRID;
        node0Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node10Style = new Style();
        node10Style.display = Display.GRID;
        node10Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        NodeId node10 = tree.newLeaf(node10Style);

        Style node1Style = new Style();
        node1Style.display = Display.GRID;
        node1Style.size = new Size<>(Dimension.length(30.0f), Dimension.length(50.0f));
        NodeId node1 = tree.newWithChildren(node1Style, node10);

        Style node20Style = new Style();
        node20Style.display = Display.GRID;
        node20Style.size = new Size<>(Dimension.length(10.0f), Dimension.length(10.0f));
        NodeId node20 = tree.newLeaf(node20Style);

        Style node2Style = new Style();
        node2Style.display = Display.GRID;
        node2Style.size = new Size<>(Dimension.length(40.0f), Dimension.length(70.0f));
        NodeId node2 = tree.newWithChildren(node2Style, node20);

        Style node3Style = new Style();
        node3Style.display = Display.GRID;
        node3Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(20.0f));
        NodeId node3 = tree.newLeaf(node3Style);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.alignItems = AlignItems.BASELINE;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.auto());
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.auto());
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(50.0f, node0Layout.size().width, "width of node0");
        assertEquals(50.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(30.0f, node1Layout.size().width, "width of node1");
        assertEquals(50.0f, node1Layout.size().height, "height of node1");
        assertEquals(50.0f, node1Layout.location().x, "x of node1");
        assertEquals(30.0f, node1Layout.location().y, "y of node1");
        Layout node10Layout = tree.getLayout(node10);
        assertEquals(20.0f, node10Layout.size().width, "width of node10");
        assertEquals(20.0f, node10Layout.size().height, "height of node10");
        assertEquals(0.0f, node10Layout.location().x, "x of node10");
        assertEquals(0.0f, node10Layout.location().y, "y of node10");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(40.0f, node2Layout.size().width, "width of node2");
        assertEquals(70.0f, node2Layout.size().height, "height of node2");
        assertEquals(0.0f, node2Layout.location().x, "x of node2");
        assertEquals(90.0f, node2Layout.location().y, "y of node2");
        Layout node20Layout = tree.getLayout(node20);
        assertEquals(10.0f, node20Layout.size().width, "width of node20");
        assertEquals(10.0f, node20Layout.size().height, "height of node20");
        assertEquals(0.0f, node20Layout.location().x, "x of node20");
        assertEquals(0.0f, node20Layout.location().y, "y of node20");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(50.0f, node3Layout.size().width, "width of node3");
        assertEquals(20.0f, node3Layout.size().height, "height of node3");
        assertEquals(50.0f, node3Layout.location().x, "x of node3");
        assertEquals(80.0f, node3Layout.location().y, "y of node3");
    }

    @Test
    @DisplayName("grid_align_items_baseline_multiline_column__content_box")
    void gridAlignItemsBaselineMultilineColumnContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.display = Display.GRID;
        node0Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node10Style = new Style();
        node10Style.boxSizing = BoxSizing.CONTENT_BOX;
        node10Style.display = Display.GRID;
        node10Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        NodeId node10 = tree.newLeaf(node10Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.display = Display.GRID;
        node1Style.size = new Size<>(Dimension.length(30.0f), Dimension.length(50.0f));
        NodeId node1 = tree.newWithChildren(node1Style, node10);

        Style node20Style = new Style();
        node20Style.boxSizing = BoxSizing.CONTENT_BOX;
        node20Style.display = Display.GRID;
        node20Style.size = new Size<>(Dimension.length(10.0f), Dimension.length(10.0f));
        NodeId node20 = tree.newLeaf(node20Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        node2Style.display = Display.GRID;
        node2Style.size = new Size<>(Dimension.length(40.0f), Dimension.length(70.0f));
        NodeId node2 = tree.newWithChildren(node2Style, node20);

        Style node3Style = new Style();
        node3Style.boxSizing = BoxSizing.CONTENT_BOX;
        node3Style.display = Display.GRID;
        node3Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(20.0f));
        NodeId node3 = tree.newLeaf(node3Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.alignItems = AlignItems.BASELINE;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.auto());
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.auto());
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(50.0f, node0Layout.size().width, "width of node0");
        assertEquals(50.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(30.0f, node1Layout.size().width, "width of node1");
        assertEquals(50.0f, node1Layout.size().height, "height of node1");
        assertEquals(50.0f, node1Layout.location().x, "x of node1");
        assertEquals(30.0f, node1Layout.location().y, "y of node1");
        Layout node10Layout = tree.getLayout(node10);
        assertEquals(20.0f, node10Layout.size().width, "width of node10");
        assertEquals(20.0f, node10Layout.size().height, "height of node10");
        assertEquals(0.0f, node10Layout.location().x, "x of node10");
        assertEquals(0.0f, node10Layout.location().y, "y of node10");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(40.0f, node2Layout.size().width, "width of node2");
        assertEquals(70.0f, node2Layout.size().height, "height of node2");
        assertEquals(0.0f, node2Layout.location().x, "x of node2");
        assertEquals(90.0f, node2Layout.location().y, "y of node2");
        Layout node20Layout = tree.getLayout(node20);
        assertEquals(10.0f, node20Layout.size().width, "width of node20");
        assertEquals(10.0f, node20Layout.size().height, "height of node20");
        assertEquals(0.0f, node20Layout.location().x, "x of node20");
        assertEquals(0.0f, node20Layout.location().y, "y of node20");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(50.0f, node3Layout.size().width, "width of node3");
        assertEquals(20.0f, node3Layout.size().height, "height of node3");
        assertEquals(50.0f, node3Layout.location().x, "x of node3");
        assertEquals(80.0f, node3Layout.location().y, "y of node3");
    }

    @Test
    @DisplayName("grid_align_items_baseline_multiline_row_and_column__border_box")
    void gridAlignItemsBaselineMultilineRowAndColumnBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.display = Display.GRID;
        node0Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node10Style = new Style();
        node10Style.display = Display.GRID;
        node10Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(10.0f));
        NodeId node10 = tree.newLeaf(node10Style);

        Style node1Style = new Style();
        node1Style.display = Display.GRID;
        node1Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        NodeId node1 = tree.newWithChildren(node1Style, node10);

        Style node20Style = new Style();
        node20Style.display = Display.GRID;
        node20Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(10.0f));
        NodeId node20 = tree.newLeaf(node20Style);

        Style node2Style = new Style();
        node2Style.display = Display.GRID;
        node2Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(20.0f));
        NodeId node2 = tree.newWithChildren(node2Style, node20);

        Style node3Style = new Style();
        node3Style.display = Display.GRID;
        node3Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(20.0f));
        NodeId node3 = tree.newLeaf(node3Style);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.alignItems = AlignItems.BASELINE;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.auto());
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.auto());
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(50.0f, node0Layout.size().width, "width of node0");
        assertEquals(50.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(50.0f, node1Layout.size().width, "width of node1");
        assertEquals(50.0f, node1Layout.size().height, "height of node1");
        assertEquals(50.0f, node1Layout.location().x, "x of node1");
        assertEquals(40.0f, node1Layout.location().y, "y of node1");
        Layout node10Layout = tree.getLayout(node10);
        assertEquals(50.0f, node10Layout.size().width, "width of node10");
        assertEquals(10.0f, node10Layout.size().height, "height of node10");
        assertEquals(0.0f, node10Layout.location().x, "x of node10");
        assertEquals(0.0f, node10Layout.location().y, "y of node10");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(50.0f, node2Layout.size().width, "width of node2");
        assertEquals(20.0f, node2Layout.size().height, "height of node2");
        assertEquals(0.0f, node2Layout.location().x, "x of node2");
        assertEquals(100.0f, node2Layout.location().y, "y of node2");
        Layout node20Layout = tree.getLayout(node20);
        assertEquals(50.0f, node20Layout.size().width, "width of node20");
        assertEquals(10.0f, node20Layout.size().height, "height of node20");
        assertEquals(0.0f, node20Layout.location().x, "x of node20");
        assertEquals(0.0f, node20Layout.location().y, "y of node20");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(50.0f, node3Layout.size().width, "width of node3");
        assertEquals(20.0f, node3Layout.size().height, "height of node3");
        assertEquals(50.0f, node3Layout.location().x, "x of node3");
        assertEquals(90.0f, node3Layout.location().y, "y of node3");
    }

    @Test
    @DisplayName("grid_align_items_baseline_multiline_row_and_column__content_box")
    void gridAlignItemsBaselineMultilineRowAndColumnContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.display = Display.GRID;
        node0Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node10Style = new Style();
        node10Style.boxSizing = BoxSizing.CONTENT_BOX;
        node10Style.display = Display.GRID;
        node10Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(10.0f));
        NodeId node10 = tree.newLeaf(node10Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.display = Display.GRID;
        node1Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        NodeId node1 = tree.newWithChildren(node1Style, node10);

        Style node20Style = new Style();
        node20Style.boxSizing = BoxSizing.CONTENT_BOX;
        node20Style.display = Display.GRID;
        node20Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(10.0f));
        NodeId node20 = tree.newLeaf(node20Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        node2Style.display = Display.GRID;
        node2Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(20.0f));
        NodeId node2 = tree.newWithChildren(node2Style, node20);

        Style node3Style = new Style();
        node3Style.boxSizing = BoxSizing.CONTENT_BOX;
        node3Style.display = Display.GRID;
        node3Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(20.0f));
        NodeId node3 = tree.newLeaf(node3Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.alignItems = AlignItems.BASELINE;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.auto());
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.auto());
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(50.0f, node0Layout.size().width, "width of node0");
        assertEquals(50.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(50.0f, node1Layout.size().width, "width of node1");
        assertEquals(50.0f, node1Layout.size().height, "height of node1");
        assertEquals(50.0f, node1Layout.location().x, "x of node1");
        assertEquals(40.0f, node1Layout.location().y, "y of node1");
        Layout node10Layout = tree.getLayout(node10);
        assertEquals(50.0f, node10Layout.size().width, "width of node10");
        assertEquals(10.0f, node10Layout.size().height, "height of node10");
        assertEquals(0.0f, node10Layout.location().x, "x of node10");
        assertEquals(0.0f, node10Layout.location().y, "y of node10");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(50.0f, node2Layout.size().width, "width of node2");
        assertEquals(20.0f, node2Layout.size().height, "height of node2");
        assertEquals(0.0f, node2Layout.location().x, "x of node2");
        assertEquals(100.0f, node2Layout.location().y, "y of node2");
        Layout node20Layout = tree.getLayout(node20);
        assertEquals(50.0f, node20Layout.size().width, "width of node20");
        assertEquals(10.0f, node20Layout.size().height, "height of node20");
        assertEquals(0.0f, node20Layout.location().x, "x of node20");
        assertEquals(0.0f, node20Layout.location().y, "y of node20");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(50.0f, node3Layout.size().width, "width of node3");
        assertEquals(20.0f, node3Layout.size().height, "height of node3");
        assertEquals(50.0f, node3Layout.location().x, "x of node3");
        assertEquals(90.0f, node3Layout.location().y, "y of node3");
    }

    @Test
    @DisplayName("grid_align_items_baseline_nested_column__border_box")
    void gridAlignItemsBaselineNestedColumnBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.display = Display.GRID;
        node0Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(60.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node100Style = new Style();
        node100Style.display = Display.GRID;
        node100Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(30.0f));
        NodeId node100 = tree.newLeaf(node100Style);

        Style node101Style = new Style();
        node101Style.display = Display.GRID;
        node101Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(40.0f));
        NodeId node101 = tree.newLeaf(node101Style);

        Style node10Style = new Style();
        node10Style.display = Display.GRID;
        node10Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(80.0f));
        NodeId node10 = tree.newWithChildren(node10Style, node100, node101);

        Style node1Style = new Style();
        node1Style.display = Display.GRID;
        NodeId node1 = tree.newWithChildren(node1Style, node10);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.alignItems = AlignItems.BASELINE;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(50.0f, node0Layout.size().width, "width of node0");
        assertEquals(60.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(100.0f, node1Layout.size().width, "width of node1");
        assertEquals(80.0f, node1Layout.size().height, "height of node1");
        assertEquals(0.0f, node1Layout.location().x, "x of node1");
        assertEquals(60.0f, node1Layout.location().y, "y of node1");
        Layout node10Layout = tree.getLayout(node10);
        assertEquals(50.0f, node10Layout.size().width, "width of node10");
        assertEquals(80.0f, node10Layout.size().height, "height of node10");
        assertEquals(0.0f, node10Layout.location().x, "x of node10");
        assertEquals(0.0f, node10Layout.location().y, "y of node10");
        Layout node100Layout = tree.getLayout(node100);
        assertEquals(50.0f, node100Layout.size().width, "width of node100");
        assertEquals(30.0f, node100Layout.size().height, "height of node100");
        assertEquals(0.0f, node100Layout.location().x, "x of node100");
        assertEquals(0.0f, node100Layout.location().y, "y of node100");
        Layout node101Layout = tree.getLayout(node101);
        assertEquals(50.0f, node101Layout.size().width, "width of node101");
        assertEquals(40.0f, node101Layout.size().height, "height of node101");
        assertEquals(0.0f, node101Layout.location().x, "x of node101");
        assertEquals(35.0f, node101Layout.location().y, "y of node101");
    }

    @Test
    @DisplayName("grid_align_items_baseline_nested_column__content_box")
    void gridAlignItemsBaselineNestedColumnContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.display = Display.GRID;
        node0Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(60.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node100Style = new Style();
        node100Style.boxSizing = BoxSizing.CONTENT_BOX;
        node100Style.display = Display.GRID;
        node100Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(30.0f));
        NodeId node100 = tree.newLeaf(node100Style);

        Style node101Style = new Style();
        node101Style.boxSizing = BoxSizing.CONTENT_BOX;
        node101Style.display = Display.GRID;
        node101Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(40.0f));
        NodeId node101 = tree.newLeaf(node101Style);

        Style node10Style = new Style();
        node10Style.boxSizing = BoxSizing.CONTENT_BOX;
        node10Style.display = Display.GRID;
        node10Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(80.0f));
        NodeId node10 = tree.newWithChildren(node10Style, node100, node101);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.display = Display.GRID;
        NodeId node1 = tree.newWithChildren(node1Style, node10);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.alignItems = AlignItems.BASELINE;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(50.0f, node0Layout.size().width, "width of node0");
        assertEquals(60.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(100.0f, node1Layout.size().width, "width of node1");
        assertEquals(80.0f, node1Layout.size().height, "height of node1");
        assertEquals(0.0f, node1Layout.location().x, "x of node1");
        assertEquals(60.0f, node1Layout.location().y, "y of node1");
        Layout node10Layout = tree.getLayout(node10);
        assertEquals(50.0f, node10Layout.size().width, "width of node10");
        assertEquals(80.0f, node10Layout.size().height, "height of node10");
        assertEquals(0.0f, node10Layout.location().x, "x of node10");
        assertEquals(0.0f, node10Layout.location().y, "y of node10");
        Layout node100Layout = tree.getLayout(node100);
        assertEquals(50.0f, node100Layout.size().width, "width of node100");
        assertEquals(30.0f, node100Layout.size().height, "height of node100");
        assertEquals(0.0f, node100Layout.location().x, "x of node100");
        assertEquals(0.0f, node100Layout.location().y, "y of node100");
        Layout node101Layout = tree.getLayout(node101);
        assertEquals(50.0f, node101Layout.size().width, "width of node101");
        assertEquals(40.0f, node101Layout.size().height, "height of node101");
        assertEquals(0.0f, node101Layout.location().x, "x of node101");
        assertEquals(35.0f, node101Layout.location().y, "y of node101");
    }

    @Test
    @DisplayName("grid_align_items_sized_center__border_box")
    void gridAlignItemsSizedCenterBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        node0Style.gridRow = new Line<>(GridPlacement.line(1), GridPlacement.auto());
        node0Style.gridColumn = new Line<>(GridPlacement.line(1), GridPlacement.auto());
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.size = new Size<>(Dimension.length(60.0f), Dimension.length(60.0f));
        node1Style.gridRow = new Line<>(GridPlacement.line(3), GridPlacement.auto());
        node1Style.gridColumn = new Line<>(GridPlacement.line(3), GridPlacement.auto());
        NodeId node1 = tree.newLeaf(node1Style);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.alignItems = AlignItems.CENTER;
        nodeStyle.size = new Size<>(Dimension.length(120.0f), Dimension.length(120.0f));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(120.0f, nodeLayout.size().width, "width of node");
        assertEquals(120.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(20.0f, node0Layout.size().width, "width of node0");
        assertEquals(20.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(10.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(60.0f, node1Layout.size().width, "width of node1");
        assertEquals(60.0f, node1Layout.size().height, "height of node1");
        assertEquals(80.0f, node1Layout.location().x, "x of node1");
        assertEquals(70.0f, node1Layout.location().y, "y of node1");
    }

    @Test
    @DisplayName("grid_align_items_sized_center__content_box")
    void gridAlignItemsSizedCenterContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        node0Style.gridRow = new Line<>(GridPlacement.line(1), GridPlacement.auto());
        node0Style.gridColumn = new Line<>(GridPlacement.line(1), GridPlacement.auto());
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.size = new Size<>(Dimension.length(60.0f), Dimension.length(60.0f));
        node1Style.gridRow = new Line<>(GridPlacement.line(3), GridPlacement.auto());
        node1Style.gridColumn = new Line<>(GridPlacement.line(3), GridPlacement.auto());
        NodeId node1 = tree.newLeaf(node1Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.alignItems = AlignItems.CENTER;
        nodeStyle.size = new Size<>(Dimension.length(120.0f), Dimension.length(120.0f));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(120.0f, nodeLayout.size().width, "width of node");
        assertEquals(120.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(20.0f, node0Layout.size().width, "width of node0");
        assertEquals(20.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(10.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(60.0f, node1Layout.size().width, "width of node1");
        assertEquals(60.0f, node1Layout.size().height, "height of node1");
        assertEquals(80.0f, node1Layout.location().x, "x of node1");
        assertEquals(70.0f, node1Layout.location().y, "y of node1");
    }

    @Test
    @DisplayName("grid_align_items_sized_end__border_box")
    void gridAlignItemsSizedEndBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        node0Style.gridRow = new Line<>(GridPlacement.line(1), GridPlacement.auto());
        node0Style.gridColumn = new Line<>(GridPlacement.line(1), GridPlacement.auto());
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.size = new Size<>(Dimension.length(60.0f), Dimension.length(60.0f));
        node1Style.gridRow = new Line<>(GridPlacement.line(3), GridPlacement.auto());
        node1Style.gridColumn = new Line<>(GridPlacement.line(3), GridPlacement.auto());
        NodeId node1 = tree.newLeaf(node1Style);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.alignItems = AlignItems.END;
        nodeStyle.size = new Size<>(Dimension.length(120.0f), Dimension.length(120.0f));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(120.0f, nodeLayout.size().width, "width of node");
        assertEquals(120.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(20.0f, node0Layout.size().width, "width of node0");
        assertEquals(20.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(20.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(60.0f, node1Layout.size().width, "width of node1");
        assertEquals(60.0f, node1Layout.size().height, "height of node1");
        assertEquals(80.0f, node1Layout.location().x, "x of node1");
        assertEquals(60.0f, node1Layout.location().y, "y of node1");
    }

    @Test
    @DisplayName("grid_align_items_sized_end__content_box")
    void gridAlignItemsSizedEndContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        node0Style.gridRow = new Line<>(GridPlacement.line(1), GridPlacement.auto());
        node0Style.gridColumn = new Line<>(GridPlacement.line(1), GridPlacement.auto());
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.size = new Size<>(Dimension.length(60.0f), Dimension.length(60.0f));
        node1Style.gridRow = new Line<>(GridPlacement.line(3), GridPlacement.auto());
        node1Style.gridColumn = new Line<>(GridPlacement.line(3), GridPlacement.auto());
        NodeId node1 = tree.newLeaf(node1Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.alignItems = AlignItems.END;
        nodeStyle.size = new Size<>(Dimension.length(120.0f), Dimension.length(120.0f));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(120.0f, nodeLayout.size().width, "width of node");
        assertEquals(120.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(20.0f, node0Layout.size().width, "width of node0");
        assertEquals(20.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(20.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(60.0f, node1Layout.size().width, "width of node1");
        assertEquals(60.0f, node1Layout.size().height, "height of node1");
        assertEquals(80.0f, node1Layout.location().x, "x of node1");
        assertEquals(60.0f, node1Layout.location().y, "y of node1");
    }

    @Test
    @DisplayName("grid_align_items_sized_start__border_box")
    void gridAlignItemsSizedStartBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        node0Style.gridRow = new Line<>(GridPlacement.line(1), GridPlacement.auto());
        node0Style.gridColumn = new Line<>(GridPlacement.line(1), GridPlacement.auto());
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.size = new Size<>(Dimension.length(60.0f), Dimension.length(60.0f));
        node1Style.gridRow = new Line<>(GridPlacement.line(3), GridPlacement.auto());
        node1Style.gridColumn = new Line<>(GridPlacement.line(3), GridPlacement.auto());
        NodeId node1 = tree.newLeaf(node1Style);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.alignItems = AlignItems.START;
        nodeStyle.size = new Size<>(Dimension.length(120.0f), Dimension.length(120.0f));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(120.0f, nodeLayout.size().width, "width of node");
        assertEquals(120.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(20.0f, node0Layout.size().width, "width of node0");
        assertEquals(20.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(60.0f, node1Layout.size().width, "width of node1");
        assertEquals(60.0f, node1Layout.size().height, "height of node1");
        assertEquals(80.0f, node1Layout.location().x, "x of node1");
        assertEquals(80.0f, node1Layout.location().y, "y of node1");
    }

    @Test
    @DisplayName("grid_align_items_sized_start__content_box")
    void gridAlignItemsSizedStartContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        node0Style.gridRow = new Line<>(GridPlacement.line(1), GridPlacement.auto());
        node0Style.gridColumn = new Line<>(GridPlacement.line(1), GridPlacement.auto());
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.size = new Size<>(Dimension.length(60.0f), Dimension.length(60.0f));
        node1Style.gridRow = new Line<>(GridPlacement.line(3), GridPlacement.auto());
        node1Style.gridColumn = new Line<>(GridPlacement.line(3), GridPlacement.auto());
        NodeId node1 = tree.newLeaf(node1Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.alignItems = AlignItems.START;
        nodeStyle.size = new Size<>(Dimension.length(120.0f), Dimension.length(120.0f));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(120.0f, nodeLayout.size().width, "width of node");
        assertEquals(120.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(20.0f, node0Layout.size().width, "width of node0");
        assertEquals(20.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(60.0f, node1Layout.size().width, "width of node1");
        assertEquals(60.0f, node1Layout.size().height, "height of node1");
        assertEquals(80.0f, node1Layout.location().x, "x of node1");
        assertEquals(80.0f, node1Layout.location().y, "y of node1");
    }

    @Test
    @DisplayName("grid_align_items_sized_stretch__border_box")
    void gridAlignItemsSizedStretchBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        node0Style.gridRow = new Line<>(GridPlacement.line(1), GridPlacement.auto());
        node0Style.gridColumn = new Line<>(GridPlacement.line(1), GridPlacement.auto());
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.size = new Size<>(Dimension.length(60.0f), Dimension.length(60.0f));
        node1Style.gridRow = new Line<>(GridPlacement.line(3), GridPlacement.auto());
        node1Style.gridColumn = new Line<>(GridPlacement.line(3), GridPlacement.auto());
        NodeId node1 = tree.newLeaf(node1Style);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.alignItems = AlignItems.STRETCH;
        nodeStyle.size = new Size<>(Dimension.length(120.0f), Dimension.length(120.0f));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(120.0f, nodeLayout.size().width, "width of node");
        assertEquals(120.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(20.0f, node0Layout.size().width, "width of node0");
        assertEquals(20.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(60.0f, node1Layout.size().width, "width of node1");
        assertEquals(60.0f, node1Layout.size().height, "height of node1");
        assertEquals(80.0f, node1Layout.location().x, "x of node1");
        assertEquals(80.0f, node1Layout.location().y, "y of node1");
    }

    @Test
    @DisplayName("grid_align_items_sized_stretch__content_box")
    void gridAlignItemsSizedStretchContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        node0Style.gridRow = new Line<>(GridPlacement.line(1), GridPlacement.auto());
        node0Style.gridColumn = new Line<>(GridPlacement.line(1), GridPlacement.auto());
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.size = new Size<>(Dimension.length(60.0f), Dimension.length(60.0f));
        node1Style.gridRow = new Line<>(GridPlacement.line(3), GridPlacement.auto());
        node1Style.gridColumn = new Line<>(GridPlacement.line(3), GridPlacement.auto());
        NodeId node1 = tree.newLeaf(node1Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.alignItems = AlignItems.STRETCH;
        nodeStyle.size = new Size<>(Dimension.length(120.0f), Dimension.length(120.0f));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(120.0f, nodeLayout.size().width, "width of node");
        assertEquals(120.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(20.0f, node0Layout.size().width, "width of node0");
        assertEquals(20.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(60.0f, node1Layout.size().width, "width of node1");
        assertEquals(60.0f, node1Layout.size().height, "height of node1");
        assertEquals(80.0f, node1Layout.location().x, "x of node1");
        assertEquals(80.0f, node1Layout.location().y, "y of node1");
    }

    @Test
    @DisplayName("grid_align_self_sized_all__border_box")
    void gridAlignSelfSizedAllBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.alignSelf = AlignItems.START;
        node0Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.alignSelf = AlignItems.START;
        node1Style.size = new Size<>(Dimension.length(60.0f), Dimension.length(60.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.alignSelf = AlignItems.END;
        node2Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        node3Style.alignSelf = AlignItems.END;
        node3Style.size = new Size<>(Dimension.length(60.0f), Dimension.length(60.0f));
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        node4Style.alignSelf = AlignItems.CENTER;
        node4Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        NodeId node4 = tree.newLeaf(node4Style);

        Style node5Style = new Style();
        node5Style.alignSelf = AlignItems.CENTER;
        node5Style.size = new Size<>(Dimension.length(60.0f), Dimension.length(60.0f));
        NodeId node5 = tree.newLeaf(node5Style);

        Style node6Style = new Style();
        node6Style.alignSelf = AlignItems.STRETCH;
        node6Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        NodeId node6 = tree.newLeaf(node6Style);

        Style node7Style = new Style();
        node7Style.alignSelf = AlignItems.STRETCH;
        node7Style.size = new Size<>(Dimension.length(60.0f), Dimension.length(60.0f));
        NodeId node7 = tree.newLeaf(node7Style);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.size = new Size<>(Dimension.length(120.0f), Dimension.length(120.0f));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5, node6, node7);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(120.0f, nodeLayout.size().width, "width of node");
        assertEquals(120.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(20.0f, node0Layout.size().width, "width of node0");
        assertEquals(20.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(60.0f, node1Layout.size().width, "width of node1");
        assertEquals(60.0f, node1Layout.size().height, "height of node1");
        assertEquals(40.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(20.0f, node2Layout.size().width, "width of node2");
        assertEquals(20.0f, node2Layout.size().height, "height of node2");
        assertEquals(80.0f, node2Layout.location().x, "x of node2");
        assertEquals(20.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(60.0f, node3Layout.size().width, "width of node3");
        assertEquals(60.0f, node3Layout.size().height, "height of node3");
        assertEquals(0.0f, node3Layout.location().x, "x of node3");
        assertEquals(20.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(20.0f, node4Layout.size().width, "width of node4");
        assertEquals(20.0f, node4Layout.size().height, "height of node4");
        assertEquals(40.0f, node4Layout.location().x, "x of node4");
        assertEquals(50.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(60.0f, node5Layout.size().width, "width of node5");
        assertEquals(60.0f, node5Layout.size().height, "height of node5");
        assertEquals(80.0f, node5Layout.location().x, "x of node5");
        assertEquals(30.0f, node5Layout.location().y, "y of node5");
        Layout node6Layout = tree.getLayout(node6);
        assertEquals(20.0f, node6Layout.size().width, "width of node6");
        assertEquals(20.0f, node6Layout.size().height, "height of node6");
        assertEquals(0.0f, node6Layout.location().x, "x of node6");
        assertEquals(80.0f, node6Layout.location().y, "y of node6");
        Layout node7Layout = tree.getLayout(node7);
        assertEquals(60.0f, node7Layout.size().width, "width of node7");
        assertEquals(60.0f, node7Layout.size().height, "height of node7");
        assertEquals(40.0f, node7Layout.location().x, "x of node7");
        assertEquals(80.0f, node7Layout.location().y, "y of node7");
    }

    @Test
    @DisplayName("grid_align_self_sized_all__content_box")
    void gridAlignSelfSizedAllContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.alignSelf = AlignItems.START;
        node0Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.alignSelf = AlignItems.START;
        node1Style.size = new Size<>(Dimension.length(60.0f), Dimension.length(60.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        node2Style.alignSelf = AlignItems.END;
        node2Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        node3Style.boxSizing = BoxSizing.CONTENT_BOX;
        node3Style.alignSelf = AlignItems.END;
        node3Style.size = new Size<>(Dimension.length(60.0f), Dimension.length(60.0f));
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        node4Style.boxSizing = BoxSizing.CONTENT_BOX;
        node4Style.alignSelf = AlignItems.CENTER;
        node4Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        NodeId node4 = tree.newLeaf(node4Style);

        Style node5Style = new Style();
        node5Style.boxSizing = BoxSizing.CONTENT_BOX;
        node5Style.alignSelf = AlignItems.CENTER;
        node5Style.size = new Size<>(Dimension.length(60.0f), Dimension.length(60.0f));
        NodeId node5 = tree.newLeaf(node5Style);

        Style node6Style = new Style();
        node6Style.boxSizing = BoxSizing.CONTENT_BOX;
        node6Style.alignSelf = AlignItems.STRETCH;
        node6Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        NodeId node6 = tree.newLeaf(node6Style);

        Style node7Style = new Style();
        node7Style.boxSizing = BoxSizing.CONTENT_BOX;
        node7Style.alignSelf = AlignItems.STRETCH;
        node7Style.size = new Size<>(Dimension.length(60.0f), Dimension.length(60.0f));
        NodeId node7 = tree.newLeaf(node7Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.size = new Size<>(Dimension.length(120.0f), Dimension.length(120.0f));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5, node6, node7);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(120.0f, nodeLayout.size().width, "width of node");
        assertEquals(120.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(20.0f, node0Layout.size().width, "width of node0");
        assertEquals(20.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(60.0f, node1Layout.size().width, "width of node1");
        assertEquals(60.0f, node1Layout.size().height, "height of node1");
        assertEquals(40.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(20.0f, node2Layout.size().width, "width of node2");
        assertEquals(20.0f, node2Layout.size().height, "height of node2");
        assertEquals(80.0f, node2Layout.location().x, "x of node2");
        assertEquals(20.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(60.0f, node3Layout.size().width, "width of node3");
        assertEquals(60.0f, node3Layout.size().height, "height of node3");
        assertEquals(0.0f, node3Layout.location().x, "x of node3");
        assertEquals(20.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(20.0f, node4Layout.size().width, "width of node4");
        assertEquals(20.0f, node4Layout.size().height, "height of node4");
        assertEquals(40.0f, node4Layout.location().x, "x of node4");
        assertEquals(50.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(60.0f, node5Layout.size().width, "width of node5");
        assertEquals(60.0f, node5Layout.size().height, "height of node5");
        assertEquals(80.0f, node5Layout.location().x, "x of node5");
        assertEquals(30.0f, node5Layout.location().y, "y of node5");
        Layout node6Layout = tree.getLayout(node6);
        assertEquals(20.0f, node6Layout.size().width, "width of node6");
        assertEquals(20.0f, node6Layout.size().height, "height of node6");
        assertEquals(0.0f, node6Layout.location().x, "x of node6");
        assertEquals(80.0f, node6Layout.location().y, "y of node6");
        Layout node7Layout = tree.getLayout(node7);
        assertEquals(60.0f, node7Layout.size().width, "width of node7");
        assertEquals(60.0f, node7Layout.size().height, "height of node7");
        assertEquals(40.0f, node7Layout.location().x, "x of node7");
        assertEquals(80.0f, node7Layout.location().y, "y of node7");
    }

    @Test
    @DisplayName("grid_aspect_ratio_absolute_aspect_ratio_overrides_height_of_full_inset__border_box")
    void gridAspectRatioAbsoluteAspectRatioOverridesHeightOfFullInsetBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.position = Position.ABSOLUTE;
        node0Style.aspectRatio = 3.0f;
        node0Style.inset = new Rect<>(LengthPercentageAuto.percent(0.05f), LengthPercentageAuto.percent(0.05f), LengthPercentageAuto.percent(0.05f), LengthPercentageAuto.percent(0.05f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.size = new Size<>(Dimension.length(400.0f), Dimension.length(300.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(400.0f, nodeLayout.size().width, "width of node");
        assertEquals(300.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(360.0f, node0Layout.size().width, "width of node0");
        assertEquals(120.0f, node0Layout.size().height, "height of node0");
        assertEquals(20.0f, node0Layout.location().x, "x of node0");
        assertEquals(15.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("grid_aspect_ratio_absolute_aspect_ratio_overrides_height_of_full_inset__content_box")
    void gridAspectRatioAbsoluteAspectRatioOverridesHeightOfFullInsetContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.position = Position.ABSOLUTE;
        node0Style.aspectRatio = 3.0f;
        node0Style.inset = new Rect<>(LengthPercentageAuto.percent(0.05f), LengthPercentageAuto.percent(0.05f), LengthPercentageAuto.percent(0.05f), LengthPercentageAuto.percent(0.05f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.size = new Size<>(Dimension.length(400.0f), Dimension.length(300.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(400.0f, nodeLayout.size().width, "width of node");
        assertEquals(300.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(360.0f, node0Layout.size().width, "width of node0");
        assertEquals(120.0f, node0Layout.size().height, "height of node0");
        assertEquals(20.0f, node0Layout.location().x, "x of node0");
        assertEquals(15.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("grid_aspect_ratio_absolute_fill_height_from_inset__border_box")
    void gridAspectRatioAbsoluteFillHeightFromInsetBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.position = Position.ABSOLUTE;
        node0Style.aspectRatio = 3.0f;
        node0Style.inset = new Rect<>(LengthPercentageAuto.percent(0.1f), LengthPercentageAuto.percent(0.1f), LengthPercentageAuto.percent(0.05f), LengthPercentageAuto.AUTO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.size = new Size<>(Dimension.length(400.0f), Dimension.length(300.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(400.0f, nodeLayout.size().width, "width of node");
        assertEquals(300.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(320.0f, node0Layout.size().width, "width of node0");
        assertEquals(107.0f, node0Layout.size().height, "height of node0");
        assertEquals(40.0f, node0Layout.location().x, "x of node0");
        assertEquals(15.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("grid_aspect_ratio_absolute_fill_height_from_inset__content_box")
    void gridAspectRatioAbsoluteFillHeightFromInsetContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.position = Position.ABSOLUTE;
        node0Style.aspectRatio = 3.0f;
        node0Style.inset = new Rect<>(LengthPercentageAuto.percent(0.1f), LengthPercentageAuto.percent(0.1f), LengthPercentageAuto.percent(0.05f), LengthPercentageAuto.AUTO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.size = new Size<>(Dimension.length(400.0f), Dimension.length(300.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(400.0f, nodeLayout.size().width, "width of node");
        assertEquals(300.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(320.0f, node0Layout.size().width, "width of node0");
        assertEquals(107.0f, node0Layout.size().height, "height of node0");
        assertEquals(40.0f, node0Layout.location().x, "x of node0");
        assertEquals(15.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("grid_aspect_ratio_absolute_fill_width_from_inset__border_box")
    void gridAspectRatioAbsoluteFillWidthFromInsetBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.position = Position.ABSOLUTE;
        node0Style.aspectRatio = 3.0f;
        node0Style.inset = new Rect<>(LengthPercentageAuto.AUTO, LengthPercentageAuto.AUTO, LengthPercentageAuto.percent(0.3f), LengthPercentageAuto.percent(0.5f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.size = new Size<>(Dimension.length(400.0f), Dimension.length(300.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(400.0f, nodeLayout.size().width, "width of node");
        assertEquals(300.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(180.0f, node0Layout.size().width, "width of node0");
        assertEquals(60.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(90.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("grid_aspect_ratio_absolute_fill_width_from_inset__content_box")
    void gridAspectRatioAbsoluteFillWidthFromInsetContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.position = Position.ABSOLUTE;
        node0Style.aspectRatio = 3.0f;
        node0Style.inset = new Rect<>(LengthPercentageAuto.AUTO, LengthPercentageAuto.AUTO, LengthPercentageAuto.percent(0.3f), LengthPercentageAuto.percent(0.5f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.size = new Size<>(Dimension.length(400.0f), Dimension.length(300.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(400.0f, nodeLayout.size().width, "width of node");
        assertEquals(300.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(180.0f, node0Layout.size().width, "width of node0");
        assertEquals(60.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(90.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("grid_aspect_ratio_absolute_height_overrides_inset__border_box")
    void gridAspectRatioAbsoluteHeightOverridesInsetBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.position = Position.ABSOLUTE;
        node0Style.size = new Size<>(Dimension.AUTO, Dimension.percent(0.1f));
        node0Style.aspectRatio = 3.0f;
        node0Style.inset = new Rect<>(LengthPercentageAuto.AUTO, LengthPercentageAuto.AUTO, LengthPercentageAuto.percent(0.3f), LengthPercentageAuto.percent(0.5f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.size = new Size<>(Dimension.length(400.0f), Dimension.length(300.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(400.0f, nodeLayout.size().width, "width of node");
        assertEquals(300.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(90.0f, node0Layout.size().width, "width of node0");
        assertEquals(30.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(90.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("grid_aspect_ratio_absolute_height_overrides_inset__content_box")
    void gridAspectRatioAbsoluteHeightOverridesInsetContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.position = Position.ABSOLUTE;
        node0Style.size = new Size<>(Dimension.AUTO, Dimension.percent(0.1f));
        node0Style.aspectRatio = 3.0f;
        node0Style.inset = new Rect<>(LengthPercentageAuto.AUTO, LengthPercentageAuto.AUTO, LengthPercentageAuto.percent(0.3f), LengthPercentageAuto.percent(0.5f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.size = new Size<>(Dimension.length(400.0f), Dimension.length(300.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(400.0f, nodeLayout.size().width, "width of node");
        assertEquals(300.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(90.0f, node0Layout.size().width, "width of node0");
        assertEquals(30.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(90.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("grid_aspect_ratio_absolute_width_overrides_inset__border_box")
    void gridAspectRatioAbsoluteWidthOverridesInsetBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.position = Position.ABSOLUTE;
        node0Style.size = new Size<>(Dimension.percent(0.4f), Dimension.AUTO);
        node0Style.aspectRatio = 3.0f;
        node0Style.inset = new Rect<>(LengthPercentageAuto.percent(0.1f), LengthPercentageAuto.percent(0.1f), LengthPercentageAuto.percent(0.05f), LengthPercentageAuto.AUTO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.size = new Size<>(Dimension.length(400.0f), Dimension.length(300.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(400.0f, nodeLayout.size().width, "width of node");
        assertEquals(300.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(160.0f, node0Layout.size().width, "width of node0");
        assertEquals(53.0f, node0Layout.size().height, "height of node0");
        assertEquals(40.0f, node0Layout.location().x, "x of node0");
        assertEquals(15.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("grid_aspect_ratio_absolute_width_overrides_inset__content_box")
    void gridAspectRatioAbsoluteWidthOverridesInsetContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.position = Position.ABSOLUTE;
        node0Style.size = new Size<>(Dimension.percent(0.4f), Dimension.AUTO);
        node0Style.aspectRatio = 3.0f;
        node0Style.inset = new Rect<>(LengthPercentageAuto.percent(0.1f), LengthPercentageAuto.percent(0.1f), LengthPercentageAuto.percent(0.05f), LengthPercentageAuto.AUTO);
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.size = new Size<>(Dimension.length(400.0f), Dimension.length(300.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(400.0f, nodeLayout.size().width, "width of node");
        assertEquals(300.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(160.0f, node0Layout.size().width, "width of node0");
        assertEquals(53.0f, node0Layout.size().height, "height of node0");
        assertEquals(40.0f, node0Layout.location().x, "x of node0");
        assertEquals(15.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("grid_aspect_ratio_child_fill_content_height__border_box")
    void gridAspectRatioChildFillContentHeightBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.aspectRatio = 0.5f;
        MeasureFunc node0Measure = ahemTextMeasure("HHHH", false);
        NodeId node0 = tree.newLeafWithMeasure(node0Style, node0Measure);

        Style node1Style = new Style();
        node1Style.size = new Size<>(Dimension.AUTO, Dimension.length(20.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(40.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(80.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(40.0f, node1Layout.size().width, "width of node1");
        assertEquals(20.0f, node1Layout.size().height, "height of node1");
        assertEquals(0.0f, node1Layout.location().x, "x of node1");
        assertEquals(80.0f, node1Layout.location().y, "y of node1");
    }

    @Test
    @DisplayName("grid_aspect_ratio_child_fill_content_height__content_box")
    void gridAspectRatioChildFillContentHeightContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.aspectRatio = 0.5f;
        MeasureFunc node0Measure = ahemTextMeasure("HHHH", false);
        NodeId node0 = tree.newLeafWithMeasure(node0Style, node0Measure);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.size = new Size<>(Dimension.AUTO, Dimension.length(20.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(40.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(80.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(40.0f, node1Layout.size().width, "width of node1");
        assertEquals(20.0f, node1Layout.size().height, "height of node1");
        assertEquals(0.0f, node1Layout.location().x, "x of node1");
        assertEquals(80.0f, node1Layout.location().y, "y of node1");
    }

    @Test
    @DisplayName("grid_aspect_ratio_child_fill_content_width__border_box")
    void gridAspectRatioChildFillContentWidthBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.aspectRatio = 2.0f;
        MeasureFunc node0Measure = ahemTextMeasure("HHHH", false);
        NodeId node0 = tree.newLeafWithMeasure(node0Style, node0Measure);

        Style node1Style = new Style();
        node1Style.size = new Size<>(Dimension.AUTO, Dimension.length(20.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(40.0f, nodeLayout.size().width, "width of node");
        assertEquals(40.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(20.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(40.0f, node1Layout.size().width, "width of node1");
        assertEquals(20.0f, node1Layout.size().height, "height of node1");
        assertEquals(0.0f, node1Layout.location().x, "x of node1");
        assertEquals(20.0f, node1Layout.location().y, "y of node1");
    }

    @Test
    @DisplayName("grid_aspect_ratio_child_fill_content_width__content_box")
    void gridAspectRatioChildFillContentWidthContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.aspectRatio = 2.0f;
        MeasureFunc node0Measure = ahemTextMeasure("HHHH", false);
        NodeId node0 = tree.newLeafWithMeasure(node0Style, node0Measure);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.size = new Size<>(Dimension.AUTO, Dimension.length(20.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(40.0f, nodeLayout.size().width, "width of node");
        assertEquals(40.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(20.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(40.0f, node1Layout.size().width, "width of node1");
        assertEquals(20.0f, node1Layout.size().height, "height of node1");
        assertEquals(0.0f, node1Layout.location().x, "x of node1");
        assertEquals(20.0f, node1Layout.location().y, "y of node1");
    }

    @Test
    @DisplayName("grid_aspect_ratio_fill_child_height__border_box")
    void gridAspectRatioFillChildHeightBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.length(50.0f), Dimension.AUTO);
        node0Style.aspectRatio = 2.0f;
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(50.0f, node0Layout.size().width, "width of node0");
        assertEquals(25.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("grid_aspect_ratio_fill_child_height__content_box")
    void gridAspectRatioFillChildHeightContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.length(50.0f), Dimension.AUTO);
        node0Style.aspectRatio = 2.0f;
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(50.0f, node0Layout.size().width, "width of node0");
        assertEquals(25.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("grid_aspect_ratio_fill_child_max_height__border_box")
    void gridAspectRatioFillChildMaxHeightBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.maxSize = new Size<>(Dimension.length(40.0f), Dimension.AUTO);
        node0Style.aspectRatio = 2.0f;
        MeasureFunc node0Measure = ahemTextMeasure("HH\u200BHH\u200BHH\u200BHH\u200BHH\u200BHH", true);
        NodeId node0 = tree.newLeafWithMeasure(node0Style, node0Measure);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(20.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("grid_aspect_ratio_fill_child_max_height__content_box")
    void gridAspectRatioFillChildMaxHeightContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.maxSize = new Size<>(Dimension.length(40.0f), Dimension.AUTO);
        node0Style.aspectRatio = 2.0f;
        MeasureFunc node0Measure = ahemTextMeasure("HH\u200BHH\u200BHH\u200BHH\u200BHH\u200BHH", true);
        NodeId node0 = tree.newLeafWithMeasure(node0Style, node0Measure);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(20.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("grid_aspect_ratio_fill_child_max_width__border_box")
    void gridAspectRatioFillChildMaxWidthBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.maxSize = new Size<>(Dimension.AUTO, Dimension.length(20.0f));
        node0Style.aspectRatio = 2.0f;
        MeasureFunc node0Measure = ahemTextMeasure("HH\u200BHH\u200BHH\u200BHH", false);
        NodeId node0 = tree.newLeafWithMeasure(node0Style, node0Measure);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(20.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("grid_aspect_ratio_fill_child_max_width__content_box")
    void gridAspectRatioFillChildMaxWidthContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.maxSize = new Size<>(Dimension.AUTO, Dimension.length(20.0f));
        node0Style.aspectRatio = 2.0f;
        MeasureFunc node0Measure = ahemTextMeasure("HH\u200BHH\u200BHH\u200BHH", false);
        NodeId node0 = tree.newLeafWithMeasure(node0Style, node0Measure);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(20.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("grid_aspect_ratio_fill_child_min_height__border_box")
    void gridAspectRatioFillChildMinHeightBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.minSize = new Size<>(Dimension.length(50.0f), Dimension.AUTO);
        node0Style.aspectRatio = 2.0f;
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(100.0f, node0Layout.size().width, "width of node0");
        assertEquals(50.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("grid_aspect_ratio_fill_child_min_height__content_box")
    void gridAspectRatioFillChildMinHeightContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.minSize = new Size<>(Dimension.length(50.0f), Dimension.AUTO);
        node0Style.aspectRatio = 2.0f;
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(100.0f, node0Layout.size().width, "width of node0");
        assertEquals(50.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("grid_aspect_ratio_fill_child_width__border_box")
    void gridAspectRatioFillChildWidthBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.AUTO, Dimension.length(50.0f));
        node0Style.aspectRatio = 2.0f;
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(100.0f, node0Layout.size().width, "width of node0");
        assertEquals(50.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("grid_aspect_ratio_fill_child_width__content_box")
    void gridAspectRatioFillChildWidthContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.AUTO, Dimension.length(50.0f));
        node0Style.aspectRatio = 2.0f;
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(100.0f, node0Layout.size().width, "width of node0");
        assertEquals(50.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("grid_aspect_ratio_overridden_by_explicit_sizes__border_box")
    void gridAspectRatioOverriddenByExplicitSizesBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        node0Style.aspectRatio = 2.0f;
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(50.0f, node0Layout.size().width, "width of node0");
        assertEquals(50.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("grid_aspect_ratio_overridden_by_explicit_sizes__content_box")
    void gridAspectRatioOverriddenByExplicitSizesContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        node0Style.aspectRatio = 2.0f;
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(50.0f, node0Layout.size().width, "width of node0");
        assertEquals(50.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("grid_aspect_ratio_overridden_by_explicit_sizes_flex__border_box")
    void gridAspectRatioOverriddenByExplicitSizesFlexBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        node0Style.aspectRatio = 2.0f;
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(50.0f, node0Layout.size().width, "width of node0");
        assertEquals(50.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("grid_aspect_ratio_overridden_by_explicit_sizes_flex__content_box")
    void gridAspectRatioOverriddenByExplicitSizesFlexContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        node0Style.aspectRatio = 2.0f;
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(50.0f, node0Layout.size().width, "width of node0");
        assertEquals(50.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("grid_auto_columns__border_box")
    void gridAutoColumnsBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.gridColumn = new Line<>(GridPlacement.line(-3), GridPlacement.auto());
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        NodeId node4 = tree.newLeaf(node4Style);

        Style node5Style = new Style();
        NodeId node5 = tree.newLeaf(node5Style);

        Style node6Style = new Style();
        NodeId node6 = tree.newLeaf(node6Style);

        Style node7Style = new Style();
        NodeId node7 = tree.newLeaf(node7Style);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(100.0f)));
        nodeStyle.gridAutoColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(10.0f)));
        nodeStyle.gridAutoColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(20.0f)));
        nodeStyle.gridAutoColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(30.0f)));
        nodeStyle.gridAutoFlow = GridAutoFlow.COLUMN;
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5, node6, node7);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(190.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(30.0f, node0Layout.size().width, "width of node0");
        assertEquals(100.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(40.0f, node1Layout.size().width, "width of node1");
        assertEquals(100.0f, node1Layout.size().height, "height of node1");
        assertEquals(30.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(10.0f, node2Layout.size().width, "width of node2");
        assertEquals(100.0f, node2Layout.size().height, "height of node2");
        assertEquals(70.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(20.0f, node3Layout.size().width, "width of node3");
        assertEquals(100.0f, node3Layout.size().height, "height of node3");
        assertEquals(80.0f, node3Layout.location().x, "x of node3");
        assertEquals(0.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(30.0f, node4Layout.size().width, "width of node4");
        assertEquals(100.0f, node4Layout.size().height, "height of node4");
        assertEquals(100.0f, node4Layout.location().x, "x of node4");
        assertEquals(0.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(10.0f, node5Layout.size().width, "width of node5");
        assertEquals(100.0f, node5Layout.size().height, "height of node5");
        assertEquals(130.0f, node5Layout.location().x, "x of node5");
        assertEquals(0.0f, node5Layout.location().y, "y of node5");
        Layout node6Layout = tree.getLayout(node6);
        assertEquals(20.0f, node6Layout.size().width, "width of node6");
        assertEquals(100.0f, node6Layout.size().height, "height of node6");
        assertEquals(140.0f, node6Layout.location().x, "x of node6");
        assertEquals(0.0f, node6Layout.location().y, "y of node6");
        Layout node7Layout = tree.getLayout(node7);
        assertEquals(30.0f, node7Layout.size().width, "width of node7");
        assertEquals(100.0f, node7Layout.size().height, "height of node7");
        assertEquals(160.0f, node7Layout.location().x, "x of node7");
        assertEquals(0.0f, node7Layout.location().y, "y of node7");
    }

    @Test
    @DisplayName("grid_auto_columns__content_box")
    void gridAutoColumnsContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.gridColumn = new Line<>(GridPlacement.line(-3), GridPlacement.auto());
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        node3Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        node4Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node4 = tree.newLeaf(node4Style);

        Style node5Style = new Style();
        node5Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node5 = tree.newLeaf(node5Style);

        Style node6Style = new Style();
        node6Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node6 = tree.newLeaf(node6Style);

        Style node7Style = new Style();
        node7Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node7 = tree.newLeaf(node7Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(100.0f)));
        nodeStyle.gridAutoColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(10.0f)));
        nodeStyle.gridAutoColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(20.0f)));
        nodeStyle.gridAutoColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(30.0f)));
        nodeStyle.gridAutoFlow = GridAutoFlow.COLUMN;
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5, node6, node7);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(190.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(30.0f, node0Layout.size().width, "width of node0");
        assertEquals(100.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(40.0f, node1Layout.size().width, "width of node1");
        assertEquals(100.0f, node1Layout.size().height, "height of node1");
        assertEquals(30.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(10.0f, node2Layout.size().width, "width of node2");
        assertEquals(100.0f, node2Layout.size().height, "height of node2");
        assertEquals(70.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(20.0f, node3Layout.size().width, "width of node3");
        assertEquals(100.0f, node3Layout.size().height, "height of node3");
        assertEquals(80.0f, node3Layout.location().x, "x of node3");
        assertEquals(0.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(30.0f, node4Layout.size().width, "width of node4");
        assertEquals(100.0f, node4Layout.size().height, "height of node4");
        assertEquals(100.0f, node4Layout.location().x, "x of node4");
        assertEquals(0.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(10.0f, node5Layout.size().width, "width of node5");
        assertEquals(100.0f, node5Layout.size().height, "height of node5");
        assertEquals(130.0f, node5Layout.location().x, "x of node5");
        assertEquals(0.0f, node5Layout.location().y, "y of node5");
        Layout node6Layout = tree.getLayout(node6);
        assertEquals(20.0f, node6Layout.size().width, "width of node6");
        assertEquals(100.0f, node6Layout.size().height, "height of node6");
        assertEquals(140.0f, node6Layout.location().x, "x of node6");
        assertEquals(0.0f, node6Layout.location().y, "y of node6");
        Layout node7Layout = tree.getLayout(node7);
        assertEquals(30.0f, node7Layout.size().width, "width of node7");
        assertEquals(100.0f, node7Layout.size().height, "height of node7");
        assertEquals(160.0f, node7Layout.location().x, "x of node7");
        assertEquals(0.0f, node7Layout.location().y, "y of node7");
    }

    @Test
    @DisplayName("grid_auto_columns_fixed_width__border_box")
    void gridAutoColumnsFixedWidthBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        NodeId node4 = tree.newLeaf(node4Style);

        Style node5Style = new Style();
        NodeId node5 = tree.newLeaf(node5Style);

        Style node6Style = new Style();
        NodeId node6 = tree.newLeaf(node6Style);

        Style node7Style = new Style();
        NodeId node7 = tree.newLeaf(node7Style);

        Style node8Style = new Style();
        NodeId node8 = tree.newLeaf(node8Style);

        Style node9Style = new Style();
        NodeId node9 = tree.newLeaf(node9Style);

        Style node10Style = new Style();
        NodeId node10 = tree.newLeaf(node10Style);

        Style node11Style = new Style();
        NodeId node11 = tree.newLeaf(node11Style);

        Style node12Style = new Style();
        NodeId node12 = tree.newLeaf(node12Style);

        Style node13Style = new Style();
        NodeId node13 = tree.newLeaf(node13Style);

        Style node14Style = new Style();
        NodeId node14 = tree.newLeaf(node14Style);

        Style node15Style = new Style();
        NodeId node15 = tree.newLeaf(node15Style);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.size = new Size<>(Dimension.length(200.0f), Dimension.length(200.0f));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.auto());
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.auto());
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.auto());
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.auto());
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5, node6, node7, node8, node9, node10, node11, node12, node13, node14, node15);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(200.0f, nodeLayout.size().width, "width of node");
        assertEquals(200.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(60.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(40.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(40.0f, node2Layout.size().width, "width of node2");
        assertEquals(40.0f, node2Layout.size().height, "height of node2");
        assertEquals(100.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(60.0f, node3Layout.size().width, "width of node3");
        assertEquals(40.0f, node3Layout.size().height, "height of node3");
        assertEquals(140.0f, node3Layout.location().x, "x of node3");
        assertEquals(0.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(40.0f, node4Layout.size().width, "width of node4");
        assertEquals(60.0f, node4Layout.size().height, "height of node4");
        assertEquals(0.0f, node4Layout.location().x, "x of node4");
        assertEquals(40.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(60.0f, node5Layout.size().width, "width of node5");
        assertEquals(60.0f, node5Layout.size().height, "height of node5");
        assertEquals(40.0f, node5Layout.location().x, "x of node5");
        assertEquals(40.0f, node5Layout.location().y, "y of node5");
        Layout node6Layout = tree.getLayout(node6);
        assertEquals(40.0f, node6Layout.size().width, "width of node6");
        assertEquals(60.0f, node6Layout.size().height, "height of node6");
        assertEquals(100.0f, node6Layout.location().x, "x of node6");
        assertEquals(40.0f, node6Layout.location().y, "y of node6");
        Layout node7Layout = tree.getLayout(node7);
        assertEquals(60.0f, node7Layout.size().width, "width of node7");
        assertEquals(60.0f, node7Layout.size().height, "height of node7");
        assertEquals(140.0f, node7Layout.location().x, "x of node7");
        assertEquals(40.0f, node7Layout.location().y, "y of node7");
        Layout node8Layout = tree.getLayout(node8);
        assertEquals(40.0f, node8Layout.size().width, "width of node8");
        assertEquals(40.0f, node8Layout.size().height, "height of node8");
        assertEquals(0.0f, node8Layout.location().x, "x of node8");
        assertEquals(100.0f, node8Layout.location().y, "y of node8");
        Layout node9Layout = tree.getLayout(node9);
        assertEquals(60.0f, node9Layout.size().width, "width of node9");
        assertEquals(40.0f, node9Layout.size().height, "height of node9");
        assertEquals(40.0f, node9Layout.location().x, "x of node9");
        assertEquals(100.0f, node9Layout.location().y, "y of node9");
        Layout node10Layout = tree.getLayout(node10);
        assertEquals(40.0f, node10Layout.size().width, "width of node10");
        assertEquals(40.0f, node10Layout.size().height, "height of node10");
        assertEquals(100.0f, node10Layout.location().x, "x of node10");
        assertEquals(100.0f, node10Layout.location().y, "y of node10");
        Layout node11Layout = tree.getLayout(node11);
        assertEquals(60.0f, node11Layout.size().width, "width of node11");
        assertEquals(40.0f, node11Layout.size().height, "height of node11");
        assertEquals(140.0f, node11Layout.location().x, "x of node11");
        assertEquals(100.0f, node11Layout.location().y, "y of node11");
        Layout node12Layout = tree.getLayout(node12);
        assertEquals(40.0f, node12Layout.size().width, "width of node12");
        assertEquals(60.0f, node12Layout.size().height, "height of node12");
        assertEquals(0.0f, node12Layout.location().x, "x of node12");
        assertEquals(140.0f, node12Layout.location().y, "y of node12");
        Layout node13Layout = tree.getLayout(node13);
        assertEquals(60.0f, node13Layout.size().width, "width of node13");
        assertEquals(60.0f, node13Layout.size().height, "height of node13");
        assertEquals(40.0f, node13Layout.location().x, "x of node13");
        assertEquals(140.0f, node13Layout.location().y, "y of node13");
        Layout node14Layout = tree.getLayout(node14);
        assertEquals(40.0f, node14Layout.size().width, "width of node14");
        assertEquals(60.0f, node14Layout.size().height, "height of node14");
        assertEquals(100.0f, node14Layout.location().x, "x of node14");
        assertEquals(140.0f, node14Layout.location().y, "y of node14");
        Layout node15Layout = tree.getLayout(node15);
        assertEquals(60.0f, node15Layout.size().width, "width of node15");
        assertEquals(60.0f, node15Layout.size().height, "height of node15");
        assertEquals(140.0f, node15Layout.location().x, "x of node15");
        assertEquals(140.0f, node15Layout.location().y, "y of node15");
    }

    @Test
    @DisplayName("grid_auto_columns_fixed_width__content_box")
    void gridAutoColumnsFixedWidthContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        node3Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        node4Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node4 = tree.newLeaf(node4Style);

        Style node5Style = new Style();
        node5Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node5 = tree.newLeaf(node5Style);

        Style node6Style = new Style();
        node6Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node6 = tree.newLeaf(node6Style);

        Style node7Style = new Style();
        node7Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node7 = tree.newLeaf(node7Style);

        Style node8Style = new Style();
        node8Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node8 = tree.newLeaf(node8Style);

        Style node9Style = new Style();
        node9Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node9 = tree.newLeaf(node9Style);

        Style node10Style = new Style();
        node10Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node10 = tree.newLeaf(node10Style);

        Style node11Style = new Style();
        node11Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node11 = tree.newLeaf(node11Style);

        Style node12Style = new Style();
        node12Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node12 = tree.newLeaf(node12Style);

        Style node13Style = new Style();
        node13Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node13 = tree.newLeaf(node13Style);

        Style node14Style = new Style();
        node14Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node14 = tree.newLeaf(node14Style);

        Style node15Style = new Style();
        node15Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node15 = tree.newLeaf(node15Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.size = new Size<>(Dimension.length(200.0f), Dimension.length(200.0f));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.auto());
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.auto());
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.auto());
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.auto());
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5, node6, node7, node8, node9, node10, node11, node12, node13, node14, node15);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(200.0f, nodeLayout.size().width, "width of node");
        assertEquals(200.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(60.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(40.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(40.0f, node2Layout.size().width, "width of node2");
        assertEquals(40.0f, node2Layout.size().height, "height of node2");
        assertEquals(100.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(60.0f, node3Layout.size().width, "width of node3");
        assertEquals(40.0f, node3Layout.size().height, "height of node3");
        assertEquals(140.0f, node3Layout.location().x, "x of node3");
        assertEquals(0.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(40.0f, node4Layout.size().width, "width of node4");
        assertEquals(60.0f, node4Layout.size().height, "height of node4");
        assertEquals(0.0f, node4Layout.location().x, "x of node4");
        assertEquals(40.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(60.0f, node5Layout.size().width, "width of node5");
        assertEquals(60.0f, node5Layout.size().height, "height of node5");
        assertEquals(40.0f, node5Layout.location().x, "x of node5");
        assertEquals(40.0f, node5Layout.location().y, "y of node5");
        Layout node6Layout = tree.getLayout(node6);
        assertEquals(40.0f, node6Layout.size().width, "width of node6");
        assertEquals(60.0f, node6Layout.size().height, "height of node6");
        assertEquals(100.0f, node6Layout.location().x, "x of node6");
        assertEquals(40.0f, node6Layout.location().y, "y of node6");
        Layout node7Layout = tree.getLayout(node7);
        assertEquals(60.0f, node7Layout.size().width, "width of node7");
        assertEquals(60.0f, node7Layout.size().height, "height of node7");
        assertEquals(140.0f, node7Layout.location().x, "x of node7");
        assertEquals(40.0f, node7Layout.location().y, "y of node7");
        Layout node8Layout = tree.getLayout(node8);
        assertEquals(40.0f, node8Layout.size().width, "width of node8");
        assertEquals(40.0f, node8Layout.size().height, "height of node8");
        assertEquals(0.0f, node8Layout.location().x, "x of node8");
        assertEquals(100.0f, node8Layout.location().y, "y of node8");
        Layout node9Layout = tree.getLayout(node9);
        assertEquals(60.0f, node9Layout.size().width, "width of node9");
        assertEquals(40.0f, node9Layout.size().height, "height of node9");
        assertEquals(40.0f, node9Layout.location().x, "x of node9");
        assertEquals(100.0f, node9Layout.location().y, "y of node9");
        Layout node10Layout = tree.getLayout(node10);
        assertEquals(40.0f, node10Layout.size().width, "width of node10");
        assertEquals(40.0f, node10Layout.size().height, "height of node10");
        assertEquals(100.0f, node10Layout.location().x, "x of node10");
        assertEquals(100.0f, node10Layout.location().y, "y of node10");
        Layout node11Layout = tree.getLayout(node11);
        assertEquals(60.0f, node11Layout.size().width, "width of node11");
        assertEquals(40.0f, node11Layout.size().height, "height of node11");
        assertEquals(140.0f, node11Layout.location().x, "x of node11");
        assertEquals(100.0f, node11Layout.location().y, "y of node11");
        Layout node12Layout = tree.getLayout(node12);
        assertEquals(40.0f, node12Layout.size().width, "width of node12");
        assertEquals(60.0f, node12Layout.size().height, "height of node12");
        assertEquals(0.0f, node12Layout.location().x, "x of node12");
        assertEquals(140.0f, node12Layout.location().y, "y of node12");
        Layout node13Layout = tree.getLayout(node13);
        assertEquals(60.0f, node13Layout.size().width, "width of node13");
        assertEquals(60.0f, node13Layout.size().height, "height of node13");
        assertEquals(40.0f, node13Layout.location().x, "x of node13");
        assertEquals(140.0f, node13Layout.location().y, "y of node13");
        Layout node14Layout = tree.getLayout(node14);
        assertEquals(40.0f, node14Layout.size().width, "width of node14");
        assertEquals(60.0f, node14Layout.size().height, "height of node14");
        assertEquals(100.0f, node14Layout.location().x, "x of node14");
        assertEquals(140.0f, node14Layout.location().y, "y of node14");
        Layout node15Layout = tree.getLayout(node15);
        assertEquals(60.0f, node15Layout.size().width, "width of node15");
        assertEquals(60.0f, node15Layout.size().height, "height of node15");
        assertEquals(140.0f, node15Layout.location().x, "x of node15");
        assertEquals(140.0f, node15Layout.location().y, "y of node15");
    }

    @Test
    @DisplayName("grid_auto_fill_fixed_size__border_box")
    void gridAutoFillFixedSizeBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        NodeId node4 = tree.newLeaf(node4Style);

        Style node5Style = new Style();
        NodeId node5 = tree.newLeaf(node5Style);

        Style node6Style = new Style();
        NodeId node6 = tree.newLeaf(node6Style);

        Style node7Style = new Style();
        NodeId node7 = tree.newLeaf(node7Style);

        Style node8Style = new Style();
        NodeId node8 = tree.newLeaf(node8Style);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.size = new Size<>(Dimension.length(120.0f), Dimension.length(120.0f));
        nodeStyle.gridTemplateColumnsWithRepeat = new java.util.ArrayList<>();
        nodeStyle.gridTemplateColumnsWithRepeat.add(GridTemplateComponent.single(TrackSizingFunction.fixed(LengthPercentage.length(40.0f))));
        nodeStyle.gridTemplateColumnsWithRepeat.add(GridTemplateComponent.autoFill(TrackSizingFunction.fixed(LengthPercentage.length(40.0f))));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5, node6, node7, node8);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(120.0f, nodeLayout.size().width, "width of node");
        assertEquals(120.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(40.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(40.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(40.0f, node2Layout.size().width, "width of node2");
        assertEquals(40.0f, node2Layout.size().height, "height of node2");
        assertEquals(80.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(40.0f, node3Layout.size().width, "width of node3");
        assertEquals(40.0f, node3Layout.size().height, "height of node3");
        assertEquals(0.0f, node3Layout.location().x, "x of node3");
        assertEquals(40.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(40.0f, node4Layout.size().width, "width of node4");
        assertEquals(40.0f, node4Layout.size().height, "height of node4");
        assertEquals(40.0f, node4Layout.location().x, "x of node4");
        assertEquals(40.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(40.0f, node5Layout.size().width, "width of node5");
        assertEquals(40.0f, node5Layout.size().height, "height of node5");
        assertEquals(80.0f, node5Layout.location().x, "x of node5");
        assertEquals(40.0f, node5Layout.location().y, "y of node5");
        Layout node6Layout = tree.getLayout(node6);
        assertEquals(40.0f, node6Layout.size().width, "width of node6");
        assertEquals(40.0f, node6Layout.size().height, "height of node6");
        assertEquals(0.0f, node6Layout.location().x, "x of node6");
        assertEquals(80.0f, node6Layout.location().y, "y of node6");
        Layout node7Layout = tree.getLayout(node7);
        assertEquals(40.0f, node7Layout.size().width, "width of node7");
        assertEquals(40.0f, node7Layout.size().height, "height of node7");
        assertEquals(40.0f, node7Layout.location().x, "x of node7");
        assertEquals(80.0f, node7Layout.location().y, "y of node7");
        Layout node8Layout = tree.getLayout(node8);
        assertEquals(40.0f, node8Layout.size().width, "width of node8");
        assertEquals(40.0f, node8Layout.size().height, "height of node8");
        assertEquals(80.0f, node8Layout.location().x, "x of node8");
        assertEquals(80.0f, node8Layout.location().y, "y of node8");
    }

    @Test
    @DisplayName("grid_auto_fill_fixed_size__content_box")
    void gridAutoFillFixedSizeContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        node3Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        node4Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node4 = tree.newLeaf(node4Style);

        Style node5Style = new Style();
        node5Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node5 = tree.newLeaf(node5Style);

        Style node6Style = new Style();
        node6Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node6 = tree.newLeaf(node6Style);

        Style node7Style = new Style();
        node7Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node7 = tree.newLeaf(node7Style);

        Style node8Style = new Style();
        node8Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node8 = tree.newLeaf(node8Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.size = new Size<>(Dimension.length(120.0f), Dimension.length(120.0f));
        nodeStyle.gridTemplateColumnsWithRepeat = new java.util.ArrayList<>();
        nodeStyle.gridTemplateColumnsWithRepeat.add(GridTemplateComponent.single(TrackSizingFunction.fixed(LengthPercentage.length(40.0f))));
        nodeStyle.gridTemplateColumnsWithRepeat.add(GridTemplateComponent.autoFill(TrackSizingFunction.fixed(LengthPercentage.length(40.0f))));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5, node6, node7, node8);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(120.0f, nodeLayout.size().width, "width of node");
        assertEquals(120.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(40.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(40.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(40.0f, node2Layout.size().width, "width of node2");
        assertEquals(40.0f, node2Layout.size().height, "height of node2");
        assertEquals(80.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(40.0f, node3Layout.size().width, "width of node3");
        assertEquals(40.0f, node3Layout.size().height, "height of node3");
        assertEquals(0.0f, node3Layout.location().x, "x of node3");
        assertEquals(40.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(40.0f, node4Layout.size().width, "width of node4");
        assertEquals(40.0f, node4Layout.size().height, "height of node4");
        assertEquals(40.0f, node4Layout.location().x, "x of node4");
        assertEquals(40.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(40.0f, node5Layout.size().width, "width of node5");
        assertEquals(40.0f, node5Layout.size().height, "height of node5");
        assertEquals(80.0f, node5Layout.location().x, "x of node5");
        assertEquals(40.0f, node5Layout.location().y, "y of node5");
        Layout node6Layout = tree.getLayout(node6);
        assertEquals(40.0f, node6Layout.size().width, "width of node6");
        assertEquals(40.0f, node6Layout.size().height, "height of node6");
        assertEquals(0.0f, node6Layout.location().x, "x of node6");
        assertEquals(80.0f, node6Layout.location().y, "y of node6");
        Layout node7Layout = tree.getLayout(node7);
        assertEquals(40.0f, node7Layout.size().width, "width of node7");
        assertEquals(40.0f, node7Layout.size().height, "height of node7");
        assertEquals(40.0f, node7Layout.location().x, "x of node7");
        assertEquals(80.0f, node7Layout.location().y, "y of node7");
        Layout node8Layout = tree.getLayout(node8);
        assertEquals(40.0f, node8Layout.size().width, "width of node8");
        assertEquals(40.0f, node8Layout.size().height, "height of node8");
        assertEquals(80.0f, node8Layout.location().x, "x of node8");
        assertEquals(80.0f, node8Layout.location().y, "y of node8");
    }

    @Test
    @DisplayName("grid_auto_fill_with_empty_auto_track__border_box")
    void gridAutoFillWithEmptyAutoTrackBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        NodeId node1 = tree.newLeaf(node1Style);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.justifyContent = AlignContent.SPACE_EVENLY;
        nodeStyle.size = new Size<>(Dimension.length(120.0f), Dimension.length(120.0f));
        nodeStyle.gridTemplateColumnsWithRepeat = new java.util.ArrayList<>();
        nodeStyle.gridTemplateColumnsWithRepeat.add(GridTemplateComponent.autoFill(TrackSizingFunction.fixed(LengthPercentage.length(40.0f))));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(120.0f, nodeLayout.size().width, "width of node");
        assertEquals(120.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(40.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(40.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
    }

    @Test
    @DisplayName("grid_auto_fill_with_empty_auto_track__content_box")
    void gridAutoFillWithEmptyAutoTrackContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node1 = tree.newLeaf(node1Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.justifyContent = AlignContent.SPACE_EVENLY;
        nodeStyle.size = new Size<>(Dimension.length(120.0f), Dimension.length(120.0f));
        nodeStyle.gridTemplateColumnsWithRepeat = new java.util.ArrayList<>();
        nodeStyle.gridTemplateColumnsWithRepeat.add(GridTemplateComponent.autoFill(TrackSizingFunction.fixed(LengthPercentage.length(40.0f))));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(120.0f, nodeLayout.size().width, "width of node");
        assertEquals(120.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(40.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(40.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
    }

    @Test
    @DisplayName("grid_auto_fit_definite_percentage__border_box")
    void gridAutoFitDefinitePercentageBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.display = Display.BLOCK;
        NodeId node00 = tree.newLeaf(node00Style);

        Style node01Style = new Style();
        node01Style.display = Display.BLOCK;
        NodeId node01 = tree.newLeaf(node01Style);

        Style node02Style = new Style();
        node02Style.display = Display.BLOCK;
        NodeId node02 = tree.newLeaf(node02Style);

        Style node03Style = new Style();
        node03Style.display = Display.BLOCK;
        NodeId node03 = tree.newLeaf(node03Style);

        Style node04Style = new Style();
        node04Style.display = Display.BLOCK;
        NodeId node04 = tree.newLeaf(node04Style);

        Style node05Style = new Style();
        node05Style.display = Display.BLOCK;
        NodeId node05 = tree.newLeaf(node05Style);

        Style node06Style = new Style();
        node06Style.display = Display.BLOCK;
        NodeId node06 = tree.newLeaf(node06Style);

        Style node07Style = new Style();
        node07Style.display = Display.BLOCK;
        NodeId node07 = tree.newLeaf(node07Style);

        Style node0Style = new Style();
        node0Style.display = Display.GRID;
        node0Style.size = new Size<>(Dimension.percent(1.0f), Dimension.percent(1.0f));
        node0Style.gap = new Size<>(LengthPercentage.length(10.0f), LengthPercentage.length(10.0f));
        node0Style.padding = new Rect<>(LengthPercentage.length(10.0f), LengthPercentage.length(10.0f), LengthPercentage.length(10.0f), LengthPercentage.length(10.0f));
        node0Style.gridTemplateColumnsWithRepeat = new java.util.ArrayList<>();
        node0Style.gridTemplateColumnsWithRepeat.add(GridTemplateComponent.autoFill(TrackSizingFunction.minmax(TrackSizingFunction.fixed(LengthPercentage.length(150.0f)), TrackSizingFunction.fr(1.0f))));
        NodeId node0 = tree.newWithChildren(node0Style, node00, node01, node02, node03, node04, node05, node06, node07);

        Style nodeStyle = new Style();
        nodeStyle.size = new Size<>(Dimension.length(730.0f), Dimension.length(300.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(730.0f, nodeLayout.size().width, "width of node");
        assertEquals(300.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(730.0f, node0Layout.size().width, "width of node0");
        assertEquals(300.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(170.0f, node00Layout.size().width, "width of node00");
        assertEquals(135.0f, node00Layout.size().height, "height of node00");
        assertEquals(10.0f, node00Layout.location().x, "x of node00");
        assertEquals(10.0f, node00Layout.location().y, "y of node00");
        Layout node01Layout = tree.getLayout(node01);
        assertEquals(170.0f, node01Layout.size().width, "width of node01");
        assertEquals(135.0f, node01Layout.size().height, "height of node01");
        assertEquals(190.0f, node01Layout.location().x, "x of node01");
        assertEquals(10.0f, node01Layout.location().y, "y of node01");
        Layout node02Layout = tree.getLayout(node02);
        assertEquals(170.0f, node02Layout.size().width, "width of node02");
        assertEquals(135.0f, node02Layout.size().height, "height of node02");
        assertEquals(370.0f, node02Layout.location().x, "x of node02");
        assertEquals(10.0f, node02Layout.location().y, "y of node02");
        Layout node03Layout = tree.getLayout(node03);
        assertEquals(170.0f, node03Layout.size().width, "width of node03");
        assertEquals(135.0f, node03Layout.size().height, "height of node03");
        assertEquals(550.0f, node03Layout.location().x, "x of node03");
        assertEquals(10.0f, node03Layout.location().y, "y of node03");
        Layout node04Layout = tree.getLayout(node04);
        assertEquals(170.0f, node04Layout.size().width, "width of node04");
        assertEquals(135.0f, node04Layout.size().height, "height of node04");
        assertEquals(10.0f, node04Layout.location().x, "x of node04");
        assertEquals(155.0f, node04Layout.location().y, "y of node04");
        Layout node05Layout = tree.getLayout(node05);
        assertEquals(170.0f, node05Layout.size().width, "width of node05");
        assertEquals(135.0f, node05Layout.size().height, "height of node05");
        assertEquals(190.0f, node05Layout.location().x, "x of node05");
        assertEquals(155.0f, node05Layout.location().y, "y of node05");
        Layout node06Layout = tree.getLayout(node06);
        assertEquals(170.0f, node06Layout.size().width, "width of node06");
        assertEquals(135.0f, node06Layout.size().height, "height of node06");
        assertEquals(370.0f, node06Layout.location().x, "x of node06");
        assertEquals(155.0f, node06Layout.location().y, "y of node06");
        Layout node07Layout = tree.getLayout(node07);
        assertEquals(170.0f, node07Layout.size().width, "width of node07");
        assertEquals(135.0f, node07Layout.size().height, "height of node07");
        assertEquals(550.0f, node07Layout.location().x, "x of node07");
        assertEquals(155.0f, node07Layout.location().y, "y of node07");
    }

    @Test
    @DisplayName("grid_auto_fit_definite_percentage__content_box")
    void gridAutoFitDefinitePercentageContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.boxSizing = BoxSizing.CONTENT_BOX;
        node00Style.display = Display.BLOCK;
        NodeId node00 = tree.newLeaf(node00Style);

        Style node01Style = new Style();
        node01Style.boxSizing = BoxSizing.CONTENT_BOX;
        node01Style.display = Display.BLOCK;
        NodeId node01 = tree.newLeaf(node01Style);

        Style node02Style = new Style();
        node02Style.boxSizing = BoxSizing.CONTENT_BOX;
        node02Style.display = Display.BLOCK;
        NodeId node02 = tree.newLeaf(node02Style);

        Style node03Style = new Style();
        node03Style.boxSizing = BoxSizing.CONTENT_BOX;
        node03Style.display = Display.BLOCK;
        NodeId node03 = tree.newLeaf(node03Style);

        Style node04Style = new Style();
        node04Style.boxSizing = BoxSizing.CONTENT_BOX;
        node04Style.display = Display.BLOCK;
        NodeId node04 = tree.newLeaf(node04Style);

        Style node05Style = new Style();
        node05Style.boxSizing = BoxSizing.CONTENT_BOX;
        node05Style.display = Display.BLOCK;
        NodeId node05 = tree.newLeaf(node05Style);

        Style node06Style = new Style();
        node06Style.boxSizing = BoxSizing.CONTENT_BOX;
        node06Style.display = Display.BLOCK;
        NodeId node06 = tree.newLeaf(node06Style);

        Style node07Style = new Style();
        node07Style.boxSizing = BoxSizing.CONTENT_BOX;
        node07Style.display = Display.BLOCK;
        NodeId node07 = tree.newLeaf(node07Style);

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.display = Display.GRID;
        node0Style.size = new Size<>(Dimension.percent(1.0f), Dimension.percent(1.0f));
        node0Style.gap = new Size<>(LengthPercentage.length(10.0f), LengthPercentage.length(10.0f));
        node0Style.padding = new Rect<>(LengthPercentage.length(10.0f), LengthPercentage.length(10.0f), LengthPercentage.length(10.0f), LengthPercentage.length(10.0f));
        node0Style.gridTemplateColumnsWithRepeat = new java.util.ArrayList<>();
        node0Style.gridTemplateColumnsWithRepeat.add(GridTemplateComponent.autoFill(TrackSizingFunction.minmax(TrackSizingFunction.fixed(LengthPercentage.length(150.0f)), TrackSizingFunction.fr(1.0f))));
        NodeId node0 = tree.newWithChildren(node0Style, node00, node01, node02, node03, node04, node05, node06, node07);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.size = new Size<>(Dimension.length(730.0f), Dimension.length(300.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(730.0f, nodeLayout.size().width, "width of node");
        assertEquals(300.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(730.0f, node0Layout.size().width, "width of node0");
        assertEquals(320.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(170.0f, node00Layout.size().width, "width of node00");
        assertEquals(145.0f, node00Layout.size().height, "height of node00");
        assertEquals(10.0f, node00Layout.location().x, "x of node00");
        assertEquals(10.0f, node00Layout.location().y, "y of node00");
        Layout node01Layout = tree.getLayout(node01);
        assertEquals(170.0f, node01Layout.size().width, "width of node01");
        assertEquals(145.0f, node01Layout.size().height, "height of node01");
        assertEquals(190.0f, node01Layout.location().x, "x of node01");
        assertEquals(10.0f, node01Layout.location().y, "y of node01");
        Layout node02Layout = tree.getLayout(node02);
        assertEquals(170.0f, node02Layout.size().width, "width of node02");
        assertEquals(145.0f, node02Layout.size().height, "height of node02");
        assertEquals(370.0f, node02Layout.location().x, "x of node02");
        assertEquals(10.0f, node02Layout.location().y, "y of node02");
        Layout node03Layout = tree.getLayout(node03);
        assertEquals(170.0f, node03Layout.size().width, "width of node03");
        assertEquals(145.0f, node03Layout.size().height, "height of node03");
        assertEquals(550.0f, node03Layout.location().x, "x of node03");
        assertEquals(10.0f, node03Layout.location().y, "y of node03");
        Layout node04Layout = tree.getLayout(node04);
        assertEquals(170.0f, node04Layout.size().width, "width of node04");
        assertEquals(145.0f, node04Layout.size().height, "height of node04");
        assertEquals(10.0f, node04Layout.location().x, "x of node04");
        assertEquals(165.0f, node04Layout.location().y, "y of node04");
        Layout node05Layout = tree.getLayout(node05);
        assertEquals(170.0f, node05Layout.size().width, "width of node05");
        assertEquals(145.0f, node05Layout.size().height, "height of node05");
        assertEquals(190.0f, node05Layout.location().x, "x of node05");
        assertEquals(165.0f, node05Layout.location().y, "y of node05");
        Layout node06Layout = tree.getLayout(node06);
        assertEquals(170.0f, node06Layout.size().width, "width of node06");
        assertEquals(145.0f, node06Layout.size().height, "height of node06");
        assertEquals(370.0f, node06Layout.location().x, "x of node06");
        assertEquals(165.0f, node06Layout.location().y, "y of node06");
        Layout node07Layout = tree.getLayout(node07);
        assertEquals(170.0f, node07Layout.size().width, "width of node07");
        assertEquals(145.0f, node07Layout.size().height, "height of node07");
        assertEquals(550.0f, node07Layout.location().x, "x of node07");
        assertEquals(165.0f, node07Layout.location().y, "y of node07");
    }

    @Test
    @DisplayName("grid_auto_fit_with_empty_auto_track__border_box")
    void gridAutoFitWithEmptyAutoTrackBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        NodeId node1 = tree.newLeaf(node1Style);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.justifyContent = AlignContent.SPACE_EVENLY;
        nodeStyle.size = new Size<>(Dimension.length(120.0f), Dimension.length(120.0f));
        nodeStyle.gridTemplateColumnsWithRepeat = new java.util.ArrayList<>();
        nodeStyle.gridTemplateColumnsWithRepeat.add(GridTemplateComponent.autoFit(TrackSizingFunction.fixed(LengthPercentage.length(40.0f))));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(120.0f, nodeLayout.size().width, "width of node");
        assertEquals(120.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(13.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(40.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(67.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
    }

    @Test
    @DisplayName("grid_auto_fit_with_empty_auto_track__content_box")
    void gridAutoFitWithEmptyAutoTrackContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node1 = tree.newLeaf(node1Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.justifyContent = AlignContent.SPACE_EVENLY;
        nodeStyle.size = new Size<>(Dimension.length(120.0f), Dimension.length(120.0f));
        nodeStyle.gridTemplateColumnsWithRepeat = new java.util.ArrayList<>();
        nodeStyle.gridTemplateColumnsWithRepeat.add(GridTemplateComponent.autoFit(TrackSizingFunction.fixed(LengthPercentage.length(40.0f))));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(120.0f, nodeLayout.size().width, "width of node");
        assertEquals(120.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(13.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(40.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(67.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
    }

    @Test
    @DisplayName("grid_auto_rows__border_box")
    void gridAutoRowsBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.gridRow = new Line<>(GridPlacement.line(-4), GridPlacement.auto());
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        NodeId node4 = tree.newLeaf(node4Style);

        Style node5Style = new Style();
        NodeId node5 = tree.newLeaf(node5Style);

        Style node6Style = new Style();
        NodeId node6 = tree.newLeaf(node6Style);

        Style node7Style = new Style();
        NodeId node7 = tree.newLeaf(node7Style);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(100.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridAutoRows.add(TrackSizingFunction.fixed(LengthPercentage.length(10.0f)));
        nodeStyle.gridAutoRows.add(TrackSizingFunction.fixed(LengthPercentage.length(20.0f)));
        nodeStyle.gridAutoRows.add(TrackSizingFunction.fixed(LengthPercentage.length(30.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5, node6, node7);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(180.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(100.0f, node0Layout.size().width, "width of node0");
        assertEquals(20.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(100.0f, node1Layout.size().width, "width of node1");
        assertEquals(30.0f, node1Layout.size().height, "height of node1");
        assertEquals(0.0f, node1Layout.location().x, "x of node1");
        assertEquals(20.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(100.0f, node2Layout.size().width, "width of node2");
        assertEquals(40.0f, node2Layout.size().height, "height of node2");
        assertEquals(0.0f, node2Layout.location().x, "x of node2");
        assertEquals(50.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(100.0f, node3Layout.size().width, "width of node3");
        assertEquals(10.0f, node3Layout.size().height, "height of node3");
        assertEquals(0.0f, node3Layout.location().x, "x of node3");
        assertEquals(90.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(100.0f, node4Layout.size().width, "width of node4");
        assertEquals(20.0f, node4Layout.size().height, "height of node4");
        assertEquals(0.0f, node4Layout.location().x, "x of node4");
        assertEquals(100.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(100.0f, node5Layout.size().width, "width of node5");
        assertEquals(30.0f, node5Layout.size().height, "height of node5");
        assertEquals(0.0f, node5Layout.location().x, "x of node5");
        assertEquals(120.0f, node5Layout.location().y, "y of node5");
        Layout node6Layout = tree.getLayout(node6);
        assertEquals(100.0f, node6Layout.size().width, "width of node6");
        assertEquals(10.0f, node6Layout.size().height, "height of node6");
        assertEquals(0.0f, node6Layout.location().x, "x of node6");
        assertEquals(150.0f, node6Layout.location().y, "y of node6");
        Layout node7Layout = tree.getLayout(node7);
        assertEquals(100.0f, node7Layout.size().width, "width of node7");
        assertEquals(20.0f, node7Layout.size().height, "height of node7");
        assertEquals(0.0f, node7Layout.location().x, "x of node7");
        assertEquals(160.0f, node7Layout.location().y, "y of node7");
    }

    @Test
    @DisplayName("grid_auto_rows__content_box")
    void gridAutoRowsContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.gridRow = new Line<>(GridPlacement.line(-4), GridPlacement.auto());
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        node3Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        node4Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node4 = tree.newLeaf(node4Style);

        Style node5Style = new Style();
        node5Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node5 = tree.newLeaf(node5Style);

        Style node6Style = new Style();
        node6Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node6 = tree.newLeaf(node6Style);

        Style node7Style = new Style();
        node7Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node7 = tree.newLeaf(node7Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(100.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridAutoRows.add(TrackSizingFunction.fixed(LengthPercentage.length(10.0f)));
        nodeStyle.gridAutoRows.add(TrackSizingFunction.fixed(LengthPercentage.length(20.0f)));
        nodeStyle.gridAutoRows.add(TrackSizingFunction.fixed(LengthPercentage.length(30.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5, node6, node7);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(180.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(100.0f, node0Layout.size().width, "width of node0");
        assertEquals(20.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(100.0f, node1Layout.size().width, "width of node1");
        assertEquals(30.0f, node1Layout.size().height, "height of node1");
        assertEquals(0.0f, node1Layout.location().x, "x of node1");
        assertEquals(20.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(100.0f, node2Layout.size().width, "width of node2");
        assertEquals(40.0f, node2Layout.size().height, "height of node2");
        assertEquals(0.0f, node2Layout.location().x, "x of node2");
        assertEquals(50.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(100.0f, node3Layout.size().width, "width of node3");
        assertEquals(10.0f, node3Layout.size().height, "height of node3");
        assertEquals(0.0f, node3Layout.location().x, "x of node3");
        assertEquals(90.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(100.0f, node4Layout.size().width, "width of node4");
        assertEquals(20.0f, node4Layout.size().height, "height of node4");
        assertEquals(0.0f, node4Layout.location().x, "x of node4");
        assertEquals(100.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(100.0f, node5Layout.size().width, "width of node5");
        assertEquals(30.0f, node5Layout.size().height, "height of node5");
        assertEquals(0.0f, node5Layout.location().x, "x of node5");
        assertEquals(120.0f, node5Layout.location().y, "y of node5");
        Layout node6Layout = tree.getLayout(node6);
        assertEquals(100.0f, node6Layout.size().width, "width of node6");
        assertEquals(10.0f, node6Layout.size().height, "height of node6");
        assertEquals(0.0f, node6Layout.location().x, "x of node6");
        assertEquals(150.0f, node6Layout.location().y, "y of node6");
        Layout node7Layout = tree.getLayout(node7);
        assertEquals(100.0f, node7Layout.size().width, "width of node7");
        assertEquals(20.0f, node7Layout.size().height, "height of node7");
        assertEquals(0.0f, node7Layout.location().x, "x of node7");
        assertEquals(160.0f, node7Layout.location().y, "y of node7");
    }

    @Test
    @DisplayName("grid_auto_single_item__border_box")
    void gridAutoSingleItemBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.size = new Size<>(Dimension.length(100.0f), Dimension.AUTO);
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        NodeId node4 = tree.newLeaf(node4Style);

        Style node5Style = new Style();
        NodeId node5 = tree.newLeaf(node5Style);

        Style node6Style = new Style();
        NodeId node6 = tree.newLeaf(node6Style);

        Style node7Style = new Style();
        NodeId node7 = tree.newLeaf(node7Style);

        Style node8Style = new Style();
        NodeId node8 = tree.newLeaf(node8Style);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.auto());
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5, node6, node7, node8);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(180.0f, nodeLayout.size().width, "width of node");
        assertEquals(120.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(100.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(40.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(40.0f, node2Layout.size().width, "width of node2");
        assertEquals(40.0f, node2Layout.size().height, "height of node2");
        assertEquals(140.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(40.0f, node3Layout.size().width, "width of node3");
        assertEquals(40.0f, node3Layout.size().height, "height of node3");
        assertEquals(0.0f, node3Layout.location().x, "x of node3");
        assertEquals(40.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(100.0f, node4Layout.size().width, "width of node4");
        assertEquals(40.0f, node4Layout.size().height, "height of node4");
        assertEquals(40.0f, node4Layout.location().x, "x of node4");
        assertEquals(40.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(40.0f, node5Layout.size().width, "width of node5");
        assertEquals(40.0f, node5Layout.size().height, "height of node5");
        assertEquals(140.0f, node5Layout.location().x, "x of node5");
        assertEquals(40.0f, node5Layout.location().y, "y of node5");
        Layout node6Layout = tree.getLayout(node6);
        assertEquals(40.0f, node6Layout.size().width, "width of node6");
        assertEquals(40.0f, node6Layout.size().height, "height of node6");
        assertEquals(0.0f, node6Layout.location().x, "x of node6");
        assertEquals(80.0f, node6Layout.location().y, "y of node6");
        Layout node7Layout = tree.getLayout(node7);
        assertEquals(100.0f, node7Layout.size().width, "width of node7");
        assertEquals(40.0f, node7Layout.size().height, "height of node7");
        assertEquals(40.0f, node7Layout.location().x, "x of node7");
        assertEquals(80.0f, node7Layout.location().y, "y of node7");
        Layout node8Layout = tree.getLayout(node8);
        assertEquals(40.0f, node8Layout.size().width, "width of node8");
        assertEquals(40.0f, node8Layout.size().height, "height of node8");
        assertEquals(140.0f, node8Layout.location().x, "x of node8");
        assertEquals(80.0f, node8Layout.location().y, "y of node8");
    }

    @Test
    @DisplayName("grid_auto_single_item__content_box")
    void gridAutoSingleItemContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.size = new Size<>(Dimension.length(100.0f), Dimension.AUTO);
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        node3Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        node4Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node4 = tree.newLeaf(node4Style);

        Style node5Style = new Style();
        node5Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node5 = tree.newLeaf(node5Style);

        Style node6Style = new Style();
        node6Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node6 = tree.newLeaf(node6Style);

        Style node7Style = new Style();
        node7Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node7 = tree.newLeaf(node7Style);

        Style node8Style = new Style();
        node8Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node8 = tree.newLeaf(node8Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.auto());
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5, node6, node7, node8);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(180.0f, nodeLayout.size().width, "width of node");
        assertEquals(120.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(100.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(40.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(40.0f, node2Layout.size().width, "width of node2");
        assertEquals(40.0f, node2Layout.size().height, "height of node2");
        assertEquals(140.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(40.0f, node3Layout.size().width, "width of node3");
        assertEquals(40.0f, node3Layout.size().height, "height of node3");
        assertEquals(0.0f, node3Layout.location().x, "x of node3");
        assertEquals(40.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(100.0f, node4Layout.size().width, "width of node4");
        assertEquals(40.0f, node4Layout.size().height, "height of node4");
        assertEquals(40.0f, node4Layout.location().x, "x of node4");
        assertEquals(40.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(40.0f, node5Layout.size().width, "width of node5");
        assertEquals(40.0f, node5Layout.size().height, "height of node5");
        assertEquals(140.0f, node5Layout.location().x, "x of node5");
        assertEquals(40.0f, node5Layout.location().y, "y of node5");
        Layout node6Layout = tree.getLayout(node6);
        assertEquals(40.0f, node6Layout.size().width, "width of node6");
        assertEquals(40.0f, node6Layout.size().height, "height of node6");
        assertEquals(0.0f, node6Layout.location().x, "x of node6");
        assertEquals(80.0f, node6Layout.location().y, "y of node6");
        Layout node7Layout = tree.getLayout(node7);
        assertEquals(100.0f, node7Layout.size().width, "width of node7");
        assertEquals(40.0f, node7Layout.size().height, "height of node7");
        assertEquals(40.0f, node7Layout.location().x, "x of node7");
        assertEquals(80.0f, node7Layout.location().y, "y of node7");
        Layout node8Layout = tree.getLayout(node8);
        assertEquals(40.0f, node8Layout.size().width, "width of node8");
        assertEquals(40.0f, node8Layout.size().height, "height of node8");
        assertEquals(140.0f, node8Layout.location().x, "x of node8");
        assertEquals(80.0f, node8Layout.location().y, "y of node8");
    }

    @Test
    @DisplayName("grid_auto_single_item_fixed_width__border_box")
    void gridAutoSingleItemFixedWidthBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.minSize = new Size<>(Dimension.length(100.0f), Dimension.AUTO);
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        NodeId node4 = tree.newLeaf(node4Style);

        Style node5Style = new Style();
        NodeId node5 = tree.newLeaf(node5Style);

        Style node6Style = new Style();
        NodeId node6 = tree.newLeaf(node6Style);

        Style node7Style = new Style();
        NodeId node7 = tree.newLeaf(node7Style);

        Style node8Style = new Style();
        NodeId node8 = tree.newLeaf(node8Style);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.size = new Size<>(Dimension.length(200.0f), Dimension.AUTO);
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.auto());
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.auto());
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5, node6, node7, node8);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(200.0f, nodeLayout.size().width, "width of node");
        assertEquals(120.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(130.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(40.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(30.0f, node2Layout.size().width, "width of node2");
        assertEquals(40.0f, node2Layout.size().height, "height of node2");
        assertEquals(170.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(40.0f, node3Layout.size().width, "width of node3");
        assertEquals(40.0f, node3Layout.size().height, "height of node3");
        assertEquals(0.0f, node3Layout.location().x, "x of node3");
        assertEquals(40.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(130.0f, node4Layout.size().width, "width of node4");
        assertEquals(40.0f, node4Layout.size().height, "height of node4");
        assertEquals(40.0f, node4Layout.location().x, "x of node4");
        assertEquals(40.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(30.0f, node5Layout.size().width, "width of node5");
        assertEquals(40.0f, node5Layout.size().height, "height of node5");
        assertEquals(170.0f, node5Layout.location().x, "x of node5");
        assertEquals(40.0f, node5Layout.location().y, "y of node5");
        Layout node6Layout = tree.getLayout(node6);
        assertEquals(40.0f, node6Layout.size().width, "width of node6");
        assertEquals(40.0f, node6Layout.size().height, "height of node6");
        assertEquals(0.0f, node6Layout.location().x, "x of node6");
        assertEquals(80.0f, node6Layout.location().y, "y of node6");
        Layout node7Layout = tree.getLayout(node7);
        assertEquals(130.0f, node7Layout.size().width, "width of node7");
        assertEquals(40.0f, node7Layout.size().height, "height of node7");
        assertEquals(40.0f, node7Layout.location().x, "x of node7");
        assertEquals(80.0f, node7Layout.location().y, "y of node7");
        Layout node8Layout = tree.getLayout(node8);
        assertEquals(30.0f, node8Layout.size().width, "width of node8");
        assertEquals(40.0f, node8Layout.size().height, "height of node8");
        assertEquals(170.0f, node8Layout.location().x, "x of node8");
        assertEquals(80.0f, node8Layout.location().y, "y of node8");
    }

    @Test
    @DisplayName("grid_auto_single_item_fixed_width__content_box")
    void gridAutoSingleItemFixedWidthContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.minSize = new Size<>(Dimension.length(100.0f), Dimension.AUTO);
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        node3Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        node4Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node4 = tree.newLeaf(node4Style);

        Style node5Style = new Style();
        node5Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node5 = tree.newLeaf(node5Style);

        Style node6Style = new Style();
        node6Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node6 = tree.newLeaf(node6Style);

        Style node7Style = new Style();
        node7Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node7 = tree.newLeaf(node7Style);

        Style node8Style = new Style();
        node8Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node8 = tree.newLeaf(node8Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.size = new Size<>(Dimension.length(200.0f), Dimension.AUTO);
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.auto());
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.auto());
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5, node6, node7, node8);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(200.0f, nodeLayout.size().width, "width of node");
        assertEquals(120.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(130.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(40.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(30.0f, node2Layout.size().width, "width of node2");
        assertEquals(40.0f, node2Layout.size().height, "height of node2");
        assertEquals(170.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(40.0f, node3Layout.size().width, "width of node3");
        assertEquals(40.0f, node3Layout.size().height, "height of node3");
        assertEquals(0.0f, node3Layout.location().x, "x of node3");
        assertEquals(40.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(130.0f, node4Layout.size().width, "width of node4");
        assertEquals(40.0f, node4Layout.size().height, "height of node4");
        assertEquals(40.0f, node4Layout.location().x, "x of node4");
        assertEquals(40.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(30.0f, node5Layout.size().width, "width of node5");
        assertEquals(40.0f, node5Layout.size().height, "height of node5");
        assertEquals(170.0f, node5Layout.location().x, "x of node5");
        assertEquals(40.0f, node5Layout.location().y, "y of node5");
        Layout node6Layout = tree.getLayout(node6);
        assertEquals(40.0f, node6Layout.size().width, "width of node6");
        assertEquals(40.0f, node6Layout.size().height, "height of node6");
        assertEquals(0.0f, node6Layout.location().x, "x of node6");
        assertEquals(80.0f, node6Layout.location().y, "y of node6");
        Layout node7Layout = tree.getLayout(node7);
        assertEquals(130.0f, node7Layout.size().width, "width of node7");
        assertEquals(40.0f, node7Layout.size().height, "height of node7");
        assertEquals(40.0f, node7Layout.location().x, "x of node7");
        assertEquals(80.0f, node7Layout.location().y, "y of node7");
        Layout node8Layout = tree.getLayout(node8);
        assertEquals(30.0f, node8Layout.size().width, "width of node8");
        assertEquals(40.0f, node8Layout.size().height, "height of node8");
        assertEquals(170.0f, node8Layout.location().x, "x of node8");
        assertEquals(80.0f, node8Layout.location().y, "y of node8");
    }

    @Test
    @DisplayName("grid_auto_single_item_fixed_width_with_definite_width__border_box")
    void gridAutoSingleItemFixedWidthWithDefiniteWidthBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.size = new Size<>(Dimension.length(100.0f), Dimension.AUTO);
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        NodeId node4 = tree.newLeaf(node4Style);

        Style node5Style = new Style();
        NodeId node5 = tree.newLeaf(node5Style);

        Style node6Style = new Style();
        NodeId node6 = tree.newLeaf(node6Style);

        Style node7Style = new Style();
        NodeId node7 = tree.newLeaf(node7Style);

        Style node8Style = new Style();
        NodeId node8 = tree.newLeaf(node8Style);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.size = new Size<>(Dimension.length(200.0f), Dimension.AUTO);
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.auto());
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.auto());
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5, node6, node7, node8);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(200.0f, nodeLayout.size().width, "width of node");
        assertEquals(120.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(100.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(40.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(30.0f, node2Layout.size().width, "width of node2");
        assertEquals(40.0f, node2Layout.size().height, "height of node2");
        assertEquals(170.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(40.0f, node3Layout.size().width, "width of node3");
        assertEquals(40.0f, node3Layout.size().height, "height of node3");
        assertEquals(0.0f, node3Layout.location().x, "x of node3");
        assertEquals(40.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(130.0f, node4Layout.size().width, "width of node4");
        assertEquals(40.0f, node4Layout.size().height, "height of node4");
        assertEquals(40.0f, node4Layout.location().x, "x of node4");
        assertEquals(40.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(30.0f, node5Layout.size().width, "width of node5");
        assertEquals(40.0f, node5Layout.size().height, "height of node5");
        assertEquals(170.0f, node5Layout.location().x, "x of node5");
        assertEquals(40.0f, node5Layout.location().y, "y of node5");
        Layout node6Layout = tree.getLayout(node6);
        assertEquals(40.0f, node6Layout.size().width, "width of node6");
        assertEquals(40.0f, node6Layout.size().height, "height of node6");
        assertEquals(0.0f, node6Layout.location().x, "x of node6");
        assertEquals(80.0f, node6Layout.location().y, "y of node6");
        Layout node7Layout = tree.getLayout(node7);
        assertEquals(130.0f, node7Layout.size().width, "width of node7");
        assertEquals(40.0f, node7Layout.size().height, "height of node7");
        assertEquals(40.0f, node7Layout.location().x, "x of node7");
        assertEquals(80.0f, node7Layout.location().y, "y of node7");
        Layout node8Layout = tree.getLayout(node8);
        assertEquals(30.0f, node8Layout.size().width, "width of node8");
        assertEquals(40.0f, node8Layout.size().height, "height of node8");
        assertEquals(170.0f, node8Layout.location().x, "x of node8");
        assertEquals(80.0f, node8Layout.location().y, "y of node8");
    }

    @Test
    @DisplayName("grid_auto_single_item_fixed_width_with_definite_width__content_box")
    void gridAutoSingleItemFixedWidthWithDefiniteWidthContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.size = new Size<>(Dimension.length(100.0f), Dimension.AUTO);
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        node3Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        node4Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node4 = tree.newLeaf(node4Style);

        Style node5Style = new Style();
        node5Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node5 = tree.newLeaf(node5Style);

        Style node6Style = new Style();
        node6Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node6 = tree.newLeaf(node6Style);

        Style node7Style = new Style();
        node7Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node7 = tree.newLeaf(node7Style);

        Style node8Style = new Style();
        node8Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node8 = tree.newLeaf(node8Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.size = new Size<>(Dimension.length(200.0f), Dimension.AUTO);
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.auto());
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.auto());
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5, node6, node7, node8);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(200.0f, nodeLayout.size().width, "width of node");
        assertEquals(120.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(100.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(40.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(30.0f, node2Layout.size().width, "width of node2");
        assertEquals(40.0f, node2Layout.size().height, "height of node2");
        assertEquals(170.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(40.0f, node3Layout.size().width, "width of node3");
        assertEquals(40.0f, node3Layout.size().height, "height of node3");
        assertEquals(0.0f, node3Layout.location().x, "x of node3");
        assertEquals(40.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(130.0f, node4Layout.size().width, "width of node4");
        assertEquals(40.0f, node4Layout.size().height, "height of node4");
        assertEquals(40.0f, node4Layout.location().x, "x of node4");
        assertEquals(40.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(30.0f, node5Layout.size().width, "width of node5");
        assertEquals(40.0f, node5Layout.size().height, "height of node5");
        assertEquals(170.0f, node5Layout.location().x, "x of node5");
        assertEquals(40.0f, node5Layout.location().y, "y of node5");
        Layout node6Layout = tree.getLayout(node6);
        assertEquals(40.0f, node6Layout.size().width, "width of node6");
        assertEquals(40.0f, node6Layout.size().height, "height of node6");
        assertEquals(0.0f, node6Layout.location().x, "x of node6");
        assertEquals(80.0f, node6Layout.location().y, "y of node6");
        Layout node7Layout = tree.getLayout(node7);
        assertEquals(130.0f, node7Layout.size().width, "width of node7");
        assertEquals(40.0f, node7Layout.size().height, "height of node7");
        assertEquals(40.0f, node7Layout.location().x, "x of node7");
        assertEquals(80.0f, node7Layout.location().y, "y of node7");
        Layout node8Layout = tree.getLayout(node8);
        assertEquals(30.0f, node8Layout.size().width, "width of node8");
        assertEquals(40.0f, node8Layout.size().height, "height of node8");
        assertEquals(170.0f, node8Layout.location().x, "x of node8");
        assertEquals(80.0f, node8Layout.location().y, "y of node8");
    }

    @Test
    @DisplayName("grid_auto_takes_precedence_over_fr__border_box")
    void gridAutoTakesPrecedenceOverFrBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        NodeId node1 = tree.newLeaf(node1Style);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.size = new Size<>(Dimension.length(200.0f), Dimension.length(200.0f));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.auto());
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fr(1.0f));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(200.0f, nodeLayout.size().width, "width of node");
        assertEquals(200.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(0.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(200.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(0.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
    }

    @Test
    @DisplayName("grid_auto_takes_precedence_over_fr__content_box")
    void gridAutoTakesPrecedenceOverFrContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node1 = tree.newLeaf(node1Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.size = new Size<>(Dimension.length(200.0f), Dimension.length(200.0f));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.auto());
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fr(1.0f));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(200.0f, nodeLayout.size().width, "width of node");
        assertEquals(200.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(0.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(200.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(0.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
    }

    @Test
    @DisplayName("grid_available_space_greater_than_max_content__border_box")
    void gridAvailableSpaceGreaterThanMaxContentBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        MeasureFunc node0Measure = ahemTextMeasure("HH\u200BHH\u200BHH\u200BHH", false);
        NodeId node0 = tree.newLeafWithMeasure(node0Style, node0Measure);

        Style node1Style = new Style();
        MeasureFunc node1Measure = ahemTextMeasure("HH\u200BHH\u200BHH\u200BHH", false);
        NodeId node1 = tree.newLeafWithMeasure(node1Style, node1Measure);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.auto());
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.auto());
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, new Size<>(AvailableSpace.definite(400.0f), AvailableSpace.maxContent()));

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(160.0f, nodeLayout.size().width, "width of node");
        assertEquals(10.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(80.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(80.0f, node1Layout.size().width, "width of node1");
        assertEquals(10.0f, node1Layout.size().height, "height of node1");
        assertEquals(80.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
    }

    @Test
    @DisplayName("grid_available_space_greater_than_max_content__content_box")
    void gridAvailableSpaceGreaterThanMaxContentContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        MeasureFunc node0Measure = ahemTextMeasure("HH\u200BHH\u200BHH\u200BHH", false);
        NodeId node0 = tree.newLeafWithMeasure(node0Style, node0Measure);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        MeasureFunc node1Measure = ahemTextMeasure("HH\u200BHH\u200BHH\u200BHH", false);
        NodeId node1 = tree.newLeafWithMeasure(node1Style, node1Measure);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.auto());
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.auto());
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, new Size<>(AvailableSpace.definite(400.0f), AvailableSpace.maxContent()));

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(160.0f, nodeLayout.size().width, "width of node");
        assertEquals(10.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(80.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(80.0f, node1Layout.size().width, "width of node1");
        assertEquals(10.0f, node1Layout.size().height, "height of node1");
        assertEquals(80.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
    }

    @Test
    @DisplayName("grid_available_space_smaller_than_max_content__border_box")
    void gridAvailableSpaceSmallerThanMaxContentBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        MeasureFunc node0Measure = ahemTextMeasure("HH\u200BHH\u200BHH\u200BHH", false);
        NodeId node0 = tree.newLeafWithMeasure(node0Style, node0Measure);

        Style node1Style = new Style();
        MeasureFunc node1Measure = ahemTextMeasure("HH\u200BHH\u200BHH\u200BHH", false);
        NodeId node1 = tree.newLeafWithMeasure(node1Style, node1Measure);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.auto());
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.auto());
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, new Size<>(AvailableSpace.definite(80.0f), AvailableSpace.maxContent()));

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(80.0f, nodeLayout.size().width, "width of node");
        assertEquals(20.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(20.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(40.0f, node1Layout.size().width, "width of node1");
        assertEquals(20.0f, node1Layout.size().height, "height of node1");
        assertEquals(40.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
    }

    @Test
    @DisplayName("grid_available_space_smaller_than_max_content__content_box")
    void gridAvailableSpaceSmallerThanMaxContentContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        MeasureFunc node0Measure = ahemTextMeasure("HH\u200BHH\u200BHH\u200BHH", false);
        NodeId node0 = tree.newLeafWithMeasure(node0Style, node0Measure);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        MeasureFunc node1Measure = ahemTextMeasure("HH\u200BHH\u200BHH\u200BHH", false);
        NodeId node1 = tree.newLeafWithMeasure(node1Style, node1Measure);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.auto());
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.auto());
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, new Size<>(AvailableSpace.definite(80.0f), AvailableSpace.maxContent()));

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(80.0f, nodeLayout.size().width, "width of node");
        assertEquals(20.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(20.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(40.0f, node1Layout.size().width, "width of node1");
        assertEquals(20.0f, node1Layout.size().height, "height of node1");
        assertEquals(40.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
    }

    @Test
    @DisplayName("grid_available_space_smaller_than_min_content__border_box")
    void gridAvailableSpaceSmallerThanMinContentBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        MeasureFunc node0Measure = ahemTextMeasure("HHHH\u200BHHHH", false);
        NodeId node0 = tree.newLeafWithMeasure(node0Style, node0Measure);

        Style node1Style = new Style();
        MeasureFunc node1Measure = ahemTextMeasure("HHHH\u200BHHHH", false);
        NodeId node1 = tree.newLeafWithMeasure(node1Style, node1Measure);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.auto());
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.auto());
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, new Size<>(AvailableSpace.definite(60.0f), AvailableSpace.maxContent()));

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(80.0f, nodeLayout.size().width, "width of node");
        assertEquals(20.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(20.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(40.0f, node1Layout.size().width, "width of node1");
        assertEquals(20.0f, node1Layout.size().height, "height of node1");
        assertEquals(40.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
    }

    @Test
    @DisplayName("grid_available_space_smaller_than_min_content__content_box")
    void gridAvailableSpaceSmallerThanMinContentContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        MeasureFunc node0Measure = ahemTextMeasure("HHHH\u200BHHHH", false);
        NodeId node0 = tree.newLeafWithMeasure(node0Style, node0Measure);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        MeasureFunc node1Measure = ahemTextMeasure("HHHH\u200BHHHH", false);
        NodeId node1 = tree.newLeafWithMeasure(node1Style, node1Measure);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.auto());
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.auto());
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, new Size<>(AvailableSpace.definite(60.0f), AvailableSpace.maxContent()));

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(80.0f, nodeLayout.size().width, "width of node");
        assertEquals(20.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(20.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(40.0f, node1Layout.size().width, "width of node1");
        assertEquals(20.0f, node1Layout.size().height, "height of node1");
        assertEquals(40.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
    }

    @Test
    @DisplayName("grid_basic__border_box")
    void gridBasicBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        NodeId node4 = tree.newLeaf(node4Style);

        Style node5Style = new Style();
        NodeId node5 = tree.newLeaf(node5Style);

        Style node6Style = new Style();
        NodeId node6 = tree.newLeaf(node6Style);

        Style node7Style = new Style();
        NodeId node7 = tree.newLeaf(node7Style);

        Style node8Style = new Style();
        NodeId node8 = tree.newLeaf(node8Style);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.size = new Size<>(Dimension.length(120.0f), Dimension.length(120.0f));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5, node6, node7, node8);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(120.0f, nodeLayout.size().width, "width of node");
        assertEquals(120.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(40.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(40.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(40.0f, node2Layout.size().width, "width of node2");
        assertEquals(40.0f, node2Layout.size().height, "height of node2");
        assertEquals(80.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(40.0f, node3Layout.size().width, "width of node3");
        assertEquals(40.0f, node3Layout.size().height, "height of node3");
        assertEquals(0.0f, node3Layout.location().x, "x of node3");
        assertEquals(40.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(40.0f, node4Layout.size().width, "width of node4");
        assertEquals(40.0f, node4Layout.size().height, "height of node4");
        assertEquals(40.0f, node4Layout.location().x, "x of node4");
        assertEquals(40.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(40.0f, node5Layout.size().width, "width of node5");
        assertEquals(40.0f, node5Layout.size().height, "height of node5");
        assertEquals(80.0f, node5Layout.location().x, "x of node5");
        assertEquals(40.0f, node5Layout.location().y, "y of node5");
        Layout node6Layout = tree.getLayout(node6);
        assertEquals(40.0f, node6Layout.size().width, "width of node6");
        assertEquals(40.0f, node6Layout.size().height, "height of node6");
        assertEquals(0.0f, node6Layout.location().x, "x of node6");
        assertEquals(80.0f, node6Layout.location().y, "y of node6");
        Layout node7Layout = tree.getLayout(node7);
        assertEquals(40.0f, node7Layout.size().width, "width of node7");
        assertEquals(40.0f, node7Layout.size().height, "height of node7");
        assertEquals(40.0f, node7Layout.location().x, "x of node7");
        assertEquals(80.0f, node7Layout.location().y, "y of node7");
        Layout node8Layout = tree.getLayout(node8);
        assertEquals(40.0f, node8Layout.size().width, "width of node8");
        assertEquals(40.0f, node8Layout.size().height, "height of node8");
        assertEquals(80.0f, node8Layout.location().x, "x of node8");
        assertEquals(80.0f, node8Layout.location().y, "y of node8");
    }

    @Test
    @DisplayName("grid_basic__content_box")
    void gridBasicContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        node3Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        node4Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node4 = tree.newLeaf(node4Style);

        Style node5Style = new Style();
        node5Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node5 = tree.newLeaf(node5Style);

        Style node6Style = new Style();
        node6Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node6 = tree.newLeaf(node6Style);

        Style node7Style = new Style();
        node7Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node7 = tree.newLeaf(node7Style);

        Style node8Style = new Style();
        node8Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node8 = tree.newLeaf(node8Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.size = new Size<>(Dimension.length(120.0f), Dimension.length(120.0f));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5, node6, node7, node8);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(120.0f, nodeLayout.size().width, "width of node");
        assertEquals(120.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(40.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(40.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(40.0f, node2Layout.size().width, "width of node2");
        assertEquals(40.0f, node2Layout.size().height, "height of node2");
        assertEquals(80.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(40.0f, node3Layout.size().width, "width of node3");
        assertEquals(40.0f, node3Layout.size().height, "height of node3");
        assertEquals(0.0f, node3Layout.location().x, "x of node3");
        assertEquals(40.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(40.0f, node4Layout.size().width, "width of node4");
        assertEquals(40.0f, node4Layout.size().height, "height of node4");
        assertEquals(40.0f, node4Layout.location().x, "x of node4");
        assertEquals(40.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(40.0f, node5Layout.size().width, "width of node5");
        assertEquals(40.0f, node5Layout.size().height, "height of node5");
        assertEquals(80.0f, node5Layout.location().x, "x of node5");
        assertEquals(40.0f, node5Layout.location().y, "y of node5");
        Layout node6Layout = tree.getLayout(node6);
        assertEquals(40.0f, node6Layout.size().width, "width of node6");
        assertEquals(40.0f, node6Layout.size().height, "height of node6");
        assertEquals(0.0f, node6Layout.location().x, "x of node6");
        assertEquals(80.0f, node6Layout.location().y, "y of node6");
        Layout node7Layout = tree.getLayout(node7);
        assertEquals(40.0f, node7Layout.size().width, "width of node7");
        assertEquals(40.0f, node7Layout.size().height, "height of node7");
        assertEquals(40.0f, node7Layout.location().x, "x of node7");
        assertEquals(80.0f, node7Layout.location().y, "y of node7");
        Layout node8Layout = tree.getLayout(node8);
        assertEquals(40.0f, node8Layout.size().width, "width of node8");
        assertEquals(40.0f, node8Layout.size().height, "height of node8");
        assertEquals(80.0f, node8Layout.location().x, "x of node8");
        assertEquals(80.0f, node8Layout.location().y, "y of node8");
    }

    @Test
    @DisplayName("grid_basic_implicit_tracks__border_box")
    void gridBasicImplicitTracksBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.size = new Size<>(Dimension.length(35.0f), Dimension.length(35.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(40.0f, nodeLayout.size().width, "width of node");
        assertEquals(75.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(35.0f, node1Layout.size().width, "width of node1");
        assertEquals(35.0f, node1Layout.size().height, "height of node1");
        assertEquals(0.0f, node1Layout.location().x, "x of node1");
        assertEquals(40.0f, node1Layout.location().y, "y of node1");
    }

    @Test
    @DisplayName("grid_basic_implicit_tracks__content_box")
    void gridBasicImplicitTracksContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.size = new Size<>(Dimension.length(35.0f), Dimension.length(35.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(40.0f, nodeLayout.size().width, "width of node");
        assertEquals(75.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(35.0f, node1Layout.size().width, "width of node1");
        assertEquals(35.0f, node1Layout.size().height, "height of node1");
        assertEquals(0.0f, node1Layout.location().x, "x of node1");
        assertEquals(40.0f, node1Layout.location().y, "y of node1");
    }

    @Test
    @DisplayName("grid_basic_with_overflow__border_box")
    void gridBasicWithOverflowBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        NodeId node4 = tree.newLeaf(node4Style);

        Style node5Style = new Style();
        NodeId node5 = tree.newLeaf(node5Style);

        Style node6Style = new Style();
        NodeId node6 = tree.newLeaf(node6Style);

        Style node7Style = new Style();
        NodeId node7 = tree.newLeaf(node7Style);

        Style node8Style = new Style();
        NodeId node8 = tree.newLeaf(node8Style);

        Style node9Style = new Style();
        NodeId node9 = tree.newLeaf(node9Style);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.size = new Size<>(Dimension.length(120.0f), Dimension.length(120.0f));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5, node6, node7, node8, node9);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(120.0f, nodeLayout.size().width, "width of node");
        assertEquals(120.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(40.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(40.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(40.0f, node2Layout.size().width, "width of node2");
        assertEquals(40.0f, node2Layout.size().height, "height of node2");
        assertEquals(80.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(40.0f, node3Layout.size().width, "width of node3");
        assertEquals(40.0f, node3Layout.size().height, "height of node3");
        assertEquals(0.0f, node3Layout.location().x, "x of node3");
        assertEquals(40.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(40.0f, node4Layout.size().width, "width of node4");
        assertEquals(40.0f, node4Layout.size().height, "height of node4");
        assertEquals(40.0f, node4Layout.location().x, "x of node4");
        assertEquals(40.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(40.0f, node5Layout.size().width, "width of node5");
        assertEquals(40.0f, node5Layout.size().height, "height of node5");
        assertEquals(80.0f, node5Layout.location().x, "x of node5");
        assertEquals(40.0f, node5Layout.location().y, "y of node5");
        Layout node6Layout = tree.getLayout(node6);
        assertEquals(40.0f, node6Layout.size().width, "width of node6");
        assertEquals(40.0f, node6Layout.size().height, "height of node6");
        assertEquals(0.0f, node6Layout.location().x, "x of node6");
        assertEquals(80.0f, node6Layout.location().y, "y of node6");
        Layout node7Layout = tree.getLayout(node7);
        assertEquals(40.0f, node7Layout.size().width, "width of node7");
        assertEquals(40.0f, node7Layout.size().height, "height of node7");
        assertEquals(40.0f, node7Layout.location().x, "x of node7");
        assertEquals(80.0f, node7Layout.location().y, "y of node7");
        Layout node8Layout = tree.getLayout(node8);
        assertEquals(40.0f, node8Layout.size().width, "width of node8");
        assertEquals(40.0f, node8Layout.size().height, "height of node8");
        assertEquals(80.0f, node8Layout.location().x, "x of node8");
        assertEquals(80.0f, node8Layout.location().y, "y of node8");
        Layout node9Layout = tree.getLayout(node9);
        assertEquals(40.0f, node9Layout.size().width, "width of node9");
        assertEquals(0.0f, node9Layout.size().height, "height of node9");
        assertEquals(0.0f, node9Layout.location().x, "x of node9");
        assertEquals(120.0f, node9Layout.location().y, "y of node9");
    }

    @Test
    @DisplayName("grid_basic_with_overflow__content_box")
    void gridBasicWithOverflowContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        node3Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        node4Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node4 = tree.newLeaf(node4Style);

        Style node5Style = new Style();
        node5Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node5 = tree.newLeaf(node5Style);

        Style node6Style = new Style();
        node6Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node6 = tree.newLeaf(node6Style);

        Style node7Style = new Style();
        node7Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node7 = tree.newLeaf(node7Style);

        Style node8Style = new Style();
        node8Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node8 = tree.newLeaf(node8Style);

        Style node9Style = new Style();
        node9Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node9 = tree.newLeaf(node9Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.size = new Size<>(Dimension.length(120.0f), Dimension.length(120.0f));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5, node6, node7, node8, node9);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(120.0f, nodeLayout.size().width, "width of node");
        assertEquals(120.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(40.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(40.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(40.0f, node2Layout.size().width, "width of node2");
        assertEquals(40.0f, node2Layout.size().height, "height of node2");
        assertEquals(80.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(40.0f, node3Layout.size().width, "width of node3");
        assertEquals(40.0f, node3Layout.size().height, "height of node3");
        assertEquals(0.0f, node3Layout.location().x, "x of node3");
        assertEquals(40.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(40.0f, node4Layout.size().width, "width of node4");
        assertEquals(40.0f, node4Layout.size().height, "height of node4");
        assertEquals(40.0f, node4Layout.location().x, "x of node4");
        assertEquals(40.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(40.0f, node5Layout.size().width, "width of node5");
        assertEquals(40.0f, node5Layout.size().height, "height of node5");
        assertEquals(80.0f, node5Layout.location().x, "x of node5");
        assertEquals(40.0f, node5Layout.location().y, "y of node5");
        Layout node6Layout = tree.getLayout(node6);
        assertEquals(40.0f, node6Layout.size().width, "width of node6");
        assertEquals(40.0f, node6Layout.size().height, "height of node6");
        assertEquals(0.0f, node6Layout.location().x, "x of node6");
        assertEquals(80.0f, node6Layout.location().y, "y of node6");
        Layout node7Layout = tree.getLayout(node7);
        assertEquals(40.0f, node7Layout.size().width, "width of node7");
        assertEquals(40.0f, node7Layout.size().height, "height of node7");
        assertEquals(40.0f, node7Layout.location().x, "x of node7");
        assertEquals(80.0f, node7Layout.location().y, "y of node7");
        Layout node8Layout = tree.getLayout(node8);
        assertEquals(40.0f, node8Layout.size().width, "width of node8");
        assertEquals(40.0f, node8Layout.size().height, "height of node8");
        assertEquals(80.0f, node8Layout.location().x, "x of node8");
        assertEquals(80.0f, node8Layout.location().y, "y of node8");
        Layout node9Layout = tree.getLayout(node9);
        assertEquals(40.0f, node9Layout.size().width, "width of node9");
        assertEquals(0.0f, node9Layout.size().height, "height of node9");
        assertEquals(0.0f, node9Layout.location().x, "x of node9");
        assertEquals(120.0f, node9Layout.location().y, "y of node9");
    }

    @Test
    @DisplayName("grid_basic_with_padding__border_box")
    void gridBasicWithPaddingBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        NodeId node4 = tree.newLeaf(node4Style);

        Style node5Style = new Style();
        NodeId node5 = tree.newLeaf(node5Style);

        Style node6Style = new Style();
        NodeId node6 = tree.newLeaf(node6Style);

        Style node7Style = new Style();
        NodeId node7 = tree.newLeaf(node7Style);

        Style node8Style = new Style();
        NodeId node8 = tree.newLeaf(node8Style);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.padding = new Rect<>(LengthPercentage.length(40.0f), LengthPercentage.length(20.0f), LengthPercentage.length(10.0f), LengthPercentage.length(30.0f));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5, node6, node7, node8);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(180.0f, nodeLayout.size().width, "width of node");
        assertEquals(160.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(40.0f, node0Layout.location().x, "x of node0");
        assertEquals(10.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(40.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(80.0f, node1Layout.location().x, "x of node1");
        assertEquals(10.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(40.0f, node2Layout.size().width, "width of node2");
        assertEquals(40.0f, node2Layout.size().height, "height of node2");
        assertEquals(120.0f, node2Layout.location().x, "x of node2");
        assertEquals(10.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(40.0f, node3Layout.size().width, "width of node3");
        assertEquals(40.0f, node3Layout.size().height, "height of node3");
        assertEquals(40.0f, node3Layout.location().x, "x of node3");
        assertEquals(50.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(40.0f, node4Layout.size().width, "width of node4");
        assertEquals(40.0f, node4Layout.size().height, "height of node4");
        assertEquals(80.0f, node4Layout.location().x, "x of node4");
        assertEquals(50.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(40.0f, node5Layout.size().width, "width of node5");
        assertEquals(40.0f, node5Layout.size().height, "height of node5");
        assertEquals(120.0f, node5Layout.location().x, "x of node5");
        assertEquals(50.0f, node5Layout.location().y, "y of node5");
        Layout node6Layout = tree.getLayout(node6);
        assertEquals(40.0f, node6Layout.size().width, "width of node6");
        assertEquals(40.0f, node6Layout.size().height, "height of node6");
        assertEquals(40.0f, node6Layout.location().x, "x of node6");
        assertEquals(90.0f, node6Layout.location().y, "y of node6");
        Layout node7Layout = tree.getLayout(node7);
        assertEquals(40.0f, node7Layout.size().width, "width of node7");
        assertEquals(40.0f, node7Layout.size().height, "height of node7");
        assertEquals(80.0f, node7Layout.location().x, "x of node7");
        assertEquals(90.0f, node7Layout.location().y, "y of node7");
        Layout node8Layout = tree.getLayout(node8);
        assertEquals(40.0f, node8Layout.size().width, "width of node8");
        assertEquals(40.0f, node8Layout.size().height, "height of node8");
        assertEquals(120.0f, node8Layout.location().x, "x of node8");
        assertEquals(90.0f, node8Layout.location().y, "y of node8");
    }

    @Test
    @DisplayName("grid_basic_with_padding__content_box")
    void gridBasicWithPaddingContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        node3Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        node4Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node4 = tree.newLeaf(node4Style);

        Style node5Style = new Style();
        node5Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node5 = tree.newLeaf(node5Style);

        Style node6Style = new Style();
        node6Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node6 = tree.newLeaf(node6Style);

        Style node7Style = new Style();
        node7Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node7 = tree.newLeaf(node7Style);

        Style node8Style = new Style();
        node8Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node8 = tree.newLeaf(node8Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.padding = new Rect<>(LengthPercentage.length(40.0f), LengthPercentage.length(20.0f), LengthPercentage.length(10.0f), LengthPercentage.length(30.0f));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5, node6, node7, node8);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(180.0f, nodeLayout.size().width, "width of node");
        assertEquals(160.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(40.0f, node0Layout.location().x, "x of node0");
        assertEquals(10.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(40.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(80.0f, node1Layout.location().x, "x of node1");
        assertEquals(10.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(40.0f, node2Layout.size().width, "width of node2");
        assertEquals(40.0f, node2Layout.size().height, "height of node2");
        assertEquals(120.0f, node2Layout.location().x, "x of node2");
        assertEquals(10.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(40.0f, node3Layout.size().width, "width of node3");
        assertEquals(40.0f, node3Layout.size().height, "height of node3");
        assertEquals(40.0f, node3Layout.location().x, "x of node3");
        assertEquals(50.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(40.0f, node4Layout.size().width, "width of node4");
        assertEquals(40.0f, node4Layout.size().height, "height of node4");
        assertEquals(80.0f, node4Layout.location().x, "x of node4");
        assertEquals(50.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(40.0f, node5Layout.size().width, "width of node5");
        assertEquals(40.0f, node5Layout.size().height, "height of node5");
        assertEquals(120.0f, node5Layout.location().x, "x of node5");
        assertEquals(50.0f, node5Layout.location().y, "y of node5");
        Layout node6Layout = tree.getLayout(node6);
        assertEquals(40.0f, node6Layout.size().width, "width of node6");
        assertEquals(40.0f, node6Layout.size().height, "height of node6");
        assertEquals(40.0f, node6Layout.location().x, "x of node6");
        assertEquals(90.0f, node6Layout.location().y, "y of node6");
        Layout node7Layout = tree.getLayout(node7);
        assertEquals(40.0f, node7Layout.size().width, "width of node7");
        assertEquals(40.0f, node7Layout.size().height, "height of node7");
        assertEquals(80.0f, node7Layout.location().x, "x of node7");
        assertEquals(90.0f, node7Layout.location().y, "y of node7");
        Layout node8Layout = tree.getLayout(node8);
        assertEquals(40.0f, node8Layout.size().width, "width of node8");
        assertEquals(40.0f, node8Layout.size().height, "height of node8");
        assertEquals(120.0f, node8Layout.location().x, "x of node8");
        assertEquals(90.0f, node8Layout.location().y, "y of node8");
    }

    @Test
    @DisplayName("grid_display_none_fixed_size__border_box")
    void gridDisplayNoneFixedSizeBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.flexGrow = 1.0f;
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.display = Display.NONE;
        node1Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(100.0f, node0Layout.size().width, "width of node0");
        assertEquals(100.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(0.0f, node1Layout.size().width, "width of node1");
        assertEquals(0.0f, node1Layout.size().height, "height of node1");
        assertEquals(0.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
    }

    @Test
    @DisplayName("grid_display_none_fixed_size__content_box")
    void gridDisplayNoneFixedSizeContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.flexGrow = 1.0f;
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.display = Display.NONE;
        node1Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(100.0f, node0Layout.size().width, "width of node0");
        assertEquals(100.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(0.0f, node1Layout.size().width, "width of node1");
        assertEquals(0.0f, node1Layout.size().height, "height of node1");
        assertEquals(0.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
    }

    @Test
    @DisplayName("grid_fit_content_percent_definite_argument__border_box")
    void gridFitContentPercentDefiniteArgumentBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        MeasureFunc node0Measure = ahemTextMeasure("HH\u200BHH", false);
        NodeId node0 = tree.newLeafWithMeasure(node0Style, node0Measure);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.size = new Size<>(Dimension.length(60.0f), Dimension.AUTO);
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fitContent(LengthPercentage.percent(0.5f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(60.0f, nodeLayout.size().width, "width of node");
        assertEquals(40.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(30.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("grid_fit_content_percent_definite_argument__content_box")
    void gridFitContentPercentDefiniteArgumentContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        MeasureFunc node0Measure = ahemTextMeasure("HH\u200BHH", false);
        NodeId node0 = tree.newLeafWithMeasure(node0Style, node0Measure);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.size = new Size<>(Dimension.length(60.0f), Dimension.AUTO);
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fitContent(LengthPercentage.percent(0.5f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(60.0f, nodeLayout.size().width, "width of node");
        assertEquals(40.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(30.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("grid_fit_content_percent_definite_max_content__border_box")
    void gridFitContentPercentDefiniteMaxContentBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        MeasureFunc node0Measure = ahemTextMeasure("HH", false);
        NodeId node0 = tree.newLeafWithMeasure(node0Style, node0Measure);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.size = new Size<>(Dimension.length(60.0f), Dimension.AUTO);
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fitContent(LengthPercentage.percent(0.5f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(60.0f, nodeLayout.size().width, "width of node");
        assertEquals(40.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(20.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("grid_fit_content_percent_definite_max_content__content_box")
    void gridFitContentPercentDefiniteMaxContentContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        MeasureFunc node0Measure = ahemTextMeasure("HH", false);
        NodeId node0 = tree.newLeafWithMeasure(node0Style, node0Measure);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.size = new Size<>(Dimension.length(60.0f), Dimension.AUTO);
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fitContent(LengthPercentage.percent(0.5f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(60.0f, nodeLayout.size().width, "width of node");
        assertEquals(40.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(20.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("grid_fit_content_percent_definite_min_content__border_box")
    void gridFitContentPercentDefiniteMinContentBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        MeasureFunc node0Measure = ahemTextMeasure("HHHH\u200BHH", false);
        NodeId node0 = tree.newLeafWithMeasure(node0Style, node0Measure);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.size = new Size<>(Dimension.length(60.0f), Dimension.AUTO);
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fitContent(LengthPercentage.percent(0.5f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(60.0f, nodeLayout.size().width, "width of node");
        assertEquals(40.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("grid_fit_content_percent_definite_min_content__content_box")
    void gridFitContentPercentDefiniteMinContentContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        MeasureFunc node0Measure = ahemTextMeasure("HHHH\u200BHH", false);
        NodeId node0 = tree.newLeafWithMeasure(node0Style, node0Measure);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.size = new Size<>(Dimension.length(60.0f), Dimension.AUTO);
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fitContent(LengthPercentage.percent(0.5f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(60.0f, nodeLayout.size().width, "width of node");
        assertEquals(40.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("grid_fit_content_percent_indefinite_argument__border_box")
    void gridFitContentPercentIndefiniteArgumentBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        MeasureFunc node0Measure = ahemTextMeasure("HH\u200BHH\u200BHH", false);
        NodeId node0 = tree.newLeafWithMeasure(node0Style, node0Measure);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fitContent(LengthPercentage.percent(0.5f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(60.0f, nodeLayout.size().width, "width of node");
        assertEquals(40.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(30.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("grid_fit_content_percent_indefinite_argument__content_box")
    void gridFitContentPercentIndefiniteArgumentContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        MeasureFunc node0Measure = ahemTextMeasure("HH\u200BHH\u200BHH", false);
        NodeId node0 = tree.newLeafWithMeasure(node0Style, node0Measure);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fitContent(LengthPercentage.percent(0.5f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(60.0f, nodeLayout.size().width, "width of node");
        assertEquals(40.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(30.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("grid_fit_content_percent_indefinite_max_content__border_box")
    void gridFitContentPercentIndefiniteMaxContentBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        MeasureFunc node0Measure = ahemTextMeasure("HH", false);
        NodeId node0 = tree.newLeafWithMeasure(node0Style, node0Measure);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fitContent(LengthPercentage.percent(0.5f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(20.0f, nodeLayout.size().width, "width of node");
        assertEquals(40.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(20.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("grid_fit_content_percent_indefinite_max_content__content_box")
    void gridFitContentPercentIndefiniteMaxContentContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        MeasureFunc node0Measure = ahemTextMeasure("HH", false);
        NodeId node0 = tree.newLeafWithMeasure(node0Style, node0Measure);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fitContent(LengthPercentage.percent(0.5f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(20.0f, nodeLayout.size().width, "width of node");
        assertEquals(40.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(20.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("grid_fit_content_percent_indefinite_max_content_hidden__border_box")
    void gridFitContentPercentIndefiniteMaxContentHiddenBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.overflow = new Point<>(Overflow.HIDDEN, Overflow.HIDDEN);
        MeasureFunc node0Measure = ahemTextMeasure("HH", false);
        NodeId node0 = tree.newLeafWithMeasure(node0Style, node0Measure);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fitContent(LengthPercentage.percent(0.5f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(20.0f, nodeLayout.size().width, "width of node");
        assertEquals(40.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(10.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("grid_fit_content_percent_indefinite_max_content_hidden__content_box")
    void gridFitContentPercentIndefiniteMaxContentHiddenContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.overflow = new Point<>(Overflow.HIDDEN, Overflow.HIDDEN);
        MeasureFunc node0Measure = ahemTextMeasure("HH", false);
        NodeId node0 = tree.newLeafWithMeasure(node0Style, node0Measure);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fitContent(LengthPercentage.percent(0.5f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(20.0f, nodeLayout.size().width, "width of node");
        assertEquals(40.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(10.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("grid_fit_content_percent_indefinite_min_content__border_box")
    void gridFitContentPercentIndefiniteMinContentBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        MeasureFunc node0Measure = ahemTextMeasure("HHHH\u200BHH", false);
        NodeId node0 = tree.newLeafWithMeasure(node0Style, node0Measure);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fitContent(LengthPercentage.percent(0.5f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(60.0f, nodeLayout.size().width, "width of node");
        assertEquals(40.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("grid_fit_content_percent_indefinite_min_content__content_box")
    void gridFitContentPercentIndefiniteMinContentContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        MeasureFunc node0Measure = ahemTextMeasure("HHHH\u200BHH", false);
        NodeId node0 = tree.newLeafWithMeasure(node0Style, node0Measure);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fitContent(LengthPercentage.percent(0.5f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(60.0f, nodeLayout.size().width, "width of node");
        assertEquals(40.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("grid_fit_content_percent_indefinite_min_content_hidden__border_box")
    void gridFitContentPercentIndefiniteMinContentHiddenBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.overflow = new Point<>(Overflow.HIDDEN, Overflow.HIDDEN);
        MeasureFunc node0Measure = ahemTextMeasure("HHHH\u200BHH", false);
        NodeId node0 = tree.newLeafWithMeasure(node0Style, node0Measure);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fitContent(LengthPercentage.percent(0.5f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(60.0f, nodeLayout.size().width, "width of node");
        assertEquals(40.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(30.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("grid_fit_content_percent_indefinite_min_content_hidden__content_box")
    void gridFitContentPercentIndefiniteMinContentHiddenContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.overflow = new Point<>(Overflow.HIDDEN, Overflow.HIDDEN);
        MeasureFunc node0Measure = ahemTextMeasure("HHHH\u200BHH", false);
        NodeId node0 = tree.newLeafWithMeasure(node0Style, node0Measure);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fitContent(LengthPercentage.percent(0.5f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(60.0f, nodeLayout.size().width, "width of node");
        assertEquals(40.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(30.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("grid_fit_content_points_argument__border_box")
    void gridFitContentPointsArgumentBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        MeasureFunc node0Measure = ahemTextMeasure("HH\u200BHH", false);
        NodeId node0 = tree.newLeafWithMeasure(node0Style, node0Measure);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fitContent(LengthPercentage.length(30.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(30.0f, nodeLayout.size().width, "width of node");
        assertEquals(40.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(30.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("grid_fit_content_points_argument__content_box")
    void gridFitContentPointsArgumentContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        MeasureFunc node0Measure = ahemTextMeasure("HH\u200BHH", false);
        NodeId node0 = tree.newLeafWithMeasure(node0Style, node0Measure);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fitContent(LengthPercentage.length(30.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(30.0f, nodeLayout.size().width, "width of node");
        assertEquals(40.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(30.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("grid_fit_content_points_max_content__border_box")
    void gridFitContentPointsMaxContentBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        MeasureFunc node0Measure = ahemTextMeasure("HH", false);
        NodeId node0 = tree.newLeafWithMeasure(node0Style, node0Measure);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fitContent(LengthPercentage.length(30.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(20.0f, nodeLayout.size().width, "width of node");
        assertEquals(40.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(20.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("grid_fit_content_points_max_content__content_box")
    void gridFitContentPointsMaxContentContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        MeasureFunc node0Measure = ahemTextMeasure("HH", false);
        NodeId node0 = tree.newLeafWithMeasure(node0Style, node0Measure);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fitContent(LengthPercentage.length(30.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(20.0f, nodeLayout.size().width, "width of node");
        assertEquals(40.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(20.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("grid_fit_content_points_min_content__border_box")
    void gridFitContentPointsMinContentBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        MeasureFunc node0Measure = ahemTextMeasure("HHHH\u200BHH", false);
        NodeId node0 = tree.newLeafWithMeasure(node0Style, node0Measure);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fitContent(LengthPercentage.length(30.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(40.0f, nodeLayout.size().width, "width of node");
        assertEquals(40.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("grid_fit_content_points_min_content__content_box")
    void gridFitContentPointsMinContentContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        MeasureFunc node0Measure = ahemTextMeasure("HHHH\u200BHH", false);
        NodeId node0 = tree.newLeafWithMeasure(node0Style, node0Measure);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fitContent(LengthPercentage.length(30.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(40.0f, nodeLayout.size().width, "width of node");
        assertEquals(40.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("grid_fit_content_points_min_content_hidden__border_box")
    void gridFitContentPointsMinContentHiddenBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.overflow = new Point<>(Overflow.HIDDEN, Overflow.HIDDEN);
        MeasureFunc node0Measure = ahemTextMeasure("HHHH\u200BHH", false);
        NodeId node0 = tree.newLeafWithMeasure(node0Style, node0Measure);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fitContent(LengthPercentage.length(30.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(30.0f, nodeLayout.size().width, "width of node");
        assertEquals(40.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(30.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("grid_fit_content_points_min_content_hidden__content_box")
    void gridFitContentPointsMinContentHiddenContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.overflow = new Point<>(Overflow.HIDDEN, Overflow.HIDDEN);
        MeasureFunc node0Measure = ahemTextMeasure("HHHH\u200BHH", false);
        NodeId node0 = tree.newLeafWithMeasure(node0Style, node0Measure);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fitContent(LengthPercentage.length(30.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(30.0f, nodeLayout.size().width, "width of node");
        assertEquals(40.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(30.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("grid_fr_fixed_size_no_content_proportions__border_box")
    void gridFrFixedSizeNoContentProportionsBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        NodeId node2 = tree.newLeaf(node2Style);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.size = new Size<>(Dimension.length(200.0f), Dimension.AUTO);
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fr(1.0f));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fr(2.0f));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fr(3.0f));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(200.0f, nodeLayout.size().width, "width of node");
        assertEquals(40.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(33.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(67.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(33.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(100.0f, node2Layout.size().width, "width of node2");
        assertEquals(40.0f, node2Layout.size().height, "height of node2");
        assertEquals(100.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
    }

    @Test
    @DisplayName("grid_fr_fixed_size_no_content_proportions__content_box")
    void gridFrFixedSizeNoContentProportionsContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node2 = tree.newLeaf(node2Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.size = new Size<>(Dimension.length(200.0f), Dimension.AUTO);
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fr(1.0f));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fr(2.0f));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fr(3.0f));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(200.0f, nodeLayout.size().width, "width of node");
        assertEquals(40.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(33.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(67.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(33.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(100.0f, node2Layout.size().width, "width of node2");
        assertEquals(40.0f, node2Layout.size().height, "height of node2");
        assertEquals(100.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
    }

    @Test
    @DisplayName("grid_fr_fixed_size_no_content_proportions_sub_1_sum__border_box")
    void gridFrFixedSizeNoContentProportionsSub1SumBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        NodeId node1 = tree.newLeaf(node1Style);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.AUTO);
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fr(0.3f));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fr(0.2f));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(40.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(30.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(20.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(30.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
    }

    @Test
    @DisplayName("grid_fr_fixed_size_no_content_proportions_sub_1_sum__content_box")
    void gridFrFixedSizeNoContentProportionsSub1SumContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node1 = tree.newLeaf(node1Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.AUTO);
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fr(0.3f));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fr(0.2f));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(40.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(30.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(20.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(30.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
    }

    @Test
    @DisplayName("grid_fr_fixed_size_single_item__border_box")
    void gridFrFixedSizeSingleItemBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        node4Style.size = new Size<>(Dimension.length(100.0f), Dimension.AUTO);
        NodeId node4 = tree.newLeaf(node4Style);

        Style node5Style = new Style();
        NodeId node5 = tree.newLeaf(node5Style);

        Style node6Style = new Style();
        NodeId node6 = tree.newLeaf(node6Style);

        Style node7Style = new Style();
        NodeId node7 = tree.newLeaf(node7Style);

        Style node8Style = new Style();
        NodeId node8 = tree.newLeaf(node8Style);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.size = new Size<>(Dimension.length(200.0f), Dimension.length(200.0f));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fr(1.0f));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fr(1.0f));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fr(1.0f));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fr(1.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5, node6, node7, node8);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(200.0f, nodeLayout.size().width, "width of node");
        assertEquals(200.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(100.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(40.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(60.0f, node2Layout.size().width, "width of node2");
        assertEquals(40.0f, node2Layout.size().height, "height of node2");
        assertEquals(140.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(40.0f, node3Layout.size().width, "width of node3");
        assertEquals(80.0f, node3Layout.size().height, "height of node3");
        assertEquals(0.0f, node3Layout.location().x, "x of node3");
        assertEquals(40.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(100.0f, node4Layout.size().width, "width of node4");
        assertEquals(80.0f, node4Layout.size().height, "height of node4");
        assertEquals(40.0f, node4Layout.location().x, "x of node4");
        assertEquals(40.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(60.0f, node5Layout.size().width, "width of node5");
        assertEquals(80.0f, node5Layout.size().height, "height of node5");
        assertEquals(140.0f, node5Layout.location().x, "x of node5");
        assertEquals(40.0f, node5Layout.location().y, "y of node5");
        Layout node6Layout = tree.getLayout(node6);
        assertEquals(40.0f, node6Layout.size().width, "width of node6");
        assertEquals(80.0f, node6Layout.size().height, "height of node6");
        assertEquals(0.0f, node6Layout.location().x, "x of node6");
        assertEquals(120.0f, node6Layout.location().y, "y of node6");
        Layout node7Layout = tree.getLayout(node7);
        assertEquals(100.0f, node7Layout.size().width, "width of node7");
        assertEquals(80.0f, node7Layout.size().height, "height of node7");
        assertEquals(40.0f, node7Layout.location().x, "x of node7");
        assertEquals(120.0f, node7Layout.location().y, "y of node7");
        Layout node8Layout = tree.getLayout(node8);
        assertEquals(60.0f, node8Layout.size().width, "width of node8");
        assertEquals(80.0f, node8Layout.size().height, "height of node8");
        assertEquals(140.0f, node8Layout.location().x, "x of node8");
        assertEquals(120.0f, node8Layout.location().y, "y of node8");
    }

    @Test
    @DisplayName("grid_fr_fixed_size_single_item__content_box")
    void gridFrFixedSizeSingleItemContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        node3Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        node4Style.boxSizing = BoxSizing.CONTENT_BOX;
        node4Style.size = new Size<>(Dimension.length(100.0f), Dimension.AUTO);
        NodeId node4 = tree.newLeaf(node4Style);

        Style node5Style = new Style();
        node5Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node5 = tree.newLeaf(node5Style);

        Style node6Style = new Style();
        node6Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node6 = tree.newLeaf(node6Style);

        Style node7Style = new Style();
        node7Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node7 = tree.newLeaf(node7Style);

        Style node8Style = new Style();
        node8Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node8 = tree.newLeaf(node8Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.size = new Size<>(Dimension.length(200.0f), Dimension.length(200.0f));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fr(1.0f));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fr(1.0f));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fr(1.0f));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fr(1.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5, node6, node7, node8);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(200.0f, nodeLayout.size().width, "width of node");
        assertEquals(200.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(100.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(40.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(60.0f, node2Layout.size().width, "width of node2");
        assertEquals(40.0f, node2Layout.size().height, "height of node2");
        assertEquals(140.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(40.0f, node3Layout.size().width, "width of node3");
        assertEquals(80.0f, node3Layout.size().height, "height of node3");
        assertEquals(0.0f, node3Layout.location().x, "x of node3");
        assertEquals(40.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(100.0f, node4Layout.size().width, "width of node4");
        assertEquals(80.0f, node4Layout.size().height, "height of node4");
        assertEquals(40.0f, node4Layout.location().x, "x of node4");
        assertEquals(40.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(60.0f, node5Layout.size().width, "width of node5");
        assertEquals(80.0f, node5Layout.size().height, "height of node5");
        assertEquals(140.0f, node5Layout.location().x, "x of node5");
        assertEquals(40.0f, node5Layout.location().y, "y of node5");
        Layout node6Layout = tree.getLayout(node6);
        assertEquals(40.0f, node6Layout.size().width, "width of node6");
        assertEquals(80.0f, node6Layout.size().height, "height of node6");
        assertEquals(0.0f, node6Layout.location().x, "x of node6");
        assertEquals(120.0f, node6Layout.location().y, "y of node6");
        Layout node7Layout = tree.getLayout(node7);
        assertEquals(100.0f, node7Layout.size().width, "width of node7");
        assertEquals(80.0f, node7Layout.size().height, "height of node7");
        assertEquals(40.0f, node7Layout.location().x, "x of node7");
        assertEquals(120.0f, node7Layout.location().y, "y of node7");
        Layout node8Layout = tree.getLayout(node8);
        assertEquals(60.0f, node8Layout.size().width, "width of node8");
        assertEquals(80.0f, node8Layout.size().height, "height of node8");
        assertEquals(140.0f, node8Layout.location().x, "x of node8");
        assertEquals(120.0f, node8Layout.location().y, "y of node8");
    }

    @Test
    @DisplayName("grid_fr_no_sized_items_indefinite__border_box")
    void gridFrNoSizedItemsIndefiniteBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        NodeId node4 = tree.newLeaf(node4Style);

        Style node5Style = new Style();
        NodeId node5 = tree.newLeaf(node5Style);

        Style node6Style = new Style();
        NodeId node6 = tree.newLeaf(node6Style);

        Style node7Style = new Style();
        NodeId node7 = tree.newLeaf(node7Style);

        Style node8Style = new Style();
        NodeId node8 = tree.newLeaf(node8Style);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fr(1.0f));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fr(1.0f));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fr(1.0f));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fr(1.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5, node6, node7, node8);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(40.0f, nodeLayout.size().width, "width of node");
        assertEquals(40.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(0.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(40.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(0.0f, node2Layout.size().width, "width of node2");
        assertEquals(40.0f, node2Layout.size().height, "height of node2");
        assertEquals(40.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(40.0f, node3Layout.size().width, "width of node3");
        assertEquals(0.0f, node3Layout.size().height, "height of node3");
        assertEquals(0.0f, node3Layout.location().x, "x of node3");
        assertEquals(40.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(0.0f, node4Layout.size().width, "width of node4");
        assertEquals(0.0f, node4Layout.size().height, "height of node4");
        assertEquals(40.0f, node4Layout.location().x, "x of node4");
        assertEquals(40.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(0.0f, node5Layout.size().width, "width of node5");
        assertEquals(0.0f, node5Layout.size().height, "height of node5");
        assertEquals(40.0f, node5Layout.location().x, "x of node5");
        assertEquals(40.0f, node5Layout.location().y, "y of node5");
        Layout node6Layout = tree.getLayout(node6);
        assertEquals(40.0f, node6Layout.size().width, "width of node6");
        assertEquals(0.0f, node6Layout.size().height, "height of node6");
        assertEquals(0.0f, node6Layout.location().x, "x of node6");
        assertEquals(40.0f, node6Layout.location().y, "y of node6");
        Layout node7Layout = tree.getLayout(node7);
        assertEquals(0.0f, node7Layout.size().width, "width of node7");
        assertEquals(0.0f, node7Layout.size().height, "height of node7");
        assertEquals(40.0f, node7Layout.location().x, "x of node7");
        assertEquals(40.0f, node7Layout.location().y, "y of node7");
        Layout node8Layout = tree.getLayout(node8);
        assertEquals(0.0f, node8Layout.size().width, "width of node8");
        assertEquals(0.0f, node8Layout.size().height, "height of node8");
        assertEquals(40.0f, node8Layout.location().x, "x of node8");
        assertEquals(40.0f, node8Layout.location().y, "y of node8");
    }

    @Test
    @DisplayName("grid_fr_no_sized_items_indefinite__content_box")
    void gridFrNoSizedItemsIndefiniteContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        node3Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        node4Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node4 = tree.newLeaf(node4Style);

        Style node5Style = new Style();
        node5Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node5 = tree.newLeaf(node5Style);

        Style node6Style = new Style();
        node6Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node6 = tree.newLeaf(node6Style);

        Style node7Style = new Style();
        node7Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node7 = tree.newLeaf(node7Style);

        Style node8Style = new Style();
        node8Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node8 = tree.newLeaf(node8Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fr(1.0f));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fr(1.0f));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fr(1.0f));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fr(1.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5, node6, node7, node8);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(40.0f, nodeLayout.size().width, "width of node");
        assertEquals(40.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(0.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(40.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(0.0f, node2Layout.size().width, "width of node2");
        assertEquals(40.0f, node2Layout.size().height, "height of node2");
        assertEquals(40.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(40.0f, node3Layout.size().width, "width of node3");
        assertEquals(0.0f, node3Layout.size().height, "height of node3");
        assertEquals(0.0f, node3Layout.location().x, "x of node3");
        assertEquals(40.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(0.0f, node4Layout.size().width, "width of node4");
        assertEquals(0.0f, node4Layout.size().height, "height of node4");
        assertEquals(40.0f, node4Layout.location().x, "x of node4");
        assertEquals(40.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(0.0f, node5Layout.size().width, "width of node5");
        assertEquals(0.0f, node5Layout.size().height, "height of node5");
        assertEquals(40.0f, node5Layout.location().x, "x of node5");
        assertEquals(40.0f, node5Layout.location().y, "y of node5");
        Layout node6Layout = tree.getLayout(node6);
        assertEquals(40.0f, node6Layout.size().width, "width of node6");
        assertEquals(0.0f, node6Layout.size().height, "height of node6");
        assertEquals(0.0f, node6Layout.location().x, "x of node6");
        assertEquals(40.0f, node6Layout.location().y, "y of node6");
        Layout node7Layout = tree.getLayout(node7);
        assertEquals(0.0f, node7Layout.size().width, "width of node7");
        assertEquals(0.0f, node7Layout.size().height, "height of node7");
        assertEquals(40.0f, node7Layout.location().x, "x of node7");
        assertEquals(40.0f, node7Layout.location().y, "y of node7");
        Layout node8Layout = tree.getLayout(node8);
        assertEquals(0.0f, node8Layout.size().width, "width of node8");
        assertEquals(0.0f, node8Layout.size().height, "height of node8");
        assertEquals(40.0f, node8Layout.location().x, "x of node8");
        assertEquals(40.0f, node8Layout.location().y, "y of node8");
    }

    @Test
    @DisplayName("grid_fr_single_item_indefinite__border_box")
    void gridFrSingleItemIndefiniteBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.size = new Size<>(Dimension.length(100.0f), Dimension.AUTO);
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        NodeId node4 = tree.newLeaf(node4Style);

        Style node5Style = new Style();
        NodeId node5 = tree.newLeaf(node5Style);

        Style node6Style = new Style();
        NodeId node6 = tree.newLeaf(node6Style);

        Style node7Style = new Style();
        NodeId node7 = tree.newLeaf(node7Style);

        Style node8Style = new Style();
        NodeId node8 = tree.newLeaf(node8Style);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.size = new Size<>(Dimension.AUTO, Dimension.AUTO);
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fr(1.0f));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fr(1.0f));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fr(1.0f));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fr(1.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5, node6, node7, node8);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(240.0f, nodeLayout.size().width, "width of node");
        assertEquals(40.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(100.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(40.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(100.0f, node2Layout.size().width, "width of node2");
        assertEquals(40.0f, node2Layout.size().height, "height of node2");
        assertEquals(140.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(40.0f, node3Layout.size().width, "width of node3");
        assertEquals(0.0f, node3Layout.size().height, "height of node3");
        assertEquals(0.0f, node3Layout.location().x, "x of node3");
        assertEquals(40.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(100.0f, node4Layout.size().width, "width of node4");
        assertEquals(0.0f, node4Layout.size().height, "height of node4");
        assertEquals(40.0f, node4Layout.location().x, "x of node4");
        assertEquals(40.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(100.0f, node5Layout.size().width, "width of node5");
        assertEquals(0.0f, node5Layout.size().height, "height of node5");
        assertEquals(140.0f, node5Layout.location().x, "x of node5");
        assertEquals(40.0f, node5Layout.location().y, "y of node5");
        Layout node6Layout = tree.getLayout(node6);
        assertEquals(40.0f, node6Layout.size().width, "width of node6");
        assertEquals(0.0f, node6Layout.size().height, "height of node6");
        assertEquals(0.0f, node6Layout.location().x, "x of node6");
        assertEquals(40.0f, node6Layout.location().y, "y of node6");
        Layout node7Layout = tree.getLayout(node7);
        assertEquals(100.0f, node7Layout.size().width, "width of node7");
        assertEquals(0.0f, node7Layout.size().height, "height of node7");
        assertEquals(40.0f, node7Layout.location().x, "x of node7");
        assertEquals(40.0f, node7Layout.location().y, "y of node7");
        Layout node8Layout = tree.getLayout(node8);
        assertEquals(100.0f, node8Layout.size().width, "width of node8");
        assertEquals(0.0f, node8Layout.size().height, "height of node8");
        assertEquals(140.0f, node8Layout.location().x, "x of node8");
        assertEquals(40.0f, node8Layout.location().y, "y of node8");
    }

    @Test
    @DisplayName("grid_fr_single_item_indefinite__content_box")
    void gridFrSingleItemIndefiniteContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.size = new Size<>(Dimension.length(100.0f), Dimension.AUTO);
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        node3Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        node4Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node4 = tree.newLeaf(node4Style);

        Style node5Style = new Style();
        node5Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node5 = tree.newLeaf(node5Style);

        Style node6Style = new Style();
        node6Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node6 = tree.newLeaf(node6Style);

        Style node7Style = new Style();
        node7Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node7 = tree.newLeaf(node7Style);

        Style node8Style = new Style();
        node8Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node8 = tree.newLeaf(node8Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.size = new Size<>(Dimension.AUTO, Dimension.AUTO);
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fr(1.0f));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fr(1.0f));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fr(1.0f));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fr(1.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5, node6, node7, node8);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(240.0f, nodeLayout.size().width, "width of node");
        assertEquals(40.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(100.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(40.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(100.0f, node2Layout.size().width, "width of node2");
        assertEquals(40.0f, node2Layout.size().height, "height of node2");
        assertEquals(140.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(40.0f, node3Layout.size().width, "width of node3");
        assertEquals(0.0f, node3Layout.size().height, "height of node3");
        assertEquals(0.0f, node3Layout.location().x, "x of node3");
        assertEquals(40.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(100.0f, node4Layout.size().width, "width of node4");
        assertEquals(0.0f, node4Layout.size().height, "height of node4");
        assertEquals(40.0f, node4Layout.location().x, "x of node4");
        assertEquals(40.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(100.0f, node5Layout.size().width, "width of node5");
        assertEquals(0.0f, node5Layout.size().height, "height of node5");
        assertEquals(140.0f, node5Layout.location().x, "x of node5");
        assertEquals(40.0f, node5Layout.location().y, "y of node5");
        Layout node6Layout = tree.getLayout(node6);
        assertEquals(40.0f, node6Layout.size().width, "width of node6");
        assertEquals(0.0f, node6Layout.size().height, "height of node6");
        assertEquals(0.0f, node6Layout.location().x, "x of node6");
        assertEquals(40.0f, node6Layout.location().y, "y of node6");
        Layout node7Layout = tree.getLayout(node7);
        assertEquals(100.0f, node7Layout.size().width, "width of node7");
        assertEquals(0.0f, node7Layout.size().height, "height of node7");
        assertEquals(40.0f, node7Layout.location().x, "x of node7");
        assertEquals(40.0f, node7Layout.location().y, "y of node7");
        Layout node8Layout = tree.getLayout(node8);
        assertEquals(100.0f, node8Layout.size().width, "width of node8");
        assertEquals(0.0f, node8Layout.size().height, "height of node8");
        assertEquals(140.0f, node8Layout.location().x, "x of node8");
        assertEquals(40.0f, node8Layout.location().y, "y of node8");
    }

    @Test
    @DisplayName("grid_fr_span_2_proportion__border_box")
    void gridFrSpan2ProportionBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.length(60.0f), Dimension.AUTO);
        node0Style.gridColumn = new Line<>(GridPlacement.span(2), GridPlacement.auto());
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        NodeId node2 = tree.newLeaf(node2Style);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fr(1.0f));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fr(2.0f));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(60.0f, nodeLayout.size().width, "width of node");
        assertEquals(80.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(60.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(20.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(0.0f, node1Layout.location().x, "x of node1");
        assertEquals(40.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(40.0f, node2Layout.size().width, "width of node2");
        assertEquals(40.0f, node2Layout.size().height, "height of node2");
        assertEquals(20.0f, node2Layout.location().x, "x of node2");
        assertEquals(40.0f, node2Layout.location().y, "y of node2");
    }

    @Test
    @DisplayName("grid_fr_span_2_proportion__content_box")
    void gridFrSpan2ProportionContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.length(60.0f), Dimension.AUTO);
        node0Style.gridColumn = new Line<>(GridPlacement.span(2), GridPlacement.auto());
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node2 = tree.newLeaf(node2Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fr(1.0f));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fr(2.0f));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(60.0f, nodeLayout.size().width, "width of node");
        assertEquals(80.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(60.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(20.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(0.0f, node1Layout.location().x, "x of node1");
        assertEquals(40.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(40.0f, node2Layout.size().width, "width of node2");
        assertEquals(40.0f, node2Layout.size().height, "height of node2");
        assertEquals(20.0f, node2Layout.location().x, "x of node2");
        assertEquals(40.0f, node2Layout.location().y, "y of node2");
    }

    @Test
    @DisplayName("grid_fr_span_2_proportion_sub_1_sum__border_box")
    void gridFrSpan2ProportionSub1SumBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.length(60.0f), Dimension.AUTO);
        node0Style.gridColumn = new Line<>(GridPlacement.span(2), GridPlacement.auto());
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        NodeId node2 = tree.newLeaf(node2Style);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fr(0.2f));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fr(0.3f));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(60.0f, nodeLayout.size().width, "width of node");
        assertEquals(80.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(60.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(24.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(0.0f, node1Layout.location().x, "x of node1");
        assertEquals(40.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(36.0f, node2Layout.size().width, "width of node2");
        assertEquals(40.0f, node2Layout.size().height, "height of node2");
        assertEquals(24.0f, node2Layout.location().x, "x of node2");
        assertEquals(40.0f, node2Layout.location().y, "y of node2");
    }

    @Test
    @DisplayName("grid_fr_span_2_proportion_sub_1_sum__content_box")
    void gridFrSpan2ProportionSub1SumContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.length(60.0f), Dimension.AUTO);
        node0Style.gridColumn = new Line<>(GridPlacement.span(2), GridPlacement.auto());
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node2 = tree.newLeaf(node2Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fr(0.2f));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fr(0.3f));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(60.0f, nodeLayout.size().width, "width of node");
        assertEquals(80.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(60.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(24.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(0.0f, node1Layout.location().x, "x of node1");
        assertEquals(40.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(36.0f, node2Layout.size().width, "width of node2");
        assertEquals(40.0f, node2Layout.size().height, "height of node2");
        assertEquals(24.0f, node2Layout.location().x, "x of node2");
        assertEquals(40.0f, node2Layout.location().y, "y of node2");
    }

    @Test
    @DisplayName("grid_fr_span_2_proportion_with_non_spanned_track__border_box")
    void gridFrSpan2ProportionWithNonSpannedTrackBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.length(60.0f), Dimension.AUTO);
        node0Style.gridColumn = new Line<>(GridPlacement.span(2), GridPlacement.auto());
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        NodeId node4 = tree.newLeaf(node4Style);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fr(1.0f));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fr(2.0f));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fr(3.0f));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(120.0f, nodeLayout.size().width, "width of node");
        assertEquals(80.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(60.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(60.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(60.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(20.0f, node2Layout.size().width, "width of node2");
        assertEquals(40.0f, node2Layout.size().height, "height of node2");
        assertEquals(0.0f, node2Layout.location().x, "x of node2");
        assertEquals(40.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(40.0f, node3Layout.size().width, "width of node3");
        assertEquals(40.0f, node3Layout.size().height, "height of node3");
        assertEquals(20.0f, node3Layout.location().x, "x of node3");
        assertEquals(40.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(60.0f, node4Layout.size().width, "width of node4");
        assertEquals(40.0f, node4Layout.size().height, "height of node4");
        assertEquals(60.0f, node4Layout.location().x, "x of node4");
        assertEquals(40.0f, node4Layout.location().y, "y of node4");
    }

    @Test
    @DisplayName("grid_fr_span_2_proportion_with_non_spanned_track__content_box")
    void gridFrSpan2ProportionWithNonSpannedTrackContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.length(60.0f), Dimension.AUTO);
        node0Style.gridColumn = new Line<>(GridPlacement.span(2), GridPlacement.auto());
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        node3Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        node4Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node4 = tree.newLeaf(node4Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fr(1.0f));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fr(2.0f));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fr(3.0f));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(120.0f, nodeLayout.size().width, "width of node");
        assertEquals(80.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(60.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(60.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(60.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(20.0f, node2Layout.size().width, "width of node2");
        assertEquals(40.0f, node2Layout.size().height, "height of node2");
        assertEquals(0.0f, node2Layout.location().x, "x of node2");
        assertEquals(40.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(40.0f, node3Layout.size().width, "width of node3");
        assertEquals(40.0f, node3Layout.size().height, "height of node3");
        assertEquals(20.0f, node3Layout.location().x, "x of node3");
        assertEquals(40.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(60.0f, node4Layout.size().width, "width of node4");
        assertEquals(40.0f, node4Layout.size().height, "height of node4");
        assertEquals(60.0f, node4Layout.location().x, "x of node4");
        assertEquals(40.0f, node4Layout.location().y, "y of node4");
    }

    @Test
    @DisplayName("grid_fr_span_2_proportion_zero_sum__border_box")
    void gridFrSpan2ProportionZeroSumBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.length(60.0f), Dimension.AUTO);
        node0Style.gridColumn = new Line<>(GridPlacement.span(2), GridPlacement.auto());
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        NodeId node2 = tree.newLeaf(node2Style);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fr(0.0f));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fr(0.0f));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(60.0f, nodeLayout.size().width, "width of node");
        assertEquals(80.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(60.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(30.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(0.0f, node1Layout.location().x, "x of node1");
        assertEquals(40.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(30.0f, node2Layout.size().width, "width of node2");
        assertEquals(40.0f, node2Layout.size().height, "height of node2");
        assertEquals(30.0f, node2Layout.location().x, "x of node2");
        assertEquals(40.0f, node2Layout.location().y, "y of node2");
    }

    @Test
    @DisplayName("grid_fr_span_2_proportion_zero_sum__content_box")
    void gridFrSpan2ProportionZeroSumContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.length(60.0f), Dimension.AUTO);
        node0Style.gridColumn = new Line<>(GridPlacement.span(2), GridPlacement.auto());
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node2 = tree.newLeaf(node2Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fr(0.0f));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fr(0.0f));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(60.0f, nodeLayout.size().width, "width of node");
        assertEquals(80.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(60.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(30.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(0.0f, node1Layout.location().x, "x of node1");
        assertEquals(40.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(30.0f, node2Layout.size().width, "width of node2");
        assertEquals(40.0f, node2Layout.size().height, "height of node2");
        assertEquals(30.0f, node2Layout.location().x, "x of node2");
        assertEquals(40.0f, node2Layout.location().y, "y of node2");
    }

    @Test
    @DisplayName("grid_fr_span_2_proportion_zero_sum_with_non_spanned_track__border_box")
    void gridFrSpan2ProportionZeroSumWithNonSpannedTrackBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.length(60.0f), Dimension.AUTO);
        node0Style.gridColumn = new Line<>(GridPlacement.span(2), GridPlacement.auto());
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        NodeId node4 = tree.newLeaf(node4Style);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fr(0.0f));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fr(0.0f));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fr(0.0f));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(60.0f, nodeLayout.size().width, "width of node");
        assertEquals(80.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(60.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(0.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(60.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(30.0f, node2Layout.size().width, "width of node2");
        assertEquals(40.0f, node2Layout.size().height, "height of node2");
        assertEquals(0.0f, node2Layout.location().x, "x of node2");
        assertEquals(40.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(30.0f, node3Layout.size().width, "width of node3");
        assertEquals(40.0f, node3Layout.size().height, "height of node3");
        assertEquals(30.0f, node3Layout.location().x, "x of node3");
        assertEquals(40.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(0.0f, node4Layout.size().width, "width of node4");
        assertEquals(40.0f, node4Layout.size().height, "height of node4");
        assertEquals(60.0f, node4Layout.location().x, "x of node4");
        assertEquals(40.0f, node4Layout.location().y, "y of node4");
    }

    @Test
    @DisplayName("grid_fr_span_2_proportion_zero_sum_with_non_spanned_track__content_box")
    void gridFrSpan2ProportionZeroSumWithNonSpannedTrackContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.length(60.0f), Dimension.AUTO);
        node0Style.gridColumn = new Line<>(GridPlacement.span(2), GridPlacement.auto());
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        node3Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        node4Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node4 = tree.newLeaf(node4Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fr(0.0f));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fr(0.0f));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fr(0.0f));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(60.0f, nodeLayout.size().width, "width of node");
        assertEquals(80.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(60.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(0.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(60.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(30.0f, node2Layout.size().width, "width of node2");
        assertEquals(40.0f, node2Layout.size().height, "height of node2");
        assertEquals(0.0f, node2Layout.location().x, "x of node2");
        assertEquals(40.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(30.0f, node3Layout.size().width, "width of node3");
        assertEquals(40.0f, node3Layout.size().height, "height of node3");
        assertEquals(30.0f, node3Layout.location().x, "x of node3");
        assertEquals(40.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(0.0f, node4Layout.size().width, "width of node4");
        assertEquals(40.0f, node4Layout.size().height, "height of node4");
        assertEquals(60.0f, node4Layout.location().x, "x of node4");
        assertEquals(40.0f, node4Layout.location().y, "y of node4");
    }

    @Test
    @DisplayName("grid_gap__border_box")
    void gridGapBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        NodeId node4 = tree.newLeaf(node4Style);

        Style node5Style = new Style();
        NodeId node5 = tree.newLeaf(node5Style);

        Style node6Style = new Style();
        NodeId node6 = tree.newLeaf(node6Style);

        Style node7Style = new Style();
        NodeId node7 = tree.newLeaf(node7Style);

        Style node8Style = new Style();
        NodeId node8 = tree.newLeaf(node8Style);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.size = new Size<>(Dimension.length(200.0f), Dimension.length(200.0f));
        nodeStyle.gap = new Size<>(LengthPercentage.length(40.0f), LengthPercentage.length(40.0f));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5, node6, node7, node8);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(200.0f, nodeLayout.size().width, "width of node");
        assertEquals(200.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(40.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(80.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(40.0f, node2Layout.size().width, "width of node2");
        assertEquals(40.0f, node2Layout.size().height, "height of node2");
        assertEquals(160.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(40.0f, node3Layout.size().width, "width of node3");
        assertEquals(40.0f, node3Layout.size().height, "height of node3");
        assertEquals(0.0f, node3Layout.location().x, "x of node3");
        assertEquals(80.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(40.0f, node4Layout.size().width, "width of node4");
        assertEquals(40.0f, node4Layout.size().height, "height of node4");
        assertEquals(80.0f, node4Layout.location().x, "x of node4");
        assertEquals(80.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(40.0f, node5Layout.size().width, "width of node5");
        assertEquals(40.0f, node5Layout.size().height, "height of node5");
        assertEquals(160.0f, node5Layout.location().x, "x of node5");
        assertEquals(80.0f, node5Layout.location().y, "y of node5");
        Layout node6Layout = tree.getLayout(node6);
        assertEquals(40.0f, node6Layout.size().width, "width of node6");
        assertEquals(40.0f, node6Layout.size().height, "height of node6");
        assertEquals(0.0f, node6Layout.location().x, "x of node6");
        assertEquals(160.0f, node6Layout.location().y, "y of node6");
        Layout node7Layout = tree.getLayout(node7);
        assertEquals(40.0f, node7Layout.size().width, "width of node7");
        assertEquals(40.0f, node7Layout.size().height, "height of node7");
        assertEquals(80.0f, node7Layout.location().x, "x of node7");
        assertEquals(160.0f, node7Layout.location().y, "y of node7");
        Layout node8Layout = tree.getLayout(node8);
        assertEquals(40.0f, node8Layout.size().width, "width of node8");
        assertEquals(40.0f, node8Layout.size().height, "height of node8");
        assertEquals(160.0f, node8Layout.location().x, "x of node8");
        assertEquals(160.0f, node8Layout.location().y, "y of node8");
    }

    @Test
    @DisplayName("grid_gap__content_box")
    void gridGapContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        node3Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        node4Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node4 = tree.newLeaf(node4Style);

        Style node5Style = new Style();
        node5Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node5 = tree.newLeaf(node5Style);

        Style node6Style = new Style();
        node6Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node6 = tree.newLeaf(node6Style);

        Style node7Style = new Style();
        node7Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node7 = tree.newLeaf(node7Style);

        Style node8Style = new Style();
        node8Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node8 = tree.newLeaf(node8Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.size = new Size<>(Dimension.length(200.0f), Dimension.length(200.0f));
        nodeStyle.gap = new Size<>(LengthPercentage.length(40.0f), LengthPercentage.length(40.0f));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5, node6, node7, node8);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(200.0f, nodeLayout.size().width, "width of node");
        assertEquals(200.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(40.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(80.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(40.0f, node2Layout.size().width, "width of node2");
        assertEquals(40.0f, node2Layout.size().height, "height of node2");
        assertEquals(160.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(40.0f, node3Layout.size().width, "width of node3");
        assertEquals(40.0f, node3Layout.size().height, "height of node3");
        assertEquals(0.0f, node3Layout.location().x, "x of node3");
        assertEquals(80.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(40.0f, node4Layout.size().width, "width of node4");
        assertEquals(40.0f, node4Layout.size().height, "height of node4");
        assertEquals(80.0f, node4Layout.location().x, "x of node4");
        assertEquals(80.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(40.0f, node5Layout.size().width, "width of node5");
        assertEquals(40.0f, node5Layout.size().height, "height of node5");
        assertEquals(160.0f, node5Layout.location().x, "x of node5");
        assertEquals(80.0f, node5Layout.location().y, "y of node5");
        Layout node6Layout = tree.getLayout(node6);
        assertEquals(40.0f, node6Layout.size().width, "width of node6");
        assertEquals(40.0f, node6Layout.size().height, "height of node6");
        assertEquals(0.0f, node6Layout.location().x, "x of node6");
        assertEquals(160.0f, node6Layout.location().y, "y of node6");
        Layout node7Layout = tree.getLayout(node7);
        assertEquals(40.0f, node7Layout.size().width, "width of node7");
        assertEquals(40.0f, node7Layout.size().height, "height of node7");
        assertEquals(80.0f, node7Layout.location().x, "x of node7");
        assertEquals(160.0f, node7Layout.location().y, "y of node7");
        Layout node8Layout = tree.getLayout(node8);
        assertEquals(40.0f, node8Layout.size().width, "width of node8");
        assertEquals(40.0f, node8Layout.size().height, "height of node8");
        assertEquals(160.0f, node8Layout.location().x, "x of node8");
        assertEquals(160.0f, node8Layout.location().y, "y of node8");
    }

    @Test
    @DisplayName("grid_hidden__border_box")
    void gridHiddenBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.display = Display.NONE;
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        node4Style.display = Display.NONE;
        NodeId node4 = tree.newLeaf(node4Style);

        Style node5Style = new Style();
        NodeId node5 = tree.newLeaf(node5Style);

        Style node6Style = new Style();
        node6Style.display = Display.NONE;
        NodeId node6 = tree.newLeaf(node6Style);

        Style node7Style = new Style();
        NodeId node7 = tree.newLeaf(node7Style);

        Style node8Style = new Style();
        NodeId node8 = tree.newLeaf(node8Style);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.size = new Size<>(Dimension.length(120.0f), Dimension.length(120.0f));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5, node6, node7, node8);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(120.0f, nodeLayout.size().width, "width of node");
        assertEquals(120.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(0.0f, node1Layout.size().width, "width of node1");
        assertEquals(0.0f, node1Layout.size().height, "height of node1");
        assertEquals(0.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(40.0f, node2Layout.size().width, "width of node2");
        assertEquals(40.0f, node2Layout.size().height, "height of node2");
        assertEquals(40.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(40.0f, node3Layout.size().width, "width of node3");
        assertEquals(40.0f, node3Layout.size().height, "height of node3");
        assertEquals(80.0f, node3Layout.location().x, "x of node3");
        assertEquals(0.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(0.0f, node4Layout.size().width, "width of node4");
        assertEquals(0.0f, node4Layout.size().height, "height of node4");
        assertEquals(0.0f, node4Layout.location().x, "x of node4");
        assertEquals(0.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(40.0f, node5Layout.size().width, "width of node5");
        assertEquals(40.0f, node5Layout.size().height, "height of node5");
        assertEquals(0.0f, node5Layout.location().x, "x of node5");
        assertEquals(40.0f, node5Layout.location().y, "y of node5");
        Layout node6Layout = tree.getLayout(node6);
        assertEquals(0.0f, node6Layout.size().width, "width of node6");
        assertEquals(0.0f, node6Layout.size().height, "height of node6");
        assertEquals(0.0f, node6Layout.location().x, "x of node6");
        assertEquals(0.0f, node6Layout.location().y, "y of node6");
        Layout node7Layout = tree.getLayout(node7);
        assertEquals(40.0f, node7Layout.size().width, "width of node7");
        assertEquals(40.0f, node7Layout.size().height, "height of node7");
        assertEquals(40.0f, node7Layout.location().x, "x of node7");
        assertEquals(40.0f, node7Layout.location().y, "y of node7");
        Layout node8Layout = tree.getLayout(node8);
        assertEquals(40.0f, node8Layout.size().width, "width of node8");
        assertEquals(40.0f, node8Layout.size().height, "height of node8");
        assertEquals(80.0f, node8Layout.location().x, "x of node8");
        assertEquals(40.0f, node8Layout.location().y, "y of node8");
    }

    @Test
    @DisplayName("grid_hidden__content_box")
    void gridHiddenContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.display = Display.NONE;
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        node3Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        node4Style.boxSizing = BoxSizing.CONTENT_BOX;
        node4Style.display = Display.NONE;
        NodeId node4 = tree.newLeaf(node4Style);

        Style node5Style = new Style();
        node5Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node5 = tree.newLeaf(node5Style);

        Style node6Style = new Style();
        node6Style.boxSizing = BoxSizing.CONTENT_BOX;
        node6Style.display = Display.NONE;
        NodeId node6 = tree.newLeaf(node6Style);

        Style node7Style = new Style();
        node7Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node7 = tree.newLeaf(node7Style);

        Style node8Style = new Style();
        node8Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node8 = tree.newLeaf(node8Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.size = new Size<>(Dimension.length(120.0f), Dimension.length(120.0f));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5, node6, node7, node8);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(120.0f, nodeLayout.size().width, "width of node");
        assertEquals(120.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(0.0f, node1Layout.size().width, "width of node1");
        assertEquals(0.0f, node1Layout.size().height, "height of node1");
        assertEquals(0.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(40.0f, node2Layout.size().width, "width of node2");
        assertEquals(40.0f, node2Layout.size().height, "height of node2");
        assertEquals(40.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(40.0f, node3Layout.size().width, "width of node3");
        assertEquals(40.0f, node3Layout.size().height, "height of node3");
        assertEquals(80.0f, node3Layout.location().x, "x of node3");
        assertEquals(0.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(0.0f, node4Layout.size().width, "width of node4");
        assertEquals(0.0f, node4Layout.size().height, "height of node4");
        assertEquals(0.0f, node4Layout.location().x, "x of node4");
        assertEquals(0.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(40.0f, node5Layout.size().width, "width of node5");
        assertEquals(40.0f, node5Layout.size().height, "height of node5");
        assertEquals(0.0f, node5Layout.location().x, "x of node5");
        assertEquals(40.0f, node5Layout.location().y, "y of node5");
        Layout node6Layout = tree.getLayout(node6);
        assertEquals(0.0f, node6Layout.size().width, "width of node6");
        assertEquals(0.0f, node6Layout.size().height, "height of node6");
        assertEquals(0.0f, node6Layout.location().x, "x of node6");
        assertEquals(0.0f, node6Layout.location().y, "y of node6");
        Layout node7Layout = tree.getLayout(node7);
        assertEquals(40.0f, node7Layout.size().width, "width of node7");
        assertEquals(40.0f, node7Layout.size().height, "height of node7");
        assertEquals(40.0f, node7Layout.location().x, "x of node7");
        assertEquals(40.0f, node7Layout.location().y, "y of node7");
        Layout node8Layout = tree.getLayout(node8);
        assertEquals(40.0f, node8Layout.size().width, "width of node8");
        assertEquals(40.0f, node8Layout.size().height, "height of node8");
        assertEquals(80.0f, node8Layout.location().x, "x of node8");
        assertEquals(40.0f, node8Layout.location().y, "y of node8");
    }

    @Test
    @DisplayName("grid_justify_content_center__border_box")
    void gridJustifyContentCenterBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        NodeId node4 = tree.newLeaf(node4Style);

        Style node5Style = new Style();
        NodeId node5 = tree.newLeaf(node5Style);

        Style node6Style = new Style();
        NodeId node6 = tree.newLeaf(node6Style);

        Style node7Style = new Style();
        NodeId node7 = tree.newLeaf(node7Style);

        Style node8Style = new Style();
        NodeId node8 = tree.newLeaf(node8Style);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.justifyContent = AlignContent.CENTER;
        nodeStyle.size = new Size<>(Dimension.length(200.0f), Dimension.length(200.0f));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5, node6, node7, node8);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(200.0f, nodeLayout.size().width, "width of node");
        assertEquals(200.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(40.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(40.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(80.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(40.0f, node2Layout.size().width, "width of node2");
        assertEquals(40.0f, node2Layout.size().height, "height of node2");
        assertEquals(120.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(40.0f, node3Layout.size().width, "width of node3");
        assertEquals(40.0f, node3Layout.size().height, "height of node3");
        assertEquals(40.0f, node3Layout.location().x, "x of node3");
        assertEquals(40.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(40.0f, node4Layout.size().width, "width of node4");
        assertEquals(40.0f, node4Layout.size().height, "height of node4");
        assertEquals(80.0f, node4Layout.location().x, "x of node4");
        assertEquals(40.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(40.0f, node5Layout.size().width, "width of node5");
        assertEquals(40.0f, node5Layout.size().height, "height of node5");
        assertEquals(120.0f, node5Layout.location().x, "x of node5");
        assertEquals(40.0f, node5Layout.location().y, "y of node5");
        Layout node6Layout = tree.getLayout(node6);
        assertEquals(40.0f, node6Layout.size().width, "width of node6");
        assertEquals(40.0f, node6Layout.size().height, "height of node6");
        assertEquals(40.0f, node6Layout.location().x, "x of node6");
        assertEquals(80.0f, node6Layout.location().y, "y of node6");
        Layout node7Layout = tree.getLayout(node7);
        assertEquals(40.0f, node7Layout.size().width, "width of node7");
        assertEquals(40.0f, node7Layout.size().height, "height of node7");
        assertEquals(80.0f, node7Layout.location().x, "x of node7");
        assertEquals(80.0f, node7Layout.location().y, "y of node7");
        Layout node8Layout = tree.getLayout(node8);
        assertEquals(40.0f, node8Layout.size().width, "width of node8");
        assertEquals(40.0f, node8Layout.size().height, "height of node8");
        assertEquals(120.0f, node8Layout.location().x, "x of node8");
        assertEquals(80.0f, node8Layout.location().y, "y of node8");
    }

    @Test
    @DisplayName("grid_justify_content_center__content_box")
    void gridJustifyContentCenterContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        node3Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        node4Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node4 = tree.newLeaf(node4Style);

        Style node5Style = new Style();
        node5Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node5 = tree.newLeaf(node5Style);

        Style node6Style = new Style();
        node6Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node6 = tree.newLeaf(node6Style);

        Style node7Style = new Style();
        node7Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node7 = tree.newLeaf(node7Style);

        Style node8Style = new Style();
        node8Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node8 = tree.newLeaf(node8Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.justifyContent = AlignContent.CENTER;
        nodeStyle.size = new Size<>(Dimension.length(200.0f), Dimension.length(200.0f));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5, node6, node7, node8);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(200.0f, nodeLayout.size().width, "width of node");
        assertEquals(200.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(40.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(40.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(80.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(40.0f, node2Layout.size().width, "width of node2");
        assertEquals(40.0f, node2Layout.size().height, "height of node2");
        assertEquals(120.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(40.0f, node3Layout.size().width, "width of node3");
        assertEquals(40.0f, node3Layout.size().height, "height of node3");
        assertEquals(40.0f, node3Layout.location().x, "x of node3");
        assertEquals(40.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(40.0f, node4Layout.size().width, "width of node4");
        assertEquals(40.0f, node4Layout.size().height, "height of node4");
        assertEquals(80.0f, node4Layout.location().x, "x of node4");
        assertEquals(40.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(40.0f, node5Layout.size().width, "width of node5");
        assertEquals(40.0f, node5Layout.size().height, "height of node5");
        assertEquals(120.0f, node5Layout.location().x, "x of node5");
        assertEquals(40.0f, node5Layout.location().y, "y of node5");
        Layout node6Layout = tree.getLayout(node6);
        assertEquals(40.0f, node6Layout.size().width, "width of node6");
        assertEquals(40.0f, node6Layout.size().height, "height of node6");
        assertEquals(40.0f, node6Layout.location().x, "x of node6");
        assertEquals(80.0f, node6Layout.location().y, "y of node6");
        Layout node7Layout = tree.getLayout(node7);
        assertEquals(40.0f, node7Layout.size().width, "width of node7");
        assertEquals(40.0f, node7Layout.size().height, "height of node7");
        assertEquals(80.0f, node7Layout.location().x, "x of node7");
        assertEquals(80.0f, node7Layout.location().y, "y of node7");
        Layout node8Layout = tree.getLayout(node8);
        assertEquals(40.0f, node8Layout.size().width, "width of node8");
        assertEquals(40.0f, node8Layout.size().height, "height of node8");
        assertEquals(120.0f, node8Layout.location().x, "x of node8");
        assertEquals(80.0f, node8Layout.location().y, "y of node8");
    }

    @Test
    @DisplayName("grid_justify_content_center_negative_space_gap__border_box")
    void gridJustifyContentCenterNegativeSpaceGapBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        NodeId node00 = tree.newLeaf(node00Style);

        Style node01Style = new Style();
        NodeId node01 = tree.newLeaf(node01Style);

        Style node02Style = new Style();
        NodeId node02 = tree.newLeaf(node02Style);

        Style node03Style = new Style();
        NodeId node03 = tree.newLeaf(node03Style);

        Style node04Style = new Style();
        NodeId node04 = tree.newLeaf(node04Style);

        Style node05Style = new Style();
        NodeId node05 = tree.newLeaf(node05Style);

        Style node06Style = new Style();
        NodeId node06 = tree.newLeaf(node06Style);

        Style node07Style = new Style();
        NodeId node07 = tree.newLeaf(node07Style);

        Style node08Style = new Style();
        NodeId node08 = tree.newLeaf(node08Style);

        Style node0Style = new Style();
        node0Style.display = Display.GRID;
        node0Style.alignContent = AlignContent.CENTER;
        node0Style.justifyContent = AlignContent.CENTER;
        node0Style.size = new Size<>(Dimension.length(120.0f), Dimension.length(120.0f));
        node0Style.gap = new Size<>(LengthPercentage.length(10.0f), LengthPercentage.length(10.0f));
        node0Style.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        node0Style.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        node0Style.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        node0Style.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(20.0f)));
        node0Style.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(20.0f)));
        node0Style.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(20.0f)));
        NodeId node0 = tree.newWithChildren(node0Style, node00, node01, node02, node03, node04, node05, node06, node07, node08);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.size = new Size<>(Dimension.length(240.0f), Dimension.length(240.0f));
        nodeStyle.border = new Rect<>(LengthPercentage.length(60.0f), LengthPercentage.length(60.0f), LengthPercentage.length(60.0f), LengthPercentage.length(60.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(240.0f, nodeLayout.size().width, "width of node");
        assertEquals(240.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(120.0f, node0Layout.size().width, "width of node0");
        assertEquals(120.0f, node0Layout.size().height, "height of node0");
        assertEquals(60.0f, node0Layout.location().x, "x of node0");
        assertEquals(60.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(40.0f, node00Layout.size().width, "width of node00");
        assertEquals(20.0f, node00Layout.size().height, "height of node00");
        assertEquals(-10.0f, node00Layout.location().x, "x of node00");
        assertEquals(20.0f, node00Layout.location().y, "y of node00");
        Layout node01Layout = tree.getLayout(node01);
        assertEquals(40.0f, node01Layout.size().width, "width of node01");
        assertEquals(20.0f, node01Layout.size().height, "height of node01");
        assertEquals(40.0f, node01Layout.location().x, "x of node01");
        assertEquals(20.0f, node01Layout.location().y, "y of node01");
        Layout node02Layout = tree.getLayout(node02);
        assertEquals(40.0f, node02Layout.size().width, "width of node02");
        assertEquals(20.0f, node02Layout.size().height, "height of node02");
        assertEquals(90.0f, node02Layout.location().x, "x of node02");
        assertEquals(20.0f, node02Layout.location().y, "y of node02");
        Layout node03Layout = tree.getLayout(node03);
        assertEquals(40.0f, node03Layout.size().width, "width of node03");
        assertEquals(20.0f, node03Layout.size().height, "height of node03");
        assertEquals(-10.0f, node03Layout.location().x, "x of node03");
        assertEquals(50.0f, node03Layout.location().y, "y of node03");
        Layout node04Layout = tree.getLayout(node04);
        assertEquals(40.0f, node04Layout.size().width, "width of node04");
        assertEquals(20.0f, node04Layout.size().height, "height of node04");
        assertEquals(40.0f, node04Layout.location().x, "x of node04");
        assertEquals(50.0f, node04Layout.location().y, "y of node04");
        Layout node05Layout = tree.getLayout(node05);
        assertEquals(40.0f, node05Layout.size().width, "width of node05");
        assertEquals(20.0f, node05Layout.size().height, "height of node05");
        assertEquals(90.0f, node05Layout.location().x, "x of node05");
        assertEquals(50.0f, node05Layout.location().y, "y of node05");
        Layout node06Layout = tree.getLayout(node06);
        assertEquals(40.0f, node06Layout.size().width, "width of node06");
        assertEquals(20.0f, node06Layout.size().height, "height of node06");
        assertEquals(-10.0f, node06Layout.location().x, "x of node06");
        assertEquals(80.0f, node06Layout.location().y, "y of node06");
        Layout node07Layout = tree.getLayout(node07);
        assertEquals(40.0f, node07Layout.size().width, "width of node07");
        assertEquals(20.0f, node07Layout.size().height, "height of node07");
        assertEquals(40.0f, node07Layout.location().x, "x of node07");
        assertEquals(80.0f, node07Layout.location().y, "y of node07");
        Layout node08Layout = tree.getLayout(node08);
        assertEquals(40.0f, node08Layout.size().width, "width of node08");
        assertEquals(20.0f, node08Layout.size().height, "height of node08");
        assertEquals(90.0f, node08Layout.location().x, "x of node08");
        assertEquals(80.0f, node08Layout.location().y, "y of node08");
    }

    @Test
    @DisplayName("grid_justify_content_center_negative_space_gap__content_box")
    void gridJustifyContentCenterNegativeSpaceGapContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node00 = tree.newLeaf(node00Style);

        Style node01Style = new Style();
        node01Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node01 = tree.newLeaf(node01Style);

        Style node02Style = new Style();
        node02Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node02 = tree.newLeaf(node02Style);

        Style node03Style = new Style();
        node03Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node03 = tree.newLeaf(node03Style);

        Style node04Style = new Style();
        node04Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node04 = tree.newLeaf(node04Style);

        Style node05Style = new Style();
        node05Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node05 = tree.newLeaf(node05Style);

        Style node06Style = new Style();
        node06Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node06 = tree.newLeaf(node06Style);

        Style node07Style = new Style();
        node07Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node07 = tree.newLeaf(node07Style);

        Style node08Style = new Style();
        node08Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node08 = tree.newLeaf(node08Style);

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.display = Display.GRID;
        node0Style.alignContent = AlignContent.CENTER;
        node0Style.justifyContent = AlignContent.CENTER;
        node0Style.size = new Size<>(Dimension.length(120.0f), Dimension.length(120.0f));
        node0Style.gap = new Size<>(LengthPercentage.length(10.0f), LengthPercentage.length(10.0f));
        node0Style.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        node0Style.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        node0Style.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        node0Style.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(20.0f)));
        node0Style.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(20.0f)));
        node0Style.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(20.0f)));
        NodeId node0 = tree.newWithChildren(node0Style, node00, node01, node02, node03, node04, node05, node06, node07, node08);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.size = new Size<>(Dimension.length(240.0f), Dimension.length(240.0f));
        nodeStyle.border = new Rect<>(LengthPercentage.length(60.0f), LengthPercentage.length(60.0f), LengthPercentage.length(60.0f), LengthPercentage.length(60.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(360.0f, nodeLayout.size().width, "width of node");
        assertEquals(360.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(120.0f, node0Layout.size().width, "width of node0");
        assertEquals(120.0f, node0Layout.size().height, "height of node0");
        assertEquals(60.0f, node0Layout.location().x, "x of node0");
        assertEquals(60.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(40.0f, node00Layout.size().width, "width of node00");
        assertEquals(20.0f, node00Layout.size().height, "height of node00");
        assertEquals(-10.0f, node00Layout.location().x, "x of node00");
        assertEquals(20.0f, node00Layout.location().y, "y of node00");
        Layout node01Layout = tree.getLayout(node01);
        assertEquals(40.0f, node01Layout.size().width, "width of node01");
        assertEquals(20.0f, node01Layout.size().height, "height of node01");
        assertEquals(40.0f, node01Layout.location().x, "x of node01");
        assertEquals(20.0f, node01Layout.location().y, "y of node01");
        Layout node02Layout = tree.getLayout(node02);
        assertEquals(40.0f, node02Layout.size().width, "width of node02");
        assertEquals(20.0f, node02Layout.size().height, "height of node02");
        assertEquals(90.0f, node02Layout.location().x, "x of node02");
        assertEquals(20.0f, node02Layout.location().y, "y of node02");
        Layout node03Layout = tree.getLayout(node03);
        assertEquals(40.0f, node03Layout.size().width, "width of node03");
        assertEquals(20.0f, node03Layout.size().height, "height of node03");
        assertEquals(-10.0f, node03Layout.location().x, "x of node03");
        assertEquals(50.0f, node03Layout.location().y, "y of node03");
        Layout node04Layout = tree.getLayout(node04);
        assertEquals(40.0f, node04Layout.size().width, "width of node04");
        assertEquals(20.0f, node04Layout.size().height, "height of node04");
        assertEquals(40.0f, node04Layout.location().x, "x of node04");
        assertEquals(50.0f, node04Layout.location().y, "y of node04");
        Layout node05Layout = tree.getLayout(node05);
        assertEquals(40.0f, node05Layout.size().width, "width of node05");
        assertEquals(20.0f, node05Layout.size().height, "height of node05");
        assertEquals(90.0f, node05Layout.location().x, "x of node05");
        assertEquals(50.0f, node05Layout.location().y, "y of node05");
        Layout node06Layout = tree.getLayout(node06);
        assertEquals(40.0f, node06Layout.size().width, "width of node06");
        assertEquals(20.0f, node06Layout.size().height, "height of node06");
        assertEquals(-10.0f, node06Layout.location().x, "x of node06");
        assertEquals(80.0f, node06Layout.location().y, "y of node06");
        Layout node07Layout = tree.getLayout(node07);
        assertEquals(40.0f, node07Layout.size().width, "width of node07");
        assertEquals(20.0f, node07Layout.size().height, "height of node07");
        assertEquals(40.0f, node07Layout.location().x, "x of node07");
        assertEquals(80.0f, node07Layout.location().y, "y of node07");
        Layout node08Layout = tree.getLayout(node08);
        assertEquals(40.0f, node08Layout.size().width, "width of node08");
        assertEquals(20.0f, node08Layout.size().height, "height of node08");
        assertEquals(90.0f, node08Layout.location().x, "x of node08");
        assertEquals(80.0f, node08Layout.location().y, "y of node08");
    }

    @Test
    @DisplayName("grid_justify_content_center_with_padding_border__border_box")
    void gridJustifyContentCenterWithPaddingBorderBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        NodeId node4 = tree.newLeaf(node4Style);

        Style node5Style = new Style();
        NodeId node5 = tree.newLeaf(node5Style);

        Style node6Style = new Style();
        NodeId node6 = tree.newLeaf(node6Style);

        Style node7Style = new Style();
        NodeId node7 = tree.newLeaf(node7Style);

        Style node8Style = new Style();
        NodeId node8 = tree.newLeaf(node8Style);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.justifyContent = AlignContent.CENTER;
        nodeStyle.size = new Size<>(Dimension.length(200.0f), Dimension.length(200.0f));
        nodeStyle.padding = new Rect<>(LengthPercentage.length(40.0f), LengthPercentage.length(20.0f), LengthPercentage.length(10.0f), LengthPercentage.length(30.0f));
        nodeStyle.border = new Rect<>(LengthPercentage.length(8.0f), LengthPercentage.length(4.0f), LengthPercentage.length(2.0f), LengthPercentage.length(6.0f));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5, node6, node7, node8);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(200.0f, nodeLayout.size().width, "width of node");
        assertEquals(200.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(52.0f, node0Layout.location().x, "x of node0");
        assertEquals(12.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(40.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(92.0f, node1Layout.location().x, "x of node1");
        assertEquals(12.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(40.0f, node2Layout.size().width, "width of node2");
        assertEquals(40.0f, node2Layout.size().height, "height of node2");
        assertEquals(132.0f, node2Layout.location().x, "x of node2");
        assertEquals(12.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(40.0f, node3Layout.size().width, "width of node3");
        assertEquals(40.0f, node3Layout.size().height, "height of node3");
        assertEquals(52.0f, node3Layout.location().x, "x of node3");
        assertEquals(52.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(40.0f, node4Layout.size().width, "width of node4");
        assertEquals(40.0f, node4Layout.size().height, "height of node4");
        assertEquals(92.0f, node4Layout.location().x, "x of node4");
        assertEquals(52.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(40.0f, node5Layout.size().width, "width of node5");
        assertEquals(40.0f, node5Layout.size().height, "height of node5");
        assertEquals(132.0f, node5Layout.location().x, "x of node5");
        assertEquals(52.0f, node5Layout.location().y, "y of node5");
        Layout node6Layout = tree.getLayout(node6);
        assertEquals(40.0f, node6Layout.size().width, "width of node6");
        assertEquals(40.0f, node6Layout.size().height, "height of node6");
        assertEquals(52.0f, node6Layout.location().x, "x of node6");
        assertEquals(92.0f, node6Layout.location().y, "y of node6");
        Layout node7Layout = tree.getLayout(node7);
        assertEquals(40.0f, node7Layout.size().width, "width of node7");
        assertEquals(40.0f, node7Layout.size().height, "height of node7");
        assertEquals(92.0f, node7Layout.location().x, "x of node7");
        assertEquals(92.0f, node7Layout.location().y, "y of node7");
        Layout node8Layout = tree.getLayout(node8);
        assertEquals(40.0f, node8Layout.size().width, "width of node8");
        assertEquals(40.0f, node8Layout.size().height, "height of node8");
        assertEquals(132.0f, node8Layout.location().x, "x of node8");
        assertEquals(92.0f, node8Layout.location().y, "y of node8");
    }

    @Test
    @DisplayName("grid_justify_content_center_with_padding_border__content_box")
    void gridJustifyContentCenterWithPaddingBorderContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        node3Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        node4Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node4 = tree.newLeaf(node4Style);

        Style node5Style = new Style();
        node5Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node5 = tree.newLeaf(node5Style);

        Style node6Style = new Style();
        node6Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node6 = tree.newLeaf(node6Style);

        Style node7Style = new Style();
        node7Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node7 = tree.newLeaf(node7Style);

        Style node8Style = new Style();
        node8Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node8 = tree.newLeaf(node8Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.justifyContent = AlignContent.CENTER;
        nodeStyle.size = new Size<>(Dimension.length(200.0f), Dimension.length(200.0f));
        nodeStyle.padding = new Rect<>(LengthPercentage.length(40.0f), LengthPercentage.length(20.0f), LengthPercentage.length(10.0f), LengthPercentage.length(30.0f));
        nodeStyle.border = new Rect<>(LengthPercentage.length(8.0f), LengthPercentage.length(4.0f), LengthPercentage.length(2.0f), LengthPercentage.length(6.0f));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5, node6, node7, node8);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(272.0f, nodeLayout.size().width, "width of node");
        assertEquals(248.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(88.0f, node0Layout.location().x, "x of node0");
        assertEquals(12.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(40.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(128.0f, node1Layout.location().x, "x of node1");
        assertEquals(12.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(40.0f, node2Layout.size().width, "width of node2");
        assertEquals(40.0f, node2Layout.size().height, "height of node2");
        assertEquals(168.0f, node2Layout.location().x, "x of node2");
        assertEquals(12.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(40.0f, node3Layout.size().width, "width of node3");
        assertEquals(40.0f, node3Layout.size().height, "height of node3");
        assertEquals(88.0f, node3Layout.location().x, "x of node3");
        assertEquals(52.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(40.0f, node4Layout.size().width, "width of node4");
        assertEquals(40.0f, node4Layout.size().height, "height of node4");
        assertEquals(128.0f, node4Layout.location().x, "x of node4");
        assertEquals(52.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(40.0f, node5Layout.size().width, "width of node5");
        assertEquals(40.0f, node5Layout.size().height, "height of node5");
        assertEquals(168.0f, node5Layout.location().x, "x of node5");
        assertEquals(52.0f, node5Layout.location().y, "y of node5");
        Layout node6Layout = tree.getLayout(node6);
        assertEquals(40.0f, node6Layout.size().width, "width of node6");
        assertEquals(40.0f, node6Layout.size().height, "height of node6");
        assertEquals(88.0f, node6Layout.location().x, "x of node6");
        assertEquals(92.0f, node6Layout.location().y, "y of node6");
        Layout node7Layout = tree.getLayout(node7);
        assertEquals(40.0f, node7Layout.size().width, "width of node7");
        assertEquals(40.0f, node7Layout.size().height, "height of node7");
        assertEquals(128.0f, node7Layout.location().x, "x of node7");
        assertEquals(92.0f, node7Layout.location().y, "y of node7");
        Layout node8Layout = tree.getLayout(node8);
        assertEquals(40.0f, node8Layout.size().width, "width of node8");
        assertEquals(40.0f, node8Layout.size().height, "height of node8");
        assertEquals(168.0f, node8Layout.location().x, "x of node8");
        assertEquals(92.0f, node8Layout.location().y, "y of node8");
    }

    @Test
    @DisplayName("grid_justify_content_end__border_box")
    void gridJustifyContentEndBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        NodeId node4 = tree.newLeaf(node4Style);

        Style node5Style = new Style();
        NodeId node5 = tree.newLeaf(node5Style);

        Style node6Style = new Style();
        NodeId node6 = tree.newLeaf(node6Style);

        Style node7Style = new Style();
        NodeId node7 = tree.newLeaf(node7Style);

        Style node8Style = new Style();
        NodeId node8 = tree.newLeaf(node8Style);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.justifyContent = AlignContent.END;
        nodeStyle.size = new Size<>(Dimension.length(200.0f), Dimension.length(200.0f));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5, node6, node7, node8);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(200.0f, nodeLayout.size().width, "width of node");
        assertEquals(200.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(80.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(40.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(120.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(40.0f, node2Layout.size().width, "width of node2");
        assertEquals(40.0f, node2Layout.size().height, "height of node2");
        assertEquals(160.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(40.0f, node3Layout.size().width, "width of node3");
        assertEquals(40.0f, node3Layout.size().height, "height of node3");
        assertEquals(80.0f, node3Layout.location().x, "x of node3");
        assertEquals(40.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(40.0f, node4Layout.size().width, "width of node4");
        assertEquals(40.0f, node4Layout.size().height, "height of node4");
        assertEquals(120.0f, node4Layout.location().x, "x of node4");
        assertEquals(40.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(40.0f, node5Layout.size().width, "width of node5");
        assertEquals(40.0f, node5Layout.size().height, "height of node5");
        assertEquals(160.0f, node5Layout.location().x, "x of node5");
        assertEquals(40.0f, node5Layout.location().y, "y of node5");
        Layout node6Layout = tree.getLayout(node6);
        assertEquals(40.0f, node6Layout.size().width, "width of node6");
        assertEquals(40.0f, node6Layout.size().height, "height of node6");
        assertEquals(80.0f, node6Layout.location().x, "x of node6");
        assertEquals(80.0f, node6Layout.location().y, "y of node6");
        Layout node7Layout = tree.getLayout(node7);
        assertEquals(40.0f, node7Layout.size().width, "width of node7");
        assertEquals(40.0f, node7Layout.size().height, "height of node7");
        assertEquals(120.0f, node7Layout.location().x, "x of node7");
        assertEquals(80.0f, node7Layout.location().y, "y of node7");
        Layout node8Layout = tree.getLayout(node8);
        assertEquals(40.0f, node8Layout.size().width, "width of node8");
        assertEquals(40.0f, node8Layout.size().height, "height of node8");
        assertEquals(160.0f, node8Layout.location().x, "x of node8");
        assertEquals(80.0f, node8Layout.location().y, "y of node8");
    }

    @Test
    @DisplayName("grid_justify_content_end__content_box")
    void gridJustifyContentEndContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        node3Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        node4Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node4 = tree.newLeaf(node4Style);

        Style node5Style = new Style();
        node5Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node5 = tree.newLeaf(node5Style);

        Style node6Style = new Style();
        node6Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node6 = tree.newLeaf(node6Style);

        Style node7Style = new Style();
        node7Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node7 = tree.newLeaf(node7Style);

        Style node8Style = new Style();
        node8Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node8 = tree.newLeaf(node8Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.justifyContent = AlignContent.END;
        nodeStyle.size = new Size<>(Dimension.length(200.0f), Dimension.length(200.0f));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5, node6, node7, node8);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(200.0f, nodeLayout.size().width, "width of node");
        assertEquals(200.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(80.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(40.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(120.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(40.0f, node2Layout.size().width, "width of node2");
        assertEquals(40.0f, node2Layout.size().height, "height of node2");
        assertEquals(160.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(40.0f, node3Layout.size().width, "width of node3");
        assertEquals(40.0f, node3Layout.size().height, "height of node3");
        assertEquals(80.0f, node3Layout.location().x, "x of node3");
        assertEquals(40.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(40.0f, node4Layout.size().width, "width of node4");
        assertEquals(40.0f, node4Layout.size().height, "height of node4");
        assertEquals(120.0f, node4Layout.location().x, "x of node4");
        assertEquals(40.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(40.0f, node5Layout.size().width, "width of node5");
        assertEquals(40.0f, node5Layout.size().height, "height of node5");
        assertEquals(160.0f, node5Layout.location().x, "x of node5");
        assertEquals(40.0f, node5Layout.location().y, "y of node5");
        Layout node6Layout = tree.getLayout(node6);
        assertEquals(40.0f, node6Layout.size().width, "width of node6");
        assertEquals(40.0f, node6Layout.size().height, "height of node6");
        assertEquals(80.0f, node6Layout.location().x, "x of node6");
        assertEquals(80.0f, node6Layout.location().y, "y of node6");
        Layout node7Layout = tree.getLayout(node7);
        assertEquals(40.0f, node7Layout.size().width, "width of node7");
        assertEquals(40.0f, node7Layout.size().height, "height of node7");
        assertEquals(120.0f, node7Layout.location().x, "x of node7");
        assertEquals(80.0f, node7Layout.location().y, "y of node7");
        Layout node8Layout = tree.getLayout(node8);
        assertEquals(40.0f, node8Layout.size().width, "width of node8");
        assertEquals(40.0f, node8Layout.size().height, "height of node8");
        assertEquals(160.0f, node8Layout.location().x, "x of node8");
        assertEquals(80.0f, node8Layout.location().y, "y of node8");
    }

    @Test
    @DisplayName("grid_justify_content_end_negative_space_gap__border_box")
    void gridJustifyContentEndNegativeSpaceGapBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        NodeId node00 = tree.newLeaf(node00Style);

        Style node01Style = new Style();
        NodeId node01 = tree.newLeaf(node01Style);

        Style node02Style = new Style();
        NodeId node02 = tree.newLeaf(node02Style);

        Style node03Style = new Style();
        NodeId node03 = tree.newLeaf(node03Style);

        Style node04Style = new Style();
        NodeId node04 = tree.newLeaf(node04Style);

        Style node05Style = new Style();
        NodeId node05 = tree.newLeaf(node05Style);

        Style node06Style = new Style();
        NodeId node06 = tree.newLeaf(node06Style);

        Style node07Style = new Style();
        NodeId node07 = tree.newLeaf(node07Style);

        Style node08Style = new Style();
        NodeId node08 = tree.newLeaf(node08Style);

        Style node0Style = new Style();
        node0Style.display = Display.GRID;
        node0Style.alignContent = AlignContent.CENTER;
        node0Style.justifyContent = AlignContent.END;
        node0Style.size = new Size<>(Dimension.length(120.0f), Dimension.length(120.0f));
        node0Style.gap = new Size<>(LengthPercentage.length(10.0f), LengthPercentage.length(10.0f));
        node0Style.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        node0Style.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        node0Style.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        node0Style.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(20.0f)));
        node0Style.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(20.0f)));
        node0Style.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(20.0f)));
        NodeId node0 = tree.newWithChildren(node0Style, node00, node01, node02, node03, node04, node05, node06, node07, node08);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.size = new Size<>(Dimension.length(240.0f), Dimension.length(240.0f));
        nodeStyle.border = new Rect<>(LengthPercentage.length(60.0f), LengthPercentage.length(60.0f), LengthPercentage.length(60.0f), LengthPercentage.length(60.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(240.0f, nodeLayout.size().width, "width of node");
        assertEquals(240.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(120.0f, node0Layout.size().width, "width of node0");
        assertEquals(120.0f, node0Layout.size().height, "height of node0");
        assertEquals(60.0f, node0Layout.location().x, "x of node0");
        assertEquals(60.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(40.0f, node00Layout.size().width, "width of node00");
        assertEquals(20.0f, node00Layout.size().height, "height of node00");
        assertEquals(-20.0f, node00Layout.location().x, "x of node00");
        assertEquals(20.0f, node00Layout.location().y, "y of node00");
        Layout node01Layout = tree.getLayout(node01);
        assertEquals(40.0f, node01Layout.size().width, "width of node01");
        assertEquals(20.0f, node01Layout.size().height, "height of node01");
        assertEquals(30.0f, node01Layout.location().x, "x of node01");
        assertEquals(20.0f, node01Layout.location().y, "y of node01");
        Layout node02Layout = tree.getLayout(node02);
        assertEquals(40.0f, node02Layout.size().width, "width of node02");
        assertEquals(20.0f, node02Layout.size().height, "height of node02");
        assertEquals(80.0f, node02Layout.location().x, "x of node02");
        assertEquals(20.0f, node02Layout.location().y, "y of node02");
        Layout node03Layout = tree.getLayout(node03);
        assertEquals(40.0f, node03Layout.size().width, "width of node03");
        assertEquals(20.0f, node03Layout.size().height, "height of node03");
        assertEquals(-20.0f, node03Layout.location().x, "x of node03");
        assertEquals(50.0f, node03Layout.location().y, "y of node03");
        Layout node04Layout = tree.getLayout(node04);
        assertEquals(40.0f, node04Layout.size().width, "width of node04");
        assertEquals(20.0f, node04Layout.size().height, "height of node04");
        assertEquals(30.0f, node04Layout.location().x, "x of node04");
        assertEquals(50.0f, node04Layout.location().y, "y of node04");
        Layout node05Layout = tree.getLayout(node05);
        assertEquals(40.0f, node05Layout.size().width, "width of node05");
        assertEquals(20.0f, node05Layout.size().height, "height of node05");
        assertEquals(80.0f, node05Layout.location().x, "x of node05");
        assertEquals(50.0f, node05Layout.location().y, "y of node05");
        Layout node06Layout = tree.getLayout(node06);
        assertEquals(40.0f, node06Layout.size().width, "width of node06");
        assertEquals(20.0f, node06Layout.size().height, "height of node06");
        assertEquals(-20.0f, node06Layout.location().x, "x of node06");
        assertEquals(80.0f, node06Layout.location().y, "y of node06");
        Layout node07Layout = tree.getLayout(node07);
        assertEquals(40.0f, node07Layout.size().width, "width of node07");
        assertEquals(20.0f, node07Layout.size().height, "height of node07");
        assertEquals(30.0f, node07Layout.location().x, "x of node07");
        assertEquals(80.0f, node07Layout.location().y, "y of node07");
        Layout node08Layout = tree.getLayout(node08);
        assertEquals(40.0f, node08Layout.size().width, "width of node08");
        assertEquals(20.0f, node08Layout.size().height, "height of node08");
        assertEquals(80.0f, node08Layout.location().x, "x of node08");
        assertEquals(80.0f, node08Layout.location().y, "y of node08");
    }

    @Test
    @DisplayName("grid_justify_content_end_negative_space_gap__content_box")
    void gridJustifyContentEndNegativeSpaceGapContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node00 = tree.newLeaf(node00Style);

        Style node01Style = new Style();
        node01Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node01 = tree.newLeaf(node01Style);

        Style node02Style = new Style();
        node02Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node02 = tree.newLeaf(node02Style);

        Style node03Style = new Style();
        node03Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node03 = tree.newLeaf(node03Style);

        Style node04Style = new Style();
        node04Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node04 = tree.newLeaf(node04Style);

        Style node05Style = new Style();
        node05Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node05 = tree.newLeaf(node05Style);

        Style node06Style = new Style();
        node06Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node06 = tree.newLeaf(node06Style);

        Style node07Style = new Style();
        node07Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node07 = tree.newLeaf(node07Style);

        Style node08Style = new Style();
        node08Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node08 = tree.newLeaf(node08Style);

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.display = Display.GRID;
        node0Style.alignContent = AlignContent.CENTER;
        node0Style.justifyContent = AlignContent.END;
        node0Style.size = new Size<>(Dimension.length(120.0f), Dimension.length(120.0f));
        node0Style.gap = new Size<>(LengthPercentage.length(10.0f), LengthPercentage.length(10.0f));
        node0Style.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        node0Style.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        node0Style.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        node0Style.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(20.0f)));
        node0Style.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(20.0f)));
        node0Style.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(20.0f)));
        NodeId node0 = tree.newWithChildren(node0Style, node00, node01, node02, node03, node04, node05, node06, node07, node08);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.size = new Size<>(Dimension.length(240.0f), Dimension.length(240.0f));
        nodeStyle.border = new Rect<>(LengthPercentage.length(60.0f), LengthPercentage.length(60.0f), LengthPercentage.length(60.0f), LengthPercentage.length(60.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(360.0f, nodeLayout.size().width, "width of node");
        assertEquals(360.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(120.0f, node0Layout.size().width, "width of node0");
        assertEquals(120.0f, node0Layout.size().height, "height of node0");
        assertEquals(60.0f, node0Layout.location().x, "x of node0");
        assertEquals(60.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(40.0f, node00Layout.size().width, "width of node00");
        assertEquals(20.0f, node00Layout.size().height, "height of node00");
        assertEquals(-20.0f, node00Layout.location().x, "x of node00");
        assertEquals(20.0f, node00Layout.location().y, "y of node00");
        Layout node01Layout = tree.getLayout(node01);
        assertEquals(40.0f, node01Layout.size().width, "width of node01");
        assertEquals(20.0f, node01Layout.size().height, "height of node01");
        assertEquals(30.0f, node01Layout.location().x, "x of node01");
        assertEquals(20.0f, node01Layout.location().y, "y of node01");
        Layout node02Layout = tree.getLayout(node02);
        assertEquals(40.0f, node02Layout.size().width, "width of node02");
        assertEquals(20.0f, node02Layout.size().height, "height of node02");
        assertEquals(80.0f, node02Layout.location().x, "x of node02");
        assertEquals(20.0f, node02Layout.location().y, "y of node02");
        Layout node03Layout = tree.getLayout(node03);
        assertEquals(40.0f, node03Layout.size().width, "width of node03");
        assertEquals(20.0f, node03Layout.size().height, "height of node03");
        assertEquals(-20.0f, node03Layout.location().x, "x of node03");
        assertEquals(50.0f, node03Layout.location().y, "y of node03");
        Layout node04Layout = tree.getLayout(node04);
        assertEquals(40.0f, node04Layout.size().width, "width of node04");
        assertEquals(20.0f, node04Layout.size().height, "height of node04");
        assertEquals(30.0f, node04Layout.location().x, "x of node04");
        assertEquals(50.0f, node04Layout.location().y, "y of node04");
        Layout node05Layout = tree.getLayout(node05);
        assertEquals(40.0f, node05Layout.size().width, "width of node05");
        assertEquals(20.0f, node05Layout.size().height, "height of node05");
        assertEquals(80.0f, node05Layout.location().x, "x of node05");
        assertEquals(50.0f, node05Layout.location().y, "y of node05");
        Layout node06Layout = tree.getLayout(node06);
        assertEquals(40.0f, node06Layout.size().width, "width of node06");
        assertEquals(20.0f, node06Layout.size().height, "height of node06");
        assertEquals(-20.0f, node06Layout.location().x, "x of node06");
        assertEquals(80.0f, node06Layout.location().y, "y of node06");
        Layout node07Layout = tree.getLayout(node07);
        assertEquals(40.0f, node07Layout.size().width, "width of node07");
        assertEquals(20.0f, node07Layout.size().height, "height of node07");
        assertEquals(30.0f, node07Layout.location().x, "x of node07");
        assertEquals(80.0f, node07Layout.location().y, "y of node07");
        Layout node08Layout = tree.getLayout(node08);
        assertEquals(40.0f, node08Layout.size().width, "width of node08");
        assertEquals(20.0f, node08Layout.size().height, "height of node08");
        assertEquals(80.0f, node08Layout.location().x, "x of node08");
        assertEquals(80.0f, node08Layout.location().y, "y of node08");
    }

    @Test
    @DisplayName("grid_justify_content_end_with_padding_border__border_box")
    void gridJustifyContentEndWithPaddingBorderBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        NodeId node4 = tree.newLeaf(node4Style);

        Style node5Style = new Style();
        NodeId node5 = tree.newLeaf(node5Style);

        Style node6Style = new Style();
        NodeId node6 = tree.newLeaf(node6Style);

        Style node7Style = new Style();
        NodeId node7 = tree.newLeaf(node7Style);

        Style node8Style = new Style();
        NodeId node8 = tree.newLeaf(node8Style);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.justifyContent = AlignContent.END;
        nodeStyle.size = new Size<>(Dimension.length(200.0f), Dimension.length(200.0f));
        nodeStyle.padding = new Rect<>(LengthPercentage.length(40.0f), LengthPercentage.length(20.0f), LengthPercentage.length(10.0f), LengthPercentage.length(30.0f));
        nodeStyle.border = new Rect<>(LengthPercentage.length(8.0f), LengthPercentage.length(4.0f), LengthPercentage.length(2.0f), LengthPercentage.length(6.0f));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5, node6, node7, node8);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(200.0f, nodeLayout.size().width, "width of node");
        assertEquals(200.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(56.0f, node0Layout.location().x, "x of node0");
        assertEquals(12.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(40.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(96.0f, node1Layout.location().x, "x of node1");
        assertEquals(12.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(40.0f, node2Layout.size().width, "width of node2");
        assertEquals(40.0f, node2Layout.size().height, "height of node2");
        assertEquals(136.0f, node2Layout.location().x, "x of node2");
        assertEquals(12.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(40.0f, node3Layout.size().width, "width of node3");
        assertEquals(40.0f, node3Layout.size().height, "height of node3");
        assertEquals(56.0f, node3Layout.location().x, "x of node3");
        assertEquals(52.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(40.0f, node4Layout.size().width, "width of node4");
        assertEquals(40.0f, node4Layout.size().height, "height of node4");
        assertEquals(96.0f, node4Layout.location().x, "x of node4");
        assertEquals(52.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(40.0f, node5Layout.size().width, "width of node5");
        assertEquals(40.0f, node5Layout.size().height, "height of node5");
        assertEquals(136.0f, node5Layout.location().x, "x of node5");
        assertEquals(52.0f, node5Layout.location().y, "y of node5");
        Layout node6Layout = tree.getLayout(node6);
        assertEquals(40.0f, node6Layout.size().width, "width of node6");
        assertEquals(40.0f, node6Layout.size().height, "height of node6");
        assertEquals(56.0f, node6Layout.location().x, "x of node6");
        assertEquals(92.0f, node6Layout.location().y, "y of node6");
        Layout node7Layout = tree.getLayout(node7);
        assertEquals(40.0f, node7Layout.size().width, "width of node7");
        assertEquals(40.0f, node7Layout.size().height, "height of node7");
        assertEquals(96.0f, node7Layout.location().x, "x of node7");
        assertEquals(92.0f, node7Layout.location().y, "y of node7");
        Layout node8Layout = tree.getLayout(node8);
        assertEquals(40.0f, node8Layout.size().width, "width of node8");
        assertEquals(40.0f, node8Layout.size().height, "height of node8");
        assertEquals(136.0f, node8Layout.location().x, "x of node8");
        assertEquals(92.0f, node8Layout.location().y, "y of node8");
    }

    @Test
    @DisplayName("grid_justify_content_end_with_padding_border__content_box")
    void gridJustifyContentEndWithPaddingBorderContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        node3Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        node4Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node4 = tree.newLeaf(node4Style);

        Style node5Style = new Style();
        node5Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node5 = tree.newLeaf(node5Style);

        Style node6Style = new Style();
        node6Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node6 = tree.newLeaf(node6Style);

        Style node7Style = new Style();
        node7Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node7 = tree.newLeaf(node7Style);

        Style node8Style = new Style();
        node8Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node8 = tree.newLeaf(node8Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.justifyContent = AlignContent.END;
        nodeStyle.size = new Size<>(Dimension.length(200.0f), Dimension.length(200.0f));
        nodeStyle.padding = new Rect<>(LengthPercentage.length(40.0f), LengthPercentage.length(20.0f), LengthPercentage.length(10.0f), LengthPercentage.length(30.0f));
        nodeStyle.border = new Rect<>(LengthPercentage.length(8.0f), LengthPercentage.length(4.0f), LengthPercentage.length(2.0f), LengthPercentage.length(6.0f));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5, node6, node7, node8);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(272.0f, nodeLayout.size().width, "width of node");
        assertEquals(248.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(128.0f, node0Layout.location().x, "x of node0");
        assertEquals(12.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(40.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(168.0f, node1Layout.location().x, "x of node1");
        assertEquals(12.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(40.0f, node2Layout.size().width, "width of node2");
        assertEquals(40.0f, node2Layout.size().height, "height of node2");
        assertEquals(208.0f, node2Layout.location().x, "x of node2");
        assertEquals(12.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(40.0f, node3Layout.size().width, "width of node3");
        assertEquals(40.0f, node3Layout.size().height, "height of node3");
        assertEquals(128.0f, node3Layout.location().x, "x of node3");
        assertEquals(52.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(40.0f, node4Layout.size().width, "width of node4");
        assertEquals(40.0f, node4Layout.size().height, "height of node4");
        assertEquals(168.0f, node4Layout.location().x, "x of node4");
        assertEquals(52.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(40.0f, node5Layout.size().width, "width of node5");
        assertEquals(40.0f, node5Layout.size().height, "height of node5");
        assertEquals(208.0f, node5Layout.location().x, "x of node5");
        assertEquals(52.0f, node5Layout.location().y, "y of node5");
        Layout node6Layout = tree.getLayout(node6);
        assertEquals(40.0f, node6Layout.size().width, "width of node6");
        assertEquals(40.0f, node6Layout.size().height, "height of node6");
        assertEquals(128.0f, node6Layout.location().x, "x of node6");
        assertEquals(92.0f, node6Layout.location().y, "y of node6");
        Layout node7Layout = tree.getLayout(node7);
        assertEquals(40.0f, node7Layout.size().width, "width of node7");
        assertEquals(40.0f, node7Layout.size().height, "height of node7");
        assertEquals(168.0f, node7Layout.location().x, "x of node7");
        assertEquals(92.0f, node7Layout.location().y, "y of node7");
        Layout node8Layout = tree.getLayout(node8);
        assertEquals(40.0f, node8Layout.size().width, "width of node8");
        assertEquals(40.0f, node8Layout.size().height, "height of node8");
        assertEquals(208.0f, node8Layout.location().x, "x of node8");
        assertEquals(92.0f, node8Layout.location().y, "y of node8");
    }

    @Test
    @DisplayName("grid_justify_content_space_around__border_box")
    void gridJustifyContentSpaceAroundBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        NodeId node4 = tree.newLeaf(node4Style);

        Style node5Style = new Style();
        NodeId node5 = tree.newLeaf(node5Style);

        Style node6Style = new Style();
        NodeId node6 = tree.newLeaf(node6Style);

        Style node7Style = new Style();
        NodeId node7 = tree.newLeaf(node7Style);

        Style node8Style = new Style();
        NodeId node8 = tree.newLeaf(node8Style);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.justifyContent = AlignContent.SPACE_AROUND;
        nodeStyle.size = new Size<>(Dimension.length(200.0f), Dimension.length(200.0f));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5, node6, node7, node8);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(200.0f, nodeLayout.size().width, "width of node");
        assertEquals(200.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(13.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(40.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(80.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(40.0f, node2Layout.size().width, "width of node2");
        assertEquals(40.0f, node2Layout.size().height, "height of node2");
        assertEquals(147.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(40.0f, node3Layout.size().width, "width of node3");
        assertEquals(40.0f, node3Layout.size().height, "height of node3");
        assertEquals(13.0f, node3Layout.location().x, "x of node3");
        assertEquals(40.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(40.0f, node4Layout.size().width, "width of node4");
        assertEquals(40.0f, node4Layout.size().height, "height of node4");
        assertEquals(80.0f, node4Layout.location().x, "x of node4");
        assertEquals(40.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(40.0f, node5Layout.size().width, "width of node5");
        assertEquals(40.0f, node5Layout.size().height, "height of node5");
        assertEquals(147.0f, node5Layout.location().x, "x of node5");
        assertEquals(40.0f, node5Layout.location().y, "y of node5");
        Layout node6Layout = tree.getLayout(node6);
        assertEquals(40.0f, node6Layout.size().width, "width of node6");
        assertEquals(40.0f, node6Layout.size().height, "height of node6");
        assertEquals(13.0f, node6Layout.location().x, "x of node6");
        assertEquals(80.0f, node6Layout.location().y, "y of node6");
        Layout node7Layout = tree.getLayout(node7);
        assertEquals(40.0f, node7Layout.size().width, "width of node7");
        assertEquals(40.0f, node7Layout.size().height, "height of node7");
        assertEquals(80.0f, node7Layout.location().x, "x of node7");
        assertEquals(80.0f, node7Layout.location().y, "y of node7");
        Layout node8Layout = tree.getLayout(node8);
        assertEquals(40.0f, node8Layout.size().width, "width of node8");
        assertEquals(40.0f, node8Layout.size().height, "height of node8");
        assertEquals(147.0f, node8Layout.location().x, "x of node8");
        assertEquals(80.0f, node8Layout.location().y, "y of node8");
    }

    @Test
    @DisplayName("grid_justify_content_space_around__content_box")
    void gridJustifyContentSpaceAroundContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        node3Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        node4Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node4 = tree.newLeaf(node4Style);

        Style node5Style = new Style();
        node5Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node5 = tree.newLeaf(node5Style);

        Style node6Style = new Style();
        node6Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node6 = tree.newLeaf(node6Style);

        Style node7Style = new Style();
        node7Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node7 = tree.newLeaf(node7Style);

        Style node8Style = new Style();
        node8Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node8 = tree.newLeaf(node8Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.justifyContent = AlignContent.SPACE_AROUND;
        nodeStyle.size = new Size<>(Dimension.length(200.0f), Dimension.length(200.0f));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5, node6, node7, node8);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(200.0f, nodeLayout.size().width, "width of node");
        assertEquals(200.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(13.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(40.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(80.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(40.0f, node2Layout.size().width, "width of node2");
        assertEquals(40.0f, node2Layout.size().height, "height of node2");
        assertEquals(147.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(40.0f, node3Layout.size().width, "width of node3");
        assertEquals(40.0f, node3Layout.size().height, "height of node3");
        assertEquals(13.0f, node3Layout.location().x, "x of node3");
        assertEquals(40.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(40.0f, node4Layout.size().width, "width of node4");
        assertEquals(40.0f, node4Layout.size().height, "height of node4");
        assertEquals(80.0f, node4Layout.location().x, "x of node4");
        assertEquals(40.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(40.0f, node5Layout.size().width, "width of node5");
        assertEquals(40.0f, node5Layout.size().height, "height of node5");
        assertEquals(147.0f, node5Layout.location().x, "x of node5");
        assertEquals(40.0f, node5Layout.location().y, "y of node5");
        Layout node6Layout = tree.getLayout(node6);
        assertEquals(40.0f, node6Layout.size().width, "width of node6");
        assertEquals(40.0f, node6Layout.size().height, "height of node6");
        assertEquals(13.0f, node6Layout.location().x, "x of node6");
        assertEquals(80.0f, node6Layout.location().y, "y of node6");
        Layout node7Layout = tree.getLayout(node7);
        assertEquals(40.0f, node7Layout.size().width, "width of node7");
        assertEquals(40.0f, node7Layout.size().height, "height of node7");
        assertEquals(80.0f, node7Layout.location().x, "x of node7");
        assertEquals(80.0f, node7Layout.location().y, "y of node7");
        Layout node8Layout = tree.getLayout(node8);
        assertEquals(40.0f, node8Layout.size().width, "width of node8");
        assertEquals(40.0f, node8Layout.size().height, "height of node8");
        assertEquals(147.0f, node8Layout.location().x, "x of node8");
        assertEquals(80.0f, node8Layout.location().y, "y of node8");
    }

    @Test
    @DisplayName("grid_justify_content_space_around_negative_space_gap__border_box")
    void gridJustifyContentSpaceAroundNegativeSpaceGapBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        NodeId node00 = tree.newLeaf(node00Style);

        Style node01Style = new Style();
        NodeId node01 = tree.newLeaf(node01Style);

        Style node02Style = new Style();
        NodeId node02 = tree.newLeaf(node02Style);

        Style node03Style = new Style();
        NodeId node03 = tree.newLeaf(node03Style);

        Style node04Style = new Style();
        NodeId node04 = tree.newLeaf(node04Style);

        Style node05Style = new Style();
        NodeId node05 = tree.newLeaf(node05Style);

        Style node06Style = new Style();
        NodeId node06 = tree.newLeaf(node06Style);

        Style node07Style = new Style();
        NodeId node07 = tree.newLeaf(node07Style);

        Style node08Style = new Style();
        NodeId node08 = tree.newLeaf(node08Style);

        Style node0Style = new Style();
        node0Style.display = Display.GRID;
        node0Style.alignContent = AlignContent.CENTER;
        node0Style.justifyContent = AlignContent.SPACE_AROUND;
        node0Style.size = new Size<>(Dimension.length(120.0f), Dimension.length(120.0f));
        node0Style.gap = new Size<>(LengthPercentage.length(10.0f), LengthPercentage.length(10.0f));
        node0Style.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        node0Style.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        node0Style.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        node0Style.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(20.0f)));
        node0Style.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(20.0f)));
        node0Style.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(20.0f)));
        NodeId node0 = tree.newWithChildren(node0Style, node00, node01, node02, node03, node04, node05, node06, node07, node08);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.size = new Size<>(Dimension.length(240.0f), Dimension.length(240.0f));
        nodeStyle.border = new Rect<>(LengthPercentage.length(60.0f), LengthPercentage.length(60.0f), LengthPercentage.length(60.0f), LengthPercentage.length(60.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(240.0f, nodeLayout.size().width, "width of node");
        assertEquals(240.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(120.0f, node0Layout.size().width, "width of node0");
        assertEquals(120.0f, node0Layout.size().height, "height of node0");
        assertEquals(60.0f, node0Layout.location().x, "x of node0");
        assertEquals(60.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(40.0f, node00Layout.size().width, "width of node00");
        assertEquals(20.0f, node00Layout.size().height, "height of node00");
        assertEquals(0.0f, node00Layout.location().x, "x of node00");
        assertEquals(20.0f, node00Layout.location().y, "y of node00");
        Layout node01Layout = tree.getLayout(node01);
        assertEquals(40.0f, node01Layout.size().width, "width of node01");
        assertEquals(20.0f, node01Layout.size().height, "height of node01");
        assertEquals(50.0f, node01Layout.location().x, "x of node01");
        assertEquals(20.0f, node01Layout.location().y, "y of node01");
        Layout node02Layout = tree.getLayout(node02);
        assertEquals(40.0f, node02Layout.size().width, "width of node02");
        assertEquals(20.0f, node02Layout.size().height, "height of node02");
        assertEquals(100.0f, node02Layout.location().x, "x of node02");
        assertEquals(20.0f, node02Layout.location().y, "y of node02");
        Layout node03Layout = tree.getLayout(node03);
        assertEquals(40.0f, node03Layout.size().width, "width of node03");
        assertEquals(20.0f, node03Layout.size().height, "height of node03");
        assertEquals(0.0f, node03Layout.location().x, "x of node03");
        assertEquals(50.0f, node03Layout.location().y, "y of node03");
        Layout node04Layout = tree.getLayout(node04);
        assertEquals(40.0f, node04Layout.size().width, "width of node04");
        assertEquals(20.0f, node04Layout.size().height, "height of node04");
        assertEquals(50.0f, node04Layout.location().x, "x of node04");
        assertEquals(50.0f, node04Layout.location().y, "y of node04");
        Layout node05Layout = tree.getLayout(node05);
        assertEquals(40.0f, node05Layout.size().width, "width of node05");
        assertEquals(20.0f, node05Layout.size().height, "height of node05");
        assertEquals(100.0f, node05Layout.location().x, "x of node05");
        assertEquals(50.0f, node05Layout.location().y, "y of node05");
        Layout node06Layout = tree.getLayout(node06);
        assertEquals(40.0f, node06Layout.size().width, "width of node06");
        assertEquals(20.0f, node06Layout.size().height, "height of node06");
        assertEquals(0.0f, node06Layout.location().x, "x of node06");
        assertEquals(80.0f, node06Layout.location().y, "y of node06");
        Layout node07Layout = tree.getLayout(node07);
        assertEquals(40.0f, node07Layout.size().width, "width of node07");
        assertEquals(20.0f, node07Layout.size().height, "height of node07");
        assertEquals(50.0f, node07Layout.location().x, "x of node07");
        assertEquals(80.0f, node07Layout.location().y, "y of node07");
        Layout node08Layout = tree.getLayout(node08);
        assertEquals(40.0f, node08Layout.size().width, "width of node08");
        assertEquals(20.0f, node08Layout.size().height, "height of node08");
        assertEquals(100.0f, node08Layout.location().x, "x of node08");
        assertEquals(80.0f, node08Layout.location().y, "y of node08");
    }

    @Test
    @DisplayName("grid_justify_content_space_around_negative_space_gap__content_box")
    void gridJustifyContentSpaceAroundNegativeSpaceGapContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node00 = tree.newLeaf(node00Style);

        Style node01Style = new Style();
        node01Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node01 = tree.newLeaf(node01Style);

        Style node02Style = new Style();
        node02Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node02 = tree.newLeaf(node02Style);

        Style node03Style = new Style();
        node03Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node03 = tree.newLeaf(node03Style);

        Style node04Style = new Style();
        node04Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node04 = tree.newLeaf(node04Style);

        Style node05Style = new Style();
        node05Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node05 = tree.newLeaf(node05Style);

        Style node06Style = new Style();
        node06Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node06 = tree.newLeaf(node06Style);

        Style node07Style = new Style();
        node07Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node07 = tree.newLeaf(node07Style);

        Style node08Style = new Style();
        node08Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node08 = tree.newLeaf(node08Style);

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.display = Display.GRID;
        node0Style.alignContent = AlignContent.CENTER;
        node0Style.justifyContent = AlignContent.SPACE_AROUND;
        node0Style.size = new Size<>(Dimension.length(120.0f), Dimension.length(120.0f));
        node0Style.gap = new Size<>(LengthPercentage.length(10.0f), LengthPercentage.length(10.0f));
        node0Style.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        node0Style.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        node0Style.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        node0Style.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(20.0f)));
        node0Style.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(20.0f)));
        node0Style.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(20.0f)));
        NodeId node0 = tree.newWithChildren(node0Style, node00, node01, node02, node03, node04, node05, node06, node07, node08);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.size = new Size<>(Dimension.length(240.0f), Dimension.length(240.0f));
        nodeStyle.border = new Rect<>(LengthPercentage.length(60.0f), LengthPercentage.length(60.0f), LengthPercentage.length(60.0f), LengthPercentage.length(60.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(360.0f, nodeLayout.size().width, "width of node");
        assertEquals(360.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(120.0f, node0Layout.size().width, "width of node0");
        assertEquals(120.0f, node0Layout.size().height, "height of node0");
        assertEquals(60.0f, node0Layout.location().x, "x of node0");
        assertEquals(60.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(40.0f, node00Layout.size().width, "width of node00");
        assertEquals(20.0f, node00Layout.size().height, "height of node00");
        assertEquals(0.0f, node00Layout.location().x, "x of node00");
        assertEquals(20.0f, node00Layout.location().y, "y of node00");
        Layout node01Layout = tree.getLayout(node01);
        assertEquals(40.0f, node01Layout.size().width, "width of node01");
        assertEquals(20.0f, node01Layout.size().height, "height of node01");
        assertEquals(50.0f, node01Layout.location().x, "x of node01");
        assertEquals(20.0f, node01Layout.location().y, "y of node01");
        Layout node02Layout = tree.getLayout(node02);
        assertEquals(40.0f, node02Layout.size().width, "width of node02");
        assertEquals(20.0f, node02Layout.size().height, "height of node02");
        assertEquals(100.0f, node02Layout.location().x, "x of node02");
        assertEquals(20.0f, node02Layout.location().y, "y of node02");
        Layout node03Layout = tree.getLayout(node03);
        assertEquals(40.0f, node03Layout.size().width, "width of node03");
        assertEquals(20.0f, node03Layout.size().height, "height of node03");
        assertEquals(0.0f, node03Layout.location().x, "x of node03");
        assertEquals(50.0f, node03Layout.location().y, "y of node03");
        Layout node04Layout = tree.getLayout(node04);
        assertEquals(40.0f, node04Layout.size().width, "width of node04");
        assertEquals(20.0f, node04Layout.size().height, "height of node04");
        assertEquals(50.0f, node04Layout.location().x, "x of node04");
        assertEquals(50.0f, node04Layout.location().y, "y of node04");
        Layout node05Layout = tree.getLayout(node05);
        assertEquals(40.0f, node05Layout.size().width, "width of node05");
        assertEquals(20.0f, node05Layout.size().height, "height of node05");
        assertEquals(100.0f, node05Layout.location().x, "x of node05");
        assertEquals(50.0f, node05Layout.location().y, "y of node05");
        Layout node06Layout = tree.getLayout(node06);
        assertEquals(40.0f, node06Layout.size().width, "width of node06");
        assertEquals(20.0f, node06Layout.size().height, "height of node06");
        assertEquals(0.0f, node06Layout.location().x, "x of node06");
        assertEquals(80.0f, node06Layout.location().y, "y of node06");
        Layout node07Layout = tree.getLayout(node07);
        assertEquals(40.0f, node07Layout.size().width, "width of node07");
        assertEquals(20.0f, node07Layout.size().height, "height of node07");
        assertEquals(50.0f, node07Layout.location().x, "x of node07");
        assertEquals(80.0f, node07Layout.location().y, "y of node07");
        Layout node08Layout = tree.getLayout(node08);
        assertEquals(40.0f, node08Layout.size().width, "width of node08");
        assertEquals(20.0f, node08Layout.size().height, "height of node08");
        assertEquals(100.0f, node08Layout.location().x, "x of node08");
        assertEquals(80.0f, node08Layout.location().y, "y of node08");
    }

    @Test
    @DisplayName("grid_justify_content_space_around_with_padding_border__border_box")
    void gridJustifyContentSpaceAroundWithPaddingBorderBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        NodeId node4 = tree.newLeaf(node4Style);

        Style node5Style = new Style();
        NodeId node5 = tree.newLeaf(node5Style);

        Style node6Style = new Style();
        NodeId node6 = tree.newLeaf(node6Style);

        Style node7Style = new Style();
        NodeId node7 = tree.newLeaf(node7Style);

        Style node8Style = new Style();
        NodeId node8 = tree.newLeaf(node8Style);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.justifyContent = AlignContent.SPACE_AROUND;
        nodeStyle.size = new Size<>(Dimension.length(200.0f), Dimension.length(200.0f));
        nodeStyle.padding = new Rect<>(LengthPercentage.length(40.0f), LengthPercentage.length(20.0f), LengthPercentage.length(10.0f), LengthPercentage.length(30.0f));
        nodeStyle.border = new Rect<>(LengthPercentage.length(8.0f), LengthPercentage.length(4.0f), LengthPercentage.length(2.0f), LengthPercentage.length(6.0f));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5, node6, node7, node8);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(200.0f, nodeLayout.size().width, "width of node");
        assertEquals(200.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(49.0f, node0Layout.location().x, "x of node0");
        assertEquals(12.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(40.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(92.0f, node1Layout.location().x, "x of node1");
        assertEquals(12.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(40.0f, node2Layout.size().width, "width of node2");
        assertEquals(40.0f, node2Layout.size().height, "height of node2");
        assertEquals(135.0f, node2Layout.location().x, "x of node2");
        assertEquals(12.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(40.0f, node3Layout.size().width, "width of node3");
        assertEquals(40.0f, node3Layout.size().height, "height of node3");
        assertEquals(49.0f, node3Layout.location().x, "x of node3");
        assertEquals(52.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(40.0f, node4Layout.size().width, "width of node4");
        assertEquals(40.0f, node4Layout.size().height, "height of node4");
        assertEquals(92.0f, node4Layout.location().x, "x of node4");
        assertEquals(52.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(40.0f, node5Layout.size().width, "width of node5");
        assertEquals(40.0f, node5Layout.size().height, "height of node5");
        assertEquals(135.0f, node5Layout.location().x, "x of node5");
        assertEquals(52.0f, node5Layout.location().y, "y of node5");
        Layout node6Layout = tree.getLayout(node6);
        assertEquals(40.0f, node6Layout.size().width, "width of node6");
        assertEquals(40.0f, node6Layout.size().height, "height of node6");
        assertEquals(49.0f, node6Layout.location().x, "x of node6");
        assertEquals(92.0f, node6Layout.location().y, "y of node6");
        Layout node7Layout = tree.getLayout(node7);
        assertEquals(40.0f, node7Layout.size().width, "width of node7");
        assertEquals(40.0f, node7Layout.size().height, "height of node7");
        assertEquals(92.0f, node7Layout.location().x, "x of node7");
        assertEquals(92.0f, node7Layout.location().y, "y of node7");
        Layout node8Layout = tree.getLayout(node8);
        assertEquals(40.0f, node8Layout.size().width, "width of node8");
        assertEquals(40.0f, node8Layout.size().height, "height of node8");
        assertEquals(135.0f, node8Layout.location().x, "x of node8");
        assertEquals(92.0f, node8Layout.location().y, "y of node8");
    }

    @Test
    @DisplayName("grid_justify_content_space_around_with_padding_border__content_box")
    void gridJustifyContentSpaceAroundWithPaddingBorderContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        node3Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        node4Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node4 = tree.newLeaf(node4Style);

        Style node5Style = new Style();
        node5Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node5 = tree.newLeaf(node5Style);

        Style node6Style = new Style();
        node6Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node6 = tree.newLeaf(node6Style);

        Style node7Style = new Style();
        node7Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node7 = tree.newLeaf(node7Style);

        Style node8Style = new Style();
        node8Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node8 = tree.newLeaf(node8Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.justifyContent = AlignContent.SPACE_AROUND;
        nodeStyle.size = new Size<>(Dimension.length(200.0f), Dimension.length(200.0f));
        nodeStyle.padding = new Rect<>(LengthPercentage.length(40.0f), LengthPercentage.length(20.0f), LengthPercentage.length(10.0f), LengthPercentage.length(30.0f));
        nodeStyle.border = new Rect<>(LengthPercentage.length(8.0f), LengthPercentage.length(4.0f), LengthPercentage.length(2.0f), LengthPercentage.length(6.0f));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5, node6, node7, node8);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(272.0f, nodeLayout.size().width, "width of node");
        assertEquals(248.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(61.0f, node0Layout.location().x, "x of node0");
        assertEquals(12.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(40.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(128.0f, node1Layout.location().x, "x of node1");
        assertEquals(12.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(40.0f, node2Layout.size().width, "width of node2");
        assertEquals(40.0f, node2Layout.size().height, "height of node2");
        assertEquals(195.0f, node2Layout.location().x, "x of node2");
        assertEquals(12.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(40.0f, node3Layout.size().width, "width of node3");
        assertEquals(40.0f, node3Layout.size().height, "height of node3");
        assertEquals(61.0f, node3Layout.location().x, "x of node3");
        assertEquals(52.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(40.0f, node4Layout.size().width, "width of node4");
        assertEquals(40.0f, node4Layout.size().height, "height of node4");
        assertEquals(128.0f, node4Layout.location().x, "x of node4");
        assertEquals(52.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(40.0f, node5Layout.size().width, "width of node5");
        assertEquals(40.0f, node5Layout.size().height, "height of node5");
        assertEquals(195.0f, node5Layout.location().x, "x of node5");
        assertEquals(52.0f, node5Layout.location().y, "y of node5");
        Layout node6Layout = tree.getLayout(node6);
        assertEquals(40.0f, node6Layout.size().width, "width of node6");
        assertEquals(40.0f, node6Layout.size().height, "height of node6");
        assertEquals(61.0f, node6Layout.location().x, "x of node6");
        assertEquals(92.0f, node6Layout.location().y, "y of node6");
        Layout node7Layout = tree.getLayout(node7);
        assertEquals(40.0f, node7Layout.size().width, "width of node7");
        assertEquals(40.0f, node7Layout.size().height, "height of node7");
        assertEquals(128.0f, node7Layout.location().x, "x of node7");
        assertEquals(92.0f, node7Layout.location().y, "y of node7");
        Layout node8Layout = tree.getLayout(node8);
        assertEquals(40.0f, node8Layout.size().width, "width of node8");
        assertEquals(40.0f, node8Layout.size().height, "height of node8");
        assertEquals(195.0f, node8Layout.location().x, "x of node8");
        assertEquals(92.0f, node8Layout.location().y, "y of node8");
    }

    @Test
    @DisplayName("grid_justify_content_space_between__border_box")
    void gridJustifyContentSpaceBetweenBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        NodeId node4 = tree.newLeaf(node4Style);

        Style node5Style = new Style();
        NodeId node5 = tree.newLeaf(node5Style);

        Style node6Style = new Style();
        NodeId node6 = tree.newLeaf(node6Style);

        Style node7Style = new Style();
        NodeId node7 = tree.newLeaf(node7Style);

        Style node8Style = new Style();
        NodeId node8 = tree.newLeaf(node8Style);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.justifyContent = AlignContent.SPACE_BETWEEN;
        nodeStyle.size = new Size<>(Dimension.length(200.0f), Dimension.length(200.0f));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5, node6, node7, node8);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(200.0f, nodeLayout.size().width, "width of node");
        assertEquals(200.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(40.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(80.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(40.0f, node2Layout.size().width, "width of node2");
        assertEquals(40.0f, node2Layout.size().height, "height of node2");
        assertEquals(160.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(40.0f, node3Layout.size().width, "width of node3");
        assertEquals(40.0f, node3Layout.size().height, "height of node3");
        assertEquals(0.0f, node3Layout.location().x, "x of node3");
        assertEquals(40.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(40.0f, node4Layout.size().width, "width of node4");
        assertEquals(40.0f, node4Layout.size().height, "height of node4");
        assertEquals(80.0f, node4Layout.location().x, "x of node4");
        assertEquals(40.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(40.0f, node5Layout.size().width, "width of node5");
        assertEquals(40.0f, node5Layout.size().height, "height of node5");
        assertEquals(160.0f, node5Layout.location().x, "x of node5");
        assertEquals(40.0f, node5Layout.location().y, "y of node5");
        Layout node6Layout = tree.getLayout(node6);
        assertEquals(40.0f, node6Layout.size().width, "width of node6");
        assertEquals(40.0f, node6Layout.size().height, "height of node6");
        assertEquals(0.0f, node6Layout.location().x, "x of node6");
        assertEquals(80.0f, node6Layout.location().y, "y of node6");
        Layout node7Layout = tree.getLayout(node7);
        assertEquals(40.0f, node7Layout.size().width, "width of node7");
        assertEquals(40.0f, node7Layout.size().height, "height of node7");
        assertEquals(80.0f, node7Layout.location().x, "x of node7");
        assertEquals(80.0f, node7Layout.location().y, "y of node7");
        Layout node8Layout = tree.getLayout(node8);
        assertEquals(40.0f, node8Layout.size().width, "width of node8");
        assertEquals(40.0f, node8Layout.size().height, "height of node8");
        assertEquals(160.0f, node8Layout.location().x, "x of node8");
        assertEquals(80.0f, node8Layout.location().y, "y of node8");
    }

    @Test
    @DisplayName("grid_justify_content_space_between__content_box")
    void gridJustifyContentSpaceBetweenContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        node3Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        node4Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node4 = tree.newLeaf(node4Style);

        Style node5Style = new Style();
        node5Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node5 = tree.newLeaf(node5Style);

        Style node6Style = new Style();
        node6Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node6 = tree.newLeaf(node6Style);

        Style node7Style = new Style();
        node7Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node7 = tree.newLeaf(node7Style);

        Style node8Style = new Style();
        node8Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node8 = tree.newLeaf(node8Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.justifyContent = AlignContent.SPACE_BETWEEN;
        nodeStyle.size = new Size<>(Dimension.length(200.0f), Dimension.length(200.0f));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5, node6, node7, node8);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(200.0f, nodeLayout.size().width, "width of node");
        assertEquals(200.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(40.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(80.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(40.0f, node2Layout.size().width, "width of node2");
        assertEquals(40.0f, node2Layout.size().height, "height of node2");
        assertEquals(160.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(40.0f, node3Layout.size().width, "width of node3");
        assertEquals(40.0f, node3Layout.size().height, "height of node3");
        assertEquals(0.0f, node3Layout.location().x, "x of node3");
        assertEquals(40.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(40.0f, node4Layout.size().width, "width of node4");
        assertEquals(40.0f, node4Layout.size().height, "height of node4");
        assertEquals(80.0f, node4Layout.location().x, "x of node4");
        assertEquals(40.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(40.0f, node5Layout.size().width, "width of node5");
        assertEquals(40.0f, node5Layout.size().height, "height of node5");
        assertEquals(160.0f, node5Layout.location().x, "x of node5");
        assertEquals(40.0f, node5Layout.location().y, "y of node5");
        Layout node6Layout = tree.getLayout(node6);
        assertEquals(40.0f, node6Layout.size().width, "width of node6");
        assertEquals(40.0f, node6Layout.size().height, "height of node6");
        assertEquals(0.0f, node6Layout.location().x, "x of node6");
        assertEquals(80.0f, node6Layout.location().y, "y of node6");
        Layout node7Layout = tree.getLayout(node7);
        assertEquals(40.0f, node7Layout.size().width, "width of node7");
        assertEquals(40.0f, node7Layout.size().height, "height of node7");
        assertEquals(80.0f, node7Layout.location().x, "x of node7");
        assertEquals(80.0f, node7Layout.location().y, "y of node7");
        Layout node8Layout = tree.getLayout(node8);
        assertEquals(40.0f, node8Layout.size().width, "width of node8");
        assertEquals(40.0f, node8Layout.size().height, "height of node8");
        assertEquals(160.0f, node8Layout.location().x, "x of node8");
        assertEquals(80.0f, node8Layout.location().y, "y of node8");
    }

    @Test
    @DisplayName("grid_justify_content_space_between_negative_space_gap__border_box")
    void gridJustifyContentSpaceBetweenNegativeSpaceGapBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        NodeId node00 = tree.newLeaf(node00Style);

        Style node01Style = new Style();
        NodeId node01 = tree.newLeaf(node01Style);

        Style node02Style = new Style();
        NodeId node02 = tree.newLeaf(node02Style);

        Style node03Style = new Style();
        NodeId node03 = tree.newLeaf(node03Style);

        Style node04Style = new Style();
        NodeId node04 = tree.newLeaf(node04Style);

        Style node05Style = new Style();
        NodeId node05 = tree.newLeaf(node05Style);

        Style node06Style = new Style();
        NodeId node06 = tree.newLeaf(node06Style);

        Style node07Style = new Style();
        NodeId node07 = tree.newLeaf(node07Style);

        Style node08Style = new Style();
        NodeId node08 = tree.newLeaf(node08Style);

        Style node0Style = new Style();
        node0Style.display = Display.GRID;
        node0Style.alignContent = AlignContent.CENTER;
        node0Style.justifyContent = AlignContent.SPACE_BETWEEN;
        node0Style.size = new Size<>(Dimension.length(120.0f), Dimension.length(120.0f));
        node0Style.gap = new Size<>(LengthPercentage.length(10.0f), LengthPercentage.length(10.0f));
        node0Style.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        node0Style.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        node0Style.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        node0Style.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(20.0f)));
        node0Style.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(20.0f)));
        node0Style.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(20.0f)));
        NodeId node0 = tree.newWithChildren(node0Style, node00, node01, node02, node03, node04, node05, node06, node07, node08);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.size = new Size<>(Dimension.length(240.0f), Dimension.length(240.0f));
        nodeStyle.border = new Rect<>(LengthPercentage.length(60.0f), LengthPercentage.length(60.0f), LengthPercentage.length(60.0f), LengthPercentage.length(60.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(240.0f, nodeLayout.size().width, "width of node");
        assertEquals(240.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(120.0f, node0Layout.size().width, "width of node0");
        assertEquals(120.0f, node0Layout.size().height, "height of node0");
        assertEquals(60.0f, node0Layout.location().x, "x of node0");
        assertEquals(60.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(40.0f, node00Layout.size().width, "width of node00");
        assertEquals(20.0f, node00Layout.size().height, "height of node00");
        assertEquals(0.0f, node00Layout.location().x, "x of node00");
        assertEquals(20.0f, node00Layout.location().y, "y of node00");
        Layout node01Layout = tree.getLayout(node01);
        assertEquals(40.0f, node01Layout.size().width, "width of node01");
        assertEquals(20.0f, node01Layout.size().height, "height of node01");
        assertEquals(50.0f, node01Layout.location().x, "x of node01");
        assertEquals(20.0f, node01Layout.location().y, "y of node01");
        Layout node02Layout = tree.getLayout(node02);
        assertEquals(40.0f, node02Layout.size().width, "width of node02");
        assertEquals(20.0f, node02Layout.size().height, "height of node02");
        assertEquals(100.0f, node02Layout.location().x, "x of node02");
        assertEquals(20.0f, node02Layout.location().y, "y of node02");
        Layout node03Layout = tree.getLayout(node03);
        assertEquals(40.0f, node03Layout.size().width, "width of node03");
        assertEquals(20.0f, node03Layout.size().height, "height of node03");
        assertEquals(0.0f, node03Layout.location().x, "x of node03");
        assertEquals(50.0f, node03Layout.location().y, "y of node03");
        Layout node04Layout = tree.getLayout(node04);
        assertEquals(40.0f, node04Layout.size().width, "width of node04");
        assertEquals(20.0f, node04Layout.size().height, "height of node04");
        assertEquals(50.0f, node04Layout.location().x, "x of node04");
        assertEquals(50.0f, node04Layout.location().y, "y of node04");
        Layout node05Layout = tree.getLayout(node05);
        assertEquals(40.0f, node05Layout.size().width, "width of node05");
        assertEquals(20.0f, node05Layout.size().height, "height of node05");
        assertEquals(100.0f, node05Layout.location().x, "x of node05");
        assertEquals(50.0f, node05Layout.location().y, "y of node05");
        Layout node06Layout = tree.getLayout(node06);
        assertEquals(40.0f, node06Layout.size().width, "width of node06");
        assertEquals(20.0f, node06Layout.size().height, "height of node06");
        assertEquals(0.0f, node06Layout.location().x, "x of node06");
        assertEquals(80.0f, node06Layout.location().y, "y of node06");
        Layout node07Layout = tree.getLayout(node07);
        assertEquals(40.0f, node07Layout.size().width, "width of node07");
        assertEquals(20.0f, node07Layout.size().height, "height of node07");
        assertEquals(50.0f, node07Layout.location().x, "x of node07");
        assertEquals(80.0f, node07Layout.location().y, "y of node07");
        Layout node08Layout = tree.getLayout(node08);
        assertEquals(40.0f, node08Layout.size().width, "width of node08");
        assertEquals(20.0f, node08Layout.size().height, "height of node08");
        assertEquals(100.0f, node08Layout.location().x, "x of node08");
        assertEquals(80.0f, node08Layout.location().y, "y of node08");
    }

    @Test
    @DisplayName("grid_justify_content_space_between_negative_space_gap__content_box")
    void gridJustifyContentSpaceBetweenNegativeSpaceGapContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node00 = tree.newLeaf(node00Style);

        Style node01Style = new Style();
        node01Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node01 = tree.newLeaf(node01Style);

        Style node02Style = new Style();
        node02Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node02 = tree.newLeaf(node02Style);

        Style node03Style = new Style();
        node03Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node03 = tree.newLeaf(node03Style);

        Style node04Style = new Style();
        node04Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node04 = tree.newLeaf(node04Style);

        Style node05Style = new Style();
        node05Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node05 = tree.newLeaf(node05Style);

        Style node06Style = new Style();
        node06Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node06 = tree.newLeaf(node06Style);

        Style node07Style = new Style();
        node07Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node07 = tree.newLeaf(node07Style);

        Style node08Style = new Style();
        node08Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node08 = tree.newLeaf(node08Style);

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.display = Display.GRID;
        node0Style.alignContent = AlignContent.CENTER;
        node0Style.justifyContent = AlignContent.SPACE_BETWEEN;
        node0Style.size = new Size<>(Dimension.length(120.0f), Dimension.length(120.0f));
        node0Style.gap = new Size<>(LengthPercentage.length(10.0f), LengthPercentage.length(10.0f));
        node0Style.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        node0Style.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        node0Style.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        node0Style.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(20.0f)));
        node0Style.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(20.0f)));
        node0Style.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(20.0f)));
        NodeId node0 = tree.newWithChildren(node0Style, node00, node01, node02, node03, node04, node05, node06, node07, node08);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.size = new Size<>(Dimension.length(240.0f), Dimension.length(240.0f));
        nodeStyle.border = new Rect<>(LengthPercentage.length(60.0f), LengthPercentage.length(60.0f), LengthPercentage.length(60.0f), LengthPercentage.length(60.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(360.0f, nodeLayout.size().width, "width of node");
        assertEquals(360.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(120.0f, node0Layout.size().width, "width of node0");
        assertEquals(120.0f, node0Layout.size().height, "height of node0");
        assertEquals(60.0f, node0Layout.location().x, "x of node0");
        assertEquals(60.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(40.0f, node00Layout.size().width, "width of node00");
        assertEquals(20.0f, node00Layout.size().height, "height of node00");
        assertEquals(0.0f, node00Layout.location().x, "x of node00");
        assertEquals(20.0f, node00Layout.location().y, "y of node00");
        Layout node01Layout = tree.getLayout(node01);
        assertEquals(40.0f, node01Layout.size().width, "width of node01");
        assertEquals(20.0f, node01Layout.size().height, "height of node01");
        assertEquals(50.0f, node01Layout.location().x, "x of node01");
        assertEquals(20.0f, node01Layout.location().y, "y of node01");
        Layout node02Layout = tree.getLayout(node02);
        assertEquals(40.0f, node02Layout.size().width, "width of node02");
        assertEquals(20.0f, node02Layout.size().height, "height of node02");
        assertEquals(100.0f, node02Layout.location().x, "x of node02");
        assertEquals(20.0f, node02Layout.location().y, "y of node02");
        Layout node03Layout = tree.getLayout(node03);
        assertEquals(40.0f, node03Layout.size().width, "width of node03");
        assertEquals(20.0f, node03Layout.size().height, "height of node03");
        assertEquals(0.0f, node03Layout.location().x, "x of node03");
        assertEquals(50.0f, node03Layout.location().y, "y of node03");
        Layout node04Layout = tree.getLayout(node04);
        assertEquals(40.0f, node04Layout.size().width, "width of node04");
        assertEquals(20.0f, node04Layout.size().height, "height of node04");
        assertEquals(50.0f, node04Layout.location().x, "x of node04");
        assertEquals(50.0f, node04Layout.location().y, "y of node04");
        Layout node05Layout = tree.getLayout(node05);
        assertEquals(40.0f, node05Layout.size().width, "width of node05");
        assertEquals(20.0f, node05Layout.size().height, "height of node05");
        assertEquals(100.0f, node05Layout.location().x, "x of node05");
        assertEquals(50.0f, node05Layout.location().y, "y of node05");
        Layout node06Layout = tree.getLayout(node06);
        assertEquals(40.0f, node06Layout.size().width, "width of node06");
        assertEquals(20.0f, node06Layout.size().height, "height of node06");
        assertEquals(0.0f, node06Layout.location().x, "x of node06");
        assertEquals(80.0f, node06Layout.location().y, "y of node06");
        Layout node07Layout = tree.getLayout(node07);
        assertEquals(40.0f, node07Layout.size().width, "width of node07");
        assertEquals(20.0f, node07Layout.size().height, "height of node07");
        assertEquals(50.0f, node07Layout.location().x, "x of node07");
        assertEquals(80.0f, node07Layout.location().y, "y of node07");
        Layout node08Layout = tree.getLayout(node08);
        assertEquals(40.0f, node08Layout.size().width, "width of node08");
        assertEquals(20.0f, node08Layout.size().height, "height of node08");
        assertEquals(100.0f, node08Layout.location().x, "x of node08");
        assertEquals(80.0f, node08Layout.location().y, "y of node08");
    }

    @Test
    @DisplayName("grid_justify_content_space_between_with_padding_border__border_box")
    void gridJustifyContentSpaceBetweenWithPaddingBorderBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        NodeId node4 = tree.newLeaf(node4Style);

        Style node5Style = new Style();
        NodeId node5 = tree.newLeaf(node5Style);

        Style node6Style = new Style();
        NodeId node6 = tree.newLeaf(node6Style);

        Style node7Style = new Style();
        NodeId node7 = tree.newLeaf(node7Style);

        Style node8Style = new Style();
        NodeId node8 = tree.newLeaf(node8Style);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.justifyContent = AlignContent.SPACE_BETWEEN;
        nodeStyle.size = new Size<>(Dimension.length(200.0f), Dimension.length(200.0f));
        nodeStyle.padding = new Rect<>(LengthPercentage.length(40.0f), LengthPercentage.length(20.0f), LengthPercentage.length(10.0f), LengthPercentage.length(30.0f));
        nodeStyle.border = new Rect<>(LengthPercentage.length(8.0f), LengthPercentage.length(4.0f), LengthPercentage.length(2.0f), LengthPercentage.length(6.0f));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5, node6, node7, node8);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(200.0f, nodeLayout.size().width, "width of node");
        assertEquals(200.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(48.0f, node0Layout.location().x, "x of node0");
        assertEquals(12.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(40.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(92.0f, node1Layout.location().x, "x of node1");
        assertEquals(12.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(40.0f, node2Layout.size().width, "width of node2");
        assertEquals(40.0f, node2Layout.size().height, "height of node2");
        assertEquals(136.0f, node2Layout.location().x, "x of node2");
        assertEquals(12.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(40.0f, node3Layout.size().width, "width of node3");
        assertEquals(40.0f, node3Layout.size().height, "height of node3");
        assertEquals(48.0f, node3Layout.location().x, "x of node3");
        assertEquals(52.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(40.0f, node4Layout.size().width, "width of node4");
        assertEquals(40.0f, node4Layout.size().height, "height of node4");
        assertEquals(92.0f, node4Layout.location().x, "x of node4");
        assertEquals(52.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(40.0f, node5Layout.size().width, "width of node5");
        assertEquals(40.0f, node5Layout.size().height, "height of node5");
        assertEquals(136.0f, node5Layout.location().x, "x of node5");
        assertEquals(52.0f, node5Layout.location().y, "y of node5");
        Layout node6Layout = tree.getLayout(node6);
        assertEquals(40.0f, node6Layout.size().width, "width of node6");
        assertEquals(40.0f, node6Layout.size().height, "height of node6");
        assertEquals(48.0f, node6Layout.location().x, "x of node6");
        assertEquals(92.0f, node6Layout.location().y, "y of node6");
        Layout node7Layout = tree.getLayout(node7);
        assertEquals(40.0f, node7Layout.size().width, "width of node7");
        assertEquals(40.0f, node7Layout.size().height, "height of node7");
        assertEquals(92.0f, node7Layout.location().x, "x of node7");
        assertEquals(92.0f, node7Layout.location().y, "y of node7");
        Layout node8Layout = tree.getLayout(node8);
        assertEquals(40.0f, node8Layout.size().width, "width of node8");
        assertEquals(40.0f, node8Layout.size().height, "height of node8");
        assertEquals(136.0f, node8Layout.location().x, "x of node8");
        assertEquals(92.0f, node8Layout.location().y, "y of node8");
    }

    @Test
    @DisplayName("grid_justify_content_space_between_with_padding_border__content_box")
    void gridJustifyContentSpaceBetweenWithPaddingBorderContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        node3Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        node4Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node4 = tree.newLeaf(node4Style);

        Style node5Style = new Style();
        node5Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node5 = tree.newLeaf(node5Style);

        Style node6Style = new Style();
        node6Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node6 = tree.newLeaf(node6Style);

        Style node7Style = new Style();
        node7Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node7 = tree.newLeaf(node7Style);

        Style node8Style = new Style();
        node8Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node8 = tree.newLeaf(node8Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.justifyContent = AlignContent.SPACE_BETWEEN;
        nodeStyle.size = new Size<>(Dimension.length(200.0f), Dimension.length(200.0f));
        nodeStyle.padding = new Rect<>(LengthPercentage.length(40.0f), LengthPercentage.length(20.0f), LengthPercentage.length(10.0f), LengthPercentage.length(30.0f));
        nodeStyle.border = new Rect<>(LengthPercentage.length(8.0f), LengthPercentage.length(4.0f), LengthPercentage.length(2.0f), LengthPercentage.length(6.0f));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5, node6, node7, node8);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(272.0f, nodeLayout.size().width, "width of node");
        assertEquals(248.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(48.0f, node0Layout.location().x, "x of node0");
        assertEquals(12.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(40.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(128.0f, node1Layout.location().x, "x of node1");
        assertEquals(12.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(40.0f, node2Layout.size().width, "width of node2");
        assertEquals(40.0f, node2Layout.size().height, "height of node2");
        assertEquals(208.0f, node2Layout.location().x, "x of node2");
        assertEquals(12.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(40.0f, node3Layout.size().width, "width of node3");
        assertEquals(40.0f, node3Layout.size().height, "height of node3");
        assertEquals(48.0f, node3Layout.location().x, "x of node3");
        assertEquals(52.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(40.0f, node4Layout.size().width, "width of node4");
        assertEquals(40.0f, node4Layout.size().height, "height of node4");
        assertEquals(128.0f, node4Layout.location().x, "x of node4");
        assertEquals(52.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(40.0f, node5Layout.size().width, "width of node5");
        assertEquals(40.0f, node5Layout.size().height, "height of node5");
        assertEquals(208.0f, node5Layout.location().x, "x of node5");
        assertEquals(52.0f, node5Layout.location().y, "y of node5");
        Layout node6Layout = tree.getLayout(node6);
        assertEquals(40.0f, node6Layout.size().width, "width of node6");
        assertEquals(40.0f, node6Layout.size().height, "height of node6");
        assertEquals(48.0f, node6Layout.location().x, "x of node6");
        assertEquals(92.0f, node6Layout.location().y, "y of node6");
        Layout node7Layout = tree.getLayout(node7);
        assertEquals(40.0f, node7Layout.size().width, "width of node7");
        assertEquals(40.0f, node7Layout.size().height, "height of node7");
        assertEquals(128.0f, node7Layout.location().x, "x of node7");
        assertEquals(92.0f, node7Layout.location().y, "y of node7");
        Layout node8Layout = tree.getLayout(node8);
        assertEquals(40.0f, node8Layout.size().width, "width of node8");
        assertEquals(40.0f, node8Layout.size().height, "height of node8");
        assertEquals(208.0f, node8Layout.location().x, "x of node8");
        assertEquals(92.0f, node8Layout.location().y, "y of node8");
    }

    @Test
    @DisplayName("grid_justify_content_space_evenly__border_box")
    void gridJustifyContentSpaceEvenlyBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        NodeId node4 = tree.newLeaf(node4Style);

        Style node5Style = new Style();
        NodeId node5 = tree.newLeaf(node5Style);

        Style node6Style = new Style();
        NodeId node6 = tree.newLeaf(node6Style);

        Style node7Style = new Style();
        NodeId node7 = tree.newLeaf(node7Style);

        Style node8Style = new Style();
        NodeId node8 = tree.newLeaf(node8Style);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.justifyContent = AlignContent.SPACE_EVENLY;
        nodeStyle.size = new Size<>(Dimension.length(200.0f), Dimension.length(200.0f));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5, node6, node7, node8);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(200.0f, nodeLayout.size().width, "width of node");
        assertEquals(200.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(20.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(40.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(80.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(40.0f, node2Layout.size().width, "width of node2");
        assertEquals(40.0f, node2Layout.size().height, "height of node2");
        assertEquals(140.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(40.0f, node3Layout.size().width, "width of node3");
        assertEquals(40.0f, node3Layout.size().height, "height of node3");
        assertEquals(20.0f, node3Layout.location().x, "x of node3");
        assertEquals(40.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(40.0f, node4Layout.size().width, "width of node4");
        assertEquals(40.0f, node4Layout.size().height, "height of node4");
        assertEquals(80.0f, node4Layout.location().x, "x of node4");
        assertEquals(40.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(40.0f, node5Layout.size().width, "width of node5");
        assertEquals(40.0f, node5Layout.size().height, "height of node5");
        assertEquals(140.0f, node5Layout.location().x, "x of node5");
        assertEquals(40.0f, node5Layout.location().y, "y of node5");
        Layout node6Layout = tree.getLayout(node6);
        assertEquals(40.0f, node6Layout.size().width, "width of node6");
        assertEquals(40.0f, node6Layout.size().height, "height of node6");
        assertEquals(20.0f, node6Layout.location().x, "x of node6");
        assertEquals(80.0f, node6Layout.location().y, "y of node6");
        Layout node7Layout = tree.getLayout(node7);
        assertEquals(40.0f, node7Layout.size().width, "width of node7");
        assertEquals(40.0f, node7Layout.size().height, "height of node7");
        assertEquals(80.0f, node7Layout.location().x, "x of node7");
        assertEquals(80.0f, node7Layout.location().y, "y of node7");
        Layout node8Layout = tree.getLayout(node8);
        assertEquals(40.0f, node8Layout.size().width, "width of node8");
        assertEquals(40.0f, node8Layout.size().height, "height of node8");
        assertEquals(140.0f, node8Layout.location().x, "x of node8");
        assertEquals(80.0f, node8Layout.location().y, "y of node8");
    }

    @Test
    @DisplayName("grid_justify_content_space_evenly__content_box")
    void gridJustifyContentSpaceEvenlyContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        node3Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        node4Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node4 = tree.newLeaf(node4Style);

        Style node5Style = new Style();
        node5Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node5 = tree.newLeaf(node5Style);

        Style node6Style = new Style();
        node6Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node6 = tree.newLeaf(node6Style);

        Style node7Style = new Style();
        node7Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node7 = tree.newLeaf(node7Style);

        Style node8Style = new Style();
        node8Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node8 = tree.newLeaf(node8Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.justifyContent = AlignContent.SPACE_EVENLY;
        nodeStyle.size = new Size<>(Dimension.length(200.0f), Dimension.length(200.0f));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5, node6, node7, node8);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(200.0f, nodeLayout.size().width, "width of node");
        assertEquals(200.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(20.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(40.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(80.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(40.0f, node2Layout.size().width, "width of node2");
        assertEquals(40.0f, node2Layout.size().height, "height of node2");
        assertEquals(140.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(40.0f, node3Layout.size().width, "width of node3");
        assertEquals(40.0f, node3Layout.size().height, "height of node3");
        assertEquals(20.0f, node3Layout.location().x, "x of node3");
        assertEquals(40.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(40.0f, node4Layout.size().width, "width of node4");
        assertEquals(40.0f, node4Layout.size().height, "height of node4");
        assertEquals(80.0f, node4Layout.location().x, "x of node4");
        assertEquals(40.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(40.0f, node5Layout.size().width, "width of node5");
        assertEquals(40.0f, node5Layout.size().height, "height of node5");
        assertEquals(140.0f, node5Layout.location().x, "x of node5");
        assertEquals(40.0f, node5Layout.location().y, "y of node5");
        Layout node6Layout = tree.getLayout(node6);
        assertEquals(40.0f, node6Layout.size().width, "width of node6");
        assertEquals(40.0f, node6Layout.size().height, "height of node6");
        assertEquals(20.0f, node6Layout.location().x, "x of node6");
        assertEquals(80.0f, node6Layout.location().y, "y of node6");
        Layout node7Layout = tree.getLayout(node7);
        assertEquals(40.0f, node7Layout.size().width, "width of node7");
        assertEquals(40.0f, node7Layout.size().height, "height of node7");
        assertEquals(80.0f, node7Layout.location().x, "x of node7");
        assertEquals(80.0f, node7Layout.location().y, "y of node7");
        Layout node8Layout = tree.getLayout(node8);
        assertEquals(40.0f, node8Layout.size().width, "width of node8");
        assertEquals(40.0f, node8Layout.size().height, "height of node8");
        assertEquals(140.0f, node8Layout.location().x, "x of node8");
        assertEquals(80.0f, node8Layout.location().y, "y of node8");
    }

    @Test
    @DisplayName("grid_justify_content_space_evenly_negative_space_gap__border_box")
    void gridJustifyContentSpaceEvenlyNegativeSpaceGapBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        NodeId node00 = tree.newLeaf(node00Style);

        Style node01Style = new Style();
        NodeId node01 = tree.newLeaf(node01Style);

        Style node02Style = new Style();
        NodeId node02 = tree.newLeaf(node02Style);

        Style node03Style = new Style();
        NodeId node03 = tree.newLeaf(node03Style);

        Style node04Style = new Style();
        NodeId node04 = tree.newLeaf(node04Style);

        Style node05Style = new Style();
        NodeId node05 = tree.newLeaf(node05Style);

        Style node06Style = new Style();
        NodeId node06 = tree.newLeaf(node06Style);

        Style node07Style = new Style();
        NodeId node07 = tree.newLeaf(node07Style);

        Style node08Style = new Style();
        NodeId node08 = tree.newLeaf(node08Style);

        Style node0Style = new Style();
        node0Style.display = Display.GRID;
        node0Style.alignContent = AlignContent.CENTER;
        node0Style.justifyContent = AlignContent.SPACE_EVENLY;
        node0Style.size = new Size<>(Dimension.length(120.0f), Dimension.length(120.0f));
        node0Style.gap = new Size<>(LengthPercentage.length(10.0f), LengthPercentage.length(10.0f));
        node0Style.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        node0Style.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        node0Style.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        node0Style.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(20.0f)));
        node0Style.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(20.0f)));
        node0Style.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(20.0f)));
        NodeId node0 = tree.newWithChildren(node0Style, node00, node01, node02, node03, node04, node05, node06, node07, node08);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.size = new Size<>(Dimension.length(240.0f), Dimension.length(240.0f));
        nodeStyle.border = new Rect<>(LengthPercentage.length(60.0f), LengthPercentage.length(60.0f), LengthPercentage.length(60.0f), LengthPercentage.length(60.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(240.0f, nodeLayout.size().width, "width of node");
        assertEquals(240.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(120.0f, node0Layout.size().width, "width of node0");
        assertEquals(120.0f, node0Layout.size().height, "height of node0");
        assertEquals(60.0f, node0Layout.location().x, "x of node0");
        assertEquals(60.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(40.0f, node00Layout.size().width, "width of node00");
        assertEquals(20.0f, node00Layout.size().height, "height of node00");
        assertEquals(0.0f, node00Layout.location().x, "x of node00");
        assertEquals(20.0f, node00Layout.location().y, "y of node00");
        Layout node01Layout = tree.getLayout(node01);
        assertEquals(40.0f, node01Layout.size().width, "width of node01");
        assertEquals(20.0f, node01Layout.size().height, "height of node01");
        assertEquals(50.0f, node01Layout.location().x, "x of node01");
        assertEquals(20.0f, node01Layout.location().y, "y of node01");
        Layout node02Layout = tree.getLayout(node02);
        assertEquals(40.0f, node02Layout.size().width, "width of node02");
        assertEquals(20.0f, node02Layout.size().height, "height of node02");
        assertEquals(100.0f, node02Layout.location().x, "x of node02");
        assertEquals(20.0f, node02Layout.location().y, "y of node02");
        Layout node03Layout = tree.getLayout(node03);
        assertEquals(40.0f, node03Layout.size().width, "width of node03");
        assertEquals(20.0f, node03Layout.size().height, "height of node03");
        assertEquals(0.0f, node03Layout.location().x, "x of node03");
        assertEquals(50.0f, node03Layout.location().y, "y of node03");
        Layout node04Layout = tree.getLayout(node04);
        assertEquals(40.0f, node04Layout.size().width, "width of node04");
        assertEquals(20.0f, node04Layout.size().height, "height of node04");
        assertEquals(50.0f, node04Layout.location().x, "x of node04");
        assertEquals(50.0f, node04Layout.location().y, "y of node04");
        Layout node05Layout = tree.getLayout(node05);
        assertEquals(40.0f, node05Layout.size().width, "width of node05");
        assertEquals(20.0f, node05Layout.size().height, "height of node05");
        assertEquals(100.0f, node05Layout.location().x, "x of node05");
        assertEquals(50.0f, node05Layout.location().y, "y of node05");
        Layout node06Layout = tree.getLayout(node06);
        assertEquals(40.0f, node06Layout.size().width, "width of node06");
        assertEquals(20.0f, node06Layout.size().height, "height of node06");
        assertEquals(0.0f, node06Layout.location().x, "x of node06");
        assertEquals(80.0f, node06Layout.location().y, "y of node06");
        Layout node07Layout = tree.getLayout(node07);
        assertEquals(40.0f, node07Layout.size().width, "width of node07");
        assertEquals(20.0f, node07Layout.size().height, "height of node07");
        assertEquals(50.0f, node07Layout.location().x, "x of node07");
        assertEquals(80.0f, node07Layout.location().y, "y of node07");
        Layout node08Layout = tree.getLayout(node08);
        assertEquals(40.0f, node08Layout.size().width, "width of node08");
        assertEquals(20.0f, node08Layout.size().height, "height of node08");
        assertEquals(100.0f, node08Layout.location().x, "x of node08");
        assertEquals(80.0f, node08Layout.location().y, "y of node08");
    }

    @Test
    @DisplayName("grid_justify_content_space_evenly_negative_space_gap__content_box")
    void gridJustifyContentSpaceEvenlyNegativeSpaceGapContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node00 = tree.newLeaf(node00Style);

        Style node01Style = new Style();
        node01Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node01 = tree.newLeaf(node01Style);

        Style node02Style = new Style();
        node02Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node02 = tree.newLeaf(node02Style);

        Style node03Style = new Style();
        node03Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node03 = tree.newLeaf(node03Style);

        Style node04Style = new Style();
        node04Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node04 = tree.newLeaf(node04Style);

        Style node05Style = new Style();
        node05Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node05 = tree.newLeaf(node05Style);

        Style node06Style = new Style();
        node06Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node06 = tree.newLeaf(node06Style);

        Style node07Style = new Style();
        node07Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node07 = tree.newLeaf(node07Style);

        Style node08Style = new Style();
        node08Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node08 = tree.newLeaf(node08Style);

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.display = Display.GRID;
        node0Style.alignContent = AlignContent.CENTER;
        node0Style.justifyContent = AlignContent.SPACE_EVENLY;
        node0Style.size = new Size<>(Dimension.length(120.0f), Dimension.length(120.0f));
        node0Style.gap = new Size<>(LengthPercentage.length(10.0f), LengthPercentage.length(10.0f));
        node0Style.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        node0Style.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        node0Style.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        node0Style.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(20.0f)));
        node0Style.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(20.0f)));
        node0Style.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(20.0f)));
        NodeId node0 = tree.newWithChildren(node0Style, node00, node01, node02, node03, node04, node05, node06, node07, node08);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.size = new Size<>(Dimension.length(240.0f), Dimension.length(240.0f));
        nodeStyle.border = new Rect<>(LengthPercentage.length(60.0f), LengthPercentage.length(60.0f), LengthPercentage.length(60.0f), LengthPercentage.length(60.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(360.0f, nodeLayout.size().width, "width of node");
        assertEquals(360.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(120.0f, node0Layout.size().width, "width of node0");
        assertEquals(120.0f, node0Layout.size().height, "height of node0");
        assertEquals(60.0f, node0Layout.location().x, "x of node0");
        assertEquals(60.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(40.0f, node00Layout.size().width, "width of node00");
        assertEquals(20.0f, node00Layout.size().height, "height of node00");
        assertEquals(0.0f, node00Layout.location().x, "x of node00");
        assertEquals(20.0f, node00Layout.location().y, "y of node00");
        Layout node01Layout = tree.getLayout(node01);
        assertEquals(40.0f, node01Layout.size().width, "width of node01");
        assertEquals(20.0f, node01Layout.size().height, "height of node01");
        assertEquals(50.0f, node01Layout.location().x, "x of node01");
        assertEquals(20.0f, node01Layout.location().y, "y of node01");
        Layout node02Layout = tree.getLayout(node02);
        assertEquals(40.0f, node02Layout.size().width, "width of node02");
        assertEquals(20.0f, node02Layout.size().height, "height of node02");
        assertEquals(100.0f, node02Layout.location().x, "x of node02");
        assertEquals(20.0f, node02Layout.location().y, "y of node02");
        Layout node03Layout = tree.getLayout(node03);
        assertEquals(40.0f, node03Layout.size().width, "width of node03");
        assertEquals(20.0f, node03Layout.size().height, "height of node03");
        assertEquals(0.0f, node03Layout.location().x, "x of node03");
        assertEquals(50.0f, node03Layout.location().y, "y of node03");
        Layout node04Layout = tree.getLayout(node04);
        assertEquals(40.0f, node04Layout.size().width, "width of node04");
        assertEquals(20.0f, node04Layout.size().height, "height of node04");
        assertEquals(50.0f, node04Layout.location().x, "x of node04");
        assertEquals(50.0f, node04Layout.location().y, "y of node04");
        Layout node05Layout = tree.getLayout(node05);
        assertEquals(40.0f, node05Layout.size().width, "width of node05");
        assertEquals(20.0f, node05Layout.size().height, "height of node05");
        assertEquals(100.0f, node05Layout.location().x, "x of node05");
        assertEquals(50.0f, node05Layout.location().y, "y of node05");
        Layout node06Layout = tree.getLayout(node06);
        assertEquals(40.0f, node06Layout.size().width, "width of node06");
        assertEquals(20.0f, node06Layout.size().height, "height of node06");
        assertEquals(0.0f, node06Layout.location().x, "x of node06");
        assertEquals(80.0f, node06Layout.location().y, "y of node06");
        Layout node07Layout = tree.getLayout(node07);
        assertEquals(40.0f, node07Layout.size().width, "width of node07");
        assertEquals(20.0f, node07Layout.size().height, "height of node07");
        assertEquals(50.0f, node07Layout.location().x, "x of node07");
        assertEquals(80.0f, node07Layout.location().y, "y of node07");
        Layout node08Layout = tree.getLayout(node08);
        assertEquals(40.0f, node08Layout.size().width, "width of node08");
        assertEquals(20.0f, node08Layout.size().height, "height of node08");
        assertEquals(100.0f, node08Layout.location().x, "x of node08");
        assertEquals(80.0f, node08Layout.location().y, "y of node08");
    }

    @Test
    @DisplayName("grid_justify_content_space_evenly_with_padding_border__border_box")
    void gridJustifyContentSpaceEvenlyWithPaddingBorderBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        NodeId node4 = tree.newLeaf(node4Style);

        Style node5Style = new Style();
        NodeId node5 = tree.newLeaf(node5Style);

        Style node6Style = new Style();
        NodeId node6 = tree.newLeaf(node6Style);

        Style node7Style = new Style();
        NodeId node7 = tree.newLeaf(node7Style);

        Style node8Style = new Style();
        NodeId node8 = tree.newLeaf(node8Style);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.justifyContent = AlignContent.SPACE_EVENLY;
        nodeStyle.size = new Size<>(Dimension.length(200.0f), Dimension.length(200.0f));
        nodeStyle.padding = new Rect<>(LengthPercentage.length(40.0f), LengthPercentage.length(20.0f), LengthPercentage.length(10.0f), LengthPercentage.length(30.0f));
        nodeStyle.border = new Rect<>(LengthPercentage.length(8.0f), LengthPercentage.length(4.0f), LengthPercentage.length(2.0f), LengthPercentage.length(6.0f));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5, node6, node7, node8);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(200.0f, nodeLayout.size().width, "width of node");
        assertEquals(200.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(50.0f, node0Layout.location().x, "x of node0");
        assertEquals(12.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(40.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(92.0f, node1Layout.location().x, "x of node1");
        assertEquals(12.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(40.0f, node2Layout.size().width, "width of node2");
        assertEquals(40.0f, node2Layout.size().height, "height of node2");
        assertEquals(134.0f, node2Layout.location().x, "x of node2");
        assertEquals(12.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(40.0f, node3Layout.size().width, "width of node3");
        assertEquals(40.0f, node3Layout.size().height, "height of node3");
        assertEquals(50.0f, node3Layout.location().x, "x of node3");
        assertEquals(52.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(40.0f, node4Layout.size().width, "width of node4");
        assertEquals(40.0f, node4Layout.size().height, "height of node4");
        assertEquals(92.0f, node4Layout.location().x, "x of node4");
        assertEquals(52.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(40.0f, node5Layout.size().width, "width of node5");
        assertEquals(40.0f, node5Layout.size().height, "height of node5");
        assertEquals(134.0f, node5Layout.location().x, "x of node5");
        assertEquals(52.0f, node5Layout.location().y, "y of node5");
        Layout node6Layout = tree.getLayout(node6);
        assertEquals(40.0f, node6Layout.size().width, "width of node6");
        assertEquals(40.0f, node6Layout.size().height, "height of node6");
        assertEquals(50.0f, node6Layout.location().x, "x of node6");
        assertEquals(92.0f, node6Layout.location().y, "y of node6");
        Layout node7Layout = tree.getLayout(node7);
        assertEquals(40.0f, node7Layout.size().width, "width of node7");
        assertEquals(40.0f, node7Layout.size().height, "height of node7");
        assertEquals(92.0f, node7Layout.location().x, "x of node7");
        assertEquals(92.0f, node7Layout.location().y, "y of node7");
        Layout node8Layout = tree.getLayout(node8);
        assertEquals(40.0f, node8Layout.size().width, "width of node8");
        assertEquals(40.0f, node8Layout.size().height, "height of node8");
        assertEquals(134.0f, node8Layout.location().x, "x of node8");
        assertEquals(92.0f, node8Layout.location().y, "y of node8");
    }

    @Test
    @DisplayName("grid_justify_content_space_evenly_with_padding_border__content_box")
    void gridJustifyContentSpaceEvenlyWithPaddingBorderContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        node3Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        node4Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node4 = tree.newLeaf(node4Style);

        Style node5Style = new Style();
        node5Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node5 = tree.newLeaf(node5Style);

        Style node6Style = new Style();
        node6Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node6 = tree.newLeaf(node6Style);

        Style node7Style = new Style();
        node7Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node7 = tree.newLeaf(node7Style);

        Style node8Style = new Style();
        node8Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node8 = tree.newLeaf(node8Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.justifyContent = AlignContent.SPACE_EVENLY;
        nodeStyle.size = new Size<>(Dimension.length(200.0f), Dimension.length(200.0f));
        nodeStyle.padding = new Rect<>(LengthPercentage.length(40.0f), LengthPercentage.length(20.0f), LengthPercentage.length(10.0f), LengthPercentage.length(30.0f));
        nodeStyle.border = new Rect<>(LengthPercentage.length(8.0f), LengthPercentage.length(4.0f), LengthPercentage.length(2.0f), LengthPercentage.length(6.0f));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5, node6, node7, node8);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(272.0f, nodeLayout.size().width, "width of node");
        assertEquals(248.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(68.0f, node0Layout.location().x, "x of node0");
        assertEquals(12.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(40.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(128.0f, node1Layout.location().x, "x of node1");
        assertEquals(12.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(40.0f, node2Layout.size().width, "width of node2");
        assertEquals(40.0f, node2Layout.size().height, "height of node2");
        assertEquals(188.0f, node2Layout.location().x, "x of node2");
        assertEquals(12.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(40.0f, node3Layout.size().width, "width of node3");
        assertEquals(40.0f, node3Layout.size().height, "height of node3");
        assertEquals(68.0f, node3Layout.location().x, "x of node3");
        assertEquals(52.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(40.0f, node4Layout.size().width, "width of node4");
        assertEquals(40.0f, node4Layout.size().height, "height of node4");
        assertEquals(128.0f, node4Layout.location().x, "x of node4");
        assertEquals(52.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(40.0f, node5Layout.size().width, "width of node5");
        assertEquals(40.0f, node5Layout.size().height, "height of node5");
        assertEquals(188.0f, node5Layout.location().x, "x of node5");
        assertEquals(52.0f, node5Layout.location().y, "y of node5");
        Layout node6Layout = tree.getLayout(node6);
        assertEquals(40.0f, node6Layout.size().width, "width of node6");
        assertEquals(40.0f, node6Layout.size().height, "height of node6");
        assertEquals(68.0f, node6Layout.location().x, "x of node6");
        assertEquals(92.0f, node6Layout.location().y, "y of node6");
        Layout node7Layout = tree.getLayout(node7);
        assertEquals(40.0f, node7Layout.size().width, "width of node7");
        assertEquals(40.0f, node7Layout.size().height, "height of node7");
        assertEquals(128.0f, node7Layout.location().x, "x of node7");
        assertEquals(92.0f, node7Layout.location().y, "y of node7");
        Layout node8Layout = tree.getLayout(node8);
        assertEquals(40.0f, node8Layout.size().width, "width of node8");
        assertEquals(40.0f, node8Layout.size().height, "height of node8");
        assertEquals(188.0f, node8Layout.location().x, "x of node8");
        assertEquals(92.0f, node8Layout.location().y, "y of node8");
    }

    @Test
    @DisplayName("grid_justify_content_start__border_box")
    void gridJustifyContentStartBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        NodeId node4 = tree.newLeaf(node4Style);

        Style node5Style = new Style();
        NodeId node5 = tree.newLeaf(node5Style);

        Style node6Style = new Style();
        NodeId node6 = tree.newLeaf(node6Style);

        Style node7Style = new Style();
        NodeId node7 = tree.newLeaf(node7Style);

        Style node8Style = new Style();
        NodeId node8 = tree.newLeaf(node8Style);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.justifyContent = AlignContent.START;
        nodeStyle.size = new Size<>(Dimension.length(200.0f), Dimension.length(200.0f));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5, node6, node7, node8);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(200.0f, nodeLayout.size().width, "width of node");
        assertEquals(200.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(40.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(40.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(40.0f, node2Layout.size().width, "width of node2");
        assertEquals(40.0f, node2Layout.size().height, "height of node2");
        assertEquals(80.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(40.0f, node3Layout.size().width, "width of node3");
        assertEquals(40.0f, node3Layout.size().height, "height of node3");
        assertEquals(0.0f, node3Layout.location().x, "x of node3");
        assertEquals(40.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(40.0f, node4Layout.size().width, "width of node4");
        assertEquals(40.0f, node4Layout.size().height, "height of node4");
        assertEquals(40.0f, node4Layout.location().x, "x of node4");
        assertEquals(40.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(40.0f, node5Layout.size().width, "width of node5");
        assertEquals(40.0f, node5Layout.size().height, "height of node5");
        assertEquals(80.0f, node5Layout.location().x, "x of node5");
        assertEquals(40.0f, node5Layout.location().y, "y of node5");
        Layout node6Layout = tree.getLayout(node6);
        assertEquals(40.0f, node6Layout.size().width, "width of node6");
        assertEquals(40.0f, node6Layout.size().height, "height of node6");
        assertEquals(0.0f, node6Layout.location().x, "x of node6");
        assertEquals(80.0f, node6Layout.location().y, "y of node6");
        Layout node7Layout = tree.getLayout(node7);
        assertEquals(40.0f, node7Layout.size().width, "width of node7");
        assertEquals(40.0f, node7Layout.size().height, "height of node7");
        assertEquals(40.0f, node7Layout.location().x, "x of node7");
        assertEquals(80.0f, node7Layout.location().y, "y of node7");
        Layout node8Layout = tree.getLayout(node8);
        assertEquals(40.0f, node8Layout.size().width, "width of node8");
        assertEquals(40.0f, node8Layout.size().height, "height of node8");
        assertEquals(80.0f, node8Layout.location().x, "x of node8");
        assertEquals(80.0f, node8Layout.location().y, "y of node8");
    }

    @Test
    @DisplayName("grid_justify_content_start__content_box")
    void gridJustifyContentStartContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        node3Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        node4Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node4 = tree.newLeaf(node4Style);

        Style node5Style = new Style();
        node5Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node5 = tree.newLeaf(node5Style);

        Style node6Style = new Style();
        node6Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node6 = tree.newLeaf(node6Style);

        Style node7Style = new Style();
        node7Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node7 = tree.newLeaf(node7Style);

        Style node8Style = new Style();
        node8Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node8 = tree.newLeaf(node8Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.justifyContent = AlignContent.START;
        nodeStyle.size = new Size<>(Dimension.length(200.0f), Dimension.length(200.0f));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5, node6, node7, node8);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(200.0f, nodeLayout.size().width, "width of node");
        assertEquals(200.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(40.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(40.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(40.0f, node2Layout.size().width, "width of node2");
        assertEquals(40.0f, node2Layout.size().height, "height of node2");
        assertEquals(80.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(40.0f, node3Layout.size().width, "width of node3");
        assertEquals(40.0f, node3Layout.size().height, "height of node3");
        assertEquals(0.0f, node3Layout.location().x, "x of node3");
        assertEquals(40.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(40.0f, node4Layout.size().width, "width of node4");
        assertEquals(40.0f, node4Layout.size().height, "height of node4");
        assertEquals(40.0f, node4Layout.location().x, "x of node4");
        assertEquals(40.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(40.0f, node5Layout.size().width, "width of node5");
        assertEquals(40.0f, node5Layout.size().height, "height of node5");
        assertEquals(80.0f, node5Layout.location().x, "x of node5");
        assertEquals(40.0f, node5Layout.location().y, "y of node5");
        Layout node6Layout = tree.getLayout(node6);
        assertEquals(40.0f, node6Layout.size().width, "width of node6");
        assertEquals(40.0f, node6Layout.size().height, "height of node6");
        assertEquals(0.0f, node6Layout.location().x, "x of node6");
        assertEquals(80.0f, node6Layout.location().y, "y of node6");
        Layout node7Layout = tree.getLayout(node7);
        assertEquals(40.0f, node7Layout.size().width, "width of node7");
        assertEquals(40.0f, node7Layout.size().height, "height of node7");
        assertEquals(40.0f, node7Layout.location().x, "x of node7");
        assertEquals(80.0f, node7Layout.location().y, "y of node7");
        Layout node8Layout = tree.getLayout(node8);
        assertEquals(40.0f, node8Layout.size().width, "width of node8");
        assertEquals(40.0f, node8Layout.size().height, "height of node8");
        assertEquals(80.0f, node8Layout.location().x, "x of node8");
        assertEquals(80.0f, node8Layout.location().y, "y of node8");
    }

    @Test
    @DisplayName("grid_justify_content_start_negative_space_gap__border_box")
    void gridJustifyContentStartNegativeSpaceGapBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        NodeId node00 = tree.newLeaf(node00Style);

        Style node01Style = new Style();
        NodeId node01 = tree.newLeaf(node01Style);

        Style node02Style = new Style();
        NodeId node02 = tree.newLeaf(node02Style);

        Style node03Style = new Style();
        NodeId node03 = tree.newLeaf(node03Style);

        Style node04Style = new Style();
        NodeId node04 = tree.newLeaf(node04Style);

        Style node05Style = new Style();
        NodeId node05 = tree.newLeaf(node05Style);

        Style node06Style = new Style();
        NodeId node06 = tree.newLeaf(node06Style);

        Style node07Style = new Style();
        NodeId node07 = tree.newLeaf(node07Style);

        Style node08Style = new Style();
        NodeId node08 = tree.newLeaf(node08Style);

        Style node0Style = new Style();
        node0Style.display = Display.GRID;
        node0Style.alignContent = AlignContent.CENTER;
        node0Style.justifyContent = AlignContent.START;
        node0Style.size = new Size<>(Dimension.length(120.0f), Dimension.length(120.0f));
        node0Style.gap = new Size<>(LengthPercentage.length(10.0f), LengthPercentage.length(10.0f));
        node0Style.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        node0Style.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        node0Style.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        node0Style.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(20.0f)));
        node0Style.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(20.0f)));
        node0Style.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(20.0f)));
        NodeId node0 = tree.newWithChildren(node0Style, node00, node01, node02, node03, node04, node05, node06, node07, node08);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.size = new Size<>(Dimension.length(240.0f), Dimension.length(240.0f));
        nodeStyle.border = new Rect<>(LengthPercentage.length(60.0f), LengthPercentage.length(60.0f), LengthPercentage.length(60.0f), LengthPercentage.length(60.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(240.0f, nodeLayout.size().width, "width of node");
        assertEquals(240.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(120.0f, node0Layout.size().width, "width of node0");
        assertEquals(120.0f, node0Layout.size().height, "height of node0");
        assertEquals(60.0f, node0Layout.location().x, "x of node0");
        assertEquals(60.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(40.0f, node00Layout.size().width, "width of node00");
        assertEquals(20.0f, node00Layout.size().height, "height of node00");
        assertEquals(0.0f, node00Layout.location().x, "x of node00");
        assertEquals(20.0f, node00Layout.location().y, "y of node00");
        Layout node01Layout = tree.getLayout(node01);
        assertEquals(40.0f, node01Layout.size().width, "width of node01");
        assertEquals(20.0f, node01Layout.size().height, "height of node01");
        assertEquals(50.0f, node01Layout.location().x, "x of node01");
        assertEquals(20.0f, node01Layout.location().y, "y of node01");
        Layout node02Layout = tree.getLayout(node02);
        assertEquals(40.0f, node02Layout.size().width, "width of node02");
        assertEquals(20.0f, node02Layout.size().height, "height of node02");
        assertEquals(100.0f, node02Layout.location().x, "x of node02");
        assertEquals(20.0f, node02Layout.location().y, "y of node02");
        Layout node03Layout = tree.getLayout(node03);
        assertEquals(40.0f, node03Layout.size().width, "width of node03");
        assertEquals(20.0f, node03Layout.size().height, "height of node03");
        assertEquals(0.0f, node03Layout.location().x, "x of node03");
        assertEquals(50.0f, node03Layout.location().y, "y of node03");
        Layout node04Layout = tree.getLayout(node04);
        assertEquals(40.0f, node04Layout.size().width, "width of node04");
        assertEquals(20.0f, node04Layout.size().height, "height of node04");
        assertEquals(50.0f, node04Layout.location().x, "x of node04");
        assertEquals(50.0f, node04Layout.location().y, "y of node04");
        Layout node05Layout = tree.getLayout(node05);
        assertEquals(40.0f, node05Layout.size().width, "width of node05");
        assertEquals(20.0f, node05Layout.size().height, "height of node05");
        assertEquals(100.0f, node05Layout.location().x, "x of node05");
        assertEquals(50.0f, node05Layout.location().y, "y of node05");
        Layout node06Layout = tree.getLayout(node06);
        assertEquals(40.0f, node06Layout.size().width, "width of node06");
        assertEquals(20.0f, node06Layout.size().height, "height of node06");
        assertEquals(0.0f, node06Layout.location().x, "x of node06");
        assertEquals(80.0f, node06Layout.location().y, "y of node06");
        Layout node07Layout = tree.getLayout(node07);
        assertEquals(40.0f, node07Layout.size().width, "width of node07");
        assertEquals(20.0f, node07Layout.size().height, "height of node07");
        assertEquals(50.0f, node07Layout.location().x, "x of node07");
        assertEquals(80.0f, node07Layout.location().y, "y of node07");
        Layout node08Layout = tree.getLayout(node08);
        assertEquals(40.0f, node08Layout.size().width, "width of node08");
        assertEquals(20.0f, node08Layout.size().height, "height of node08");
        assertEquals(100.0f, node08Layout.location().x, "x of node08");
        assertEquals(80.0f, node08Layout.location().y, "y of node08");
    }

    @Test
    @DisplayName("grid_justify_content_start_negative_space_gap__content_box")
    void gridJustifyContentStartNegativeSpaceGapContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node00 = tree.newLeaf(node00Style);

        Style node01Style = new Style();
        node01Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node01 = tree.newLeaf(node01Style);

        Style node02Style = new Style();
        node02Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node02 = tree.newLeaf(node02Style);

        Style node03Style = new Style();
        node03Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node03 = tree.newLeaf(node03Style);

        Style node04Style = new Style();
        node04Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node04 = tree.newLeaf(node04Style);

        Style node05Style = new Style();
        node05Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node05 = tree.newLeaf(node05Style);

        Style node06Style = new Style();
        node06Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node06 = tree.newLeaf(node06Style);

        Style node07Style = new Style();
        node07Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node07 = tree.newLeaf(node07Style);

        Style node08Style = new Style();
        node08Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node08 = tree.newLeaf(node08Style);

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.display = Display.GRID;
        node0Style.alignContent = AlignContent.CENTER;
        node0Style.justifyContent = AlignContent.START;
        node0Style.size = new Size<>(Dimension.length(120.0f), Dimension.length(120.0f));
        node0Style.gap = new Size<>(LengthPercentage.length(10.0f), LengthPercentage.length(10.0f));
        node0Style.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        node0Style.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        node0Style.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        node0Style.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(20.0f)));
        node0Style.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(20.0f)));
        node0Style.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(20.0f)));
        NodeId node0 = tree.newWithChildren(node0Style, node00, node01, node02, node03, node04, node05, node06, node07, node08);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.size = new Size<>(Dimension.length(240.0f), Dimension.length(240.0f));
        nodeStyle.border = new Rect<>(LengthPercentage.length(60.0f), LengthPercentage.length(60.0f), LengthPercentage.length(60.0f), LengthPercentage.length(60.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(360.0f, nodeLayout.size().width, "width of node");
        assertEquals(360.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(120.0f, node0Layout.size().width, "width of node0");
        assertEquals(120.0f, node0Layout.size().height, "height of node0");
        assertEquals(60.0f, node0Layout.location().x, "x of node0");
        assertEquals(60.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(40.0f, node00Layout.size().width, "width of node00");
        assertEquals(20.0f, node00Layout.size().height, "height of node00");
        assertEquals(0.0f, node00Layout.location().x, "x of node00");
        assertEquals(20.0f, node00Layout.location().y, "y of node00");
        Layout node01Layout = tree.getLayout(node01);
        assertEquals(40.0f, node01Layout.size().width, "width of node01");
        assertEquals(20.0f, node01Layout.size().height, "height of node01");
        assertEquals(50.0f, node01Layout.location().x, "x of node01");
        assertEquals(20.0f, node01Layout.location().y, "y of node01");
        Layout node02Layout = tree.getLayout(node02);
        assertEquals(40.0f, node02Layout.size().width, "width of node02");
        assertEquals(20.0f, node02Layout.size().height, "height of node02");
        assertEquals(100.0f, node02Layout.location().x, "x of node02");
        assertEquals(20.0f, node02Layout.location().y, "y of node02");
        Layout node03Layout = tree.getLayout(node03);
        assertEquals(40.0f, node03Layout.size().width, "width of node03");
        assertEquals(20.0f, node03Layout.size().height, "height of node03");
        assertEquals(0.0f, node03Layout.location().x, "x of node03");
        assertEquals(50.0f, node03Layout.location().y, "y of node03");
        Layout node04Layout = tree.getLayout(node04);
        assertEquals(40.0f, node04Layout.size().width, "width of node04");
        assertEquals(20.0f, node04Layout.size().height, "height of node04");
        assertEquals(50.0f, node04Layout.location().x, "x of node04");
        assertEquals(50.0f, node04Layout.location().y, "y of node04");
        Layout node05Layout = tree.getLayout(node05);
        assertEquals(40.0f, node05Layout.size().width, "width of node05");
        assertEquals(20.0f, node05Layout.size().height, "height of node05");
        assertEquals(100.0f, node05Layout.location().x, "x of node05");
        assertEquals(50.0f, node05Layout.location().y, "y of node05");
        Layout node06Layout = tree.getLayout(node06);
        assertEquals(40.0f, node06Layout.size().width, "width of node06");
        assertEquals(20.0f, node06Layout.size().height, "height of node06");
        assertEquals(0.0f, node06Layout.location().x, "x of node06");
        assertEquals(80.0f, node06Layout.location().y, "y of node06");
        Layout node07Layout = tree.getLayout(node07);
        assertEquals(40.0f, node07Layout.size().width, "width of node07");
        assertEquals(20.0f, node07Layout.size().height, "height of node07");
        assertEquals(50.0f, node07Layout.location().x, "x of node07");
        assertEquals(80.0f, node07Layout.location().y, "y of node07");
        Layout node08Layout = tree.getLayout(node08);
        assertEquals(40.0f, node08Layout.size().width, "width of node08");
        assertEquals(20.0f, node08Layout.size().height, "height of node08");
        assertEquals(100.0f, node08Layout.location().x, "x of node08");
        assertEquals(80.0f, node08Layout.location().y, "y of node08");
    }

    @Test
    @DisplayName("grid_justify_content_start_with_padding_border__border_box")
    void gridJustifyContentStartWithPaddingBorderBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        NodeId node4 = tree.newLeaf(node4Style);

        Style node5Style = new Style();
        NodeId node5 = tree.newLeaf(node5Style);

        Style node6Style = new Style();
        NodeId node6 = tree.newLeaf(node6Style);

        Style node7Style = new Style();
        NodeId node7 = tree.newLeaf(node7Style);

        Style node8Style = new Style();
        NodeId node8 = tree.newLeaf(node8Style);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.justifyContent = AlignContent.START;
        nodeStyle.size = new Size<>(Dimension.length(200.0f), Dimension.length(200.0f));
        nodeStyle.padding = new Rect<>(LengthPercentage.length(40.0f), LengthPercentage.length(20.0f), LengthPercentage.length(10.0f), LengthPercentage.length(30.0f));
        nodeStyle.border = new Rect<>(LengthPercentage.length(8.0f), LengthPercentage.length(4.0f), LengthPercentage.length(2.0f), LengthPercentage.length(6.0f));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5, node6, node7, node8);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(200.0f, nodeLayout.size().width, "width of node");
        assertEquals(200.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(48.0f, node0Layout.location().x, "x of node0");
        assertEquals(12.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(40.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(88.0f, node1Layout.location().x, "x of node1");
        assertEquals(12.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(40.0f, node2Layout.size().width, "width of node2");
        assertEquals(40.0f, node2Layout.size().height, "height of node2");
        assertEquals(128.0f, node2Layout.location().x, "x of node2");
        assertEquals(12.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(40.0f, node3Layout.size().width, "width of node3");
        assertEquals(40.0f, node3Layout.size().height, "height of node3");
        assertEquals(48.0f, node3Layout.location().x, "x of node3");
        assertEquals(52.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(40.0f, node4Layout.size().width, "width of node4");
        assertEquals(40.0f, node4Layout.size().height, "height of node4");
        assertEquals(88.0f, node4Layout.location().x, "x of node4");
        assertEquals(52.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(40.0f, node5Layout.size().width, "width of node5");
        assertEquals(40.0f, node5Layout.size().height, "height of node5");
        assertEquals(128.0f, node5Layout.location().x, "x of node5");
        assertEquals(52.0f, node5Layout.location().y, "y of node5");
        Layout node6Layout = tree.getLayout(node6);
        assertEquals(40.0f, node6Layout.size().width, "width of node6");
        assertEquals(40.0f, node6Layout.size().height, "height of node6");
        assertEquals(48.0f, node6Layout.location().x, "x of node6");
        assertEquals(92.0f, node6Layout.location().y, "y of node6");
        Layout node7Layout = tree.getLayout(node7);
        assertEquals(40.0f, node7Layout.size().width, "width of node7");
        assertEquals(40.0f, node7Layout.size().height, "height of node7");
        assertEquals(88.0f, node7Layout.location().x, "x of node7");
        assertEquals(92.0f, node7Layout.location().y, "y of node7");
        Layout node8Layout = tree.getLayout(node8);
        assertEquals(40.0f, node8Layout.size().width, "width of node8");
        assertEquals(40.0f, node8Layout.size().height, "height of node8");
        assertEquals(128.0f, node8Layout.location().x, "x of node8");
        assertEquals(92.0f, node8Layout.location().y, "y of node8");
    }

    @Test
    @DisplayName("grid_justify_content_start_with_padding_border__content_box")
    void gridJustifyContentStartWithPaddingBorderContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        node3Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        node4Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node4 = tree.newLeaf(node4Style);

        Style node5Style = new Style();
        node5Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node5 = tree.newLeaf(node5Style);

        Style node6Style = new Style();
        node6Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node6 = tree.newLeaf(node6Style);

        Style node7Style = new Style();
        node7Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node7 = tree.newLeaf(node7Style);

        Style node8Style = new Style();
        node8Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node8 = tree.newLeaf(node8Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.justifyContent = AlignContent.START;
        nodeStyle.size = new Size<>(Dimension.length(200.0f), Dimension.length(200.0f));
        nodeStyle.padding = new Rect<>(LengthPercentage.length(40.0f), LengthPercentage.length(20.0f), LengthPercentage.length(10.0f), LengthPercentage.length(30.0f));
        nodeStyle.border = new Rect<>(LengthPercentage.length(8.0f), LengthPercentage.length(4.0f), LengthPercentage.length(2.0f), LengthPercentage.length(6.0f));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5, node6, node7, node8);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(272.0f, nodeLayout.size().width, "width of node");
        assertEquals(248.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(48.0f, node0Layout.location().x, "x of node0");
        assertEquals(12.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(40.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(88.0f, node1Layout.location().x, "x of node1");
        assertEquals(12.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(40.0f, node2Layout.size().width, "width of node2");
        assertEquals(40.0f, node2Layout.size().height, "height of node2");
        assertEquals(128.0f, node2Layout.location().x, "x of node2");
        assertEquals(12.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(40.0f, node3Layout.size().width, "width of node3");
        assertEquals(40.0f, node3Layout.size().height, "height of node3");
        assertEquals(48.0f, node3Layout.location().x, "x of node3");
        assertEquals(52.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(40.0f, node4Layout.size().width, "width of node4");
        assertEquals(40.0f, node4Layout.size().height, "height of node4");
        assertEquals(88.0f, node4Layout.location().x, "x of node4");
        assertEquals(52.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(40.0f, node5Layout.size().width, "width of node5");
        assertEquals(40.0f, node5Layout.size().height, "height of node5");
        assertEquals(128.0f, node5Layout.location().x, "x of node5");
        assertEquals(52.0f, node5Layout.location().y, "y of node5");
        Layout node6Layout = tree.getLayout(node6);
        assertEquals(40.0f, node6Layout.size().width, "width of node6");
        assertEquals(40.0f, node6Layout.size().height, "height of node6");
        assertEquals(48.0f, node6Layout.location().x, "x of node6");
        assertEquals(92.0f, node6Layout.location().y, "y of node6");
        Layout node7Layout = tree.getLayout(node7);
        assertEquals(40.0f, node7Layout.size().width, "width of node7");
        assertEquals(40.0f, node7Layout.size().height, "height of node7");
        assertEquals(88.0f, node7Layout.location().x, "x of node7");
        assertEquals(92.0f, node7Layout.location().y, "y of node7");
        Layout node8Layout = tree.getLayout(node8);
        assertEquals(40.0f, node8Layout.size().width, "width of node8");
        assertEquals(40.0f, node8Layout.size().height, "height of node8");
        assertEquals(128.0f, node8Layout.location().x, "x of node8");
        assertEquals(92.0f, node8Layout.location().y, "y of node8");
    }

    @Test
    @DisplayName("grid_justify_items_sized_center__border_box")
    void gridJustifyItemsSizedCenterBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        node0Style.gridRow = new Line<>(GridPlacement.line(1), GridPlacement.auto());
        node0Style.gridColumn = new Line<>(GridPlacement.line(1), GridPlacement.auto());
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.size = new Size<>(Dimension.length(60.0f), Dimension.length(60.0f));
        node1Style.gridRow = new Line<>(GridPlacement.line(3), GridPlacement.auto());
        node1Style.gridColumn = new Line<>(GridPlacement.line(3), GridPlacement.auto());
        NodeId node1 = tree.newLeaf(node1Style);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.justifyItems = AlignItems.CENTER;
        nodeStyle.size = new Size<>(Dimension.length(120.0f), Dimension.length(120.0f));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(120.0f, nodeLayout.size().width, "width of node");
        assertEquals(120.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(20.0f, node0Layout.size().width, "width of node0");
        assertEquals(20.0f, node0Layout.size().height, "height of node0");
        assertEquals(10.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(60.0f, node1Layout.size().width, "width of node1");
        assertEquals(60.0f, node1Layout.size().height, "height of node1");
        assertEquals(70.0f, node1Layout.location().x, "x of node1");
        assertEquals(80.0f, node1Layout.location().y, "y of node1");
    }

    @Test
    @DisplayName("grid_justify_items_sized_center__content_box")
    void gridJustifyItemsSizedCenterContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        node0Style.gridRow = new Line<>(GridPlacement.line(1), GridPlacement.auto());
        node0Style.gridColumn = new Line<>(GridPlacement.line(1), GridPlacement.auto());
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.size = new Size<>(Dimension.length(60.0f), Dimension.length(60.0f));
        node1Style.gridRow = new Line<>(GridPlacement.line(3), GridPlacement.auto());
        node1Style.gridColumn = new Line<>(GridPlacement.line(3), GridPlacement.auto());
        NodeId node1 = tree.newLeaf(node1Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.justifyItems = AlignItems.CENTER;
        nodeStyle.size = new Size<>(Dimension.length(120.0f), Dimension.length(120.0f));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(120.0f, nodeLayout.size().width, "width of node");
        assertEquals(120.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(20.0f, node0Layout.size().width, "width of node0");
        assertEquals(20.0f, node0Layout.size().height, "height of node0");
        assertEquals(10.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(60.0f, node1Layout.size().width, "width of node1");
        assertEquals(60.0f, node1Layout.size().height, "height of node1");
        assertEquals(70.0f, node1Layout.location().x, "x of node1");
        assertEquals(80.0f, node1Layout.location().y, "y of node1");
    }

    @Test
    @DisplayName("grid_justify_items_sized_end__border_box")
    void gridJustifyItemsSizedEndBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        node0Style.gridRow = new Line<>(GridPlacement.line(1), GridPlacement.auto());
        node0Style.gridColumn = new Line<>(GridPlacement.line(1), GridPlacement.auto());
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.size = new Size<>(Dimension.length(60.0f), Dimension.length(60.0f));
        node1Style.gridRow = new Line<>(GridPlacement.line(3), GridPlacement.auto());
        node1Style.gridColumn = new Line<>(GridPlacement.line(3), GridPlacement.auto());
        NodeId node1 = tree.newLeaf(node1Style);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.justifyItems = AlignItems.END;
        nodeStyle.size = new Size<>(Dimension.length(120.0f), Dimension.length(120.0f));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(120.0f, nodeLayout.size().width, "width of node");
        assertEquals(120.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(20.0f, node0Layout.size().width, "width of node0");
        assertEquals(20.0f, node0Layout.size().height, "height of node0");
        assertEquals(20.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(60.0f, node1Layout.size().width, "width of node1");
        assertEquals(60.0f, node1Layout.size().height, "height of node1");
        assertEquals(60.0f, node1Layout.location().x, "x of node1");
        assertEquals(80.0f, node1Layout.location().y, "y of node1");
    }

    @Test
    @DisplayName("grid_justify_items_sized_end__content_box")
    void gridJustifyItemsSizedEndContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        node0Style.gridRow = new Line<>(GridPlacement.line(1), GridPlacement.auto());
        node0Style.gridColumn = new Line<>(GridPlacement.line(1), GridPlacement.auto());
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.size = new Size<>(Dimension.length(60.0f), Dimension.length(60.0f));
        node1Style.gridRow = new Line<>(GridPlacement.line(3), GridPlacement.auto());
        node1Style.gridColumn = new Line<>(GridPlacement.line(3), GridPlacement.auto());
        NodeId node1 = tree.newLeaf(node1Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.justifyItems = AlignItems.END;
        nodeStyle.size = new Size<>(Dimension.length(120.0f), Dimension.length(120.0f));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(120.0f, nodeLayout.size().width, "width of node");
        assertEquals(120.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(20.0f, node0Layout.size().width, "width of node0");
        assertEquals(20.0f, node0Layout.size().height, "height of node0");
        assertEquals(20.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(60.0f, node1Layout.size().width, "width of node1");
        assertEquals(60.0f, node1Layout.size().height, "height of node1");
        assertEquals(60.0f, node1Layout.location().x, "x of node1");
        assertEquals(80.0f, node1Layout.location().y, "y of node1");
    }

    @Test
    @DisplayName("grid_justify_items_sized_start__border_box")
    void gridJustifyItemsSizedStartBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        node0Style.gridRow = new Line<>(GridPlacement.line(1), GridPlacement.auto());
        node0Style.gridColumn = new Line<>(GridPlacement.line(1), GridPlacement.auto());
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.size = new Size<>(Dimension.length(60.0f), Dimension.length(60.0f));
        node1Style.gridRow = new Line<>(GridPlacement.line(3), GridPlacement.auto());
        node1Style.gridColumn = new Line<>(GridPlacement.line(3), GridPlacement.auto());
        NodeId node1 = tree.newLeaf(node1Style);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.justifyItems = AlignItems.START;
        nodeStyle.size = new Size<>(Dimension.length(120.0f), Dimension.length(120.0f));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(120.0f, nodeLayout.size().width, "width of node");
        assertEquals(120.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(20.0f, node0Layout.size().width, "width of node0");
        assertEquals(20.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(60.0f, node1Layout.size().width, "width of node1");
        assertEquals(60.0f, node1Layout.size().height, "height of node1");
        assertEquals(80.0f, node1Layout.location().x, "x of node1");
        assertEquals(80.0f, node1Layout.location().y, "y of node1");
    }

    @Test
    @DisplayName("grid_justify_items_sized_start__content_box")
    void gridJustifyItemsSizedStartContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        node0Style.gridRow = new Line<>(GridPlacement.line(1), GridPlacement.auto());
        node0Style.gridColumn = new Line<>(GridPlacement.line(1), GridPlacement.auto());
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.size = new Size<>(Dimension.length(60.0f), Dimension.length(60.0f));
        node1Style.gridRow = new Line<>(GridPlacement.line(3), GridPlacement.auto());
        node1Style.gridColumn = new Line<>(GridPlacement.line(3), GridPlacement.auto());
        NodeId node1 = tree.newLeaf(node1Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.justifyItems = AlignItems.START;
        nodeStyle.size = new Size<>(Dimension.length(120.0f), Dimension.length(120.0f));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(120.0f, nodeLayout.size().width, "width of node");
        assertEquals(120.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(20.0f, node0Layout.size().width, "width of node0");
        assertEquals(20.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(60.0f, node1Layout.size().width, "width of node1");
        assertEquals(60.0f, node1Layout.size().height, "height of node1");
        assertEquals(80.0f, node1Layout.location().x, "x of node1");
        assertEquals(80.0f, node1Layout.location().y, "y of node1");
    }

    @Test
    @DisplayName("grid_justify_items_sized_stretch__border_box")
    void gridJustifyItemsSizedStretchBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        node0Style.gridRow = new Line<>(GridPlacement.line(1), GridPlacement.auto());
        node0Style.gridColumn = new Line<>(GridPlacement.line(1), GridPlacement.auto());
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.size = new Size<>(Dimension.length(60.0f), Dimension.length(60.0f));
        node1Style.gridRow = new Line<>(GridPlacement.line(3), GridPlacement.auto());
        node1Style.gridColumn = new Line<>(GridPlacement.line(3), GridPlacement.auto());
        NodeId node1 = tree.newLeaf(node1Style);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.justifyItems = AlignItems.STRETCH;
        nodeStyle.size = new Size<>(Dimension.length(120.0f), Dimension.length(120.0f));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(120.0f, nodeLayout.size().width, "width of node");
        assertEquals(120.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(20.0f, node0Layout.size().width, "width of node0");
        assertEquals(20.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(60.0f, node1Layout.size().width, "width of node1");
        assertEquals(60.0f, node1Layout.size().height, "height of node1");
        assertEquals(80.0f, node1Layout.location().x, "x of node1");
        assertEquals(80.0f, node1Layout.location().y, "y of node1");
    }

    @Test
    @DisplayName("grid_justify_items_sized_stretch__content_box")
    void gridJustifyItemsSizedStretchContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        node0Style.gridRow = new Line<>(GridPlacement.line(1), GridPlacement.auto());
        node0Style.gridColumn = new Line<>(GridPlacement.line(1), GridPlacement.auto());
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.size = new Size<>(Dimension.length(60.0f), Dimension.length(60.0f));
        node1Style.gridRow = new Line<>(GridPlacement.line(3), GridPlacement.auto());
        node1Style.gridColumn = new Line<>(GridPlacement.line(3), GridPlacement.auto());
        NodeId node1 = tree.newLeaf(node1Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.justifyItems = AlignItems.STRETCH;
        nodeStyle.size = new Size<>(Dimension.length(120.0f), Dimension.length(120.0f));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(120.0f, nodeLayout.size().width, "width of node");
        assertEquals(120.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(20.0f, node0Layout.size().width, "width of node0");
        assertEquals(20.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(60.0f, node1Layout.size().width, "width of node1");
        assertEquals(60.0f, node1Layout.size().height, "height of node1");
        assertEquals(80.0f, node1Layout.location().x, "x of node1");
        assertEquals(80.0f, node1Layout.location().y, "y of node1");
    }

    @Test
    @DisplayName("grid_justify_self_sized_all__border_box")
    void gridJustifySelfSizedAllBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.justifySelf = AlignItems.START;
        node0Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.justifySelf = AlignItems.START;
        node1Style.size = new Size<>(Dimension.length(60.0f), Dimension.length(60.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.justifySelf = AlignItems.END;
        node2Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        node3Style.justifySelf = AlignItems.END;
        node3Style.size = new Size<>(Dimension.length(60.0f), Dimension.length(60.0f));
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        node4Style.justifySelf = AlignItems.CENTER;
        node4Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        NodeId node4 = tree.newLeaf(node4Style);

        Style node5Style = new Style();
        node5Style.justifySelf = AlignItems.CENTER;
        node5Style.size = new Size<>(Dimension.length(60.0f), Dimension.length(60.0f));
        NodeId node5 = tree.newLeaf(node5Style);

        Style node6Style = new Style();
        node6Style.justifySelf = AlignItems.STRETCH;
        node6Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        NodeId node6 = tree.newLeaf(node6Style);

        Style node7Style = new Style();
        node7Style.justifySelf = AlignItems.STRETCH;
        node7Style.size = new Size<>(Dimension.length(60.0f), Dimension.length(60.0f));
        NodeId node7 = tree.newLeaf(node7Style);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.size = new Size<>(Dimension.length(120.0f), Dimension.length(120.0f));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5, node6, node7);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(120.0f, nodeLayout.size().width, "width of node");
        assertEquals(120.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(20.0f, node0Layout.size().width, "width of node0");
        assertEquals(20.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(60.0f, node1Layout.size().width, "width of node1");
        assertEquals(60.0f, node1Layout.size().height, "height of node1");
        assertEquals(40.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(20.0f, node2Layout.size().width, "width of node2");
        assertEquals(20.0f, node2Layout.size().height, "height of node2");
        assertEquals(100.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(60.0f, node3Layout.size().width, "width of node3");
        assertEquals(60.0f, node3Layout.size().height, "height of node3");
        assertEquals(-20.0f, node3Layout.location().x, "x of node3");
        assertEquals(40.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(20.0f, node4Layout.size().width, "width of node4");
        assertEquals(20.0f, node4Layout.size().height, "height of node4");
        assertEquals(50.0f, node4Layout.location().x, "x of node4");
        assertEquals(40.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(60.0f, node5Layout.size().width, "width of node5");
        assertEquals(60.0f, node5Layout.size().height, "height of node5");
        assertEquals(70.0f, node5Layout.location().x, "x of node5");
        assertEquals(40.0f, node5Layout.location().y, "y of node5");
        Layout node6Layout = tree.getLayout(node6);
        assertEquals(20.0f, node6Layout.size().width, "width of node6");
        assertEquals(20.0f, node6Layout.size().height, "height of node6");
        assertEquals(0.0f, node6Layout.location().x, "x of node6");
        assertEquals(80.0f, node6Layout.location().y, "y of node6");
        Layout node7Layout = tree.getLayout(node7);
        assertEquals(60.0f, node7Layout.size().width, "width of node7");
        assertEquals(60.0f, node7Layout.size().height, "height of node7");
        assertEquals(40.0f, node7Layout.location().x, "x of node7");
        assertEquals(80.0f, node7Layout.location().y, "y of node7");
    }

    @Test
    @DisplayName("grid_justify_self_sized_all__content_box")
    void gridJustifySelfSizedAllContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.justifySelf = AlignItems.START;
        node0Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.justifySelf = AlignItems.START;
        node1Style.size = new Size<>(Dimension.length(60.0f), Dimension.length(60.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        node2Style.justifySelf = AlignItems.END;
        node2Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        node3Style.boxSizing = BoxSizing.CONTENT_BOX;
        node3Style.justifySelf = AlignItems.END;
        node3Style.size = new Size<>(Dimension.length(60.0f), Dimension.length(60.0f));
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        node4Style.boxSizing = BoxSizing.CONTENT_BOX;
        node4Style.justifySelf = AlignItems.CENTER;
        node4Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        NodeId node4 = tree.newLeaf(node4Style);

        Style node5Style = new Style();
        node5Style.boxSizing = BoxSizing.CONTENT_BOX;
        node5Style.justifySelf = AlignItems.CENTER;
        node5Style.size = new Size<>(Dimension.length(60.0f), Dimension.length(60.0f));
        NodeId node5 = tree.newLeaf(node5Style);

        Style node6Style = new Style();
        node6Style.boxSizing = BoxSizing.CONTENT_BOX;
        node6Style.justifySelf = AlignItems.STRETCH;
        node6Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        NodeId node6 = tree.newLeaf(node6Style);

        Style node7Style = new Style();
        node7Style.boxSizing = BoxSizing.CONTENT_BOX;
        node7Style.justifySelf = AlignItems.STRETCH;
        node7Style.size = new Size<>(Dimension.length(60.0f), Dimension.length(60.0f));
        NodeId node7 = tree.newLeaf(node7Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.size = new Size<>(Dimension.length(120.0f), Dimension.length(120.0f));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5, node6, node7);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(120.0f, nodeLayout.size().width, "width of node");
        assertEquals(120.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(20.0f, node0Layout.size().width, "width of node0");
        assertEquals(20.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(60.0f, node1Layout.size().width, "width of node1");
        assertEquals(60.0f, node1Layout.size().height, "height of node1");
        assertEquals(40.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(20.0f, node2Layout.size().width, "width of node2");
        assertEquals(20.0f, node2Layout.size().height, "height of node2");
        assertEquals(100.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(60.0f, node3Layout.size().width, "width of node3");
        assertEquals(60.0f, node3Layout.size().height, "height of node3");
        assertEquals(-20.0f, node3Layout.location().x, "x of node3");
        assertEquals(40.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(20.0f, node4Layout.size().width, "width of node4");
        assertEquals(20.0f, node4Layout.size().height, "height of node4");
        assertEquals(50.0f, node4Layout.location().x, "x of node4");
        assertEquals(40.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(60.0f, node5Layout.size().width, "width of node5");
        assertEquals(60.0f, node5Layout.size().height, "height of node5");
        assertEquals(70.0f, node5Layout.location().x, "x of node5");
        assertEquals(40.0f, node5Layout.location().y, "y of node5");
        Layout node6Layout = tree.getLayout(node6);
        assertEquals(20.0f, node6Layout.size().width, "width of node6");
        assertEquals(20.0f, node6Layout.size().height, "height of node6");
        assertEquals(0.0f, node6Layout.location().x, "x of node6");
        assertEquals(80.0f, node6Layout.location().y, "y of node6");
        Layout node7Layout = tree.getLayout(node7);
        assertEquals(60.0f, node7Layout.size().width, "width of node7");
        assertEquals(60.0f, node7Layout.size().height, "height of node7");
        assertEquals(40.0f, node7Layout.location().x, "x of node7");
        assertEquals(80.0f, node7Layout.location().y, "y of node7");
    }

    @Test
    @DisplayName("grid_margins_auto_margins__border_box")
    void gridMarginsAutoMarginsBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.justifySelf = AlignItems.START;
        node2Style.size = new Size<>(Dimension.length(20.0f), Dimension.AUTO);
        node2Style.margin = new Rect<>(LengthPercentageAuto.AUTO, LengthPercentageAuto.AUTO, LengthPercentageAuto.length(0.0f), LengthPercentageAuto.length(0.0f));
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        node4Style.alignSelf = AlignItems.START;
        node4Style.size = new Size<>(Dimension.AUTO, Dimension.length(20.0f));
        node4Style.margin = new Rect<>(LengthPercentageAuto.length(0.0f), LengthPercentageAuto.length(0.0f), LengthPercentageAuto.AUTO, LengthPercentageAuto.AUTO);
        NodeId node4 = tree.newLeaf(node4Style);

        Style node5Style = new Style();
        NodeId node5 = tree.newLeaf(node5Style);

        Style node6Style = new Style();
        node6Style.alignSelf = AlignItems.START;
        node6Style.justifySelf = AlignItems.START;
        node6Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        node6Style.margin = new Rect<>(LengthPercentageAuto.AUTO, LengthPercentageAuto.AUTO, LengthPercentageAuto.AUTO, LengthPercentageAuto.AUTO);
        NodeId node6 = tree.newLeaf(node6Style);

        Style node7Style = new Style();
        NodeId node7 = tree.newLeaf(node7Style);

        Style node8Style = new Style();
        NodeId node8 = tree.newLeaf(node8Style);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.padding = new Rect<>(LengthPercentage.length(40.0f), LengthPercentage.length(20.0f), LengthPercentage.length(10.0f), LengthPercentage.length(30.0f));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5, node6, node7, node8);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(180.0f, nodeLayout.size().width, "width of node");
        assertEquals(160.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(40.0f, node0Layout.location().x, "x of node0");
        assertEquals(10.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(40.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(80.0f, node1Layout.location().x, "x of node1");
        assertEquals(10.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(20.0f, node2Layout.size().width, "width of node2");
        assertEquals(40.0f, node2Layout.size().height, "height of node2");
        assertEquals(130.0f, node2Layout.location().x, "x of node2");
        assertEquals(10.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(40.0f, node3Layout.size().width, "width of node3");
        assertEquals(40.0f, node3Layout.size().height, "height of node3");
        assertEquals(40.0f, node3Layout.location().x, "x of node3");
        assertEquals(50.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(40.0f, node4Layout.size().width, "width of node4");
        assertEquals(20.0f, node4Layout.size().height, "height of node4");
        assertEquals(80.0f, node4Layout.location().x, "x of node4");
        assertEquals(60.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(40.0f, node5Layout.size().width, "width of node5");
        assertEquals(40.0f, node5Layout.size().height, "height of node5");
        assertEquals(120.0f, node5Layout.location().x, "x of node5");
        assertEquals(50.0f, node5Layout.location().y, "y of node5");
        Layout node6Layout = tree.getLayout(node6);
        assertEquals(20.0f, node6Layout.size().width, "width of node6");
        assertEquals(20.0f, node6Layout.size().height, "height of node6");
        assertEquals(50.0f, node6Layout.location().x, "x of node6");
        assertEquals(100.0f, node6Layout.location().y, "y of node6");
        Layout node7Layout = tree.getLayout(node7);
        assertEquals(40.0f, node7Layout.size().width, "width of node7");
        assertEquals(40.0f, node7Layout.size().height, "height of node7");
        assertEquals(80.0f, node7Layout.location().x, "x of node7");
        assertEquals(90.0f, node7Layout.location().y, "y of node7");
        Layout node8Layout = tree.getLayout(node8);
        assertEquals(40.0f, node8Layout.size().width, "width of node8");
        assertEquals(40.0f, node8Layout.size().height, "height of node8");
        assertEquals(120.0f, node8Layout.location().x, "x of node8");
        assertEquals(90.0f, node8Layout.location().y, "y of node8");
    }

    @Test
    @DisplayName("grid_margins_auto_margins__content_box")
    void gridMarginsAutoMarginsContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        node2Style.justifySelf = AlignItems.START;
        node2Style.size = new Size<>(Dimension.length(20.0f), Dimension.AUTO);
        node2Style.margin = new Rect<>(LengthPercentageAuto.AUTO, LengthPercentageAuto.AUTO, LengthPercentageAuto.length(0.0f), LengthPercentageAuto.length(0.0f));
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        node3Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        node4Style.boxSizing = BoxSizing.CONTENT_BOX;
        node4Style.alignSelf = AlignItems.START;
        node4Style.size = new Size<>(Dimension.AUTO, Dimension.length(20.0f));
        node4Style.margin = new Rect<>(LengthPercentageAuto.length(0.0f), LengthPercentageAuto.length(0.0f), LengthPercentageAuto.AUTO, LengthPercentageAuto.AUTO);
        NodeId node4 = tree.newLeaf(node4Style);

        Style node5Style = new Style();
        node5Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node5 = tree.newLeaf(node5Style);

        Style node6Style = new Style();
        node6Style.boxSizing = BoxSizing.CONTENT_BOX;
        node6Style.alignSelf = AlignItems.START;
        node6Style.justifySelf = AlignItems.START;
        node6Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        node6Style.margin = new Rect<>(LengthPercentageAuto.AUTO, LengthPercentageAuto.AUTO, LengthPercentageAuto.AUTO, LengthPercentageAuto.AUTO);
        NodeId node6 = tree.newLeaf(node6Style);

        Style node7Style = new Style();
        node7Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node7 = tree.newLeaf(node7Style);

        Style node8Style = new Style();
        node8Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node8 = tree.newLeaf(node8Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.padding = new Rect<>(LengthPercentage.length(40.0f), LengthPercentage.length(20.0f), LengthPercentage.length(10.0f), LengthPercentage.length(30.0f));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5, node6, node7, node8);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(180.0f, nodeLayout.size().width, "width of node");
        assertEquals(160.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(40.0f, node0Layout.location().x, "x of node0");
        assertEquals(10.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(40.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(80.0f, node1Layout.location().x, "x of node1");
        assertEquals(10.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(20.0f, node2Layout.size().width, "width of node2");
        assertEquals(40.0f, node2Layout.size().height, "height of node2");
        assertEquals(130.0f, node2Layout.location().x, "x of node2");
        assertEquals(10.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(40.0f, node3Layout.size().width, "width of node3");
        assertEquals(40.0f, node3Layout.size().height, "height of node3");
        assertEquals(40.0f, node3Layout.location().x, "x of node3");
        assertEquals(50.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(40.0f, node4Layout.size().width, "width of node4");
        assertEquals(20.0f, node4Layout.size().height, "height of node4");
        assertEquals(80.0f, node4Layout.location().x, "x of node4");
        assertEquals(60.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(40.0f, node5Layout.size().width, "width of node5");
        assertEquals(40.0f, node5Layout.size().height, "height of node5");
        assertEquals(120.0f, node5Layout.location().x, "x of node5");
        assertEquals(50.0f, node5Layout.location().y, "y of node5");
        Layout node6Layout = tree.getLayout(node6);
        assertEquals(20.0f, node6Layout.size().width, "width of node6");
        assertEquals(20.0f, node6Layout.size().height, "height of node6");
        assertEquals(50.0f, node6Layout.location().x, "x of node6");
        assertEquals(100.0f, node6Layout.location().y, "y of node6");
        Layout node7Layout = tree.getLayout(node7);
        assertEquals(40.0f, node7Layout.size().width, "width of node7");
        assertEquals(40.0f, node7Layout.size().height, "height of node7");
        assertEquals(80.0f, node7Layout.location().x, "x of node7");
        assertEquals(90.0f, node7Layout.location().y, "y of node7");
        Layout node8Layout = tree.getLayout(node8);
        assertEquals(40.0f, node8Layout.size().width, "width of node8");
        assertEquals(40.0f, node8Layout.size().height, "height of node8");
        assertEquals(120.0f, node8Layout.location().x, "x of node8");
        assertEquals(90.0f, node8Layout.location().y, "y of node8");
    }

    @Test
    @DisplayName("grid_margins_auto_margins_override_stretch__border_box")
    void gridMarginsAutoMarginsOverrideStretchBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        NodeId node4 = tree.newLeaf(node4Style);

        Style node5Style = new Style();
        NodeId node5 = tree.newLeaf(node5Style);

        Style node6Style = new Style();
        node6Style.alignSelf = AlignItems.STRETCH;
        node6Style.justifySelf = AlignItems.STRETCH;
        node6Style.margin = new Rect<>(LengthPercentageAuto.AUTO, LengthPercentageAuto.AUTO, LengthPercentageAuto.AUTO, LengthPercentageAuto.AUTO);
        MeasureFunc node6Measure = ahemTextMeasure("HH\u200BHH", false);
        NodeId node6 = tree.newLeafWithMeasure(node6Style, node6Measure);

        Style node7Style = new Style();
        NodeId node7 = tree.newLeaf(node7Style);

        Style node8Style = new Style();
        NodeId node8 = tree.newLeaf(node8Style);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.padding = new Rect<>(LengthPercentage.length(40.0f), LengthPercentage.length(20.0f), LengthPercentage.length(10.0f), LengthPercentage.length(30.0f));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5, node6, node7, node8);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(180.0f, nodeLayout.size().width, "width of node");
        assertEquals(160.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(40.0f, node0Layout.location().x, "x of node0");
        assertEquals(10.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(40.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(80.0f, node1Layout.location().x, "x of node1");
        assertEquals(10.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(40.0f, node2Layout.size().width, "width of node2");
        assertEquals(40.0f, node2Layout.size().height, "height of node2");
        assertEquals(120.0f, node2Layout.location().x, "x of node2");
        assertEquals(10.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(40.0f, node3Layout.size().width, "width of node3");
        assertEquals(40.0f, node3Layout.size().height, "height of node3");
        assertEquals(40.0f, node3Layout.location().x, "x of node3");
        assertEquals(50.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(40.0f, node4Layout.size().width, "width of node4");
        assertEquals(40.0f, node4Layout.size().height, "height of node4");
        assertEquals(80.0f, node4Layout.location().x, "x of node4");
        assertEquals(50.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(40.0f, node5Layout.size().width, "width of node5");
        assertEquals(40.0f, node5Layout.size().height, "height of node5");
        assertEquals(120.0f, node5Layout.location().x, "x of node5");
        assertEquals(50.0f, node5Layout.location().y, "y of node5");
        Layout node6Layout = tree.getLayout(node6);
        assertEquals(40.0f, node6Layout.size().width, "width of node6");
        assertEquals(10.0f, node6Layout.size().height, "height of node6");
        assertEquals(40.0f, node6Layout.location().x, "x of node6");
        assertEquals(105.0f, node6Layout.location().y, "y of node6");
        Layout node7Layout = tree.getLayout(node7);
        assertEquals(40.0f, node7Layout.size().width, "width of node7");
        assertEquals(40.0f, node7Layout.size().height, "height of node7");
        assertEquals(80.0f, node7Layout.location().x, "x of node7");
        assertEquals(90.0f, node7Layout.location().y, "y of node7");
        Layout node8Layout = tree.getLayout(node8);
        assertEquals(40.0f, node8Layout.size().width, "width of node8");
        assertEquals(40.0f, node8Layout.size().height, "height of node8");
        assertEquals(120.0f, node8Layout.location().x, "x of node8");
        assertEquals(90.0f, node8Layout.location().y, "y of node8");
    }

    @Test
    @DisplayName("grid_margins_auto_margins_override_stretch__content_box")
    void gridMarginsAutoMarginsOverrideStretchContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        node3Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        node4Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node4 = tree.newLeaf(node4Style);

        Style node5Style = new Style();
        node5Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node5 = tree.newLeaf(node5Style);

        Style node6Style = new Style();
        node6Style.boxSizing = BoxSizing.CONTENT_BOX;
        node6Style.alignSelf = AlignItems.STRETCH;
        node6Style.justifySelf = AlignItems.STRETCH;
        node6Style.margin = new Rect<>(LengthPercentageAuto.AUTO, LengthPercentageAuto.AUTO, LengthPercentageAuto.AUTO, LengthPercentageAuto.AUTO);
        MeasureFunc node6Measure = ahemTextMeasure("HH\u200BHH", false);
        NodeId node6 = tree.newLeafWithMeasure(node6Style, node6Measure);

        Style node7Style = new Style();
        node7Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node7 = tree.newLeaf(node7Style);

        Style node8Style = new Style();
        node8Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node8 = tree.newLeaf(node8Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.padding = new Rect<>(LengthPercentage.length(40.0f), LengthPercentage.length(20.0f), LengthPercentage.length(10.0f), LengthPercentage.length(30.0f));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5, node6, node7, node8);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(180.0f, nodeLayout.size().width, "width of node");
        assertEquals(160.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(40.0f, node0Layout.location().x, "x of node0");
        assertEquals(10.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(40.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(80.0f, node1Layout.location().x, "x of node1");
        assertEquals(10.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(40.0f, node2Layout.size().width, "width of node2");
        assertEquals(40.0f, node2Layout.size().height, "height of node2");
        assertEquals(120.0f, node2Layout.location().x, "x of node2");
        assertEquals(10.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(40.0f, node3Layout.size().width, "width of node3");
        assertEquals(40.0f, node3Layout.size().height, "height of node3");
        assertEquals(40.0f, node3Layout.location().x, "x of node3");
        assertEquals(50.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(40.0f, node4Layout.size().width, "width of node4");
        assertEquals(40.0f, node4Layout.size().height, "height of node4");
        assertEquals(80.0f, node4Layout.location().x, "x of node4");
        assertEquals(50.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(40.0f, node5Layout.size().width, "width of node5");
        assertEquals(40.0f, node5Layout.size().height, "height of node5");
        assertEquals(120.0f, node5Layout.location().x, "x of node5");
        assertEquals(50.0f, node5Layout.location().y, "y of node5");
        Layout node6Layout = tree.getLayout(node6);
        assertEquals(40.0f, node6Layout.size().width, "width of node6");
        assertEquals(10.0f, node6Layout.size().height, "height of node6");
        assertEquals(40.0f, node6Layout.location().x, "x of node6");
        assertEquals(105.0f, node6Layout.location().y, "y of node6");
        Layout node7Layout = tree.getLayout(node7);
        assertEquals(40.0f, node7Layout.size().width, "width of node7");
        assertEquals(40.0f, node7Layout.size().height, "height of node7");
        assertEquals(80.0f, node7Layout.location().x, "x of node7");
        assertEquals(90.0f, node7Layout.location().y, "y of node7");
        Layout node8Layout = tree.getLayout(node8);
        assertEquals(40.0f, node8Layout.size().width, "width of node8");
        assertEquals(40.0f, node8Layout.size().height, "height of node8");
        assertEquals(120.0f, node8Layout.location().x, "x of node8");
        assertEquals(90.0f, node8Layout.location().y, "y of node8");
    }

    @Test
    @DisplayName("grid_margins_fixed_center__border_box")
    void gridMarginsFixedCenterBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.alignSelf = AlignItems.CENTER;
        node0Style.justifySelf = AlignItems.CENTER;
        node0Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        node0Style.margin = new Rect<>(LengthPercentageAuto.length(8.0f), LengthPercentageAuto.length(4.0f), LengthPercentageAuto.length(2.0f), LengthPercentageAuto.length(6.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        NodeId node4 = tree.newLeaf(node4Style);

        Style node5Style = new Style();
        NodeId node5 = tree.newLeaf(node5Style);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.padding = new Rect<>(LengthPercentage.length(40.0f), LengthPercentage.length(20.0f), LengthPercentage.length(10.0f), LengthPercentage.length(30.0f));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(180.0f, nodeLayout.size().width, "width of node");
        assertEquals(160.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(20.0f, node0Layout.size().width, "width of node0");
        assertEquals(20.0f, node0Layout.size().height, "height of node0");
        assertEquals(52.0f, node0Layout.location().x, "x of node0");
        assertEquals(18.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(40.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(80.0f, node1Layout.location().x, "x of node1");
        assertEquals(10.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(40.0f, node2Layout.size().width, "width of node2");
        assertEquals(40.0f, node2Layout.size().height, "height of node2");
        assertEquals(120.0f, node2Layout.location().x, "x of node2");
        assertEquals(10.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(40.0f, node3Layout.size().width, "width of node3");
        assertEquals(40.0f, node3Layout.size().height, "height of node3");
        assertEquals(40.0f, node3Layout.location().x, "x of node3");
        assertEquals(50.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(40.0f, node4Layout.size().width, "width of node4");
        assertEquals(40.0f, node4Layout.size().height, "height of node4");
        assertEquals(80.0f, node4Layout.location().x, "x of node4");
        assertEquals(50.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(40.0f, node5Layout.size().width, "width of node5");
        assertEquals(40.0f, node5Layout.size().height, "height of node5");
        assertEquals(120.0f, node5Layout.location().x, "x of node5");
        assertEquals(50.0f, node5Layout.location().y, "y of node5");
    }

    @Test
    @DisplayName("grid_margins_fixed_center__content_box")
    void gridMarginsFixedCenterContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.alignSelf = AlignItems.CENTER;
        node0Style.justifySelf = AlignItems.CENTER;
        node0Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        node0Style.margin = new Rect<>(LengthPercentageAuto.length(8.0f), LengthPercentageAuto.length(4.0f), LengthPercentageAuto.length(2.0f), LengthPercentageAuto.length(6.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        node3Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        node4Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node4 = tree.newLeaf(node4Style);

        Style node5Style = new Style();
        node5Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node5 = tree.newLeaf(node5Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.padding = new Rect<>(LengthPercentage.length(40.0f), LengthPercentage.length(20.0f), LengthPercentage.length(10.0f), LengthPercentage.length(30.0f));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(180.0f, nodeLayout.size().width, "width of node");
        assertEquals(160.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(20.0f, node0Layout.size().width, "width of node0");
        assertEquals(20.0f, node0Layout.size().height, "height of node0");
        assertEquals(52.0f, node0Layout.location().x, "x of node0");
        assertEquals(18.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(40.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(80.0f, node1Layout.location().x, "x of node1");
        assertEquals(10.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(40.0f, node2Layout.size().width, "width of node2");
        assertEquals(40.0f, node2Layout.size().height, "height of node2");
        assertEquals(120.0f, node2Layout.location().x, "x of node2");
        assertEquals(10.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(40.0f, node3Layout.size().width, "width of node3");
        assertEquals(40.0f, node3Layout.size().height, "height of node3");
        assertEquals(40.0f, node3Layout.location().x, "x of node3");
        assertEquals(50.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(40.0f, node4Layout.size().width, "width of node4");
        assertEquals(40.0f, node4Layout.size().height, "height of node4");
        assertEquals(80.0f, node4Layout.location().x, "x of node4");
        assertEquals(50.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(40.0f, node5Layout.size().width, "width of node5");
        assertEquals(40.0f, node5Layout.size().height, "height of node5");
        assertEquals(120.0f, node5Layout.location().x, "x of node5");
        assertEquals(50.0f, node5Layout.location().y, "y of node5");
    }

    @Test
    @DisplayName("grid_margins_fixed_end__border_box")
    void gridMarginsFixedEndBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.alignSelf = AlignItems.END;
        node0Style.justifySelf = AlignItems.END;
        node0Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        node0Style.margin = new Rect<>(LengthPercentageAuto.length(4.0f), LengthPercentageAuto.length(2.0f), LengthPercentageAuto.length(1.0f), LengthPercentageAuto.length(3.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        NodeId node4 = tree.newLeaf(node4Style);

        Style node5Style = new Style();
        NodeId node5 = tree.newLeaf(node5Style);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.padding = new Rect<>(LengthPercentage.length(40.0f), LengthPercentage.length(20.0f), LengthPercentage.length(10.0f), LengthPercentage.length(30.0f));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(180.0f, nodeLayout.size().width, "width of node");
        assertEquals(160.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(20.0f, node0Layout.size().width, "width of node0");
        assertEquals(20.0f, node0Layout.size().height, "height of node0");
        assertEquals(58.0f, node0Layout.location().x, "x of node0");
        assertEquals(27.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(40.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(80.0f, node1Layout.location().x, "x of node1");
        assertEquals(10.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(40.0f, node2Layout.size().width, "width of node2");
        assertEquals(40.0f, node2Layout.size().height, "height of node2");
        assertEquals(120.0f, node2Layout.location().x, "x of node2");
        assertEquals(10.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(40.0f, node3Layout.size().width, "width of node3");
        assertEquals(40.0f, node3Layout.size().height, "height of node3");
        assertEquals(40.0f, node3Layout.location().x, "x of node3");
        assertEquals(50.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(40.0f, node4Layout.size().width, "width of node4");
        assertEquals(40.0f, node4Layout.size().height, "height of node4");
        assertEquals(80.0f, node4Layout.location().x, "x of node4");
        assertEquals(50.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(40.0f, node5Layout.size().width, "width of node5");
        assertEquals(40.0f, node5Layout.size().height, "height of node5");
        assertEquals(120.0f, node5Layout.location().x, "x of node5");
        assertEquals(50.0f, node5Layout.location().y, "y of node5");
    }

    @Test
    @DisplayName("grid_margins_fixed_end__content_box")
    void gridMarginsFixedEndContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.alignSelf = AlignItems.END;
        node0Style.justifySelf = AlignItems.END;
        node0Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        node0Style.margin = new Rect<>(LengthPercentageAuto.length(4.0f), LengthPercentageAuto.length(2.0f), LengthPercentageAuto.length(1.0f), LengthPercentageAuto.length(3.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        node3Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        node4Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node4 = tree.newLeaf(node4Style);

        Style node5Style = new Style();
        node5Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node5 = tree.newLeaf(node5Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.padding = new Rect<>(LengthPercentage.length(40.0f), LengthPercentage.length(20.0f), LengthPercentage.length(10.0f), LengthPercentage.length(30.0f));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(180.0f, nodeLayout.size().width, "width of node");
        assertEquals(160.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(20.0f, node0Layout.size().width, "width of node0");
        assertEquals(20.0f, node0Layout.size().height, "height of node0");
        assertEquals(58.0f, node0Layout.location().x, "x of node0");
        assertEquals(27.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(40.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(80.0f, node1Layout.location().x, "x of node1");
        assertEquals(10.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(40.0f, node2Layout.size().width, "width of node2");
        assertEquals(40.0f, node2Layout.size().height, "height of node2");
        assertEquals(120.0f, node2Layout.location().x, "x of node2");
        assertEquals(10.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(40.0f, node3Layout.size().width, "width of node3");
        assertEquals(40.0f, node3Layout.size().height, "height of node3");
        assertEquals(40.0f, node3Layout.location().x, "x of node3");
        assertEquals(50.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(40.0f, node4Layout.size().width, "width of node4");
        assertEquals(40.0f, node4Layout.size().height, "height of node4");
        assertEquals(80.0f, node4Layout.location().x, "x of node4");
        assertEquals(50.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(40.0f, node5Layout.size().width, "width of node5");
        assertEquals(40.0f, node5Layout.size().height, "height of node5");
        assertEquals(120.0f, node5Layout.location().x, "x of node5");
        assertEquals(50.0f, node5Layout.location().y, "y of node5");
    }

    @Test
    @DisplayName("grid_margins_fixed_start__border_box")
    void gridMarginsFixedStartBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.alignSelf = AlignItems.START;
        node0Style.justifySelf = AlignItems.START;
        node0Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        node0Style.margin = new Rect<>(LengthPercentageAuto.length(4.0f), LengthPercentageAuto.length(2.0f), LengthPercentageAuto.length(1.0f), LengthPercentageAuto.length(3.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        NodeId node4 = tree.newLeaf(node4Style);

        Style node5Style = new Style();
        NodeId node5 = tree.newLeaf(node5Style);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.padding = new Rect<>(LengthPercentage.length(40.0f), LengthPercentage.length(20.0f), LengthPercentage.length(10.0f), LengthPercentage.length(30.0f));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(180.0f, nodeLayout.size().width, "width of node");
        assertEquals(160.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(20.0f, node0Layout.size().width, "width of node0");
        assertEquals(20.0f, node0Layout.size().height, "height of node0");
        assertEquals(44.0f, node0Layout.location().x, "x of node0");
        assertEquals(11.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(40.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(80.0f, node1Layout.location().x, "x of node1");
        assertEquals(10.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(40.0f, node2Layout.size().width, "width of node2");
        assertEquals(40.0f, node2Layout.size().height, "height of node2");
        assertEquals(120.0f, node2Layout.location().x, "x of node2");
        assertEquals(10.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(40.0f, node3Layout.size().width, "width of node3");
        assertEquals(40.0f, node3Layout.size().height, "height of node3");
        assertEquals(40.0f, node3Layout.location().x, "x of node3");
        assertEquals(50.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(40.0f, node4Layout.size().width, "width of node4");
        assertEquals(40.0f, node4Layout.size().height, "height of node4");
        assertEquals(80.0f, node4Layout.location().x, "x of node4");
        assertEquals(50.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(40.0f, node5Layout.size().width, "width of node5");
        assertEquals(40.0f, node5Layout.size().height, "height of node5");
        assertEquals(120.0f, node5Layout.location().x, "x of node5");
        assertEquals(50.0f, node5Layout.location().y, "y of node5");
    }

    @Test
    @DisplayName("grid_margins_fixed_start__content_box")
    void gridMarginsFixedStartContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.alignSelf = AlignItems.START;
        node0Style.justifySelf = AlignItems.START;
        node0Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        node0Style.margin = new Rect<>(LengthPercentageAuto.length(4.0f), LengthPercentageAuto.length(2.0f), LengthPercentageAuto.length(1.0f), LengthPercentageAuto.length(3.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        node3Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        node4Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node4 = tree.newLeaf(node4Style);

        Style node5Style = new Style();
        node5Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node5 = tree.newLeaf(node5Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.padding = new Rect<>(LengthPercentage.length(40.0f), LengthPercentage.length(20.0f), LengthPercentage.length(10.0f), LengthPercentage.length(30.0f));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(180.0f, nodeLayout.size().width, "width of node");
        assertEquals(160.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(20.0f, node0Layout.size().width, "width of node0");
        assertEquals(20.0f, node0Layout.size().height, "height of node0");
        assertEquals(44.0f, node0Layout.location().x, "x of node0");
        assertEquals(11.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(40.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(80.0f, node1Layout.location().x, "x of node1");
        assertEquals(10.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(40.0f, node2Layout.size().width, "width of node2");
        assertEquals(40.0f, node2Layout.size().height, "height of node2");
        assertEquals(120.0f, node2Layout.location().x, "x of node2");
        assertEquals(10.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(40.0f, node3Layout.size().width, "width of node3");
        assertEquals(40.0f, node3Layout.size().height, "height of node3");
        assertEquals(40.0f, node3Layout.location().x, "x of node3");
        assertEquals(50.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(40.0f, node4Layout.size().width, "width of node4");
        assertEquals(40.0f, node4Layout.size().height, "height of node4");
        assertEquals(80.0f, node4Layout.location().x, "x of node4");
        assertEquals(50.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(40.0f, node5Layout.size().width, "width of node5");
        assertEquals(40.0f, node5Layout.size().height, "height of node5");
        assertEquals(120.0f, node5Layout.location().x, "x of node5");
        assertEquals(50.0f, node5Layout.location().y, "y of node5");
    }

    @Test
    @DisplayName("grid_margins_fixed_stretch__border_box")
    void gridMarginsFixedStretchBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.alignSelf = AlignItems.STRETCH;
        node0Style.justifySelf = AlignItems.STRETCH;
        node0Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        node0Style.margin = new Rect<>(LengthPercentageAuto.length(4.0f), LengthPercentageAuto.length(2.0f), LengthPercentageAuto.length(1.0f), LengthPercentageAuto.length(3.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        NodeId node4 = tree.newLeaf(node4Style);

        Style node5Style = new Style();
        NodeId node5 = tree.newLeaf(node5Style);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.padding = new Rect<>(LengthPercentage.length(40.0f), LengthPercentage.length(20.0f), LengthPercentage.length(10.0f), LengthPercentage.length(30.0f));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(180.0f, nodeLayout.size().width, "width of node");
        assertEquals(160.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(20.0f, node0Layout.size().width, "width of node0");
        assertEquals(20.0f, node0Layout.size().height, "height of node0");
        assertEquals(44.0f, node0Layout.location().x, "x of node0");
        assertEquals(11.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(40.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(80.0f, node1Layout.location().x, "x of node1");
        assertEquals(10.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(40.0f, node2Layout.size().width, "width of node2");
        assertEquals(40.0f, node2Layout.size().height, "height of node2");
        assertEquals(120.0f, node2Layout.location().x, "x of node2");
        assertEquals(10.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(40.0f, node3Layout.size().width, "width of node3");
        assertEquals(40.0f, node3Layout.size().height, "height of node3");
        assertEquals(40.0f, node3Layout.location().x, "x of node3");
        assertEquals(50.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(40.0f, node4Layout.size().width, "width of node4");
        assertEquals(40.0f, node4Layout.size().height, "height of node4");
        assertEquals(80.0f, node4Layout.location().x, "x of node4");
        assertEquals(50.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(40.0f, node5Layout.size().width, "width of node5");
        assertEquals(40.0f, node5Layout.size().height, "height of node5");
        assertEquals(120.0f, node5Layout.location().x, "x of node5");
        assertEquals(50.0f, node5Layout.location().y, "y of node5");
    }

    @Test
    @DisplayName("grid_margins_fixed_stretch__content_box")
    void gridMarginsFixedStretchContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.alignSelf = AlignItems.STRETCH;
        node0Style.justifySelf = AlignItems.STRETCH;
        node0Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        node0Style.margin = new Rect<>(LengthPercentageAuto.length(4.0f), LengthPercentageAuto.length(2.0f), LengthPercentageAuto.length(1.0f), LengthPercentageAuto.length(3.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        node3Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        node4Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node4 = tree.newLeaf(node4Style);

        Style node5Style = new Style();
        node5Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node5 = tree.newLeaf(node5Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.padding = new Rect<>(LengthPercentage.length(40.0f), LengthPercentage.length(20.0f), LengthPercentage.length(10.0f), LengthPercentage.length(30.0f));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(180.0f, nodeLayout.size().width, "width of node");
        assertEquals(160.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(20.0f, node0Layout.size().width, "width of node0");
        assertEquals(20.0f, node0Layout.size().height, "height of node0");
        assertEquals(44.0f, node0Layout.location().x, "x of node0");
        assertEquals(11.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(40.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(80.0f, node1Layout.location().x, "x of node1");
        assertEquals(10.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(40.0f, node2Layout.size().width, "width of node2");
        assertEquals(40.0f, node2Layout.size().height, "height of node2");
        assertEquals(120.0f, node2Layout.location().x, "x of node2");
        assertEquals(10.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(40.0f, node3Layout.size().width, "width of node3");
        assertEquals(40.0f, node3Layout.size().height, "height of node3");
        assertEquals(40.0f, node3Layout.location().x, "x of node3");
        assertEquals(50.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(40.0f, node4Layout.size().width, "width of node4");
        assertEquals(40.0f, node4Layout.size().height, "height of node4");
        assertEquals(80.0f, node4Layout.location().x, "x of node4");
        assertEquals(50.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(40.0f, node5Layout.size().width, "width of node5");
        assertEquals(40.0f, node5Layout.size().height, "height of node5");
        assertEquals(120.0f, node5Layout.location().x, "x of node5");
        assertEquals(50.0f, node5Layout.location().y, "y of node5");
    }

    @Test
    @DisplayName("grid_margins_percent_center__border_box")
    void gridMarginsPercentCenterBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.alignSelf = AlignItems.CENTER;
        node0Style.justifySelf = AlignItems.CENTER;
        node0Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        node0Style.margin = new Rect<>(LengthPercentageAuto.percent(0.2f), LengthPercentageAuto.percent(0.1f), LengthPercentageAuto.percent(0.05f), LengthPercentageAuto.percent(0.15f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        NodeId node4 = tree.newLeaf(node4Style);

        Style node5Style = new Style();
        NodeId node5 = tree.newLeaf(node5Style);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(20.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(20.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(20.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(60.0f, nodeLayout.size().width, "width of node");
        assertEquals(120.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(20.0f, node0Layout.size().width, "width of node0");
        assertEquals(20.0f, node0Layout.size().height, "height of node0");
        assertEquals(1.0f, node0Layout.location().x, "x of node0");
        assertEquals(9.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(20.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(20.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(20.0f, node2Layout.size().width, "width of node2");
        assertEquals(40.0f, node2Layout.size().height, "height of node2");
        assertEquals(40.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(20.0f, node3Layout.size().width, "width of node3");
        assertEquals(40.0f, node3Layout.size().height, "height of node3");
        assertEquals(0.0f, node3Layout.location().x, "x of node3");
        assertEquals(40.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(20.0f, node4Layout.size().width, "width of node4");
        assertEquals(40.0f, node4Layout.size().height, "height of node4");
        assertEquals(20.0f, node4Layout.location().x, "x of node4");
        assertEquals(40.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(20.0f, node5Layout.size().width, "width of node5");
        assertEquals(40.0f, node5Layout.size().height, "height of node5");
        assertEquals(40.0f, node5Layout.location().x, "x of node5");
        assertEquals(40.0f, node5Layout.location().y, "y of node5");
    }

    @Test
    @DisplayName("grid_margins_percent_center__content_box")
    void gridMarginsPercentCenterContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.alignSelf = AlignItems.CENTER;
        node0Style.justifySelf = AlignItems.CENTER;
        node0Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        node0Style.margin = new Rect<>(LengthPercentageAuto.percent(0.2f), LengthPercentageAuto.percent(0.1f), LengthPercentageAuto.percent(0.05f), LengthPercentageAuto.percent(0.15f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        node3Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        node4Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node4 = tree.newLeaf(node4Style);

        Style node5Style = new Style();
        node5Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node5 = tree.newLeaf(node5Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(20.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(20.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(20.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(60.0f, nodeLayout.size().width, "width of node");
        assertEquals(120.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(20.0f, node0Layout.size().width, "width of node0");
        assertEquals(20.0f, node0Layout.size().height, "height of node0");
        assertEquals(1.0f, node0Layout.location().x, "x of node0");
        assertEquals(9.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(20.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(20.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(20.0f, node2Layout.size().width, "width of node2");
        assertEquals(40.0f, node2Layout.size().height, "height of node2");
        assertEquals(40.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(20.0f, node3Layout.size().width, "width of node3");
        assertEquals(40.0f, node3Layout.size().height, "height of node3");
        assertEquals(0.0f, node3Layout.location().x, "x of node3");
        assertEquals(40.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(20.0f, node4Layout.size().width, "width of node4");
        assertEquals(40.0f, node4Layout.size().height, "height of node4");
        assertEquals(20.0f, node4Layout.location().x, "x of node4");
        assertEquals(40.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(20.0f, node5Layout.size().width, "width of node5");
        assertEquals(40.0f, node5Layout.size().height, "height of node5");
        assertEquals(40.0f, node5Layout.location().x, "x of node5");
        assertEquals(40.0f, node5Layout.location().y, "y of node5");
    }

    @Test
    @DisplayName("grid_margins_percent_end__border_box")
    void gridMarginsPercentEndBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.alignSelf = AlignItems.END;
        node0Style.justifySelf = AlignItems.END;
        node0Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        node0Style.margin = new Rect<>(LengthPercentageAuto.percent(0.2f), LengthPercentageAuto.percent(0.1f), LengthPercentageAuto.percent(0.05f), LengthPercentageAuto.percent(0.15f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        NodeId node4 = tree.newLeaf(node4Style);

        Style node5Style = new Style();
        NodeId node5 = tree.newLeaf(node5Style);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(20.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(20.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(20.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(60.0f, nodeLayout.size().width, "width of node");
        assertEquals(120.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(20.0f, node0Layout.size().width, "width of node0");
        assertEquals(20.0f, node0Layout.size().height, "height of node0");
        assertEquals(-2.0f, node0Layout.location().x, "x of node0");
        assertEquals(17.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(20.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(20.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(20.0f, node2Layout.size().width, "width of node2");
        assertEquals(40.0f, node2Layout.size().height, "height of node2");
        assertEquals(40.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(20.0f, node3Layout.size().width, "width of node3");
        assertEquals(40.0f, node3Layout.size().height, "height of node3");
        assertEquals(0.0f, node3Layout.location().x, "x of node3");
        assertEquals(40.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(20.0f, node4Layout.size().width, "width of node4");
        assertEquals(40.0f, node4Layout.size().height, "height of node4");
        assertEquals(20.0f, node4Layout.location().x, "x of node4");
        assertEquals(40.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(20.0f, node5Layout.size().width, "width of node5");
        assertEquals(40.0f, node5Layout.size().height, "height of node5");
        assertEquals(40.0f, node5Layout.location().x, "x of node5");
        assertEquals(40.0f, node5Layout.location().y, "y of node5");
    }

    @Test
    @DisplayName("grid_margins_percent_end__content_box")
    void gridMarginsPercentEndContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.alignSelf = AlignItems.END;
        node0Style.justifySelf = AlignItems.END;
        node0Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        node0Style.margin = new Rect<>(LengthPercentageAuto.percent(0.2f), LengthPercentageAuto.percent(0.1f), LengthPercentageAuto.percent(0.05f), LengthPercentageAuto.percent(0.15f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        node3Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        node4Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node4 = tree.newLeaf(node4Style);

        Style node5Style = new Style();
        node5Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node5 = tree.newLeaf(node5Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(20.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(20.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(20.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(60.0f, nodeLayout.size().width, "width of node");
        assertEquals(120.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(20.0f, node0Layout.size().width, "width of node0");
        assertEquals(20.0f, node0Layout.size().height, "height of node0");
        assertEquals(-2.0f, node0Layout.location().x, "x of node0");
        assertEquals(17.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(20.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(20.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(20.0f, node2Layout.size().width, "width of node2");
        assertEquals(40.0f, node2Layout.size().height, "height of node2");
        assertEquals(40.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(20.0f, node3Layout.size().width, "width of node3");
        assertEquals(40.0f, node3Layout.size().height, "height of node3");
        assertEquals(0.0f, node3Layout.location().x, "x of node3");
        assertEquals(40.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(20.0f, node4Layout.size().width, "width of node4");
        assertEquals(40.0f, node4Layout.size().height, "height of node4");
        assertEquals(20.0f, node4Layout.location().x, "x of node4");
        assertEquals(40.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(20.0f, node5Layout.size().width, "width of node5");
        assertEquals(40.0f, node5Layout.size().height, "height of node5");
        assertEquals(40.0f, node5Layout.location().x, "x of node5");
        assertEquals(40.0f, node5Layout.location().y, "y of node5");
    }

    @Test
    @DisplayName("grid_margins_percent_start__border_box")
    void gridMarginsPercentStartBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.alignSelf = AlignItems.START;
        node0Style.justifySelf = AlignItems.START;
        node0Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        node0Style.margin = new Rect<>(LengthPercentageAuto.percent(0.2f), LengthPercentageAuto.percent(0.1f), LengthPercentageAuto.percent(0.05f), LengthPercentageAuto.percent(0.15f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        NodeId node4 = tree.newLeaf(node4Style);

        Style node5Style = new Style();
        NodeId node5 = tree.newLeaf(node5Style);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(20.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(20.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(20.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(60.0f, nodeLayout.size().width, "width of node");
        assertEquals(120.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(20.0f, node0Layout.size().width, "width of node0");
        assertEquals(20.0f, node0Layout.size().height, "height of node0");
        assertEquals(4.0f, node0Layout.location().x, "x of node0");
        assertEquals(1.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(20.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(20.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(20.0f, node2Layout.size().width, "width of node2");
        assertEquals(40.0f, node2Layout.size().height, "height of node2");
        assertEquals(40.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(20.0f, node3Layout.size().width, "width of node3");
        assertEquals(40.0f, node3Layout.size().height, "height of node3");
        assertEquals(0.0f, node3Layout.location().x, "x of node3");
        assertEquals(40.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(20.0f, node4Layout.size().width, "width of node4");
        assertEquals(40.0f, node4Layout.size().height, "height of node4");
        assertEquals(20.0f, node4Layout.location().x, "x of node4");
        assertEquals(40.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(20.0f, node5Layout.size().width, "width of node5");
        assertEquals(40.0f, node5Layout.size().height, "height of node5");
        assertEquals(40.0f, node5Layout.location().x, "x of node5");
        assertEquals(40.0f, node5Layout.location().y, "y of node5");
    }

    @Test
    @DisplayName("grid_margins_percent_start__content_box")
    void gridMarginsPercentStartContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.alignSelf = AlignItems.START;
        node0Style.justifySelf = AlignItems.START;
        node0Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        node0Style.margin = new Rect<>(LengthPercentageAuto.percent(0.2f), LengthPercentageAuto.percent(0.1f), LengthPercentageAuto.percent(0.05f), LengthPercentageAuto.percent(0.15f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        node3Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        node4Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node4 = tree.newLeaf(node4Style);

        Style node5Style = new Style();
        node5Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node5 = tree.newLeaf(node5Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(20.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(20.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(20.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(60.0f, nodeLayout.size().width, "width of node");
        assertEquals(120.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(20.0f, node0Layout.size().width, "width of node0");
        assertEquals(20.0f, node0Layout.size().height, "height of node0");
        assertEquals(4.0f, node0Layout.location().x, "x of node0");
        assertEquals(1.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(20.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(20.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(20.0f, node2Layout.size().width, "width of node2");
        assertEquals(40.0f, node2Layout.size().height, "height of node2");
        assertEquals(40.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(20.0f, node3Layout.size().width, "width of node3");
        assertEquals(40.0f, node3Layout.size().height, "height of node3");
        assertEquals(0.0f, node3Layout.location().x, "x of node3");
        assertEquals(40.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(20.0f, node4Layout.size().width, "width of node4");
        assertEquals(40.0f, node4Layout.size().height, "height of node4");
        assertEquals(20.0f, node4Layout.location().x, "x of node4");
        assertEquals(40.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(20.0f, node5Layout.size().width, "width of node5");
        assertEquals(40.0f, node5Layout.size().height, "height of node5");
        assertEquals(40.0f, node5Layout.location().x, "x of node5");
        assertEquals(40.0f, node5Layout.location().y, "y of node5");
    }

    @Test
    @DisplayName("grid_margins_percent_stretch__border_box")
    void gridMarginsPercentStretchBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.alignSelf = AlignItems.STRETCH;
        node0Style.justifySelf = AlignItems.STRETCH;
        node0Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        node0Style.margin = new Rect<>(LengthPercentageAuto.percent(0.2f), LengthPercentageAuto.percent(0.1f), LengthPercentageAuto.percent(0.05f), LengthPercentageAuto.percent(0.15f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        NodeId node4 = tree.newLeaf(node4Style);

        Style node5Style = new Style();
        NodeId node5 = tree.newLeaf(node5Style);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(20.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(20.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(20.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(60.0f, nodeLayout.size().width, "width of node");
        assertEquals(120.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(20.0f, node0Layout.size().width, "width of node0");
        assertEquals(20.0f, node0Layout.size().height, "height of node0");
        assertEquals(4.0f, node0Layout.location().x, "x of node0");
        assertEquals(1.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(20.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(20.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(20.0f, node2Layout.size().width, "width of node2");
        assertEquals(40.0f, node2Layout.size().height, "height of node2");
        assertEquals(40.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(20.0f, node3Layout.size().width, "width of node3");
        assertEquals(40.0f, node3Layout.size().height, "height of node3");
        assertEquals(0.0f, node3Layout.location().x, "x of node3");
        assertEquals(40.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(20.0f, node4Layout.size().width, "width of node4");
        assertEquals(40.0f, node4Layout.size().height, "height of node4");
        assertEquals(20.0f, node4Layout.location().x, "x of node4");
        assertEquals(40.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(20.0f, node5Layout.size().width, "width of node5");
        assertEquals(40.0f, node5Layout.size().height, "height of node5");
        assertEquals(40.0f, node5Layout.location().x, "x of node5");
        assertEquals(40.0f, node5Layout.location().y, "y of node5");
    }

    @Test
    @DisplayName("grid_margins_percent_stretch__content_box")
    void gridMarginsPercentStretchContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.alignSelf = AlignItems.STRETCH;
        node0Style.justifySelf = AlignItems.STRETCH;
        node0Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        node0Style.margin = new Rect<>(LengthPercentageAuto.percent(0.2f), LengthPercentageAuto.percent(0.1f), LengthPercentageAuto.percent(0.05f), LengthPercentageAuto.percent(0.15f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        node3Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        node4Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node4 = tree.newLeaf(node4Style);

        Style node5Style = new Style();
        node5Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node5 = tree.newLeaf(node5Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(20.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(20.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(20.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(60.0f, nodeLayout.size().width, "width of node");
        assertEquals(120.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(20.0f, node0Layout.size().width, "width of node0");
        assertEquals(20.0f, node0Layout.size().height, "height of node0");
        assertEquals(4.0f, node0Layout.location().x, "x of node0");
        assertEquals(1.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(20.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(20.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(20.0f, node2Layout.size().width, "width of node2");
        assertEquals(40.0f, node2Layout.size().height, "height of node2");
        assertEquals(40.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(20.0f, node3Layout.size().width, "width of node3");
        assertEquals(40.0f, node3Layout.size().height, "height of node3");
        assertEquals(0.0f, node3Layout.location().x, "x of node3");
        assertEquals(40.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(20.0f, node4Layout.size().width, "width of node4");
        assertEquals(40.0f, node4Layout.size().height, "height of node4");
        assertEquals(20.0f, node4Layout.location().x, "x of node4");
        assertEquals(40.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(20.0f, node5Layout.size().width, "width of node5");
        assertEquals(40.0f, node5Layout.size().height, "height of node5");
        assertEquals(40.0f, node5Layout.location().x, "x of node5");
        assertEquals(40.0f, node5Layout.location().y, "y of node5");
    }

    @Test
    @DisplayName("grid_max_content_maximum_single_item__border_box")
    void gridMaxContentMaximumSingleItemBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        MeasureFunc node1Measure = ahemTextMeasure("HH\u200BHH", false);
        NodeId node1 = tree.newLeafWithMeasure(node1Style, node1Measure);

        Style node2Style = new Style();
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        NodeId node4 = tree.newLeaf(node4Style);

        Style node5Style = new Style();
        NodeId node5 = tree.newLeaf(node5Style);

        Style node6Style = new Style();
        NodeId node6 = tree.newLeaf(node6Style);

        Style node7Style = new Style();
        NodeId node7 = tree.newLeaf(node7Style);

        Style node8Style = new Style();
        NodeId node8 = tree.newLeaf(node8Style);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.minmax(TrackSizingFunction.fixed(LengthPercentage.length(0.0f)), TrackSizingFunction.maxContent()));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5, node6, node7, node8);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(120.0f, nodeLayout.size().width, "width of node");
        assertEquals(120.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(40.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(40.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(40.0f, node2Layout.size().width, "width of node2");
        assertEquals(40.0f, node2Layout.size().height, "height of node2");
        assertEquals(80.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(40.0f, node3Layout.size().width, "width of node3");
        assertEquals(40.0f, node3Layout.size().height, "height of node3");
        assertEquals(0.0f, node3Layout.location().x, "x of node3");
        assertEquals(40.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(40.0f, node4Layout.size().width, "width of node4");
        assertEquals(40.0f, node4Layout.size().height, "height of node4");
        assertEquals(40.0f, node4Layout.location().x, "x of node4");
        assertEquals(40.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(40.0f, node5Layout.size().width, "width of node5");
        assertEquals(40.0f, node5Layout.size().height, "height of node5");
        assertEquals(80.0f, node5Layout.location().x, "x of node5");
        assertEquals(40.0f, node5Layout.location().y, "y of node5");
        Layout node6Layout = tree.getLayout(node6);
        assertEquals(40.0f, node6Layout.size().width, "width of node6");
        assertEquals(40.0f, node6Layout.size().height, "height of node6");
        assertEquals(0.0f, node6Layout.location().x, "x of node6");
        assertEquals(80.0f, node6Layout.location().y, "y of node6");
        Layout node7Layout = tree.getLayout(node7);
        assertEquals(40.0f, node7Layout.size().width, "width of node7");
        assertEquals(40.0f, node7Layout.size().height, "height of node7");
        assertEquals(40.0f, node7Layout.location().x, "x of node7");
        assertEquals(80.0f, node7Layout.location().y, "y of node7");
        Layout node8Layout = tree.getLayout(node8);
        assertEquals(40.0f, node8Layout.size().width, "width of node8");
        assertEquals(40.0f, node8Layout.size().height, "height of node8");
        assertEquals(80.0f, node8Layout.location().x, "x of node8");
        assertEquals(80.0f, node8Layout.location().y, "y of node8");
    }

    @Test
    @DisplayName("grid_max_content_maximum_single_item__content_box")
    void gridMaxContentMaximumSingleItemContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        MeasureFunc node1Measure = ahemTextMeasure("HH\u200BHH", false);
        NodeId node1 = tree.newLeafWithMeasure(node1Style, node1Measure);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        node3Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        node4Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node4 = tree.newLeaf(node4Style);

        Style node5Style = new Style();
        node5Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node5 = tree.newLeaf(node5Style);

        Style node6Style = new Style();
        node6Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node6 = tree.newLeaf(node6Style);

        Style node7Style = new Style();
        node7Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node7 = tree.newLeaf(node7Style);

        Style node8Style = new Style();
        node8Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node8 = tree.newLeaf(node8Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.minmax(TrackSizingFunction.fixed(LengthPercentage.length(0.0f)), TrackSizingFunction.maxContent()));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5, node6, node7, node8);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(120.0f, nodeLayout.size().width, "width of node");
        assertEquals(120.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(40.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(40.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(40.0f, node2Layout.size().width, "width of node2");
        assertEquals(40.0f, node2Layout.size().height, "height of node2");
        assertEquals(80.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(40.0f, node3Layout.size().width, "width of node3");
        assertEquals(40.0f, node3Layout.size().height, "height of node3");
        assertEquals(0.0f, node3Layout.location().x, "x of node3");
        assertEquals(40.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(40.0f, node4Layout.size().width, "width of node4");
        assertEquals(40.0f, node4Layout.size().height, "height of node4");
        assertEquals(40.0f, node4Layout.location().x, "x of node4");
        assertEquals(40.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(40.0f, node5Layout.size().width, "width of node5");
        assertEquals(40.0f, node5Layout.size().height, "height of node5");
        assertEquals(80.0f, node5Layout.location().x, "x of node5");
        assertEquals(40.0f, node5Layout.location().y, "y of node5");
        Layout node6Layout = tree.getLayout(node6);
        assertEquals(40.0f, node6Layout.size().width, "width of node6");
        assertEquals(40.0f, node6Layout.size().height, "height of node6");
        assertEquals(0.0f, node6Layout.location().x, "x of node6");
        assertEquals(80.0f, node6Layout.location().y, "y of node6");
        Layout node7Layout = tree.getLayout(node7);
        assertEquals(40.0f, node7Layout.size().width, "width of node7");
        assertEquals(40.0f, node7Layout.size().height, "height of node7");
        assertEquals(40.0f, node7Layout.location().x, "x of node7");
        assertEquals(80.0f, node7Layout.location().y, "y of node7");
        Layout node8Layout = tree.getLayout(node8);
        assertEquals(40.0f, node8Layout.size().width, "width of node8");
        assertEquals(40.0f, node8Layout.size().height, "height of node8");
        assertEquals(80.0f, node8Layout.location().x, "x of node8");
        assertEquals(80.0f, node8Layout.location().y, "y of node8");
    }

    @Test
    @DisplayName("grid_max_content_single_item__border_box")
    void gridMaxContentSingleItemBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        MeasureFunc node1Measure = ahemTextMeasure("HH\u200BHH", false);
        NodeId node1 = tree.newLeafWithMeasure(node1Style, node1Measure);

        Style node2Style = new Style();
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        NodeId node4 = tree.newLeaf(node4Style);

        Style node5Style = new Style();
        NodeId node5 = tree.newLeaf(node5Style);

        Style node6Style = new Style();
        NodeId node6 = tree.newLeaf(node6Style);

        Style node7Style = new Style();
        NodeId node7 = tree.newLeaf(node7Style);

        Style node8Style = new Style();
        NodeId node8 = tree.newLeaf(node8Style);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.maxContent());
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5, node6, node7, node8);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(120.0f, nodeLayout.size().width, "width of node");
        assertEquals(120.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(40.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(40.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(40.0f, node2Layout.size().width, "width of node2");
        assertEquals(40.0f, node2Layout.size().height, "height of node2");
        assertEquals(80.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(40.0f, node3Layout.size().width, "width of node3");
        assertEquals(40.0f, node3Layout.size().height, "height of node3");
        assertEquals(0.0f, node3Layout.location().x, "x of node3");
        assertEquals(40.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(40.0f, node4Layout.size().width, "width of node4");
        assertEquals(40.0f, node4Layout.size().height, "height of node4");
        assertEquals(40.0f, node4Layout.location().x, "x of node4");
        assertEquals(40.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(40.0f, node5Layout.size().width, "width of node5");
        assertEquals(40.0f, node5Layout.size().height, "height of node5");
        assertEquals(80.0f, node5Layout.location().x, "x of node5");
        assertEquals(40.0f, node5Layout.location().y, "y of node5");
        Layout node6Layout = tree.getLayout(node6);
        assertEquals(40.0f, node6Layout.size().width, "width of node6");
        assertEquals(40.0f, node6Layout.size().height, "height of node6");
        assertEquals(0.0f, node6Layout.location().x, "x of node6");
        assertEquals(80.0f, node6Layout.location().y, "y of node6");
        Layout node7Layout = tree.getLayout(node7);
        assertEquals(40.0f, node7Layout.size().width, "width of node7");
        assertEquals(40.0f, node7Layout.size().height, "height of node7");
        assertEquals(40.0f, node7Layout.location().x, "x of node7");
        assertEquals(80.0f, node7Layout.location().y, "y of node7");
        Layout node8Layout = tree.getLayout(node8);
        assertEquals(40.0f, node8Layout.size().width, "width of node8");
        assertEquals(40.0f, node8Layout.size().height, "height of node8");
        assertEquals(80.0f, node8Layout.location().x, "x of node8");
        assertEquals(80.0f, node8Layout.location().y, "y of node8");
    }

    @Test
    @DisplayName("grid_max_content_single_item__content_box")
    void gridMaxContentSingleItemContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        MeasureFunc node1Measure = ahemTextMeasure("HH\u200BHH", false);
        NodeId node1 = tree.newLeafWithMeasure(node1Style, node1Measure);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        node3Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        node4Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node4 = tree.newLeaf(node4Style);

        Style node5Style = new Style();
        node5Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node5 = tree.newLeaf(node5Style);

        Style node6Style = new Style();
        node6Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node6 = tree.newLeaf(node6Style);

        Style node7Style = new Style();
        node7Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node7 = tree.newLeaf(node7Style);

        Style node8Style = new Style();
        node8Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node8 = tree.newLeaf(node8Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.maxContent());
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5, node6, node7, node8);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(120.0f, nodeLayout.size().width, "width of node");
        assertEquals(120.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(40.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(40.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(40.0f, node2Layout.size().width, "width of node2");
        assertEquals(40.0f, node2Layout.size().height, "height of node2");
        assertEquals(80.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(40.0f, node3Layout.size().width, "width of node3");
        assertEquals(40.0f, node3Layout.size().height, "height of node3");
        assertEquals(0.0f, node3Layout.location().x, "x of node3");
        assertEquals(40.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(40.0f, node4Layout.size().width, "width of node4");
        assertEquals(40.0f, node4Layout.size().height, "height of node4");
        assertEquals(40.0f, node4Layout.location().x, "x of node4");
        assertEquals(40.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(40.0f, node5Layout.size().width, "width of node5");
        assertEquals(40.0f, node5Layout.size().height, "height of node5");
        assertEquals(80.0f, node5Layout.location().x, "x of node5");
        assertEquals(40.0f, node5Layout.location().y, "y of node5");
        Layout node6Layout = tree.getLayout(node6);
        assertEquals(40.0f, node6Layout.size().width, "width of node6");
        assertEquals(40.0f, node6Layout.size().height, "height of node6");
        assertEquals(0.0f, node6Layout.location().x, "x of node6");
        assertEquals(80.0f, node6Layout.location().y, "y of node6");
        Layout node7Layout = tree.getLayout(node7);
        assertEquals(40.0f, node7Layout.size().width, "width of node7");
        assertEquals(40.0f, node7Layout.size().height, "height of node7");
        assertEquals(40.0f, node7Layout.location().x, "x of node7");
        assertEquals(80.0f, node7Layout.location().y, "y of node7");
        Layout node8Layout = tree.getLayout(node8);
        assertEquals(40.0f, node8Layout.size().width, "width of node8");
        assertEquals(40.0f, node8Layout.size().height, "height of node8");
        assertEquals(80.0f, node8Layout.location().x, "x of node8");
        assertEquals(80.0f, node8Layout.location().y, "y of node8");
    }

    @Test
    @DisplayName("grid_max_content_single_item_margin_auto__border_box")
    void gridMaxContentSingleItemMarginAutoBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.margin = new Rect<>(LengthPercentageAuto.AUTO, LengthPercentageAuto.AUTO, LengthPercentageAuto.AUTO, LengthPercentageAuto.AUTO);
        MeasureFunc node1Measure = ahemTextMeasure("HH\u200BHH", false);
        NodeId node1 = tree.newLeafWithMeasure(node1Style, node1Measure);

        Style node2Style = new Style();
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        NodeId node4 = tree.newLeaf(node4Style);

        Style node5Style = new Style();
        NodeId node5 = tree.newLeaf(node5Style);

        Style node6Style = new Style();
        NodeId node6 = tree.newLeaf(node6Style);

        Style node7Style = new Style();
        NodeId node7 = tree.newLeaf(node7Style);

        Style node8Style = new Style();
        NodeId node8 = tree.newLeaf(node8Style);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.maxContent());
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5, node6, node7, node8);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(120.0f, nodeLayout.size().width, "width of node");
        assertEquals(120.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(40.0f, node1Layout.size().width, "width of node1");
        assertEquals(10.0f, node1Layout.size().height, "height of node1");
        assertEquals(40.0f, node1Layout.location().x, "x of node1");
        assertEquals(15.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(40.0f, node2Layout.size().width, "width of node2");
        assertEquals(40.0f, node2Layout.size().height, "height of node2");
        assertEquals(80.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(40.0f, node3Layout.size().width, "width of node3");
        assertEquals(40.0f, node3Layout.size().height, "height of node3");
        assertEquals(0.0f, node3Layout.location().x, "x of node3");
        assertEquals(40.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(40.0f, node4Layout.size().width, "width of node4");
        assertEquals(40.0f, node4Layout.size().height, "height of node4");
        assertEquals(40.0f, node4Layout.location().x, "x of node4");
        assertEquals(40.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(40.0f, node5Layout.size().width, "width of node5");
        assertEquals(40.0f, node5Layout.size().height, "height of node5");
        assertEquals(80.0f, node5Layout.location().x, "x of node5");
        assertEquals(40.0f, node5Layout.location().y, "y of node5");
        Layout node6Layout = tree.getLayout(node6);
        assertEquals(40.0f, node6Layout.size().width, "width of node6");
        assertEquals(40.0f, node6Layout.size().height, "height of node6");
        assertEquals(0.0f, node6Layout.location().x, "x of node6");
        assertEquals(80.0f, node6Layout.location().y, "y of node6");
        Layout node7Layout = tree.getLayout(node7);
        assertEquals(40.0f, node7Layout.size().width, "width of node7");
        assertEquals(40.0f, node7Layout.size().height, "height of node7");
        assertEquals(40.0f, node7Layout.location().x, "x of node7");
        assertEquals(80.0f, node7Layout.location().y, "y of node7");
        Layout node8Layout = tree.getLayout(node8);
        assertEquals(40.0f, node8Layout.size().width, "width of node8");
        assertEquals(40.0f, node8Layout.size().height, "height of node8");
        assertEquals(80.0f, node8Layout.location().x, "x of node8");
        assertEquals(80.0f, node8Layout.location().y, "y of node8");
    }

    @Test
    @DisplayName("grid_max_content_single_item_margin_auto__content_box")
    void gridMaxContentSingleItemMarginAutoContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.margin = new Rect<>(LengthPercentageAuto.AUTO, LengthPercentageAuto.AUTO, LengthPercentageAuto.AUTO, LengthPercentageAuto.AUTO);
        MeasureFunc node1Measure = ahemTextMeasure("HH\u200BHH", false);
        NodeId node1 = tree.newLeafWithMeasure(node1Style, node1Measure);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        node3Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        node4Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node4 = tree.newLeaf(node4Style);

        Style node5Style = new Style();
        node5Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node5 = tree.newLeaf(node5Style);

        Style node6Style = new Style();
        node6Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node6 = tree.newLeaf(node6Style);

        Style node7Style = new Style();
        node7Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node7 = tree.newLeaf(node7Style);

        Style node8Style = new Style();
        node8Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node8 = tree.newLeaf(node8Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.maxContent());
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5, node6, node7, node8);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(120.0f, nodeLayout.size().width, "width of node");
        assertEquals(120.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(40.0f, node1Layout.size().width, "width of node1");
        assertEquals(10.0f, node1Layout.size().height, "height of node1");
        assertEquals(40.0f, node1Layout.location().x, "x of node1");
        assertEquals(15.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(40.0f, node2Layout.size().width, "width of node2");
        assertEquals(40.0f, node2Layout.size().height, "height of node2");
        assertEquals(80.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(40.0f, node3Layout.size().width, "width of node3");
        assertEquals(40.0f, node3Layout.size().height, "height of node3");
        assertEquals(0.0f, node3Layout.location().x, "x of node3");
        assertEquals(40.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(40.0f, node4Layout.size().width, "width of node4");
        assertEquals(40.0f, node4Layout.size().height, "height of node4");
        assertEquals(40.0f, node4Layout.location().x, "x of node4");
        assertEquals(40.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(40.0f, node5Layout.size().width, "width of node5");
        assertEquals(40.0f, node5Layout.size().height, "height of node5");
        assertEquals(80.0f, node5Layout.location().x, "x of node5");
        assertEquals(40.0f, node5Layout.location().y, "y of node5");
        Layout node6Layout = tree.getLayout(node6);
        assertEquals(40.0f, node6Layout.size().width, "width of node6");
        assertEquals(40.0f, node6Layout.size().height, "height of node6");
        assertEquals(0.0f, node6Layout.location().x, "x of node6");
        assertEquals(80.0f, node6Layout.location().y, "y of node6");
        Layout node7Layout = tree.getLayout(node7);
        assertEquals(40.0f, node7Layout.size().width, "width of node7");
        assertEquals(40.0f, node7Layout.size().height, "height of node7");
        assertEquals(40.0f, node7Layout.location().x, "x of node7");
        assertEquals(80.0f, node7Layout.location().y, "y of node7");
        Layout node8Layout = tree.getLayout(node8);
        assertEquals(40.0f, node8Layout.size().width, "width of node8");
        assertEquals(40.0f, node8Layout.size().height, "height of node8");
        assertEquals(80.0f, node8Layout.location().x, "x of node8");
        assertEquals(80.0f, node8Layout.location().y, "y of node8");
    }

    @Test
    @DisplayName("grid_max_content_single_item_margin_fixed__border_box")
    void gridMaxContentSingleItemMarginFixedBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.margin = new Rect<>(LengthPercentageAuto.length(20.0f), LengthPercentageAuto.length(10.0f), LengthPercentageAuto.length(5.0f), LengthPercentageAuto.length(15.0f));
        MeasureFunc node1Measure = ahemTextMeasure("HH\u200BHH", false);
        NodeId node1 = tree.newLeafWithMeasure(node1Style, node1Measure);

        Style node2Style = new Style();
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        NodeId node4 = tree.newLeaf(node4Style);

        Style node5Style = new Style();
        NodeId node5 = tree.newLeaf(node5Style);

        Style node6Style = new Style();
        NodeId node6 = tree.newLeaf(node6Style);

        Style node7Style = new Style();
        NodeId node7 = tree.newLeaf(node7Style);

        Style node8Style = new Style();
        NodeId node8 = tree.newLeaf(node8Style);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.maxContent());
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5, node6, node7, node8);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(150.0f, nodeLayout.size().width, "width of node");
        assertEquals(120.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(40.0f, node1Layout.size().width, "width of node1");
        assertEquals(20.0f, node1Layout.size().height, "height of node1");
        assertEquals(60.0f, node1Layout.location().x, "x of node1");
        assertEquals(5.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(40.0f, node2Layout.size().width, "width of node2");
        assertEquals(40.0f, node2Layout.size().height, "height of node2");
        assertEquals(110.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(40.0f, node3Layout.size().width, "width of node3");
        assertEquals(40.0f, node3Layout.size().height, "height of node3");
        assertEquals(0.0f, node3Layout.location().x, "x of node3");
        assertEquals(40.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(70.0f, node4Layout.size().width, "width of node4");
        assertEquals(40.0f, node4Layout.size().height, "height of node4");
        assertEquals(40.0f, node4Layout.location().x, "x of node4");
        assertEquals(40.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(40.0f, node5Layout.size().width, "width of node5");
        assertEquals(40.0f, node5Layout.size().height, "height of node5");
        assertEquals(110.0f, node5Layout.location().x, "x of node5");
        assertEquals(40.0f, node5Layout.location().y, "y of node5");
        Layout node6Layout = tree.getLayout(node6);
        assertEquals(40.0f, node6Layout.size().width, "width of node6");
        assertEquals(40.0f, node6Layout.size().height, "height of node6");
        assertEquals(0.0f, node6Layout.location().x, "x of node6");
        assertEquals(80.0f, node6Layout.location().y, "y of node6");
        Layout node7Layout = tree.getLayout(node7);
        assertEquals(70.0f, node7Layout.size().width, "width of node7");
        assertEquals(40.0f, node7Layout.size().height, "height of node7");
        assertEquals(40.0f, node7Layout.location().x, "x of node7");
        assertEquals(80.0f, node7Layout.location().y, "y of node7");
        Layout node8Layout = tree.getLayout(node8);
        assertEquals(40.0f, node8Layout.size().width, "width of node8");
        assertEquals(40.0f, node8Layout.size().height, "height of node8");
        assertEquals(110.0f, node8Layout.location().x, "x of node8");
        assertEquals(80.0f, node8Layout.location().y, "y of node8");
    }

    @Test
    @DisplayName("grid_max_content_single_item_margin_fixed__content_box")
    void gridMaxContentSingleItemMarginFixedContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.margin = new Rect<>(LengthPercentageAuto.length(20.0f), LengthPercentageAuto.length(10.0f), LengthPercentageAuto.length(5.0f), LengthPercentageAuto.length(15.0f));
        MeasureFunc node1Measure = ahemTextMeasure("HH\u200BHH", false);
        NodeId node1 = tree.newLeafWithMeasure(node1Style, node1Measure);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        node3Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        node4Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node4 = tree.newLeaf(node4Style);

        Style node5Style = new Style();
        node5Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node5 = tree.newLeaf(node5Style);

        Style node6Style = new Style();
        node6Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node6 = tree.newLeaf(node6Style);

        Style node7Style = new Style();
        node7Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node7 = tree.newLeaf(node7Style);

        Style node8Style = new Style();
        node8Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node8 = tree.newLeaf(node8Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.maxContent());
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5, node6, node7, node8);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(150.0f, nodeLayout.size().width, "width of node");
        assertEquals(120.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(40.0f, node1Layout.size().width, "width of node1");
        assertEquals(20.0f, node1Layout.size().height, "height of node1");
        assertEquals(60.0f, node1Layout.location().x, "x of node1");
        assertEquals(5.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(40.0f, node2Layout.size().width, "width of node2");
        assertEquals(40.0f, node2Layout.size().height, "height of node2");
        assertEquals(110.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(40.0f, node3Layout.size().width, "width of node3");
        assertEquals(40.0f, node3Layout.size().height, "height of node3");
        assertEquals(0.0f, node3Layout.location().x, "x of node3");
        assertEquals(40.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(70.0f, node4Layout.size().width, "width of node4");
        assertEquals(40.0f, node4Layout.size().height, "height of node4");
        assertEquals(40.0f, node4Layout.location().x, "x of node4");
        assertEquals(40.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(40.0f, node5Layout.size().width, "width of node5");
        assertEquals(40.0f, node5Layout.size().height, "height of node5");
        assertEquals(110.0f, node5Layout.location().x, "x of node5");
        assertEquals(40.0f, node5Layout.location().y, "y of node5");
        Layout node6Layout = tree.getLayout(node6);
        assertEquals(40.0f, node6Layout.size().width, "width of node6");
        assertEquals(40.0f, node6Layout.size().height, "height of node6");
        assertEquals(0.0f, node6Layout.location().x, "x of node6");
        assertEquals(80.0f, node6Layout.location().y, "y of node6");
        Layout node7Layout = tree.getLayout(node7);
        assertEquals(70.0f, node7Layout.size().width, "width of node7");
        assertEquals(40.0f, node7Layout.size().height, "height of node7");
        assertEquals(40.0f, node7Layout.location().x, "x of node7");
        assertEquals(80.0f, node7Layout.location().y, "y of node7");
        Layout node8Layout = tree.getLayout(node8);
        assertEquals(40.0f, node8Layout.size().width, "width of node8");
        assertEquals(40.0f, node8Layout.size().height, "height of node8");
        assertEquals(110.0f, node8Layout.location().x, "x of node8");
        assertEquals(80.0f, node8Layout.location().y, "y of node8");
    }

    @Test
    @DisplayName("grid_max_content_single_item_margin_percent__border_box")
    void gridMaxContentSingleItemMarginPercentBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.margin = new Rect<>(LengthPercentageAuto.percent(0.2f), LengthPercentageAuto.percent(0.1f), LengthPercentageAuto.percent(0.05f), LengthPercentageAuto.percent(0.15f));
        MeasureFunc node1Measure = ahemTextMeasure("HH\u200BHH", false);
        NodeId node1 = tree.newLeafWithMeasure(node1Style, node1Measure);

        Style node2Style = new Style();
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        NodeId node4 = tree.newLeaf(node4Style);

        Style node5Style = new Style();
        NodeId node5 = tree.newLeaf(node5Style);

        Style node6Style = new Style();
        NodeId node6 = tree.newLeaf(node6Style);

        Style node7Style = new Style();
        NodeId node7 = tree.newLeaf(node7Style);

        Style node8Style = new Style();
        NodeId node8 = tree.newLeaf(node8Style);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.maxContent());
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5, node6, node7, node8);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(120.0f, nodeLayout.size().width, "width of node");
        assertEquals(120.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(28.0f, node1Layout.size().width, "width of node1");
        assertEquals(32.0f, node1Layout.size().height, "height of node1");
        assertEquals(48.0f, node1Layout.location().x, "x of node1");
        assertEquals(2.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(40.0f, node2Layout.size().width, "width of node2");
        assertEquals(40.0f, node2Layout.size().height, "height of node2");
        assertEquals(80.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(40.0f, node3Layout.size().width, "width of node3");
        assertEquals(40.0f, node3Layout.size().height, "height of node3");
        assertEquals(0.0f, node3Layout.location().x, "x of node3");
        assertEquals(40.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(40.0f, node4Layout.size().width, "width of node4");
        assertEquals(40.0f, node4Layout.size().height, "height of node4");
        assertEquals(40.0f, node4Layout.location().x, "x of node4");
        assertEquals(40.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(40.0f, node5Layout.size().width, "width of node5");
        assertEquals(40.0f, node5Layout.size().height, "height of node5");
        assertEquals(80.0f, node5Layout.location().x, "x of node5");
        assertEquals(40.0f, node5Layout.location().y, "y of node5");
        Layout node6Layout = tree.getLayout(node6);
        assertEquals(40.0f, node6Layout.size().width, "width of node6");
        assertEquals(40.0f, node6Layout.size().height, "height of node6");
        assertEquals(0.0f, node6Layout.location().x, "x of node6");
        assertEquals(80.0f, node6Layout.location().y, "y of node6");
        Layout node7Layout = tree.getLayout(node7);
        assertEquals(40.0f, node7Layout.size().width, "width of node7");
        assertEquals(40.0f, node7Layout.size().height, "height of node7");
        assertEquals(40.0f, node7Layout.location().x, "x of node7");
        assertEquals(80.0f, node7Layout.location().y, "y of node7");
        Layout node8Layout = tree.getLayout(node8);
        assertEquals(40.0f, node8Layout.size().width, "width of node8");
        assertEquals(40.0f, node8Layout.size().height, "height of node8");
        assertEquals(80.0f, node8Layout.location().x, "x of node8");
        assertEquals(80.0f, node8Layout.location().y, "y of node8");
    }

    @Test
    @DisplayName("grid_max_content_single_item_margin_percent__content_box")
    void gridMaxContentSingleItemMarginPercentContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.margin = new Rect<>(LengthPercentageAuto.percent(0.2f), LengthPercentageAuto.percent(0.1f), LengthPercentageAuto.percent(0.05f), LengthPercentageAuto.percent(0.15f));
        MeasureFunc node1Measure = ahemTextMeasure("HH\u200BHH", false);
        NodeId node1 = tree.newLeafWithMeasure(node1Style, node1Measure);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        node3Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        node4Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node4 = tree.newLeaf(node4Style);

        Style node5Style = new Style();
        node5Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node5 = tree.newLeaf(node5Style);

        Style node6Style = new Style();
        node6Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node6 = tree.newLeaf(node6Style);

        Style node7Style = new Style();
        node7Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node7 = tree.newLeaf(node7Style);

        Style node8Style = new Style();
        node8Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node8 = tree.newLeaf(node8Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.maxContent());
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5, node6, node7, node8);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(120.0f, nodeLayout.size().width, "width of node");
        assertEquals(120.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(28.0f, node1Layout.size().width, "width of node1");
        assertEquals(32.0f, node1Layout.size().height, "height of node1");
        assertEquals(48.0f, node1Layout.location().x, "x of node1");
        assertEquals(2.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(40.0f, node2Layout.size().width, "width of node2");
        assertEquals(40.0f, node2Layout.size().height, "height of node2");
        assertEquals(80.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(40.0f, node3Layout.size().width, "width of node3");
        assertEquals(40.0f, node3Layout.size().height, "height of node3");
        assertEquals(0.0f, node3Layout.location().x, "x of node3");
        assertEquals(40.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(40.0f, node4Layout.size().width, "width of node4");
        assertEquals(40.0f, node4Layout.size().height, "height of node4");
        assertEquals(40.0f, node4Layout.location().x, "x of node4");
        assertEquals(40.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(40.0f, node5Layout.size().width, "width of node5");
        assertEquals(40.0f, node5Layout.size().height, "height of node5");
        assertEquals(80.0f, node5Layout.location().x, "x of node5");
        assertEquals(40.0f, node5Layout.location().y, "y of node5");
        Layout node6Layout = tree.getLayout(node6);
        assertEquals(40.0f, node6Layout.size().width, "width of node6");
        assertEquals(40.0f, node6Layout.size().height, "height of node6");
        assertEquals(0.0f, node6Layout.location().x, "x of node6");
        assertEquals(80.0f, node6Layout.location().y, "y of node6");
        Layout node7Layout = tree.getLayout(node7);
        assertEquals(40.0f, node7Layout.size().width, "width of node7");
        assertEquals(40.0f, node7Layout.size().height, "height of node7");
        assertEquals(40.0f, node7Layout.location().x, "x of node7");
        assertEquals(80.0f, node7Layout.location().y, "y of node7");
        Layout node8Layout = tree.getLayout(node8);
        assertEquals(40.0f, node8Layout.size().width, "width of node8");
        assertEquals(40.0f, node8Layout.size().height, "height of node8");
        assertEquals(80.0f, node8Layout.location().x, "x of node8");
        assertEquals(80.0f, node8Layout.location().y, "y of node8");
    }

    @Test
    @DisplayName("grid_max_content_single_item_span_2__border_box")
    void gridMaxContentSingleItemSpan2BorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.gridColumn = new Line<>(GridPlacement.span(2), GridPlacement.auto());
        MeasureFunc node1Measure = ahemTextMeasure("HH\u200BHH", false);
        NodeId node1 = tree.newLeafWithMeasure(node1Style, node1Measure);

        Style node2Style = new Style();
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        NodeId node4 = tree.newLeaf(node4Style);

        Style node5Style = new Style();
        NodeId node5 = tree.newLeaf(node5Style);

        Style node6Style = new Style();
        NodeId node6 = tree.newLeaf(node6Style);

        Style node7Style = new Style();
        NodeId node7 = tree.newLeaf(node7Style);

        Style node8Style = new Style();
        NodeId node8 = tree.newLeaf(node8Style);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.maxContent());
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.maxContent());
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5, node6, node7, node8);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(80.0f, nodeLayout.size().width, "width of node");
        assertEquals(120.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(40.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(40.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(40.0f, node2Layout.size().width, "width of node2");
        assertEquals(40.0f, node2Layout.size().height, "height of node2");
        assertEquals(0.0f, node2Layout.location().x, "x of node2");
        assertEquals(40.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(20.0f, node3Layout.size().width, "width of node3");
        assertEquals(40.0f, node3Layout.size().height, "height of node3");
        assertEquals(40.0f, node3Layout.location().x, "x of node3");
        assertEquals(40.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(20.0f, node4Layout.size().width, "width of node4");
        assertEquals(40.0f, node4Layout.size().height, "height of node4");
        assertEquals(60.0f, node4Layout.location().x, "x of node4");
        assertEquals(40.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(40.0f, node5Layout.size().width, "width of node5");
        assertEquals(40.0f, node5Layout.size().height, "height of node5");
        assertEquals(0.0f, node5Layout.location().x, "x of node5");
        assertEquals(80.0f, node5Layout.location().y, "y of node5");
        Layout node6Layout = tree.getLayout(node6);
        assertEquals(20.0f, node6Layout.size().width, "width of node6");
        assertEquals(40.0f, node6Layout.size().height, "height of node6");
        assertEquals(40.0f, node6Layout.location().x, "x of node6");
        assertEquals(80.0f, node6Layout.location().y, "y of node6");
        Layout node7Layout = tree.getLayout(node7);
        assertEquals(20.0f, node7Layout.size().width, "width of node7");
        assertEquals(40.0f, node7Layout.size().height, "height of node7");
        assertEquals(60.0f, node7Layout.location().x, "x of node7");
        assertEquals(80.0f, node7Layout.location().y, "y of node7");
        Layout node8Layout = tree.getLayout(node8);
        assertEquals(40.0f, node8Layout.size().width, "width of node8");
        assertEquals(0.0f, node8Layout.size().height, "height of node8");
        assertEquals(0.0f, node8Layout.location().x, "x of node8");
        assertEquals(120.0f, node8Layout.location().y, "y of node8");
    }

    @Test
    @DisplayName("grid_max_content_single_item_span_2__content_box")
    void gridMaxContentSingleItemSpan2ContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.gridColumn = new Line<>(GridPlacement.span(2), GridPlacement.auto());
        MeasureFunc node1Measure = ahemTextMeasure("HH\u200BHH", false);
        NodeId node1 = tree.newLeafWithMeasure(node1Style, node1Measure);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        node3Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        node4Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node4 = tree.newLeaf(node4Style);

        Style node5Style = new Style();
        node5Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node5 = tree.newLeaf(node5Style);

        Style node6Style = new Style();
        node6Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node6 = tree.newLeaf(node6Style);

        Style node7Style = new Style();
        node7Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node7 = tree.newLeaf(node7Style);

        Style node8Style = new Style();
        node8Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node8 = tree.newLeaf(node8Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.maxContent());
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.maxContent());
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5, node6, node7, node8);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(80.0f, nodeLayout.size().width, "width of node");
        assertEquals(120.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(40.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(40.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(40.0f, node2Layout.size().width, "width of node2");
        assertEquals(40.0f, node2Layout.size().height, "height of node2");
        assertEquals(0.0f, node2Layout.location().x, "x of node2");
        assertEquals(40.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(20.0f, node3Layout.size().width, "width of node3");
        assertEquals(40.0f, node3Layout.size().height, "height of node3");
        assertEquals(40.0f, node3Layout.location().x, "x of node3");
        assertEquals(40.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(20.0f, node4Layout.size().width, "width of node4");
        assertEquals(40.0f, node4Layout.size().height, "height of node4");
        assertEquals(60.0f, node4Layout.location().x, "x of node4");
        assertEquals(40.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(40.0f, node5Layout.size().width, "width of node5");
        assertEquals(40.0f, node5Layout.size().height, "height of node5");
        assertEquals(0.0f, node5Layout.location().x, "x of node5");
        assertEquals(80.0f, node5Layout.location().y, "y of node5");
        Layout node6Layout = tree.getLayout(node6);
        assertEquals(20.0f, node6Layout.size().width, "width of node6");
        assertEquals(40.0f, node6Layout.size().height, "height of node6");
        assertEquals(40.0f, node6Layout.location().x, "x of node6");
        assertEquals(80.0f, node6Layout.location().y, "y of node6");
        Layout node7Layout = tree.getLayout(node7);
        assertEquals(20.0f, node7Layout.size().width, "width of node7");
        assertEquals(40.0f, node7Layout.size().height, "height of node7");
        assertEquals(60.0f, node7Layout.location().x, "x of node7");
        assertEquals(80.0f, node7Layout.location().y, "y of node7");
        Layout node8Layout = tree.getLayout(node8);
        assertEquals(40.0f, node8Layout.size().width, "width of node8");
        assertEquals(0.0f, node8Layout.size().height, "height of node8");
        assertEquals(0.0f, node8Layout.location().x, "x of node8");
        assertEquals(120.0f, node8Layout.location().y, "y of node8");
    }

    @Test
    @DisplayName("grid_max_content_single_item_span_2_gap_fixed__border_box")
    void gridMaxContentSingleItemSpan2GapFixedBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.gridColumn = new Line<>(GridPlacement.span(2), GridPlacement.auto());
        MeasureFunc node1Measure = ahemTextMeasure("HH\u200BHH\u200BHH", false);
        NodeId node1 = tree.newLeafWithMeasure(node1Style, node1Measure);

        Style node2Style = new Style();
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        NodeId node4 = tree.newLeaf(node4Style);

        Style node5Style = new Style();
        NodeId node5 = tree.newLeaf(node5Style);

        Style node6Style = new Style();
        NodeId node6 = tree.newLeaf(node6Style);

        Style node7Style = new Style();
        NodeId node7 = tree.newLeaf(node7Style);

        Style node8Style = new Style();
        NodeId node8 = tree.newLeaf(node8Style);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.gap = new Size<>(LengthPercentage.length(20.0f), LengthPercentage.ZERO);
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.maxContent());
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.maxContent());
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5, node6, node7, node8);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(120.0f, nodeLayout.size().width, "width of node");
        assertEquals(120.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(60.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(60.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(40.0f, node2Layout.size().width, "width of node2");
        assertEquals(40.0f, node2Layout.size().height, "height of node2");
        assertEquals(0.0f, node2Layout.location().x, "x of node2");
        assertEquals(40.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(20.0f, node3Layout.size().width, "width of node3");
        assertEquals(40.0f, node3Layout.size().height, "height of node3");
        assertEquals(60.0f, node3Layout.location().x, "x of node3");
        assertEquals(40.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(20.0f, node4Layout.size().width, "width of node4");
        assertEquals(40.0f, node4Layout.size().height, "height of node4");
        assertEquals(100.0f, node4Layout.location().x, "x of node4");
        assertEquals(40.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(40.0f, node5Layout.size().width, "width of node5");
        assertEquals(40.0f, node5Layout.size().height, "height of node5");
        assertEquals(0.0f, node5Layout.location().x, "x of node5");
        assertEquals(80.0f, node5Layout.location().y, "y of node5");
        Layout node6Layout = tree.getLayout(node6);
        assertEquals(20.0f, node6Layout.size().width, "width of node6");
        assertEquals(40.0f, node6Layout.size().height, "height of node6");
        assertEquals(60.0f, node6Layout.location().x, "x of node6");
        assertEquals(80.0f, node6Layout.location().y, "y of node6");
        Layout node7Layout = tree.getLayout(node7);
        assertEquals(20.0f, node7Layout.size().width, "width of node7");
        assertEquals(40.0f, node7Layout.size().height, "height of node7");
        assertEquals(100.0f, node7Layout.location().x, "x of node7");
        assertEquals(80.0f, node7Layout.location().y, "y of node7");
        Layout node8Layout = tree.getLayout(node8);
        assertEquals(40.0f, node8Layout.size().width, "width of node8");
        assertEquals(0.0f, node8Layout.size().height, "height of node8");
        assertEquals(0.0f, node8Layout.location().x, "x of node8");
        assertEquals(120.0f, node8Layout.location().y, "y of node8");
    }

    @Test
    @DisplayName("grid_max_content_single_item_span_2_gap_fixed__content_box")
    void gridMaxContentSingleItemSpan2GapFixedContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.gridColumn = new Line<>(GridPlacement.span(2), GridPlacement.auto());
        MeasureFunc node1Measure = ahemTextMeasure("HH\u200BHH\u200BHH", false);
        NodeId node1 = tree.newLeafWithMeasure(node1Style, node1Measure);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        node3Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        node4Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node4 = tree.newLeaf(node4Style);

        Style node5Style = new Style();
        node5Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node5 = tree.newLeaf(node5Style);

        Style node6Style = new Style();
        node6Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node6 = tree.newLeaf(node6Style);

        Style node7Style = new Style();
        node7Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node7 = tree.newLeaf(node7Style);

        Style node8Style = new Style();
        node8Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node8 = tree.newLeaf(node8Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.gap = new Size<>(LengthPercentage.length(20.0f), LengthPercentage.ZERO);
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.maxContent());
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.maxContent());
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5, node6, node7, node8);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(120.0f, nodeLayout.size().width, "width of node");
        assertEquals(120.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(60.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(60.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(40.0f, node2Layout.size().width, "width of node2");
        assertEquals(40.0f, node2Layout.size().height, "height of node2");
        assertEquals(0.0f, node2Layout.location().x, "x of node2");
        assertEquals(40.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(20.0f, node3Layout.size().width, "width of node3");
        assertEquals(40.0f, node3Layout.size().height, "height of node3");
        assertEquals(60.0f, node3Layout.location().x, "x of node3");
        assertEquals(40.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(20.0f, node4Layout.size().width, "width of node4");
        assertEquals(40.0f, node4Layout.size().height, "height of node4");
        assertEquals(100.0f, node4Layout.location().x, "x of node4");
        assertEquals(40.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(40.0f, node5Layout.size().width, "width of node5");
        assertEquals(40.0f, node5Layout.size().height, "height of node5");
        assertEquals(0.0f, node5Layout.location().x, "x of node5");
        assertEquals(80.0f, node5Layout.location().y, "y of node5");
        Layout node6Layout = tree.getLayout(node6);
        assertEquals(20.0f, node6Layout.size().width, "width of node6");
        assertEquals(40.0f, node6Layout.size().height, "height of node6");
        assertEquals(60.0f, node6Layout.location().x, "x of node6");
        assertEquals(80.0f, node6Layout.location().y, "y of node6");
        Layout node7Layout = tree.getLayout(node7);
        assertEquals(20.0f, node7Layout.size().width, "width of node7");
        assertEquals(40.0f, node7Layout.size().height, "height of node7");
        assertEquals(100.0f, node7Layout.location().x, "x of node7");
        assertEquals(80.0f, node7Layout.location().y, "y of node7");
        Layout node8Layout = tree.getLayout(node8);
        assertEquals(40.0f, node8Layout.size().width, "width of node8");
        assertEquals(0.0f, node8Layout.size().height, "height of node8");
        assertEquals(0.0f, node8Layout.location().x, "x of node8");
        assertEquals(120.0f, node8Layout.location().y, "y of node8");
    }

    @Test
    @DisplayName("grid_max_content_single_item_span_2_gap_percent_definite__border_box")
    void gridMaxContentSingleItemSpan2GapPercentDefiniteBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.gridColumn = new Line<>(GridPlacement.span(2), GridPlacement.auto());
        MeasureFunc node1Measure = ahemTextMeasure("HH\u200BHH\u200BHH", false);
        NodeId node1 = tree.newLeafWithMeasure(node1Style, node1Measure);

        Style node2Style = new Style();
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        NodeId node4 = tree.newLeaf(node4Style);

        Style node5Style = new Style();
        NodeId node5 = tree.newLeaf(node5Style);

        Style node6Style = new Style();
        NodeId node6 = tree.newLeaf(node6Style);

        Style node7Style = new Style();
        NodeId node7 = tree.newLeaf(node7Style);

        Style node8Style = new Style();
        NodeId node8 = tree.newLeaf(node8Style);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.AUTO);
        nodeStyle.gap = new Size<>(LengthPercentage.percent(0.2f), LengthPercentage.ZERO);
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.maxContent());
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.maxContent());
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5, node6, node7, node8);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(120.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(60.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(60.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(40.0f, node2Layout.size().width, "width of node2");
        assertEquals(40.0f, node2Layout.size().height, "height of node2");
        assertEquals(0.0f, node2Layout.location().x, "x of node2");
        assertEquals(40.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(20.0f, node3Layout.size().width, "width of node3");
        assertEquals(40.0f, node3Layout.size().height, "height of node3");
        assertEquals(60.0f, node3Layout.location().x, "x of node3");
        assertEquals(40.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(20.0f, node4Layout.size().width, "width of node4");
        assertEquals(40.0f, node4Layout.size().height, "height of node4");
        assertEquals(100.0f, node4Layout.location().x, "x of node4");
        assertEquals(40.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(40.0f, node5Layout.size().width, "width of node5");
        assertEquals(40.0f, node5Layout.size().height, "height of node5");
        assertEquals(0.0f, node5Layout.location().x, "x of node5");
        assertEquals(80.0f, node5Layout.location().y, "y of node5");
        Layout node6Layout = tree.getLayout(node6);
        assertEquals(20.0f, node6Layout.size().width, "width of node6");
        assertEquals(40.0f, node6Layout.size().height, "height of node6");
        assertEquals(60.0f, node6Layout.location().x, "x of node6");
        assertEquals(80.0f, node6Layout.location().y, "y of node6");
        Layout node7Layout = tree.getLayout(node7);
        assertEquals(20.0f, node7Layout.size().width, "width of node7");
        assertEquals(40.0f, node7Layout.size().height, "height of node7");
        assertEquals(100.0f, node7Layout.location().x, "x of node7");
        assertEquals(80.0f, node7Layout.location().y, "y of node7");
        Layout node8Layout = tree.getLayout(node8);
        assertEquals(40.0f, node8Layout.size().width, "width of node8");
        assertEquals(0.0f, node8Layout.size().height, "height of node8");
        assertEquals(0.0f, node8Layout.location().x, "x of node8");
        assertEquals(120.0f, node8Layout.location().y, "y of node8");
    }

    @Test
    @DisplayName("grid_max_content_single_item_span_2_gap_percent_definite__content_box")
    void gridMaxContentSingleItemSpan2GapPercentDefiniteContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.gridColumn = new Line<>(GridPlacement.span(2), GridPlacement.auto());
        MeasureFunc node1Measure = ahemTextMeasure("HH\u200BHH\u200BHH", false);
        NodeId node1 = tree.newLeafWithMeasure(node1Style, node1Measure);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        node3Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        node4Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node4 = tree.newLeaf(node4Style);

        Style node5Style = new Style();
        node5Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node5 = tree.newLeaf(node5Style);

        Style node6Style = new Style();
        node6Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node6 = tree.newLeaf(node6Style);

        Style node7Style = new Style();
        node7Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node7 = tree.newLeaf(node7Style);

        Style node8Style = new Style();
        node8Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node8 = tree.newLeaf(node8Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.AUTO);
        nodeStyle.gap = new Size<>(LengthPercentage.percent(0.2f), LengthPercentage.ZERO);
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.maxContent());
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.maxContent());
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5, node6, node7, node8);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(120.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(60.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(60.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(40.0f, node2Layout.size().width, "width of node2");
        assertEquals(40.0f, node2Layout.size().height, "height of node2");
        assertEquals(0.0f, node2Layout.location().x, "x of node2");
        assertEquals(40.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(20.0f, node3Layout.size().width, "width of node3");
        assertEquals(40.0f, node3Layout.size().height, "height of node3");
        assertEquals(60.0f, node3Layout.location().x, "x of node3");
        assertEquals(40.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(20.0f, node4Layout.size().width, "width of node4");
        assertEquals(40.0f, node4Layout.size().height, "height of node4");
        assertEquals(100.0f, node4Layout.location().x, "x of node4");
        assertEquals(40.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(40.0f, node5Layout.size().width, "width of node5");
        assertEquals(40.0f, node5Layout.size().height, "height of node5");
        assertEquals(0.0f, node5Layout.location().x, "x of node5");
        assertEquals(80.0f, node5Layout.location().y, "y of node5");
        Layout node6Layout = tree.getLayout(node6);
        assertEquals(20.0f, node6Layout.size().width, "width of node6");
        assertEquals(40.0f, node6Layout.size().height, "height of node6");
        assertEquals(60.0f, node6Layout.location().x, "x of node6");
        assertEquals(80.0f, node6Layout.location().y, "y of node6");
        Layout node7Layout = tree.getLayout(node7);
        assertEquals(20.0f, node7Layout.size().width, "width of node7");
        assertEquals(40.0f, node7Layout.size().height, "height of node7");
        assertEquals(100.0f, node7Layout.location().x, "x of node7");
        assertEquals(80.0f, node7Layout.location().y, "y of node7");
        Layout node8Layout = tree.getLayout(node8);
        assertEquals(40.0f, node8Layout.size().width, "width of node8");
        assertEquals(0.0f, node8Layout.size().height, "height of node8");
        assertEquals(0.0f, node8Layout.location().x, "x of node8");
        assertEquals(120.0f, node8Layout.location().y, "y of node8");
    }

    @Test
    @DisplayName("grid_max_content_single_item_span_2_gap_percent_indefinite__border_box")
    void gridMaxContentSingleItemSpan2GapPercentIndefiniteBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.gridColumn = new Line<>(GridPlacement.span(2), GridPlacement.auto());
        MeasureFunc node1Measure = ahemTextMeasure("HH\u200BHH\u200BHH", false);
        NodeId node1 = tree.newLeafWithMeasure(node1Style, node1Measure);

        Style node2Style = new Style();
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        NodeId node4 = tree.newLeaf(node4Style);

        Style node5Style = new Style();
        NodeId node5 = tree.newLeaf(node5Style);

        Style node6Style = new Style();
        NodeId node6 = tree.newLeaf(node6Style);

        Style node7Style = new Style();
        NodeId node7 = tree.newLeaf(node7Style);

        Style node8Style = new Style();
        NodeId node8 = tree.newLeaf(node8Style);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.gap = new Size<>(LengthPercentage.percent(0.2f), LengthPercentage.ZERO);
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.maxContent());
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.maxContent());
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5, node6, node7, node8);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(120.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(60.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(60.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(40.0f, node2Layout.size().width, "width of node2");
        assertEquals(40.0f, node2Layout.size().height, "height of node2");
        assertEquals(0.0f, node2Layout.location().x, "x of node2");
        assertEquals(40.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(20.0f, node3Layout.size().width, "width of node3");
        assertEquals(40.0f, node3Layout.size().height, "height of node3");
        assertEquals(60.0f, node3Layout.location().x, "x of node3");
        assertEquals(40.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(20.0f, node4Layout.size().width, "width of node4");
        assertEquals(40.0f, node4Layout.size().height, "height of node4");
        assertEquals(100.0f, node4Layout.location().x, "x of node4");
        assertEquals(40.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(40.0f, node5Layout.size().width, "width of node5");
        assertEquals(40.0f, node5Layout.size().height, "height of node5");
        assertEquals(0.0f, node5Layout.location().x, "x of node5");
        assertEquals(80.0f, node5Layout.location().y, "y of node5");
        Layout node6Layout = tree.getLayout(node6);
        assertEquals(20.0f, node6Layout.size().width, "width of node6");
        assertEquals(40.0f, node6Layout.size().height, "height of node6");
        assertEquals(60.0f, node6Layout.location().x, "x of node6");
        assertEquals(80.0f, node6Layout.location().y, "y of node6");
        Layout node7Layout = tree.getLayout(node7);
        assertEquals(20.0f, node7Layout.size().width, "width of node7");
        assertEquals(40.0f, node7Layout.size().height, "height of node7");
        assertEquals(100.0f, node7Layout.location().x, "x of node7");
        assertEquals(80.0f, node7Layout.location().y, "y of node7");
        Layout node8Layout = tree.getLayout(node8);
        assertEquals(40.0f, node8Layout.size().width, "width of node8");
        assertEquals(0.0f, node8Layout.size().height, "height of node8");
        assertEquals(0.0f, node8Layout.location().x, "x of node8");
        assertEquals(120.0f, node8Layout.location().y, "y of node8");
    }

    @Test
    @DisplayName("grid_max_content_single_item_span_2_gap_percent_indefinite__content_box")
    void gridMaxContentSingleItemSpan2GapPercentIndefiniteContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.gridColumn = new Line<>(GridPlacement.span(2), GridPlacement.auto());
        MeasureFunc node1Measure = ahemTextMeasure("HH\u200BHH\u200BHH", false);
        NodeId node1 = tree.newLeafWithMeasure(node1Style, node1Measure);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        node3Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        node4Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node4 = tree.newLeaf(node4Style);

        Style node5Style = new Style();
        node5Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node5 = tree.newLeaf(node5Style);

        Style node6Style = new Style();
        node6Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node6 = tree.newLeaf(node6Style);

        Style node7Style = new Style();
        node7Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node7 = tree.newLeaf(node7Style);

        Style node8Style = new Style();
        node8Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node8 = tree.newLeaf(node8Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.gap = new Size<>(LengthPercentage.percent(0.2f), LengthPercentage.ZERO);
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.maxContent());
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.maxContent());
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5, node6, node7, node8);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(120.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(60.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(60.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(40.0f, node2Layout.size().width, "width of node2");
        assertEquals(40.0f, node2Layout.size().height, "height of node2");
        assertEquals(0.0f, node2Layout.location().x, "x of node2");
        assertEquals(40.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(20.0f, node3Layout.size().width, "width of node3");
        assertEquals(40.0f, node3Layout.size().height, "height of node3");
        assertEquals(60.0f, node3Layout.location().x, "x of node3");
        assertEquals(40.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(20.0f, node4Layout.size().width, "width of node4");
        assertEquals(40.0f, node4Layout.size().height, "height of node4");
        assertEquals(100.0f, node4Layout.location().x, "x of node4");
        assertEquals(40.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(40.0f, node5Layout.size().width, "width of node5");
        assertEquals(40.0f, node5Layout.size().height, "height of node5");
        assertEquals(0.0f, node5Layout.location().x, "x of node5");
        assertEquals(80.0f, node5Layout.location().y, "y of node5");
        Layout node6Layout = tree.getLayout(node6);
        assertEquals(20.0f, node6Layout.size().width, "width of node6");
        assertEquals(40.0f, node6Layout.size().height, "height of node6");
        assertEquals(60.0f, node6Layout.location().x, "x of node6");
        assertEquals(80.0f, node6Layout.location().y, "y of node6");
        Layout node7Layout = tree.getLayout(node7);
        assertEquals(20.0f, node7Layout.size().width, "width of node7");
        assertEquals(40.0f, node7Layout.size().height, "height of node7");
        assertEquals(100.0f, node7Layout.location().x, "x of node7");
        assertEquals(80.0f, node7Layout.location().y, "y of node7");
        Layout node8Layout = tree.getLayout(node8);
        assertEquals(40.0f, node8Layout.size().width, "width of node8");
        assertEquals(0.0f, node8Layout.size().height, "height of node8");
        assertEquals(0.0f, node8Layout.location().x, "x of node8");
        assertEquals(120.0f, node8Layout.location().y, "y of node8");
    }

    @Test
    @DisplayName("grid_max_width_greater_than_max_content__border_box")
    void gridMaxWidthGreaterThanMaxContentBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        MeasureFunc node00Measure = ahemTextMeasure("HH\u200BHH\u200BHH\u200BHH", false);
        NodeId node00 = tree.newLeafWithMeasure(node00Style, node00Measure);

        Style node01Style = new Style();
        MeasureFunc node01Measure = ahemTextMeasure("HH\u200BHH\u200BHH\u200BHH", false);
        NodeId node01 = tree.newLeafWithMeasure(node01Style, node01Measure);

        Style node0Style = new Style();
        node0Style.display = Display.GRID;
        node0Style.maxSize = new Size<>(Dimension.length(400.0f), Dimension.AUTO);
        node0Style.gridTemplateColumns.add(TrackSizingFunction.auto());
        node0Style.gridTemplateColumns.add(TrackSizingFunction.auto());
        NodeId node0 = tree.newWithChildren(node0Style, node00, node01);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.maxContent());
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(160.0f, nodeLayout.size().width, "width of node");
        assertEquals(10.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(160.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(80.0f, node00Layout.size().width, "width of node00");
        assertEquals(10.0f, node00Layout.size().height, "height of node00");
        assertEquals(0.0f, node00Layout.location().x, "x of node00");
        assertEquals(0.0f, node00Layout.location().y, "y of node00");
        Layout node01Layout = tree.getLayout(node01);
        assertEquals(80.0f, node01Layout.size().width, "width of node01");
        assertEquals(10.0f, node01Layout.size().height, "height of node01");
        assertEquals(80.0f, node01Layout.location().x, "x of node01");
        assertEquals(0.0f, node01Layout.location().y, "y of node01");
    }

    @Test
    @DisplayName("grid_max_width_greater_than_max_content__content_box")
    void gridMaxWidthGreaterThanMaxContentContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.boxSizing = BoxSizing.CONTENT_BOX;
        MeasureFunc node00Measure = ahemTextMeasure("HH\u200BHH\u200BHH\u200BHH", false);
        NodeId node00 = tree.newLeafWithMeasure(node00Style, node00Measure);

        Style node01Style = new Style();
        node01Style.boxSizing = BoxSizing.CONTENT_BOX;
        MeasureFunc node01Measure = ahemTextMeasure("HH\u200BHH\u200BHH\u200BHH", false);
        NodeId node01 = tree.newLeafWithMeasure(node01Style, node01Measure);

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.display = Display.GRID;
        node0Style.maxSize = new Size<>(Dimension.length(400.0f), Dimension.AUTO);
        node0Style.gridTemplateColumns.add(TrackSizingFunction.auto());
        node0Style.gridTemplateColumns.add(TrackSizingFunction.auto());
        NodeId node0 = tree.newWithChildren(node0Style, node00, node01);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.maxContent());
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(160.0f, nodeLayout.size().width, "width of node");
        assertEquals(10.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(160.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(80.0f, node00Layout.size().width, "width of node00");
        assertEquals(10.0f, node00Layout.size().height, "height of node00");
        assertEquals(0.0f, node00Layout.location().x, "x of node00");
        assertEquals(0.0f, node00Layout.location().y, "y of node00");
        Layout node01Layout = tree.getLayout(node01);
        assertEquals(80.0f, node01Layout.size().width, "width of node01");
        assertEquals(10.0f, node01Layout.size().height, "height of node01");
        assertEquals(80.0f, node01Layout.location().x, "x of node01");
        assertEquals(0.0f, node01Layout.location().y, "y of node01");
    }

    @Test
    @DisplayName("grid_max_width_less_than_max_content_with_min_content__border_box")
    void gridMaxWidthLessThanMaxContentWithMinContentBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        MeasureFunc node00Measure = ahemTextMeasure("HH\u200BHH\u200BHH\u200BHH", false);
        NodeId node00 = tree.newLeafWithMeasure(node00Style, node00Measure);

        Style node01Style = new Style();
        MeasureFunc node01Measure = ahemTextMeasure("HH\u200BHH\u200BHH\u200BHH", false);
        NodeId node01 = tree.newLeafWithMeasure(node01Style, node01Measure);

        Style node0Style = new Style();
        node0Style.display = Display.GRID;
        node0Style.maxSize = new Size<>(Dimension.length(80.0f), Dimension.AUTO);
        node0Style.gridTemplateColumns.add(TrackSizingFunction.auto());
        node0Style.gridTemplateColumns.add(TrackSizingFunction.auto());
        NodeId node0 = tree.newWithChildren(node0Style, node00, node01);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.minContent());
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(40.0f, nodeLayout.size().width, "width of node");
        assertEquals(40.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(20.0f, node00Layout.size().width, "width of node00");
        assertEquals(40.0f, node00Layout.size().height, "height of node00");
        assertEquals(0.0f, node00Layout.location().x, "x of node00");
        assertEquals(0.0f, node00Layout.location().y, "y of node00");
        Layout node01Layout = tree.getLayout(node01);
        assertEquals(20.0f, node01Layout.size().width, "width of node01");
        assertEquals(40.0f, node01Layout.size().height, "height of node01");
        assertEquals(20.0f, node01Layout.location().x, "x of node01");
        assertEquals(0.0f, node01Layout.location().y, "y of node01");
    }

    @Test
    @DisplayName("grid_max_width_less_than_max_content_with_min_content__content_box")
    void gridMaxWidthLessThanMaxContentWithMinContentContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.boxSizing = BoxSizing.CONTENT_BOX;
        MeasureFunc node00Measure = ahemTextMeasure("HH\u200BHH\u200BHH\u200BHH", false);
        NodeId node00 = tree.newLeafWithMeasure(node00Style, node00Measure);

        Style node01Style = new Style();
        node01Style.boxSizing = BoxSizing.CONTENT_BOX;
        MeasureFunc node01Measure = ahemTextMeasure("HH\u200BHH\u200BHH\u200BHH", false);
        NodeId node01 = tree.newLeafWithMeasure(node01Style, node01Measure);

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.display = Display.GRID;
        node0Style.maxSize = new Size<>(Dimension.length(80.0f), Dimension.AUTO);
        node0Style.gridTemplateColumns.add(TrackSizingFunction.auto());
        node0Style.gridTemplateColumns.add(TrackSizingFunction.auto());
        NodeId node0 = tree.newWithChildren(node0Style, node00, node01);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.minContent());
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(40.0f, nodeLayout.size().width, "width of node");
        assertEquals(40.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(20.0f, node00Layout.size().width, "width of node00");
        assertEquals(40.0f, node00Layout.size().height, "height of node00");
        assertEquals(0.0f, node00Layout.location().x, "x of node00");
        assertEquals(0.0f, node00Layout.location().y, "y of node00");
        Layout node01Layout = tree.getLayout(node01);
        assertEquals(20.0f, node01Layout.size().width, "width of node01");
        assertEquals(40.0f, node01Layout.size().height, "height of node01");
        assertEquals(20.0f, node01Layout.location().x, "x of node01");
        assertEquals(0.0f, node01Layout.location().y, "y of node01");
    }

    @Test
    @DisplayName("grid_max_width_smaller_than_max_content__border_box")
    void gridMaxWidthSmallerThanMaxContentBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        MeasureFunc node00Measure = ahemTextMeasure("HH\u200BHH\u200BHH\u200BHH", false);
        NodeId node00 = tree.newLeafWithMeasure(node00Style, node00Measure);

        Style node01Style = new Style();
        MeasureFunc node01Measure = ahemTextMeasure("HH\u200BHH\u200BHH\u200BHH", false);
        NodeId node01 = tree.newLeafWithMeasure(node01Style, node01Measure);

        Style node0Style = new Style();
        node0Style.display = Display.GRID;
        node0Style.maxSize = new Size<>(Dimension.length(80.0f), Dimension.AUTO);
        node0Style.gridTemplateColumns.add(TrackSizingFunction.auto());
        node0Style.gridTemplateColumns.add(TrackSizingFunction.auto());
        NodeId node0 = tree.newWithChildren(node0Style, node00, node01);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.maxContent());
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(80.0f, nodeLayout.size().width, "width of node");
        assertEquals(20.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(80.0f, node0Layout.size().width, "width of node0");
        assertEquals(20.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(40.0f, node00Layout.size().width, "width of node00");
        assertEquals(20.0f, node00Layout.size().height, "height of node00");
        assertEquals(0.0f, node00Layout.location().x, "x of node00");
        assertEquals(0.0f, node00Layout.location().y, "y of node00");
        Layout node01Layout = tree.getLayout(node01);
        assertEquals(40.0f, node01Layout.size().width, "width of node01");
        assertEquals(20.0f, node01Layout.size().height, "height of node01");
        assertEquals(40.0f, node01Layout.location().x, "x of node01");
        assertEquals(0.0f, node01Layout.location().y, "y of node01");
    }

    @Test
    @DisplayName("grid_max_width_smaller_than_max_content__content_box")
    void gridMaxWidthSmallerThanMaxContentContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.boxSizing = BoxSizing.CONTENT_BOX;
        MeasureFunc node00Measure = ahemTextMeasure("HH\u200BHH\u200BHH\u200BHH", false);
        NodeId node00 = tree.newLeafWithMeasure(node00Style, node00Measure);

        Style node01Style = new Style();
        node01Style.boxSizing = BoxSizing.CONTENT_BOX;
        MeasureFunc node01Measure = ahemTextMeasure("HH\u200BHH\u200BHH\u200BHH", false);
        NodeId node01 = tree.newLeafWithMeasure(node01Style, node01Measure);

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.display = Display.GRID;
        node0Style.maxSize = new Size<>(Dimension.length(80.0f), Dimension.AUTO);
        node0Style.gridTemplateColumns.add(TrackSizingFunction.auto());
        node0Style.gridTemplateColumns.add(TrackSizingFunction.auto());
        NodeId node0 = tree.newWithChildren(node0Style, node00, node01);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.maxContent());
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(80.0f, nodeLayout.size().width, "width of node");
        assertEquals(20.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(80.0f, node0Layout.size().width, "width of node0");
        assertEquals(20.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(40.0f, node00Layout.size().width, "width of node00");
        assertEquals(20.0f, node00Layout.size().height, "height of node00");
        assertEquals(0.0f, node00Layout.location().x, "x of node00");
        assertEquals(0.0f, node00Layout.location().y, "y of node00");
        Layout node01Layout = tree.getLayout(node01);
        assertEquals(40.0f, node01Layout.size().width, "width of node01");
        assertEquals(20.0f, node01Layout.size().height, "height of node01");
        assertEquals(40.0f, node01Layout.location().x, "x of node01");
        assertEquals(0.0f, node01Layout.location().y, "y of node01");
    }

    @Test
    @DisplayName("grid_max_width_smaller_than_min_content__border_box")
    void gridMaxWidthSmallerThanMinContentBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        MeasureFunc node00Measure = ahemTextMeasure("HHHH\u200BHHHH", false);
        NodeId node00 = tree.newLeafWithMeasure(node00Style, node00Measure);

        Style node01Style = new Style();
        MeasureFunc node01Measure = ahemTextMeasure("HHHH\u200BHHHH", false);
        NodeId node01 = tree.newLeafWithMeasure(node01Style, node01Measure);

        Style node0Style = new Style();
        node0Style.display = Display.GRID;
        node0Style.maxSize = new Size<>(Dimension.length(60.0f), Dimension.AUTO);
        node0Style.gridTemplateColumns.add(TrackSizingFunction.auto());
        node0Style.gridTemplateColumns.add(TrackSizingFunction.auto());
        NodeId node0 = tree.newWithChildren(node0Style, node00, node01);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.maxContent());
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(60.0f, nodeLayout.size().width, "width of node");
        assertEquals(20.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(60.0f, node0Layout.size().width, "width of node0");
        assertEquals(20.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(40.0f, node00Layout.size().width, "width of node00");
        assertEquals(20.0f, node00Layout.size().height, "height of node00");
        assertEquals(0.0f, node00Layout.location().x, "x of node00");
        assertEquals(0.0f, node00Layout.location().y, "y of node00");
        Layout node01Layout = tree.getLayout(node01);
        assertEquals(40.0f, node01Layout.size().width, "width of node01");
        assertEquals(20.0f, node01Layout.size().height, "height of node01");
        assertEquals(40.0f, node01Layout.location().x, "x of node01");
        assertEquals(0.0f, node01Layout.location().y, "y of node01");
    }

    @Test
    @DisplayName("grid_max_width_smaller_than_min_content__content_box")
    void gridMaxWidthSmallerThanMinContentContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.boxSizing = BoxSizing.CONTENT_BOX;
        MeasureFunc node00Measure = ahemTextMeasure("HHHH\u200BHHHH", false);
        NodeId node00 = tree.newLeafWithMeasure(node00Style, node00Measure);

        Style node01Style = new Style();
        node01Style.boxSizing = BoxSizing.CONTENT_BOX;
        MeasureFunc node01Measure = ahemTextMeasure("HHHH\u200BHHHH", false);
        NodeId node01 = tree.newLeafWithMeasure(node01Style, node01Measure);

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.display = Display.GRID;
        node0Style.maxSize = new Size<>(Dimension.length(60.0f), Dimension.AUTO);
        node0Style.gridTemplateColumns.add(TrackSizingFunction.auto());
        node0Style.gridTemplateColumns.add(TrackSizingFunction.auto());
        NodeId node0 = tree.newWithChildren(node0Style, node00, node01);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.maxContent());
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(60.0f, nodeLayout.size().width, "width of node");
        assertEquals(20.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(60.0f, node0Layout.size().width, "width of node0");
        assertEquals(20.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(40.0f, node00Layout.size().width, "width of node00");
        assertEquals(20.0f, node00Layout.size().height, "height of node00");
        assertEquals(0.0f, node00Layout.location().x, "x of node00");
        assertEquals(0.0f, node00Layout.location().y, "y of node00");
        Layout node01Layout = tree.getLayout(node01);
        assertEquals(40.0f, node01Layout.size().width, "width of node01");
        assertEquals(20.0f, node01Layout.size().height, "height of node01");
        assertEquals(40.0f, node01Layout.location().x, "x of node01");
        assertEquals(0.0f, node01Layout.location().y, "y of node01");
    }

    @Test
    @DisplayName("grid_min_content_flex_column__border_box")
    void gridMinContentFlexColumnBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        MeasureFunc node00Measure = ahemTextMeasure("HH\u200BHH", false);
        NodeId node00 = tree.newLeafWithMeasure(node00Style, node00Measure);

        Style node01Style = new Style();
        MeasureFunc node01Measure = ahemTextMeasure("HH\u200BHH", false);
        NodeId node01 = tree.newLeafWithMeasure(node01Style, node01Measure);

        Style node02Style = new Style();
        MeasureFunc node02Measure = ahemTextMeasure("HH\u200BHH", false);
        NodeId node02 = tree.newLeafWithMeasure(node02Style, node02Measure);

        Style node0Style = new Style();
        node0Style.flexDirection = FlexDirection.COLUMN;
        NodeId node0 = tree.newWithChildren(node0Style, node00, node01, node02);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.minContent());
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(20.0f, nodeLayout.size().width, "width of node");
        assertEquals(40.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(20.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(20.0f, node00Layout.size().width, "width of node00");
        assertEquals(20.0f, node00Layout.size().height, "height of node00");
        assertEquals(0.0f, node00Layout.location().x, "x of node00");
        assertEquals(0.0f, node00Layout.location().y, "y of node00");
        Layout node01Layout = tree.getLayout(node01);
        assertEquals(20.0f, node01Layout.size().width, "width of node01");
        assertEquals(20.0f, node01Layout.size().height, "height of node01");
        assertEquals(0.0f, node01Layout.location().x, "x of node01");
        assertEquals(20.0f, node01Layout.location().y, "y of node01");
        Layout node02Layout = tree.getLayout(node02);
        assertEquals(20.0f, node02Layout.size().width, "width of node02");
        assertEquals(20.0f, node02Layout.size().height, "height of node02");
        assertEquals(0.0f, node02Layout.location().x, "x of node02");
        assertEquals(40.0f, node02Layout.location().y, "y of node02");
    }

    @Test
    @DisplayName("grid_min_content_flex_column__content_box")
    void gridMinContentFlexColumnContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.boxSizing = BoxSizing.CONTENT_BOX;
        MeasureFunc node00Measure = ahemTextMeasure("HH\u200BHH", false);
        NodeId node00 = tree.newLeafWithMeasure(node00Style, node00Measure);

        Style node01Style = new Style();
        node01Style.boxSizing = BoxSizing.CONTENT_BOX;
        MeasureFunc node01Measure = ahemTextMeasure("HH\u200BHH", false);
        NodeId node01 = tree.newLeafWithMeasure(node01Style, node01Measure);

        Style node02Style = new Style();
        node02Style.boxSizing = BoxSizing.CONTENT_BOX;
        MeasureFunc node02Measure = ahemTextMeasure("HH\u200BHH", false);
        NodeId node02 = tree.newLeafWithMeasure(node02Style, node02Measure);

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.flexDirection = FlexDirection.COLUMN;
        NodeId node0 = tree.newWithChildren(node0Style, node00, node01, node02);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.minContent());
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(20.0f, nodeLayout.size().width, "width of node");
        assertEquals(40.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(20.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(20.0f, node00Layout.size().width, "width of node00");
        assertEquals(20.0f, node00Layout.size().height, "height of node00");
        assertEquals(0.0f, node00Layout.location().x, "x of node00");
        assertEquals(0.0f, node00Layout.location().y, "y of node00");
        Layout node01Layout = tree.getLayout(node01);
        assertEquals(20.0f, node01Layout.size().width, "width of node01");
        assertEquals(20.0f, node01Layout.size().height, "height of node01");
        assertEquals(0.0f, node01Layout.location().x, "x of node01");
        assertEquals(20.0f, node01Layout.location().y, "y of node01");
        Layout node02Layout = tree.getLayout(node02);
        assertEquals(20.0f, node02Layout.size().width, "width of node02");
        assertEquals(20.0f, node02Layout.size().height, "height of node02");
        assertEquals(0.0f, node02Layout.location().x, "x of node02");
        assertEquals(40.0f, node02Layout.location().y, "y of node02");
    }

    @Test
    @DisplayName("grid_min_content_flex_row__border_box")
    void gridMinContentFlexRowBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        MeasureFunc node00Measure = ahemTextMeasure("HH\u200BHH", false);
        NodeId node00 = tree.newLeafWithMeasure(node00Style, node00Measure);

        Style node01Style = new Style();
        MeasureFunc node01Measure = ahemTextMeasure("HH\u200BHH", false);
        NodeId node01 = tree.newLeafWithMeasure(node01Style, node01Measure);

        Style node02Style = new Style();
        MeasureFunc node02Measure = ahemTextMeasure("HH\u200BHH", false);
        NodeId node02 = tree.newLeafWithMeasure(node02Style, node02Measure);

        Style node0Style = new Style();
        NodeId node0 = tree.newWithChildren(node0Style, node00, node01, node02);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.minContent());
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(60.0f, nodeLayout.size().width, "width of node");
        assertEquals(40.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(60.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(20.0f, node00Layout.size().width, "width of node00");
        assertEquals(40.0f, node00Layout.size().height, "height of node00");
        assertEquals(0.0f, node00Layout.location().x, "x of node00");
        assertEquals(0.0f, node00Layout.location().y, "y of node00");
        Layout node01Layout = tree.getLayout(node01);
        assertEquals(20.0f, node01Layout.size().width, "width of node01");
        assertEquals(40.0f, node01Layout.size().height, "height of node01");
        assertEquals(20.0f, node01Layout.location().x, "x of node01");
        assertEquals(0.0f, node01Layout.location().y, "y of node01");
        Layout node02Layout = tree.getLayout(node02);
        assertEquals(20.0f, node02Layout.size().width, "width of node02");
        assertEquals(40.0f, node02Layout.size().height, "height of node02");
        assertEquals(40.0f, node02Layout.location().x, "x of node02");
        assertEquals(0.0f, node02Layout.location().y, "y of node02");
    }

    @Test
    @DisplayName("grid_min_content_flex_row__content_box")
    void gridMinContentFlexRowContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.boxSizing = BoxSizing.CONTENT_BOX;
        MeasureFunc node00Measure = ahemTextMeasure("HH\u200BHH", false);
        NodeId node00 = tree.newLeafWithMeasure(node00Style, node00Measure);

        Style node01Style = new Style();
        node01Style.boxSizing = BoxSizing.CONTENT_BOX;
        MeasureFunc node01Measure = ahemTextMeasure("HH\u200BHH", false);
        NodeId node01 = tree.newLeafWithMeasure(node01Style, node01Measure);

        Style node02Style = new Style();
        node02Style.boxSizing = BoxSizing.CONTENT_BOX;
        MeasureFunc node02Measure = ahemTextMeasure("HH\u200BHH", false);
        NodeId node02 = tree.newLeafWithMeasure(node02Style, node02Measure);

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node0 = tree.newWithChildren(node0Style, node00, node01, node02);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.minContent());
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(60.0f, nodeLayout.size().width, "width of node");
        assertEquals(40.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(60.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(20.0f, node00Layout.size().width, "width of node00");
        assertEquals(40.0f, node00Layout.size().height, "height of node00");
        assertEquals(0.0f, node00Layout.location().x, "x of node00");
        assertEquals(0.0f, node00Layout.location().y, "y of node00");
        Layout node01Layout = tree.getLayout(node01);
        assertEquals(20.0f, node01Layout.size().width, "width of node01");
        assertEquals(40.0f, node01Layout.size().height, "height of node01");
        assertEquals(20.0f, node01Layout.location().x, "x of node01");
        assertEquals(0.0f, node01Layout.location().y, "y of node01");
        Layout node02Layout = tree.getLayout(node02);
        assertEquals(20.0f, node02Layout.size().width, "width of node02");
        assertEquals(40.0f, node02Layout.size().height, "height of node02");
        assertEquals(40.0f, node02Layout.location().x, "x of node02");
        assertEquals(0.0f, node02Layout.location().y, "y of node02");
    }

    @Test
    @DisplayName("grid_min_content_flex_single_item__border_box")
    void gridMinContentFlexSingleItemBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.minSize = new Size<>(Dimension.length(10.0f), Dimension.AUTO);
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        node4Style.gridColumn = new Line<>(GridPlacement.span(2), GridPlacement.auto());
        MeasureFunc node4Measure = ahemTextMeasure("HH\u200BHH", false);
        NodeId node4 = tree.newLeafWithMeasure(node4Style, node4Measure);

        Style node5Style = new Style();
        NodeId node5 = tree.newLeaf(node5Style);

        Style node6Style = new Style();
        NodeId node6 = tree.newLeaf(node6Style);

        Style node7Style = new Style();
        NodeId node7 = tree.newLeaf(node7Style);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.minContent());
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fr(1.0f));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5, node6, node7);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(80.0f, nodeLayout.size().width, "width of node");
        assertEquals(120.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(10.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(40.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(30.0f, node2Layout.size().width, "width of node2");
        assertEquals(40.0f, node2Layout.size().height, "height of node2");
        assertEquals(50.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(40.0f, node3Layout.size().width, "width of node3");
        assertEquals(40.0f, node3Layout.size().height, "height of node3");
        assertEquals(0.0f, node3Layout.location().x, "x of node3");
        assertEquals(40.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(40.0f, node4Layout.size().width, "width of node4");
        assertEquals(40.0f, node4Layout.size().height, "height of node4");
        assertEquals(40.0f, node4Layout.location().x, "x of node4");
        assertEquals(40.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(40.0f, node5Layout.size().width, "width of node5");
        assertEquals(40.0f, node5Layout.size().height, "height of node5");
        assertEquals(0.0f, node5Layout.location().x, "x of node5");
        assertEquals(80.0f, node5Layout.location().y, "y of node5");
        Layout node6Layout = tree.getLayout(node6);
        assertEquals(10.0f, node6Layout.size().width, "width of node6");
        assertEquals(40.0f, node6Layout.size().height, "height of node6");
        assertEquals(40.0f, node6Layout.location().x, "x of node6");
        assertEquals(80.0f, node6Layout.location().y, "y of node6");
        Layout node7Layout = tree.getLayout(node7);
        assertEquals(30.0f, node7Layout.size().width, "width of node7");
        assertEquals(40.0f, node7Layout.size().height, "height of node7");
        assertEquals(50.0f, node7Layout.location().x, "x of node7");
        assertEquals(80.0f, node7Layout.location().y, "y of node7");
    }

    @Test
    @DisplayName("grid_min_content_flex_single_item__content_box")
    void gridMinContentFlexSingleItemContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.minSize = new Size<>(Dimension.length(10.0f), Dimension.AUTO);
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        node3Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        node4Style.boxSizing = BoxSizing.CONTENT_BOX;
        node4Style.gridColumn = new Line<>(GridPlacement.span(2), GridPlacement.auto());
        MeasureFunc node4Measure = ahemTextMeasure("HH\u200BHH", false);
        NodeId node4 = tree.newLeafWithMeasure(node4Style, node4Measure);

        Style node5Style = new Style();
        node5Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node5 = tree.newLeaf(node5Style);

        Style node6Style = new Style();
        node6Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node6 = tree.newLeaf(node6Style);

        Style node7Style = new Style();
        node7Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node7 = tree.newLeaf(node7Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.minContent());
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fr(1.0f));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5, node6, node7);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(80.0f, nodeLayout.size().width, "width of node");
        assertEquals(120.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(10.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(40.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(30.0f, node2Layout.size().width, "width of node2");
        assertEquals(40.0f, node2Layout.size().height, "height of node2");
        assertEquals(50.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(40.0f, node3Layout.size().width, "width of node3");
        assertEquals(40.0f, node3Layout.size().height, "height of node3");
        assertEquals(0.0f, node3Layout.location().x, "x of node3");
        assertEquals(40.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(40.0f, node4Layout.size().width, "width of node4");
        assertEquals(40.0f, node4Layout.size().height, "height of node4");
        assertEquals(40.0f, node4Layout.location().x, "x of node4");
        assertEquals(40.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(40.0f, node5Layout.size().width, "width of node5");
        assertEquals(40.0f, node5Layout.size().height, "height of node5");
        assertEquals(0.0f, node5Layout.location().x, "x of node5");
        assertEquals(80.0f, node5Layout.location().y, "y of node5");
        Layout node6Layout = tree.getLayout(node6);
        assertEquals(10.0f, node6Layout.size().width, "width of node6");
        assertEquals(40.0f, node6Layout.size().height, "height of node6");
        assertEquals(40.0f, node6Layout.location().x, "x of node6");
        assertEquals(80.0f, node6Layout.location().y, "y of node6");
        Layout node7Layout = tree.getLayout(node7);
        assertEquals(30.0f, node7Layout.size().width, "width of node7");
        assertEquals(40.0f, node7Layout.size().height, "height of node7");
        assertEquals(50.0f, node7Layout.location().x, "x of node7");
        assertEquals(80.0f, node7Layout.location().y, "y of node7");
    }

    @Test
    @DisplayName("grid_min_content_flex_single_item_margin_auto__border_box")
    void gridMinContentFlexSingleItemMarginAutoBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.minSize = new Size<>(Dimension.length(10.0f), Dimension.AUTO);
        node1Style.margin = new Rect<>(LengthPercentageAuto.AUTO, LengthPercentageAuto.AUTO, LengthPercentageAuto.AUTO, LengthPercentageAuto.AUTO);
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        node4Style.margin = new Rect<>(LengthPercentageAuto.AUTO, LengthPercentageAuto.AUTO, LengthPercentageAuto.AUTO, LengthPercentageAuto.AUTO);
        node4Style.gridColumn = new Line<>(GridPlacement.span(2), GridPlacement.auto());
        MeasureFunc node4Measure = ahemTextMeasure("HH\u200BHH", false);
        NodeId node4 = tree.newLeafWithMeasure(node4Style, node4Measure);

        Style node5Style = new Style();
        NodeId node5 = tree.newLeaf(node5Style);

        Style node6Style = new Style();
        NodeId node6 = tree.newLeaf(node6Style);

        Style node7Style = new Style();
        NodeId node7 = tree.newLeaf(node7Style);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.minContent());
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fr(1.0f));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5, node6, node7);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(80.0f, nodeLayout.size().width, "width of node");
        assertEquals(120.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(10.0f, node1Layout.size().width, "width of node1");
        assertEquals(0.0f, node1Layout.size().height, "height of node1");
        assertEquals(40.0f, node1Layout.location().x, "x of node1");
        assertEquals(20.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(30.0f, node2Layout.size().width, "width of node2");
        assertEquals(40.0f, node2Layout.size().height, "height of node2");
        assertEquals(50.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(40.0f, node3Layout.size().width, "width of node3");
        assertEquals(40.0f, node3Layout.size().height, "height of node3");
        assertEquals(0.0f, node3Layout.location().x, "x of node3");
        assertEquals(40.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(40.0f, node4Layout.size().width, "width of node4");
        assertEquals(10.0f, node4Layout.size().height, "height of node4");
        assertEquals(40.0f, node4Layout.location().x, "x of node4");
        assertEquals(55.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(40.0f, node5Layout.size().width, "width of node5");
        assertEquals(40.0f, node5Layout.size().height, "height of node5");
        assertEquals(0.0f, node5Layout.location().x, "x of node5");
        assertEquals(80.0f, node5Layout.location().y, "y of node5");
        Layout node6Layout = tree.getLayout(node6);
        assertEquals(10.0f, node6Layout.size().width, "width of node6");
        assertEquals(40.0f, node6Layout.size().height, "height of node6");
        assertEquals(40.0f, node6Layout.location().x, "x of node6");
        assertEquals(80.0f, node6Layout.location().y, "y of node6");
        Layout node7Layout = tree.getLayout(node7);
        assertEquals(30.0f, node7Layout.size().width, "width of node7");
        assertEquals(40.0f, node7Layout.size().height, "height of node7");
        assertEquals(50.0f, node7Layout.location().x, "x of node7");
        assertEquals(80.0f, node7Layout.location().y, "y of node7");
    }

    @Test
    @DisplayName("grid_min_content_flex_single_item_margin_auto__content_box")
    void gridMinContentFlexSingleItemMarginAutoContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.minSize = new Size<>(Dimension.length(10.0f), Dimension.AUTO);
        node1Style.margin = new Rect<>(LengthPercentageAuto.AUTO, LengthPercentageAuto.AUTO, LengthPercentageAuto.AUTO, LengthPercentageAuto.AUTO);
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        node3Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        node4Style.boxSizing = BoxSizing.CONTENT_BOX;
        node4Style.margin = new Rect<>(LengthPercentageAuto.AUTO, LengthPercentageAuto.AUTO, LengthPercentageAuto.AUTO, LengthPercentageAuto.AUTO);
        node4Style.gridColumn = new Line<>(GridPlacement.span(2), GridPlacement.auto());
        MeasureFunc node4Measure = ahemTextMeasure("HH\u200BHH", false);
        NodeId node4 = tree.newLeafWithMeasure(node4Style, node4Measure);

        Style node5Style = new Style();
        node5Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node5 = tree.newLeaf(node5Style);

        Style node6Style = new Style();
        node6Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node6 = tree.newLeaf(node6Style);

        Style node7Style = new Style();
        node7Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node7 = tree.newLeaf(node7Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.minContent());
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fr(1.0f));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5, node6, node7);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(80.0f, nodeLayout.size().width, "width of node");
        assertEquals(120.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(10.0f, node1Layout.size().width, "width of node1");
        assertEquals(0.0f, node1Layout.size().height, "height of node1");
        assertEquals(40.0f, node1Layout.location().x, "x of node1");
        assertEquals(20.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(30.0f, node2Layout.size().width, "width of node2");
        assertEquals(40.0f, node2Layout.size().height, "height of node2");
        assertEquals(50.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(40.0f, node3Layout.size().width, "width of node3");
        assertEquals(40.0f, node3Layout.size().height, "height of node3");
        assertEquals(0.0f, node3Layout.location().x, "x of node3");
        assertEquals(40.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(40.0f, node4Layout.size().width, "width of node4");
        assertEquals(10.0f, node4Layout.size().height, "height of node4");
        assertEquals(40.0f, node4Layout.location().x, "x of node4");
        assertEquals(55.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(40.0f, node5Layout.size().width, "width of node5");
        assertEquals(40.0f, node5Layout.size().height, "height of node5");
        assertEquals(0.0f, node5Layout.location().x, "x of node5");
        assertEquals(80.0f, node5Layout.location().y, "y of node5");
        Layout node6Layout = tree.getLayout(node6);
        assertEquals(10.0f, node6Layout.size().width, "width of node6");
        assertEquals(40.0f, node6Layout.size().height, "height of node6");
        assertEquals(40.0f, node6Layout.location().x, "x of node6");
        assertEquals(80.0f, node6Layout.location().y, "y of node6");
        Layout node7Layout = tree.getLayout(node7);
        assertEquals(30.0f, node7Layout.size().width, "width of node7");
        assertEquals(40.0f, node7Layout.size().height, "height of node7");
        assertEquals(50.0f, node7Layout.location().x, "x of node7");
        assertEquals(80.0f, node7Layout.location().y, "y of node7");
    }

    @Test
    @DisplayName("grid_min_content_flex_single_item_margin_fixed__border_box")
    void gridMinContentFlexSingleItemMarginFixedBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.minSize = new Size<>(Dimension.length(10.0f), Dimension.AUTO);
        node1Style.margin = new Rect<>(LengthPercentageAuto.length(20.0f), LengthPercentageAuto.length(10.0f), LengthPercentageAuto.length(5.0f), LengthPercentageAuto.length(15.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        node4Style.margin = new Rect<>(LengthPercentageAuto.length(20.0f), LengthPercentageAuto.length(10.0f), LengthPercentageAuto.length(5.0f), LengthPercentageAuto.length(15.0f));
        node4Style.gridColumn = new Line<>(GridPlacement.span(2), GridPlacement.auto());
        MeasureFunc node4Measure = ahemTextMeasure("HH\u200BHH", false);
        NodeId node4 = tree.newLeafWithMeasure(node4Style, node4Measure);

        Style node5Style = new Style();
        NodeId node5 = tree.newLeaf(node5Style);

        Style node6Style = new Style();
        NodeId node6 = tree.newLeaf(node6Style);

        Style node7Style = new Style();
        NodeId node7 = tree.newLeaf(node7Style);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.minContent());
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fr(1.0f));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5, node6, node7);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(110.0f, nodeLayout.size().width, "width of node");
        assertEquals(120.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(10.0f, node1Layout.size().width, "width of node1");
        assertEquals(20.0f, node1Layout.size().height, "height of node1");
        assertEquals(60.0f, node1Layout.location().x, "x of node1");
        assertEquals(5.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(30.0f, node2Layout.size().width, "width of node2");
        assertEquals(40.0f, node2Layout.size().height, "height of node2");
        assertEquals(80.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(40.0f, node3Layout.size().width, "width of node3");
        assertEquals(40.0f, node3Layout.size().height, "height of node3");
        assertEquals(0.0f, node3Layout.location().x, "x of node3");
        assertEquals(40.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(40.0f, node4Layout.size().width, "width of node4");
        assertEquals(20.0f, node4Layout.size().height, "height of node4");
        assertEquals(60.0f, node4Layout.location().x, "x of node4");
        assertEquals(45.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(40.0f, node5Layout.size().width, "width of node5");
        assertEquals(40.0f, node5Layout.size().height, "height of node5");
        assertEquals(0.0f, node5Layout.location().x, "x of node5");
        assertEquals(80.0f, node5Layout.location().y, "y of node5");
        Layout node6Layout = tree.getLayout(node6);
        assertEquals(40.0f, node6Layout.size().width, "width of node6");
        assertEquals(40.0f, node6Layout.size().height, "height of node6");
        assertEquals(40.0f, node6Layout.location().x, "x of node6");
        assertEquals(80.0f, node6Layout.location().y, "y of node6");
        Layout node7Layout = tree.getLayout(node7);
        assertEquals(30.0f, node7Layout.size().width, "width of node7");
        assertEquals(40.0f, node7Layout.size().height, "height of node7");
        assertEquals(80.0f, node7Layout.location().x, "x of node7");
        assertEquals(80.0f, node7Layout.location().y, "y of node7");
    }

    @Test
    @DisplayName("grid_min_content_flex_single_item_margin_fixed__content_box")
    void gridMinContentFlexSingleItemMarginFixedContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.minSize = new Size<>(Dimension.length(10.0f), Dimension.AUTO);
        node1Style.margin = new Rect<>(LengthPercentageAuto.length(20.0f), LengthPercentageAuto.length(10.0f), LengthPercentageAuto.length(5.0f), LengthPercentageAuto.length(15.0f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        node3Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        node4Style.boxSizing = BoxSizing.CONTENT_BOX;
        node4Style.margin = new Rect<>(LengthPercentageAuto.length(20.0f), LengthPercentageAuto.length(10.0f), LengthPercentageAuto.length(5.0f), LengthPercentageAuto.length(15.0f));
        node4Style.gridColumn = new Line<>(GridPlacement.span(2), GridPlacement.auto());
        MeasureFunc node4Measure = ahemTextMeasure("HH\u200BHH", false);
        NodeId node4 = tree.newLeafWithMeasure(node4Style, node4Measure);

        Style node5Style = new Style();
        node5Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node5 = tree.newLeaf(node5Style);

        Style node6Style = new Style();
        node6Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node6 = tree.newLeaf(node6Style);

        Style node7Style = new Style();
        node7Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node7 = tree.newLeaf(node7Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.minContent());
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fr(1.0f));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5, node6, node7);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(110.0f, nodeLayout.size().width, "width of node");
        assertEquals(120.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(10.0f, node1Layout.size().width, "width of node1");
        assertEquals(20.0f, node1Layout.size().height, "height of node1");
        assertEquals(60.0f, node1Layout.location().x, "x of node1");
        assertEquals(5.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(30.0f, node2Layout.size().width, "width of node2");
        assertEquals(40.0f, node2Layout.size().height, "height of node2");
        assertEquals(80.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(40.0f, node3Layout.size().width, "width of node3");
        assertEquals(40.0f, node3Layout.size().height, "height of node3");
        assertEquals(0.0f, node3Layout.location().x, "x of node3");
        assertEquals(40.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(40.0f, node4Layout.size().width, "width of node4");
        assertEquals(20.0f, node4Layout.size().height, "height of node4");
        assertEquals(60.0f, node4Layout.location().x, "x of node4");
        assertEquals(45.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(40.0f, node5Layout.size().width, "width of node5");
        assertEquals(40.0f, node5Layout.size().height, "height of node5");
        assertEquals(0.0f, node5Layout.location().x, "x of node5");
        assertEquals(80.0f, node5Layout.location().y, "y of node5");
        Layout node6Layout = tree.getLayout(node6);
        assertEquals(40.0f, node6Layout.size().width, "width of node6");
        assertEquals(40.0f, node6Layout.size().height, "height of node6");
        assertEquals(40.0f, node6Layout.location().x, "x of node6");
        assertEquals(80.0f, node6Layout.location().y, "y of node6");
        Layout node7Layout = tree.getLayout(node7);
        assertEquals(30.0f, node7Layout.size().width, "width of node7");
        assertEquals(40.0f, node7Layout.size().height, "height of node7");
        assertEquals(80.0f, node7Layout.location().x, "x of node7");
        assertEquals(80.0f, node7Layout.location().y, "y of node7");
    }

    @Test
    @DisplayName("grid_min_content_flex_single_item_margin_percent__border_box")
    void gridMinContentFlexSingleItemMarginPercentBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.minSize = new Size<>(Dimension.length(10.0f), Dimension.AUTO);
        node1Style.margin = new Rect<>(LengthPercentageAuto.percent(0.2f), LengthPercentageAuto.percent(0.1f), LengthPercentageAuto.percent(0.05f), LengthPercentageAuto.percent(0.15f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        node4Style.margin = new Rect<>(LengthPercentageAuto.percent(0.2f), LengthPercentageAuto.percent(0.1f), LengthPercentageAuto.percent(0.05f), LengthPercentageAuto.percent(0.15f));
        node4Style.gridColumn = new Line<>(GridPlacement.span(2), GridPlacement.auto());
        MeasureFunc node4Measure = ahemTextMeasure("HH\u200BHH", false);
        NodeId node4 = tree.newLeafWithMeasure(node4Style, node4Measure);

        Style node5Style = new Style();
        NodeId node5 = tree.newLeaf(node5Style);

        Style node6Style = new Style();
        NodeId node6 = tree.newLeaf(node6Style);

        Style node7Style = new Style();
        NodeId node7 = tree.newLeaf(node7Style);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.minContent());
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fr(1.0f));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5, node6, node7);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(80.0f, nodeLayout.size().width, "width of node");
        assertEquals(120.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(10.0f, node1Layout.size().width, "width of node1");
        assertEquals(38.0f, node1Layout.size().height, "height of node1");
        assertEquals(42.0f, node1Layout.location().x, "x of node1");
        assertEquals(1.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(30.0f, node2Layout.size().width, "width of node2");
        assertEquals(40.0f, node2Layout.size().height, "height of node2");
        assertEquals(50.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(40.0f, node3Layout.size().width, "width of node3");
        assertEquals(40.0f, node3Layout.size().height, "height of node3");
        assertEquals(0.0f, node3Layout.location().x, "x of node3");
        assertEquals(40.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(28.0f, node4Layout.size().width, "width of node4");
        assertEquals(32.0f, node4Layout.size().height, "height of node4");
        assertEquals(48.0f, node4Layout.location().x, "x of node4");
        assertEquals(42.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(40.0f, node5Layout.size().width, "width of node5");
        assertEquals(40.0f, node5Layout.size().height, "height of node5");
        assertEquals(0.0f, node5Layout.location().x, "x of node5");
        assertEquals(80.0f, node5Layout.location().y, "y of node5");
        Layout node6Layout = tree.getLayout(node6);
        assertEquals(10.0f, node6Layout.size().width, "width of node6");
        assertEquals(40.0f, node6Layout.size().height, "height of node6");
        assertEquals(40.0f, node6Layout.location().x, "x of node6");
        assertEquals(80.0f, node6Layout.location().y, "y of node6");
        Layout node7Layout = tree.getLayout(node7);
        assertEquals(30.0f, node7Layout.size().width, "width of node7");
        assertEquals(40.0f, node7Layout.size().height, "height of node7");
        assertEquals(50.0f, node7Layout.location().x, "x of node7");
        assertEquals(80.0f, node7Layout.location().y, "y of node7");
    }

    @Test
    @DisplayName("grid_min_content_flex_single_item_margin_percent__content_box")
    void gridMinContentFlexSingleItemMarginPercentContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.minSize = new Size<>(Dimension.length(10.0f), Dimension.AUTO);
        node1Style.margin = new Rect<>(LengthPercentageAuto.percent(0.2f), LengthPercentageAuto.percent(0.1f), LengthPercentageAuto.percent(0.05f), LengthPercentageAuto.percent(0.15f));
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        node3Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        node4Style.boxSizing = BoxSizing.CONTENT_BOX;
        node4Style.margin = new Rect<>(LengthPercentageAuto.percent(0.2f), LengthPercentageAuto.percent(0.1f), LengthPercentageAuto.percent(0.05f), LengthPercentageAuto.percent(0.15f));
        node4Style.gridColumn = new Line<>(GridPlacement.span(2), GridPlacement.auto());
        MeasureFunc node4Measure = ahemTextMeasure("HH\u200BHH", false);
        NodeId node4 = tree.newLeafWithMeasure(node4Style, node4Measure);

        Style node5Style = new Style();
        node5Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node5 = tree.newLeaf(node5Style);

        Style node6Style = new Style();
        node6Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node6 = tree.newLeaf(node6Style);

        Style node7Style = new Style();
        node7Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node7 = tree.newLeaf(node7Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.minContent());
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fr(1.0f));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5, node6, node7);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(80.0f, nodeLayout.size().width, "width of node");
        assertEquals(120.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(10.0f, node1Layout.size().width, "width of node1");
        assertEquals(38.0f, node1Layout.size().height, "height of node1");
        assertEquals(42.0f, node1Layout.location().x, "x of node1");
        assertEquals(1.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(30.0f, node2Layout.size().width, "width of node2");
        assertEquals(40.0f, node2Layout.size().height, "height of node2");
        assertEquals(50.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(40.0f, node3Layout.size().width, "width of node3");
        assertEquals(40.0f, node3Layout.size().height, "height of node3");
        assertEquals(0.0f, node3Layout.location().x, "x of node3");
        assertEquals(40.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(28.0f, node4Layout.size().width, "width of node4");
        assertEquals(32.0f, node4Layout.size().height, "height of node4");
        assertEquals(48.0f, node4Layout.location().x, "x of node4");
        assertEquals(42.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(40.0f, node5Layout.size().width, "width of node5");
        assertEquals(40.0f, node5Layout.size().height, "height of node5");
        assertEquals(0.0f, node5Layout.location().x, "x of node5");
        assertEquals(80.0f, node5Layout.location().y, "y of node5");
        Layout node6Layout = tree.getLayout(node6);
        assertEquals(10.0f, node6Layout.size().width, "width of node6");
        assertEquals(40.0f, node6Layout.size().height, "height of node6");
        assertEquals(40.0f, node6Layout.location().x, "x of node6");
        assertEquals(80.0f, node6Layout.location().y, "y of node6");
        Layout node7Layout = tree.getLayout(node7);
        assertEquals(30.0f, node7Layout.size().width, "width of node7");
        assertEquals(40.0f, node7Layout.size().height, "height of node7");
        assertEquals(50.0f, node7Layout.location().x, "x of node7");
        assertEquals(80.0f, node7Layout.location().y, "y of node7");
    }

    @Test
    @DisplayName("grid_min_content_maximum_single_item__border_box")
    void gridMinContentMaximumSingleItemBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        MeasureFunc node1Measure = ahemTextMeasure("HH\u200BHH", false);
        NodeId node1 = tree.newLeafWithMeasure(node1Style, node1Measure);

        Style node2Style = new Style();
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        NodeId node4 = tree.newLeaf(node4Style);

        Style node5Style = new Style();
        NodeId node5 = tree.newLeaf(node5Style);

        Style node6Style = new Style();
        NodeId node6 = tree.newLeaf(node6Style);

        Style node7Style = new Style();
        NodeId node7 = tree.newLeaf(node7Style);

        Style node8Style = new Style();
        NodeId node8 = tree.newLeaf(node8Style);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.minmax(TrackSizingFunction.fixed(LengthPercentage.length(0.0f)), TrackSizingFunction.minContent()));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5, node6, node7, node8);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(120.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(20.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(40.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(40.0f, node2Layout.size().width, "width of node2");
        assertEquals(40.0f, node2Layout.size().height, "height of node2");
        assertEquals(60.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(40.0f, node3Layout.size().width, "width of node3");
        assertEquals(40.0f, node3Layout.size().height, "height of node3");
        assertEquals(0.0f, node3Layout.location().x, "x of node3");
        assertEquals(40.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(20.0f, node4Layout.size().width, "width of node4");
        assertEquals(40.0f, node4Layout.size().height, "height of node4");
        assertEquals(40.0f, node4Layout.location().x, "x of node4");
        assertEquals(40.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(40.0f, node5Layout.size().width, "width of node5");
        assertEquals(40.0f, node5Layout.size().height, "height of node5");
        assertEquals(60.0f, node5Layout.location().x, "x of node5");
        assertEquals(40.0f, node5Layout.location().y, "y of node5");
        Layout node6Layout = tree.getLayout(node6);
        assertEquals(40.0f, node6Layout.size().width, "width of node6");
        assertEquals(40.0f, node6Layout.size().height, "height of node6");
        assertEquals(0.0f, node6Layout.location().x, "x of node6");
        assertEquals(80.0f, node6Layout.location().y, "y of node6");
        Layout node7Layout = tree.getLayout(node7);
        assertEquals(20.0f, node7Layout.size().width, "width of node7");
        assertEquals(40.0f, node7Layout.size().height, "height of node7");
        assertEquals(40.0f, node7Layout.location().x, "x of node7");
        assertEquals(80.0f, node7Layout.location().y, "y of node7");
        Layout node8Layout = tree.getLayout(node8);
        assertEquals(40.0f, node8Layout.size().width, "width of node8");
        assertEquals(40.0f, node8Layout.size().height, "height of node8");
        assertEquals(60.0f, node8Layout.location().x, "x of node8");
        assertEquals(80.0f, node8Layout.location().y, "y of node8");
    }

    @Test
    @DisplayName("grid_min_content_maximum_single_item__content_box")
    void gridMinContentMaximumSingleItemContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        MeasureFunc node1Measure = ahemTextMeasure("HH\u200BHH", false);
        NodeId node1 = tree.newLeafWithMeasure(node1Style, node1Measure);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        node3Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        node4Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node4 = tree.newLeaf(node4Style);

        Style node5Style = new Style();
        node5Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node5 = tree.newLeaf(node5Style);

        Style node6Style = new Style();
        node6Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node6 = tree.newLeaf(node6Style);

        Style node7Style = new Style();
        node7Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node7 = tree.newLeaf(node7Style);

        Style node8Style = new Style();
        node8Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node8 = tree.newLeaf(node8Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.minmax(TrackSizingFunction.fixed(LengthPercentage.length(0.0f)), TrackSizingFunction.minContent()));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5, node6, node7, node8);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(120.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(20.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(40.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(40.0f, node2Layout.size().width, "width of node2");
        assertEquals(40.0f, node2Layout.size().height, "height of node2");
        assertEquals(60.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(40.0f, node3Layout.size().width, "width of node3");
        assertEquals(40.0f, node3Layout.size().height, "height of node3");
        assertEquals(0.0f, node3Layout.location().x, "x of node3");
        assertEquals(40.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(20.0f, node4Layout.size().width, "width of node4");
        assertEquals(40.0f, node4Layout.size().height, "height of node4");
        assertEquals(40.0f, node4Layout.location().x, "x of node4");
        assertEquals(40.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(40.0f, node5Layout.size().width, "width of node5");
        assertEquals(40.0f, node5Layout.size().height, "height of node5");
        assertEquals(60.0f, node5Layout.location().x, "x of node5");
        assertEquals(40.0f, node5Layout.location().y, "y of node5");
        Layout node6Layout = tree.getLayout(node6);
        assertEquals(40.0f, node6Layout.size().width, "width of node6");
        assertEquals(40.0f, node6Layout.size().height, "height of node6");
        assertEquals(0.0f, node6Layout.location().x, "x of node6");
        assertEquals(80.0f, node6Layout.location().y, "y of node6");
        Layout node7Layout = tree.getLayout(node7);
        assertEquals(20.0f, node7Layout.size().width, "width of node7");
        assertEquals(40.0f, node7Layout.size().height, "height of node7");
        assertEquals(40.0f, node7Layout.location().x, "x of node7");
        assertEquals(80.0f, node7Layout.location().y, "y of node7");
        Layout node8Layout = tree.getLayout(node8);
        assertEquals(40.0f, node8Layout.size().width, "width of node8");
        assertEquals(40.0f, node8Layout.size().height, "height of node8");
        assertEquals(60.0f, node8Layout.location().x, "x of node8");
        assertEquals(80.0f, node8Layout.location().y, "y of node8");
    }

    @Test
    @DisplayName("grid_min_content_single_item__border_box")
    void gridMinContentSingleItemBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        MeasureFunc node1Measure = ahemTextMeasure("HH\u200BHH", false);
        NodeId node1 = tree.newLeafWithMeasure(node1Style, node1Measure);

        Style node2Style = new Style();
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        NodeId node4 = tree.newLeaf(node4Style);

        Style node5Style = new Style();
        NodeId node5 = tree.newLeaf(node5Style);

        Style node6Style = new Style();
        NodeId node6 = tree.newLeaf(node6Style);

        Style node7Style = new Style();
        NodeId node7 = tree.newLeaf(node7Style);

        Style node8Style = new Style();
        NodeId node8 = tree.newLeaf(node8Style);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.minContent());
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5, node6, node7, node8);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(120.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(20.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(40.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(40.0f, node2Layout.size().width, "width of node2");
        assertEquals(40.0f, node2Layout.size().height, "height of node2");
        assertEquals(60.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(40.0f, node3Layout.size().width, "width of node3");
        assertEquals(40.0f, node3Layout.size().height, "height of node3");
        assertEquals(0.0f, node3Layout.location().x, "x of node3");
        assertEquals(40.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(20.0f, node4Layout.size().width, "width of node4");
        assertEquals(40.0f, node4Layout.size().height, "height of node4");
        assertEquals(40.0f, node4Layout.location().x, "x of node4");
        assertEquals(40.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(40.0f, node5Layout.size().width, "width of node5");
        assertEquals(40.0f, node5Layout.size().height, "height of node5");
        assertEquals(60.0f, node5Layout.location().x, "x of node5");
        assertEquals(40.0f, node5Layout.location().y, "y of node5");
        Layout node6Layout = tree.getLayout(node6);
        assertEquals(40.0f, node6Layout.size().width, "width of node6");
        assertEquals(40.0f, node6Layout.size().height, "height of node6");
        assertEquals(0.0f, node6Layout.location().x, "x of node6");
        assertEquals(80.0f, node6Layout.location().y, "y of node6");
        Layout node7Layout = tree.getLayout(node7);
        assertEquals(20.0f, node7Layout.size().width, "width of node7");
        assertEquals(40.0f, node7Layout.size().height, "height of node7");
        assertEquals(40.0f, node7Layout.location().x, "x of node7");
        assertEquals(80.0f, node7Layout.location().y, "y of node7");
        Layout node8Layout = tree.getLayout(node8);
        assertEquals(40.0f, node8Layout.size().width, "width of node8");
        assertEquals(40.0f, node8Layout.size().height, "height of node8");
        assertEquals(60.0f, node8Layout.location().x, "x of node8");
        assertEquals(80.0f, node8Layout.location().y, "y of node8");
    }

    @Test
    @DisplayName("grid_min_content_single_item__content_box")
    void gridMinContentSingleItemContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        MeasureFunc node1Measure = ahemTextMeasure("HH\u200BHH", false);
        NodeId node1 = tree.newLeafWithMeasure(node1Style, node1Measure);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        node3Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        node4Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node4 = tree.newLeaf(node4Style);

        Style node5Style = new Style();
        node5Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node5 = tree.newLeaf(node5Style);

        Style node6Style = new Style();
        node6Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node6 = tree.newLeaf(node6Style);

        Style node7Style = new Style();
        node7Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node7 = tree.newLeaf(node7Style);

        Style node8Style = new Style();
        node8Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node8 = tree.newLeaf(node8Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.minContent());
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5, node6, node7, node8);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(120.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(20.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(40.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(40.0f, node2Layout.size().width, "width of node2");
        assertEquals(40.0f, node2Layout.size().height, "height of node2");
        assertEquals(60.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(40.0f, node3Layout.size().width, "width of node3");
        assertEquals(40.0f, node3Layout.size().height, "height of node3");
        assertEquals(0.0f, node3Layout.location().x, "x of node3");
        assertEquals(40.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(20.0f, node4Layout.size().width, "width of node4");
        assertEquals(40.0f, node4Layout.size().height, "height of node4");
        assertEquals(40.0f, node4Layout.location().x, "x of node4");
        assertEquals(40.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(40.0f, node5Layout.size().width, "width of node5");
        assertEquals(40.0f, node5Layout.size().height, "height of node5");
        assertEquals(60.0f, node5Layout.location().x, "x of node5");
        assertEquals(40.0f, node5Layout.location().y, "y of node5");
        Layout node6Layout = tree.getLayout(node6);
        assertEquals(40.0f, node6Layout.size().width, "width of node6");
        assertEquals(40.0f, node6Layout.size().height, "height of node6");
        assertEquals(0.0f, node6Layout.location().x, "x of node6");
        assertEquals(80.0f, node6Layout.location().y, "y of node6");
        Layout node7Layout = tree.getLayout(node7);
        assertEquals(20.0f, node7Layout.size().width, "width of node7");
        assertEquals(40.0f, node7Layout.size().height, "height of node7");
        assertEquals(40.0f, node7Layout.location().x, "x of node7");
        assertEquals(80.0f, node7Layout.location().y, "y of node7");
        Layout node8Layout = tree.getLayout(node8);
        assertEquals(40.0f, node8Layout.size().width, "width of node8");
        assertEquals(40.0f, node8Layout.size().height, "height of node8");
        assertEquals(60.0f, node8Layout.location().x, "x of node8");
        assertEquals(80.0f, node8Layout.location().y, "y of node8");
    }

    @Test
    @DisplayName("grid_minmax_auto_fixed_10px__border_box")
    void gridMinmaxAutoFixed10pxBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        MeasureFunc node0Measure = ahemTextMeasure("HH\u200BHH", false);
        NodeId node0 = tree.newLeafWithMeasure(node0Style, node0Measure);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.minmax(TrackSizingFunction.auto(), TrackSizingFunction.fixed(LengthPercentage.length(10.0f))));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(10.0f, nodeLayout.size().width, "width of node");
        assertEquals(40.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(10.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("grid_minmax_auto_fixed_10px__content_box")
    void gridMinmaxAutoFixed10pxContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        MeasureFunc node0Measure = ahemTextMeasure("HH\u200BHH", false);
        NodeId node0 = tree.newLeafWithMeasure(node0Style, node0Measure);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.minmax(TrackSizingFunction.auto(), TrackSizingFunction.fixed(LengthPercentage.length(10.0f))));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(10.0f, nodeLayout.size().width, "width of node");
        assertEquals(40.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(10.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("grid_minmax_auto_max_content__border_box")
    void gridMinmaxAutoMaxContentBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        MeasureFunc node0Measure = ahemTextMeasure("HH\u200BHH", false);
        NodeId node0 = tree.newLeafWithMeasure(node0Style, node0Measure);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.minmax(TrackSizingFunction.auto(), TrackSizingFunction.maxContent()));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(40.0f, nodeLayout.size().width, "width of node");
        assertEquals(40.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("grid_minmax_auto_max_content__content_box")
    void gridMinmaxAutoMaxContentContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        MeasureFunc node0Measure = ahemTextMeasure("HH\u200BHH", false);
        NodeId node0 = tree.newLeafWithMeasure(node0Style, node0Measure);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.minmax(TrackSizingFunction.auto(), TrackSizingFunction.maxContent()));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(40.0f, nodeLayout.size().width, "width of node");
        assertEquals(40.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("grid_minmax_auto_min_content__border_box")
    void gridMinmaxAutoMinContentBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        MeasureFunc node0Measure = ahemTextMeasure("HH\u200BHH", false);
        NodeId node0 = tree.newLeafWithMeasure(node0Style, node0Measure);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.minmax(TrackSizingFunction.auto(), TrackSizingFunction.minContent()));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(20.0f, nodeLayout.size().width, "width of node");
        assertEquals(40.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(20.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("grid_minmax_auto_min_content__content_box")
    void gridMinmaxAutoMinContentContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        MeasureFunc node0Measure = ahemTextMeasure("HH\u200BHH", false);
        NodeId node0 = tree.newLeafWithMeasure(node0Style, node0Measure);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.minmax(TrackSizingFunction.auto(), TrackSizingFunction.minContent()));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(20.0f, nodeLayout.size().width, "width of node");
        assertEquals(40.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(20.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("grid_minmax_auto_percent_definite__border_box")
    void gridMinmaxAutoPercentDefiniteBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        MeasureFunc node0Measure = ahemTextMeasure("HH\u200BHH", false);
        NodeId node0 = tree.newLeafWithMeasure(node0Style, node0Measure);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.AUTO);
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.minmax(TrackSizingFunction.auto(), TrackSizingFunction.fixed(LengthPercentage.percent(0.2f))));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(40.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(20.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("grid_minmax_auto_percent_definite__content_box")
    void gridMinmaxAutoPercentDefiniteContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        MeasureFunc node0Measure = ahemTextMeasure("HH\u200BHH", false);
        NodeId node0 = tree.newLeafWithMeasure(node0Style, node0Measure);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.AUTO);
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.minmax(TrackSizingFunction.auto(), TrackSizingFunction.fixed(LengthPercentage.percent(0.2f))));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(40.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(20.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("grid_minmax_auto_percent_indefinite__border_box")
    void gridMinmaxAutoPercentIndefiniteBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        MeasureFunc node0Measure = ahemTextMeasure("HH\u200BHH", false);
        NodeId node0 = tree.newLeafWithMeasure(node0Style, node0Measure);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.minmax(TrackSizingFunction.auto(), TrackSizingFunction.fixed(LengthPercentage.percent(0.2f))));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(40.0f, nodeLayout.size().width, "width of node");
        assertEquals(40.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(8.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("grid_minmax_auto_percent_indefinite__content_box")
    void gridMinmaxAutoPercentIndefiniteContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        MeasureFunc node0Measure = ahemTextMeasure("HH\u200BHH", false);
        NodeId node0 = tree.newLeafWithMeasure(node0Style, node0Measure);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.minmax(TrackSizingFunction.auto(), TrackSizingFunction.fixed(LengthPercentage.percent(0.2f))));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(40.0f, nodeLayout.size().width, "width of node");
        assertEquals(40.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(8.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("grid_minmax_column_fixed_width_above_range__border_box")
    void gridMinmaxColumnFixedWidthAboveRangeBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        NodeId node4 = tree.newLeaf(node4Style);

        Style node5Style = new Style();
        NodeId node5 = tree.newLeaf(node5Style);

        Style node6Style = new Style();
        NodeId node6 = tree.newLeaf(node6Style);

        Style node7Style = new Style();
        NodeId node7 = tree.newLeaf(node7Style);

        Style node8Style = new Style();
        NodeId node8 = tree.newLeaf(node8Style);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.size = new Size<>(Dimension.length(140.0f), Dimension.AUTO);
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.minmax(TrackSizingFunction.fixed(LengthPercentage.length(20.0f)), TrackSizingFunction.fixed(LengthPercentage.length(40.0f))));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5, node6, node7, node8);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(140.0f, nodeLayout.size().width, "width of node");
        assertEquals(120.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(40.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(40.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(40.0f, node2Layout.size().width, "width of node2");
        assertEquals(40.0f, node2Layout.size().height, "height of node2");
        assertEquals(80.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(40.0f, node3Layout.size().width, "width of node3");
        assertEquals(40.0f, node3Layout.size().height, "height of node3");
        assertEquals(0.0f, node3Layout.location().x, "x of node3");
        assertEquals(40.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(40.0f, node4Layout.size().width, "width of node4");
        assertEquals(40.0f, node4Layout.size().height, "height of node4");
        assertEquals(40.0f, node4Layout.location().x, "x of node4");
        assertEquals(40.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(40.0f, node5Layout.size().width, "width of node5");
        assertEquals(40.0f, node5Layout.size().height, "height of node5");
        assertEquals(80.0f, node5Layout.location().x, "x of node5");
        assertEquals(40.0f, node5Layout.location().y, "y of node5");
        Layout node6Layout = tree.getLayout(node6);
        assertEquals(40.0f, node6Layout.size().width, "width of node6");
        assertEquals(40.0f, node6Layout.size().height, "height of node6");
        assertEquals(0.0f, node6Layout.location().x, "x of node6");
        assertEquals(80.0f, node6Layout.location().y, "y of node6");
        Layout node7Layout = tree.getLayout(node7);
        assertEquals(40.0f, node7Layout.size().width, "width of node7");
        assertEquals(40.0f, node7Layout.size().height, "height of node7");
        assertEquals(40.0f, node7Layout.location().x, "x of node7");
        assertEquals(80.0f, node7Layout.location().y, "y of node7");
        Layout node8Layout = tree.getLayout(node8);
        assertEquals(40.0f, node8Layout.size().width, "width of node8");
        assertEquals(40.0f, node8Layout.size().height, "height of node8");
        assertEquals(80.0f, node8Layout.location().x, "x of node8");
        assertEquals(80.0f, node8Layout.location().y, "y of node8");
    }

    @Test
    @DisplayName("grid_minmax_column_fixed_width_above_range__content_box")
    void gridMinmaxColumnFixedWidthAboveRangeContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        node3Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        node4Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node4 = tree.newLeaf(node4Style);

        Style node5Style = new Style();
        node5Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node5 = tree.newLeaf(node5Style);

        Style node6Style = new Style();
        node6Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node6 = tree.newLeaf(node6Style);

        Style node7Style = new Style();
        node7Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node7 = tree.newLeaf(node7Style);

        Style node8Style = new Style();
        node8Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node8 = tree.newLeaf(node8Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.size = new Size<>(Dimension.length(140.0f), Dimension.AUTO);
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.minmax(TrackSizingFunction.fixed(LengthPercentage.length(20.0f)), TrackSizingFunction.fixed(LengthPercentage.length(40.0f))));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5, node6, node7, node8);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(140.0f, nodeLayout.size().width, "width of node");
        assertEquals(120.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(40.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(40.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(40.0f, node2Layout.size().width, "width of node2");
        assertEquals(40.0f, node2Layout.size().height, "height of node2");
        assertEquals(80.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(40.0f, node3Layout.size().width, "width of node3");
        assertEquals(40.0f, node3Layout.size().height, "height of node3");
        assertEquals(0.0f, node3Layout.location().x, "x of node3");
        assertEquals(40.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(40.0f, node4Layout.size().width, "width of node4");
        assertEquals(40.0f, node4Layout.size().height, "height of node4");
        assertEquals(40.0f, node4Layout.location().x, "x of node4");
        assertEquals(40.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(40.0f, node5Layout.size().width, "width of node5");
        assertEquals(40.0f, node5Layout.size().height, "height of node5");
        assertEquals(80.0f, node5Layout.location().x, "x of node5");
        assertEquals(40.0f, node5Layout.location().y, "y of node5");
        Layout node6Layout = tree.getLayout(node6);
        assertEquals(40.0f, node6Layout.size().width, "width of node6");
        assertEquals(40.0f, node6Layout.size().height, "height of node6");
        assertEquals(0.0f, node6Layout.location().x, "x of node6");
        assertEquals(80.0f, node6Layout.location().y, "y of node6");
        Layout node7Layout = tree.getLayout(node7);
        assertEquals(40.0f, node7Layout.size().width, "width of node7");
        assertEquals(40.0f, node7Layout.size().height, "height of node7");
        assertEquals(40.0f, node7Layout.location().x, "x of node7");
        assertEquals(80.0f, node7Layout.location().y, "y of node7");
        Layout node8Layout = tree.getLayout(node8);
        assertEquals(40.0f, node8Layout.size().width, "width of node8");
        assertEquals(40.0f, node8Layout.size().height, "height of node8");
        assertEquals(80.0f, node8Layout.location().x, "x of node8");
        assertEquals(80.0f, node8Layout.location().y, "y of node8");
    }

    @Test
    @DisplayName("grid_minmax_column_fixed_width_below_range__border_box")
    void gridMinmaxColumnFixedWidthBelowRangeBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        NodeId node4 = tree.newLeaf(node4Style);

        Style node5Style = new Style();
        NodeId node5 = tree.newLeaf(node5Style);

        Style node6Style = new Style();
        NodeId node6 = tree.newLeaf(node6Style);

        Style node7Style = new Style();
        NodeId node7 = tree.newLeaf(node7Style);

        Style node8Style = new Style();
        NodeId node8 = tree.newLeaf(node8Style);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.size = new Size<>(Dimension.length(90.0f), Dimension.AUTO);
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.minmax(TrackSizingFunction.fixed(LengthPercentage.length(20.0f)), TrackSizingFunction.fixed(LengthPercentage.length(40.0f))));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5, node6, node7, node8);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(90.0f, nodeLayout.size().width, "width of node");
        assertEquals(120.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(20.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(40.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(40.0f, node2Layout.size().width, "width of node2");
        assertEquals(40.0f, node2Layout.size().height, "height of node2");
        assertEquals(60.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(40.0f, node3Layout.size().width, "width of node3");
        assertEquals(40.0f, node3Layout.size().height, "height of node3");
        assertEquals(0.0f, node3Layout.location().x, "x of node3");
        assertEquals(40.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(20.0f, node4Layout.size().width, "width of node4");
        assertEquals(40.0f, node4Layout.size().height, "height of node4");
        assertEquals(40.0f, node4Layout.location().x, "x of node4");
        assertEquals(40.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(40.0f, node5Layout.size().width, "width of node5");
        assertEquals(40.0f, node5Layout.size().height, "height of node5");
        assertEquals(60.0f, node5Layout.location().x, "x of node5");
        assertEquals(40.0f, node5Layout.location().y, "y of node5");
        Layout node6Layout = tree.getLayout(node6);
        assertEquals(40.0f, node6Layout.size().width, "width of node6");
        assertEquals(40.0f, node6Layout.size().height, "height of node6");
        assertEquals(0.0f, node6Layout.location().x, "x of node6");
        assertEquals(80.0f, node6Layout.location().y, "y of node6");
        Layout node7Layout = tree.getLayout(node7);
        assertEquals(20.0f, node7Layout.size().width, "width of node7");
        assertEquals(40.0f, node7Layout.size().height, "height of node7");
        assertEquals(40.0f, node7Layout.location().x, "x of node7");
        assertEquals(80.0f, node7Layout.location().y, "y of node7");
        Layout node8Layout = tree.getLayout(node8);
        assertEquals(40.0f, node8Layout.size().width, "width of node8");
        assertEquals(40.0f, node8Layout.size().height, "height of node8");
        assertEquals(60.0f, node8Layout.location().x, "x of node8");
        assertEquals(80.0f, node8Layout.location().y, "y of node8");
    }

    @Test
    @DisplayName("grid_minmax_column_fixed_width_below_range__content_box")
    void gridMinmaxColumnFixedWidthBelowRangeContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        node3Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        node4Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node4 = tree.newLeaf(node4Style);

        Style node5Style = new Style();
        node5Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node5 = tree.newLeaf(node5Style);

        Style node6Style = new Style();
        node6Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node6 = tree.newLeaf(node6Style);

        Style node7Style = new Style();
        node7Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node7 = tree.newLeaf(node7Style);

        Style node8Style = new Style();
        node8Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node8 = tree.newLeaf(node8Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.size = new Size<>(Dimension.length(90.0f), Dimension.AUTO);
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.minmax(TrackSizingFunction.fixed(LengthPercentage.length(20.0f)), TrackSizingFunction.fixed(LengthPercentage.length(40.0f))));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5, node6, node7, node8);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(90.0f, nodeLayout.size().width, "width of node");
        assertEquals(120.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(20.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(40.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(40.0f, node2Layout.size().width, "width of node2");
        assertEquals(40.0f, node2Layout.size().height, "height of node2");
        assertEquals(60.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(40.0f, node3Layout.size().width, "width of node3");
        assertEquals(40.0f, node3Layout.size().height, "height of node3");
        assertEquals(0.0f, node3Layout.location().x, "x of node3");
        assertEquals(40.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(20.0f, node4Layout.size().width, "width of node4");
        assertEquals(40.0f, node4Layout.size().height, "height of node4");
        assertEquals(40.0f, node4Layout.location().x, "x of node4");
        assertEquals(40.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(40.0f, node5Layout.size().width, "width of node5");
        assertEquals(40.0f, node5Layout.size().height, "height of node5");
        assertEquals(60.0f, node5Layout.location().x, "x of node5");
        assertEquals(40.0f, node5Layout.location().y, "y of node5");
        Layout node6Layout = tree.getLayout(node6);
        assertEquals(40.0f, node6Layout.size().width, "width of node6");
        assertEquals(40.0f, node6Layout.size().height, "height of node6");
        assertEquals(0.0f, node6Layout.location().x, "x of node6");
        assertEquals(80.0f, node6Layout.location().y, "y of node6");
        Layout node7Layout = tree.getLayout(node7);
        assertEquals(20.0f, node7Layout.size().width, "width of node7");
        assertEquals(40.0f, node7Layout.size().height, "height of node7");
        assertEquals(40.0f, node7Layout.location().x, "x of node7");
        assertEquals(80.0f, node7Layout.location().y, "y of node7");
        Layout node8Layout = tree.getLayout(node8);
        assertEquals(40.0f, node8Layout.size().width, "width of node8");
        assertEquals(40.0f, node8Layout.size().height, "height of node8");
        assertEquals(60.0f, node8Layout.location().x, "x of node8");
        assertEquals(80.0f, node8Layout.location().y, "y of node8");
    }

    @Test
    @DisplayName("grid_minmax_column_fixed_width_within_range__border_box")
    void gridMinmaxColumnFixedWidthWithinRangeBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        NodeId node4 = tree.newLeaf(node4Style);

        Style node5Style = new Style();
        NodeId node5 = tree.newLeaf(node5Style);

        Style node6Style = new Style();
        NodeId node6 = tree.newLeaf(node6Style);

        Style node7Style = new Style();
        NodeId node7 = tree.newLeaf(node7Style);

        Style node8Style = new Style();
        NodeId node8 = tree.newLeaf(node8Style);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.size = new Size<>(Dimension.length(110.0f), Dimension.AUTO);
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.minmax(TrackSizingFunction.fixed(LengthPercentage.length(20.0f)), TrackSizingFunction.fixed(LengthPercentage.length(40.0f))));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5, node6, node7, node8);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(110.0f, nodeLayout.size().width, "width of node");
        assertEquals(120.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(30.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(40.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(40.0f, node2Layout.size().width, "width of node2");
        assertEquals(40.0f, node2Layout.size().height, "height of node2");
        assertEquals(70.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(40.0f, node3Layout.size().width, "width of node3");
        assertEquals(40.0f, node3Layout.size().height, "height of node3");
        assertEquals(0.0f, node3Layout.location().x, "x of node3");
        assertEquals(40.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(30.0f, node4Layout.size().width, "width of node4");
        assertEquals(40.0f, node4Layout.size().height, "height of node4");
        assertEquals(40.0f, node4Layout.location().x, "x of node4");
        assertEquals(40.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(40.0f, node5Layout.size().width, "width of node5");
        assertEquals(40.0f, node5Layout.size().height, "height of node5");
        assertEquals(70.0f, node5Layout.location().x, "x of node5");
        assertEquals(40.0f, node5Layout.location().y, "y of node5");
        Layout node6Layout = tree.getLayout(node6);
        assertEquals(40.0f, node6Layout.size().width, "width of node6");
        assertEquals(40.0f, node6Layout.size().height, "height of node6");
        assertEquals(0.0f, node6Layout.location().x, "x of node6");
        assertEquals(80.0f, node6Layout.location().y, "y of node6");
        Layout node7Layout = tree.getLayout(node7);
        assertEquals(30.0f, node7Layout.size().width, "width of node7");
        assertEquals(40.0f, node7Layout.size().height, "height of node7");
        assertEquals(40.0f, node7Layout.location().x, "x of node7");
        assertEquals(80.0f, node7Layout.location().y, "y of node7");
        Layout node8Layout = tree.getLayout(node8);
        assertEquals(40.0f, node8Layout.size().width, "width of node8");
        assertEquals(40.0f, node8Layout.size().height, "height of node8");
        assertEquals(70.0f, node8Layout.location().x, "x of node8");
        assertEquals(80.0f, node8Layout.location().y, "y of node8");
    }

    @Test
    @DisplayName("grid_minmax_column_fixed_width_within_range__content_box")
    void gridMinmaxColumnFixedWidthWithinRangeContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        node3Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        node4Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node4 = tree.newLeaf(node4Style);

        Style node5Style = new Style();
        node5Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node5 = tree.newLeaf(node5Style);

        Style node6Style = new Style();
        node6Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node6 = tree.newLeaf(node6Style);

        Style node7Style = new Style();
        node7Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node7 = tree.newLeaf(node7Style);

        Style node8Style = new Style();
        node8Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node8 = tree.newLeaf(node8Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.size = new Size<>(Dimension.length(110.0f), Dimension.AUTO);
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.minmax(TrackSizingFunction.fixed(LengthPercentage.length(20.0f)), TrackSizingFunction.fixed(LengthPercentage.length(40.0f))));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5, node6, node7, node8);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(110.0f, nodeLayout.size().width, "width of node");
        assertEquals(120.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(30.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(40.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(40.0f, node2Layout.size().width, "width of node2");
        assertEquals(40.0f, node2Layout.size().height, "height of node2");
        assertEquals(70.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(40.0f, node3Layout.size().width, "width of node3");
        assertEquals(40.0f, node3Layout.size().height, "height of node3");
        assertEquals(0.0f, node3Layout.location().x, "x of node3");
        assertEquals(40.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(30.0f, node4Layout.size().width, "width of node4");
        assertEquals(40.0f, node4Layout.size().height, "height of node4");
        assertEquals(40.0f, node4Layout.location().x, "x of node4");
        assertEquals(40.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(40.0f, node5Layout.size().width, "width of node5");
        assertEquals(40.0f, node5Layout.size().height, "height of node5");
        assertEquals(70.0f, node5Layout.location().x, "x of node5");
        assertEquals(40.0f, node5Layout.location().y, "y of node5");
        Layout node6Layout = tree.getLayout(node6);
        assertEquals(40.0f, node6Layout.size().width, "width of node6");
        assertEquals(40.0f, node6Layout.size().height, "height of node6");
        assertEquals(0.0f, node6Layout.location().x, "x of node6");
        assertEquals(80.0f, node6Layout.location().y, "y of node6");
        Layout node7Layout = tree.getLayout(node7);
        assertEquals(30.0f, node7Layout.size().width, "width of node7");
        assertEquals(40.0f, node7Layout.size().height, "height of node7");
        assertEquals(40.0f, node7Layout.location().x, "x of node7");
        assertEquals(80.0f, node7Layout.location().y, "y of node7");
        Layout node8Layout = tree.getLayout(node8);
        assertEquals(40.0f, node8Layout.size().width, "width of node8");
        assertEquals(40.0f, node8Layout.size().height, "height of node8");
        assertEquals(70.0f, node8Layout.location().x, "x of node8");
        assertEquals(80.0f, node8Layout.location().y, "y of node8");
    }

    @Test
    @DisplayName("grid_minmax_column_indefinite__border_box")
    void gridMinmaxColumnIndefiniteBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        NodeId node4 = tree.newLeaf(node4Style);

        Style node5Style = new Style();
        NodeId node5 = tree.newLeaf(node5Style);

        Style node6Style = new Style();
        NodeId node6 = tree.newLeaf(node6Style);

        Style node7Style = new Style();
        NodeId node7 = tree.newLeaf(node7Style);

        Style node8Style = new Style();
        NodeId node8 = tree.newLeaf(node8Style);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.minmax(TrackSizingFunction.fixed(LengthPercentage.length(20.0f)), TrackSizingFunction.fixed(LengthPercentage.length(40.0f))));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5, node6, node7, node8);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(120.0f, nodeLayout.size().width, "width of node");
        assertEquals(120.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(40.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(40.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(40.0f, node2Layout.size().width, "width of node2");
        assertEquals(40.0f, node2Layout.size().height, "height of node2");
        assertEquals(80.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(40.0f, node3Layout.size().width, "width of node3");
        assertEquals(40.0f, node3Layout.size().height, "height of node3");
        assertEquals(0.0f, node3Layout.location().x, "x of node3");
        assertEquals(40.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(40.0f, node4Layout.size().width, "width of node4");
        assertEquals(40.0f, node4Layout.size().height, "height of node4");
        assertEquals(40.0f, node4Layout.location().x, "x of node4");
        assertEquals(40.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(40.0f, node5Layout.size().width, "width of node5");
        assertEquals(40.0f, node5Layout.size().height, "height of node5");
        assertEquals(80.0f, node5Layout.location().x, "x of node5");
        assertEquals(40.0f, node5Layout.location().y, "y of node5");
        Layout node6Layout = tree.getLayout(node6);
        assertEquals(40.0f, node6Layout.size().width, "width of node6");
        assertEquals(40.0f, node6Layout.size().height, "height of node6");
        assertEquals(0.0f, node6Layout.location().x, "x of node6");
        assertEquals(80.0f, node6Layout.location().y, "y of node6");
        Layout node7Layout = tree.getLayout(node7);
        assertEquals(40.0f, node7Layout.size().width, "width of node7");
        assertEquals(40.0f, node7Layout.size().height, "height of node7");
        assertEquals(40.0f, node7Layout.location().x, "x of node7");
        assertEquals(80.0f, node7Layout.location().y, "y of node7");
        Layout node8Layout = tree.getLayout(node8);
        assertEquals(40.0f, node8Layout.size().width, "width of node8");
        assertEquals(40.0f, node8Layout.size().height, "height of node8");
        assertEquals(80.0f, node8Layout.location().x, "x of node8");
        assertEquals(80.0f, node8Layout.location().y, "y of node8");
    }

    @Test
    @DisplayName("grid_minmax_column_indefinite__content_box")
    void gridMinmaxColumnIndefiniteContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        node3Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        node4Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node4 = tree.newLeaf(node4Style);

        Style node5Style = new Style();
        node5Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node5 = tree.newLeaf(node5Style);

        Style node6Style = new Style();
        node6Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node6 = tree.newLeaf(node6Style);

        Style node7Style = new Style();
        node7Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node7 = tree.newLeaf(node7Style);

        Style node8Style = new Style();
        node8Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node8 = tree.newLeaf(node8Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.minmax(TrackSizingFunction.fixed(LengthPercentage.length(20.0f)), TrackSizingFunction.fixed(LengthPercentage.length(40.0f))));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5, node6, node7, node8);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(120.0f, nodeLayout.size().width, "width of node");
        assertEquals(120.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(40.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(40.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(40.0f, node2Layout.size().width, "width of node2");
        assertEquals(40.0f, node2Layout.size().height, "height of node2");
        assertEquals(80.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(40.0f, node3Layout.size().width, "width of node3");
        assertEquals(40.0f, node3Layout.size().height, "height of node3");
        assertEquals(0.0f, node3Layout.location().x, "x of node3");
        assertEquals(40.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(40.0f, node4Layout.size().width, "width of node4");
        assertEquals(40.0f, node4Layout.size().height, "height of node4");
        assertEquals(40.0f, node4Layout.location().x, "x of node4");
        assertEquals(40.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(40.0f, node5Layout.size().width, "width of node5");
        assertEquals(40.0f, node5Layout.size().height, "height of node5");
        assertEquals(80.0f, node5Layout.location().x, "x of node5");
        assertEquals(40.0f, node5Layout.location().y, "y of node5");
        Layout node6Layout = tree.getLayout(node6);
        assertEquals(40.0f, node6Layout.size().width, "width of node6");
        assertEquals(40.0f, node6Layout.size().height, "height of node6");
        assertEquals(0.0f, node6Layout.location().x, "x of node6");
        assertEquals(80.0f, node6Layout.location().y, "y of node6");
        Layout node7Layout = tree.getLayout(node7);
        assertEquals(40.0f, node7Layout.size().width, "width of node7");
        assertEquals(40.0f, node7Layout.size().height, "height of node7");
        assertEquals(40.0f, node7Layout.location().x, "x of node7");
        assertEquals(80.0f, node7Layout.location().y, "y of node7");
        Layout node8Layout = tree.getLayout(node8);
        assertEquals(40.0f, node8Layout.size().width, "width of node8");
        assertEquals(40.0f, node8Layout.size().height, "height of node8");
        assertEquals(80.0f, node8Layout.location().x, "x of node8");
        assertEquals(80.0f, node8Layout.location().y, "y of node8");
    }

    @Test
    @DisplayName("grid_minmax_column_with_auto_fixed__border_box")
    void gridMinmaxColumnWithAutoFixedBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        NodeId node1 = tree.newLeaf(node1Style);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.size = new Size<>(Dimension.length(60.0f), Dimension.AUTO);
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.minmax(TrackSizingFunction.fixed(LengthPercentage.length(20.0f)), TrackSizingFunction.fixed(LengthPercentage.length(40.0f))));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.auto());
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(60.0f, nodeLayout.size().width, "width of node");
        assertEquals(40.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(20.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(40.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
    }

    @Test
    @DisplayName("grid_minmax_column_with_auto_fixed__content_box")
    void gridMinmaxColumnWithAutoFixedContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node1 = tree.newLeaf(node1Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.size = new Size<>(Dimension.length(60.0f), Dimension.AUTO);
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.minmax(TrackSizingFunction.fixed(LengthPercentage.length(20.0f)), TrackSizingFunction.fixed(LengthPercentage.length(40.0f))));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.auto());
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(60.0f, nodeLayout.size().width, "width of node");
        assertEquals(40.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(20.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(40.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
    }

    @Test
    @DisplayName("grid_minmax_column_with_fr_fixed__border_box")
    void gridMinmaxColumnWithFrFixedBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        NodeId node1 = tree.newLeaf(node1Style);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.size = new Size<>(Dimension.length(60.0f), Dimension.AUTO);
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.minmax(TrackSizingFunction.fixed(LengthPercentage.length(20.0f)), TrackSizingFunction.fixed(LengthPercentage.length(40.0f))));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fr(1.0f));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(60.0f, nodeLayout.size().width, "width of node");
        assertEquals(40.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(20.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(40.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
    }

    @Test
    @DisplayName("grid_minmax_column_with_fr_fixed__content_box")
    void gridMinmaxColumnWithFrFixedContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node1 = tree.newLeaf(node1Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.size = new Size<>(Dimension.length(60.0f), Dimension.AUTO);
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.minmax(TrackSizingFunction.fixed(LengthPercentage.length(20.0f)), TrackSizingFunction.fixed(LengthPercentage.length(40.0f))));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fr(1.0f));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(60.0f, nodeLayout.size().width, "width of node");
        assertEquals(40.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(20.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(40.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
    }

    @Test
    @DisplayName("grid_minmax_max_content_1fr__border_box")
    void gridMinmaxMaxContent1frBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        MeasureFunc node0Measure = ahemTextMeasure("HH\u200BHH", false);
        NodeId node0 = tree.newLeafWithMeasure(node0Style, node0Measure);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.minmax(TrackSizingFunction.maxContent(), TrackSizingFunction.fr(1.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(40.0f, nodeLayout.size().width, "width of node");
        assertEquals(40.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("grid_minmax_max_content_1fr__content_box")
    void gridMinmaxMaxContent1frContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        MeasureFunc node0Measure = ahemTextMeasure("HH\u200BHH", false);
        NodeId node0 = tree.newLeafWithMeasure(node0Style, node0Measure);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.minmax(TrackSizingFunction.maxContent(), TrackSizingFunction.fr(1.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(40.0f, nodeLayout.size().width, "width of node");
        assertEquals(40.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("grid_minmax_max_content_auto__border_box")
    void gridMinmaxMaxContentAutoBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        MeasureFunc node0Measure = ahemTextMeasure("HH\u200BHH", false);
        NodeId node0 = tree.newLeafWithMeasure(node0Style, node0Measure);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.minmax(TrackSizingFunction.maxContent(), TrackSizingFunction.auto()));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(40.0f, nodeLayout.size().width, "width of node");
        assertEquals(40.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("grid_minmax_max_content_auto__content_box")
    void gridMinmaxMaxContentAutoContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        MeasureFunc node0Measure = ahemTextMeasure("HH\u200BHH", false);
        NodeId node0 = tree.newLeafWithMeasure(node0Style, node0Measure);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.minmax(TrackSizingFunction.maxContent(), TrackSizingFunction.auto()));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(40.0f, nodeLayout.size().width, "width of node");
        assertEquals(40.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("grid_minmax_max_content_fixed_10px__border_box")
    void gridMinmaxMaxContentFixed10pxBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        MeasureFunc node0Measure = ahemTextMeasure("HH\u200BHH", false);
        NodeId node0 = tree.newLeafWithMeasure(node0Style, node0Measure);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.minmax(TrackSizingFunction.maxContent(), TrackSizingFunction.fixed(LengthPercentage.length(10.0f))));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(40.0f, nodeLayout.size().width, "width of node");
        assertEquals(40.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("grid_minmax_max_content_fixed_10px__content_box")
    void gridMinmaxMaxContentFixed10pxContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        MeasureFunc node0Measure = ahemTextMeasure("HH\u200BHH", false);
        NodeId node0 = tree.newLeafWithMeasure(node0Style, node0Measure);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.minmax(TrackSizingFunction.maxContent(), TrackSizingFunction.fixed(LengthPercentage.length(10.0f))));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(40.0f, nodeLayout.size().width, "width of node");
        assertEquals(40.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("grid_minmax_max_content_min_content__border_box")
    void gridMinmaxMaxContentMinContentBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        MeasureFunc node0Measure = ahemTextMeasure("HH\u200BHH", false);
        NodeId node0 = tree.newLeafWithMeasure(node0Style, node0Measure);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.minmax(TrackSizingFunction.maxContent(), TrackSizingFunction.minContent()));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(40.0f, nodeLayout.size().width, "width of node");
        assertEquals(40.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("grid_minmax_max_content_min_content__content_box")
    void gridMinmaxMaxContentMinContentContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        MeasureFunc node0Measure = ahemTextMeasure("HH\u200BHH", false);
        NodeId node0 = tree.newLeafWithMeasure(node0Style, node0Measure);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.minmax(TrackSizingFunction.maxContent(), TrackSizingFunction.minContent()));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(40.0f, nodeLayout.size().width, "width of node");
        assertEquals(40.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("grid_minmax_max_content_percent_definite__border_box")
    void gridMinmaxMaxContentPercentDefiniteBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        MeasureFunc node0Measure = ahemTextMeasure("HH\u200BHH", false);
        NodeId node0 = tree.newLeafWithMeasure(node0Style, node0Measure);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.AUTO);
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.minmax(TrackSizingFunction.maxContent(), TrackSizingFunction.fixed(LengthPercentage.percent(0.2f))));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(40.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("grid_minmax_max_content_percent_definite__content_box")
    void gridMinmaxMaxContentPercentDefiniteContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        MeasureFunc node0Measure = ahemTextMeasure("HH\u200BHH", false);
        NodeId node0 = tree.newLeafWithMeasure(node0Style, node0Measure);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.AUTO);
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.minmax(TrackSizingFunction.maxContent(), TrackSizingFunction.fixed(LengthPercentage.percent(0.2f))));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(40.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("grid_minmax_max_content_percent_indefinite__border_box")
    void gridMinmaxMaxContentPercentIndefiniteBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        MeasureFunc node0Measure = ahemTextMeasure("HH\u200BHH", false);
        NodeId node0 = tree.newLeafWithMeasure(node0Style, node0Measure);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.minmax(TrackSizingFunction.maxContent(), TrackSizingFunction.fixed(LengthPercentage.percent(0.2f))));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(40.0f, nodeLayout.size().width, "width of node");
        assertEquals(40.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("grid_minmax_max_content_percent_indefinite__content_box")
    void gridMinmaxMaxContentPercentIndefiniteContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        MeasureFunc node0Measure = ahemTextMeasure("HH\u200BHH", false);
        NodeId node0 = tree.newLeafWithMeasure(node0Style, node0Measure);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.minmax(TrackSizingFunction.maxContent(), TrackSizingFunction.fixed(LengthPercentage.percent(0.2f))));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(40.0f, nodeLayout.size().width, "width of node");
        assertEquals(40.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("grid_minmax_min_content_1fr__border_box")
    void gridMinmaxMinContent1frBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        MeasureFunc node0Measure = ahemTextMeasure("HH\u200BHH", false);
        NodeId node0 = tree.newLeafWithMeasure(node0Style, node0Measure);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.minmax(TrackSizingFunction.minContent(), TrackSizingFunction.fr(1.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(40.0f, nodeLayout.size().width, "width of node");
        assertEquals(40.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("grid_minmax_min_content_1fr__content_box")
    void gridMinmaxMinContent1frContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        MeasureFunc node0Measure = ahemTextMeasure("HH\u200BHH", false);
        NodeId node0 = tree.newLeafWithMeasure(node0Style, node0Measure);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.minmax(TrackSizingFunction.minContent(), TrackSizingFunction.fr(1.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(40.0f, nodeLayout.size().width, "width of node");
        assertEquals(40.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("grid_minmax_min_content_auto__border_box")
    void gridMinmaxMinContentAutoBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        MeasureFunc node0Measure = ahemTextMeasure("HH\u200BHH", false);
        NodeId node0 = tree.newLeafWithMeasure(node0Style, node0Measure);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.minmax(TrackSizingFunction.minContent(), TrackSizingFunction.auto()));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(40.0f, nodeLayout.size().width, "width of node");
        assertEquals(40.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("grid_minmax_min_content_auto__content_box")
    void gridMinmaxMinContentAutoContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        MeasureFunc node0Measure = ahemTextMeasure("HH\u200BHH", false);
        NodeId node0 = tree.newLeafWithMeasure(node0Style, node0Measure);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.minmax(TrackSizingFunction.minContent(), TrackSizingFunction.auto()));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(40.0f, nodeLayout.size().width, "width of node");
        assertEquals(40.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("grid_minmax_min_content_fixed_10px__border_box")
    void gridMinmaxMinContentFixed10pxBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        MeasureFunc node0Measure = ahemTextMeasure("HH\u200BHH", false);
        NodeId node0 = tree.newLeafWithMeasure(node0Style, node0Measure);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.minmax(TrackSizingFunction.minContent(), TrackSizingFunction.fixed(LengthPercentage.length(10.0f))));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(20.0f, nodeLayout.size().width, "width of node");
        assertEquals(40.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(20.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("grid_minmax_min_content_fixed_10px__content_box")
    void gridMinmaxMinContentFixed10pxContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        MeasureFunc node0Measure = ahemTextMeasure("HH\u200BHH", false);
        NodeId node0 = tree.newLeafWithMeasure(node0Style, node0Measure);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.minmax(TrackSizingFunction.minContent(), TrackSizingFunction.fixed(LengthPercentage.length(10.0f))));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(20.0f, nodeLayout.size().width, "width of node");
        assertEquals(40.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(20.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("grid_minmax_min_content_max_content__border_box")
    void gridMinmaxMinContentMaxContentBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        MeasureFunc node0Measure = ahemTextMeasure("HH\u200BHH", false);
        NodeId node0 = tree.newLeafWithMeasure(node0Style, node0Measure);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.minmax(TrackSizingFunction.minContent(), TrackSizingFunction.maxContent()));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(40.0f, nodeLayout.size().width, "width of node");
        assertEquals(40.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("grid_minmax_min_content_max_content__content_box")
    void gridMinmaxMinContentMaxContentContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        MeasureFunc node0Measure = ahemTextMeasure("HH\u200BHH", false);
        NodeId node0 = tree.newLeafWithMeasure(node0Style, node0Measure);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.minmax(TrackSizingFunction.minContent(), TrackSizingFunction.maxContent()));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(40.0f, nodeLayout.size().width, "width of node");
        assertEquals(40.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("grid_minmax_min_content_percent_definite__border_box")
    void gridMinmaxMinContentPercentDefiniteBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        MeasureFunc node0Measure = ahemTextMeasure("HH\u200BHH", false);
        NodeId node0 = tree.newLeafWithMeasure(node0Style, node0Measure);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.AUTO);
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.minmax(TrackSizingFunction.minContent(), TrackSizingFunction.fixed(LengthPercentage.percent(0.2f))));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(40.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(20.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("grid_minmax_min_content_percent_definite__content_box")
    void gridMinmaxMinContentPercentDefiniteContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        MeasureFunc node0Measure = ahemTextMeasure("HH\u200BHH", false);
        NodeId node0 = tree.newLeafWithMeasure(node0Style, node0Measure);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.AUTO);
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.minmax(TrackSizingFunction.minContent(), TrackSizingFunction.fixed(LengthPercentage.percent(0.2f))));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(40.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(20.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("grid_minmax_min_content_percent_indefinite__border_box")
    void gridMinmaxMinContentPercentIndefiniteBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        MeasureFunc node0Measure = ahemTextMeasure("HH\u200BHH", false);
        NodeId node0 = tree.newLeafWithMeasure(node0Style, node0Measure);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.minmax(TrackSizingFunction.minContent(), TrackSizingFunction.fixed(LengthPercentage.percent(0.2f))));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(40.0f, nodeLayout.size().width, "width of node");
        assertEquals(40.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(20.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("grid_minmax_min_content_percent_indefinite__content_box")
    void gridMinmaxMinContentPercentIndefiniteContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        MeasureFunc node0Measure = ahemTextMeasure("HH\u200BHH", false);
        NodeId node0 = tree.newLeafWithMeasure(node0Style, node0Measure);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.minmax(TrackSizingFunction.minContent(), TrackSizingFunction.fixed(LengthPercentage.percent(0.2f))));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(40.0f, nodeLayout.size().width, "width of node");
        assertEquals(40.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(20.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("grid_out_of_order_items__border_box")
    void gridOutOfOrderItemsBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.size = new Size<>(Dimension.length(35.0f), Dimension.length(35.0f));
        node2Style.gridColumn = new Line<>(GridPlacement.line(1), GridPlacement.auto());
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        NodeId node4 = tree.newLeaf(node4Style);

        Style node5Style = new Style();
        node5Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        node5Style.gridRow = new Line<>(GridPlacement.line(1), GridPlacement.auto());
        node5Style.gridColumn = new Line<>(GridPlacement.line(1), GridPlacement.auto());
        NodeId node5 = tree.newLeaf(node5Style);

        Style node6Style = new Style();
        NodeId node6 = tree.newLeaf(node6Style);

        Style node7Style = new Style();
        node7Style.size = new Size<>(Dimension.length(10.0f), Dimension.length(10.0f));
        node7Style.gridRow = new Line<>(GridPlacement.line(1), GridPlacement.auto());
        NodeId node7 = tree.newLeaf(node7Style);

        Style node8Style = new Style();
        NodeId node8 = tree.newLeaf(node8Style);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.size = new Size<>(Dimension.length(120.0f), Dimension.length(120.0f));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridAutoFlow = GridAutoFlow.ROW_DENSE;
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5, node6, node7, node8);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(120.0f, nodeLayout.size().width, "width of node");
        assertEquals(120.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(80.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(40.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(0.0f, node1Layout.location().x, "x of node1");
        assertEquals(40.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(35.0f, node2Layout.size().width, "width of node2");
        assertEquals(35.0f, node2Layout.size().height, "height of node2");
        assertEquals(0.0f, node2Layout.location().x, "x of node2");
        assertEquals(80.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(40.0f, node3Layout.size().width, "width of node3");
        assertEquals(40.0f, node3Layout.size().height, "height of node3");
        assertEquals(40.0f, node3Layout.location().x, "x of node3");
        assertEquals(40.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(40.0f, node4Layout.size().width, "width of node4");
        assertEquals(40.0f, node4Layout.size().height, "height of node4");
        assertEquals(80.0f, node4Layout.location().x, "x of node4");
        assertEquals(40.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(20.0f, node5Layout.size().width, "width of node5");
        assertEquals(20.0f, node5Layout.size().height, "height of node5");
        assertEquals(0.0f, node5Layout.location().x, "x of node5");
        assertEquals(0.0f, node5Layout.location().y, "y of node5");
        Layout node6Layout = tree.getLayout(node6);
        assertEquals(40.0f, node6Layout.size().width, "width of node6");
        assertEquals(40.0f, node6Layout.size().height, "height of node6");
        assertEquals(40.0f, node6Layout.location().x, "x of node6");
        assertEquals(80.0f, node6Layout.location().y, "y of node6");
        Layout node7Layout = tree.getLayout(node7);
        assertEquals(10.0f, node7Layout.size().width, "width of node7");
        assertEquals(10.0f, node7Layout.size().height, "height of node7");
        assertEquals(40.0f, node7Layout.location().x, "x of node7");
        assertEquals(0.0f, node7Layout.location().y, "y of node7");
        Layout node8Layout = tree.getLayout(node8);
        assertEquals(40.0f, node8Layout.size().width, "width of node8");
        assertEquals(40.0f, node8Layout.size().height, "height of node8");
        assertEquals(80.0f, node8Layout.location().x, "x of node8");
        assertEquals(80.0f, node8Layout.location().y, "y of node8");
    }

    @Test
    @DisplayName("grid_out_of_order_items__content_box")
    void gridOutOfOrderItemsContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        node2Style.size = new Size<>(Dimension.length(35.0f), Dimension.length(35.0f));
        node2Style.gridColumn = new Line<>(GridPlacement.line(1), GridPlacement.auto());
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        node3Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        node4Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node4 = tree.newLeaf(node4Style);

        Style node5Style = new Style();
        node5Style.boxSizing = BoxSizing.CONTENT_BOX;
        node5Style.size = new Size<>(Dimension.length(20.0f), Dimension.length(20.0f));
        node5Style.gridRow = new Line<>(GridPlacement.line(1), GridPlacement.auto());
        node5Style.gridColumn = new Line<>(GridPlacement.line(1), GridPlacement.auto());
        NodeId node5 = tree.newLeaf(node5Style);

        Style node6Style = new Style();
        node6Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node6 = tree.newLeaf(node6Style);

        Style node7Style = new Style();
        node7Style.boxSizing = BoxSizing.CONTENT_BOX;
        node7Style.size = new Size<>(Dimension.length(10.0f), Dimension.length(10.0f));
        node7Style.gridRow = new Line<>(GridPlacement.line(1), GridPlacement.auto());
        NodeId node7 = tree.newLeaf(node7Style);

        Style node8Style = new Style();
        node8Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node8 = tree.newLeaf(node8Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.size = new Size<>(Dimension.length(120.0f), Dimension.length(120.0f));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridAutoFlow = GridAutoFlow.ROW_DENSE;
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5, node6, node7, node8);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(120.0f, nodeLayout.size().width, "width of node");
        assertEquals(120.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(80.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(40.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(0.0f, node1Layout.location().x, "x of node1");
        assertEquals(40.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(35.0f, node2Layout.size().width, "width of node2");
        assertEquals(35.0f, node2Layout.size().height, "height of node2");
        assertEquals(0.0f, node2Layout.location().x, "x of node2");
        assertEquals(80.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(40.0f, node3Layout.size().width, "width of node3");
        assertEquals(40.0f, node3Layout.size().height, "height of node3");
        assertEquals(40.0f, node3Layout.location().x, "x of node3");
        assertEquals(40.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(40.0f, node4Layout.size().width, "width of node4");
        assertEquals(40.0f, node4Layout.size().height, "height of node4");
        assertEquals(80.0f, node4Layout.location().x, "x of node4");
        assertEquals(40.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(20.0f, node5Layout.size().width, "width of node5");
        assertEquals(20.0f, node5Layout.size().height, "height of node5");
        assertEquals(0.0f, node5Layout.location().x, "x of node5");
        assertEquals(0.0f, node5Layout.location().y, "y of node5");
        Layout node6Layout = tree.getLayout(node6);
        assertEquals(40.0f, node6Layout.size().width, "width of node6");
        assertEquals(40.0f, node6Layout.size().height, "height of node6");
        assertEquals(40.0f, node6Layout.location().x, "x of node6");
        assertEquals(80.0f, node6Layout.location().y, "y of node6");
        Layout node7Layout = tree.getLayout(node7);
        assertEquals(10.0f, node7Layout.size().width, "width of node7");
        assertEquals(10.0f, node7Layout.size().height, "height of node7");
        assertEquals(40.0f, node7Layout.location().x, "x of node7");
        assertEquals(0.0f, node7Layout.location().y, "y of node7");
        Layout node8Layout = tree.getLayout(node8);
        assertEquals(40.0f, node8Layout.size().width, "width of node8");
        assertEquals(40.0f, node8Layout.size().height, "height of node8");
        assertEquals(80.0f, node8Layout.location().x, "x of node8");
        assertEquals(80.0f, node8Layout.location().y, "y of node8");
    }

    @Test
    @DisplayName("grid_overflow_inline_axis_hidden__border_box")
    void gridOverflowInlineAxisHiddenBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.overflow = new Point<>(Overflow.HIDDEN, Overflow.HIDDEN);
        MeasureFunc node0Measure = ahemTextMeasure("HHHHHHHHHH", false);
        NodeId node0 = tree.newLeafWithMeasure(node0Style, node0Measure);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(50.0f, nodeLayout.size().width, "width of node");
        assertEquals(50.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(50.0f, node0Layout.size().width, "width of node0");
        assertEquals(50.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("grid_overflow_inline_axis_hidden__content_box")
    void gridOverflowInlineAxisHiddenContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.overflow = new Point<>(Overflow.HIDDEN, Overflow.HIDDEN);
        MeasureFunc node0Measure = ahemTextMeasure("HHHHHHHHHH", false);
        NodeId node0 = tree.newLeafWithMeasure(node0Style, node0Measure);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(50.0f, nodeLayout.size().width, "width of node");
        assertEquals(50.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(50.0f, node0Layout.size().width, "width of node0");
        assertEquals(50.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("grid_overflow_inline_axis_scroll__border_box")
    void gridOverflowInlineAxisScrollBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.overflow = new Point<>(Overflow.SCROLL, Overflow.SCROLL);
        node0Style.scrollbarWidth = 15.0f;
        MeasureFunc node0Measure = ahemTextMeasure("HHHHHHHHHH", false);
        NodeId node0 = tree.newLeafWithMeasure(node0Style, node0Measure);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(50.0f, nodeLayout.size().width, "width of node");
        assertEquals(50.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(50.0f, node0Layout.size().width, "width of node0");
        assertEquals(50.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("grid_overflow_inline_axis_scroll__content_box")
    void gridOverflowInlineAxisScrollContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.overflow = new Point<>(Overflow.SCROLL, Overflow.SCROLL);
        node0Style.scrollbarWidth = 15.0f;
        MeasureFunc node0Measure = ahemTextMeasure("HHHHHHHHHH", false);
        NodeId node0 = tree.newLeafWithMeasure(node0Style, node0Measure);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(50.0f, nodeLayout.size().width, "width of node");
        assertEquals(50.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(50.0f, node0Layout.size().width, "width of node0");
        assertEquals(50.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("grid_overflow_inline_axis_visible__border_box")
    void gridOverflowInlineAxisVisibleBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        MeasureFunc node0Measure = ahemTextMeasure("HHHHHHHHHH", false);
        NodeId node0 = tree.newLeafWithMeasure(node0Style, node0Measure);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(50.0f, nodeLayout.size().width, "width of node");
        assertEquals(50.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(100.0f, node0Layout.size().width, "width of node0");
        assertEquals(50.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("grid_overflow_inline_axis_visible__content_box")
    void gridOverflowInlineAxisVisibleContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        MeasureFunc node0Measure = ahemTextMeasure("HHHHHHHHHH", false);
        NodeId node0 = tree.newLeafWithMeasure(node0Style, node0Measure);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(50.0f, nodeLayout.size().width, "width of node");
        assertEquals(50.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(100.0f, node0Layout.size().width, "width of node0");
        assertEquals(50.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("grid_overflow_rows__border_box")
    void gridOverflowRowsBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.gridColumn = new Line<>(GridPlacement.line(1), GridPlacement.span(4));
        MeasureFunc node0Measure = ahemTextMeasure("HHHHHHHHHHHHHHHH\u200BHHHHHHHHHHHHHHHH", false);
        NodeId node0 = tree.newLeafWithMeasure(node0Style, node0Measure);

        Style node1Style = new Style();
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        NodeId node4 = tree.newLeaf(node4Style);

        Style node5Style = new Style();
        NodeId node5 = tree.newLeaf(node5Style);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.minContent());
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.maxContent());
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(10.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.percent(0.2f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(320.0f, nodeLayout.size().width, "width of node");
        assertEquals(80.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(320.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(43.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(0.0f, node1Layout.location().x, "x of node1");
        assertEquals(40.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(203.0f, node2Layout.size().width, "width of node2");
        assertEquals(40.0f, node2Layout.size().height, "height of node2");
        assertEquals(43.0f, node2Layout.location().x, "x of node2");
        assertEquals(40.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(10.0f, node3Layout.size().width, "width of node3");
        assertEquals(40.0f, node3Layout.size().height, "height of node3");
        assertEquals(246.0f, node3Layout.location().x, "x of node3");
        assertEquals(40.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(64.0f, node4Layout.size().width, "width of node4");
        assertEquals(40.0f, node4Layout.size().height, "height of node4");
        assertEquals(256.0f, node4Layout.location().x, "x of node4");
        assertEquals(40.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(43.0f, node5Layout.size().width, "width of node5");
        assertEquals(0.0f, node5Layout.size().height, "height of node5");
        assertEquals(0.0f, node5Layout.location().x, "x of node5");
        assertEquals(80.0f, node5Layout.location().y, "y of node5");
    }

    @Test
    @DisplayName("grid_overflow_rows__content_box")
    void gridOverflowRowsContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.gridColumn = new Line<>(GridPlacement.line(1), GridPlacement.span(4));
        MeasureFunc node0Measure = ahemTextMeasure("HHHHHHHHHHHHHHHH\u200BHHHHHHHHHHHHHHHH", false);
        NodeId node0 = tree.newLeafWithMeasure(node0Style, node0Measure);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        node3Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        node4Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node4 = tree.newLeaf(node4Style);

        Style node5Style = new Style();
        node5Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node5 = tree.newLeaf(node5Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.minContent());
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.maxContent());
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(10.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.percent(0.2f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(320.0f, nodeLayout.size().width, "width of node");
        assertEquals(80.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(320.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(43.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(0.0f, node1Layout.location().x, "x of node1");
        assertEquals(40.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(203.0f, node2Layout.size().width, "width of node2");
        assertEquals(40.0f, node2Layout.size().height, "height of node2");
        assertEquals(43.0f, node2Layout.location().x, "x of node2");
        assertEquals(40.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(10.0f, node3Layout.size().width, "width of node3");
        assertEquals(40.0f, node3Layout.size().height, "height of node3");
        assertEquals(246.0f, node3Layout.location().x, "x of node3");
        assertEquals(40.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(64.0f, node4Layout.size().width, "width of node4");
        assertEquals(40.0f, node4Layout.size().height, "height of node4");
        assertEquals(256.0f, node4Layout.location().x, "x of node4");
        assertEquals(40.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(43.0f, node5Layout.size().width, "width of node5");
        assertEquals(0.0f, node5Layout.size().height, "height of node5");
        assertEquals(0.0f, node5Layout.location().x, "x of node5");
        assertEquals(80.0f, node5Layout.location().y, "y of node5");
    }

    @Test
    @DisplayName("grid_overflow_scrollbars_overridden_by_available_space__border_box")
    void gridOverflowScrollbarsOverriddenByAvailableSpaceBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        NodeId node00 = tree.newLeaf(node00Style);

        Style node0Style = new Style();
        node0Style.display = Display.GRID;
        node0Style.overflow = new Point<>(Overflow.SCROLL, Overflow.SCROLL);
        node0Style.scrollbarWidth = 15.0f;
        NodeId node0 = tree.newWithChildren(node0Style, node00);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.size = new Size<>(Dimension.length(2.0f), Dimension.length(4.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(2.0f, nodeLayout.size().width, "width of node");
        assertEquals(4.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(2.0f, node0Layout.size().width, "width of node0");
        assertEquals(4.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(0.0f, node00Layout.size().width, "width of node00");
        assertEquals(0.0f, node00Layout.size().height, "height of node00");
        assertEquals(0.0f, node00Layout.location().x, "x of node00");
        assertEquals(0.0f, node00Layout.location().y, "y of node00");
    }

    @Test
    @DisplayName("grid_overflow_scrollbars_overridden_by_available_space__content_box")
    void gridOverflowScrollbarsOverriddenByAvailableSpaceContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node00 = tree.newLeaf(node00Style);

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.display = Display.GRID;
        node0Style.overflow = new Point<>(Overflow.SCROLL, Overflow.SCROLL);
        node0Style.scrollbarWidth = 15.0f;
        NodeId node0 = tree.newWithChildren(node0Style, node00);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.size = new Size<>(Dimension.length(2.0f), Dimension.length(4.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(2.0f, nodeLayout.size().width, "width of node");
        assertEquals(4.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(2.0f, node0Layout.size().width, "width of node0");
        assertEquals(4.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(0.0f, node00Layout.size().width, "width of node00");
        assertEquals(0.0f, node00Layout.size().height, "height of node00");
        assertEquals(0.0f, node00Layout.location().x, "x of node00");
        assertEquals(0.0f, node00Layout.location().y, "y of node00");
    }

    @Test
    @DisplayName("grid_overflow_scrollbars_overridden_by_max_size__border_box")
    void gridOverflowScrollbarsOverriddenByMaxSizeBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.maxSize = new Size<>(Dimension.length(2.0f), Dimension.length(4.0f));
        nodeStyle.overflow = new Point<>(Overflow.SCROLL, Overflow.SCROLL);
        nodeStyle.scrollbarWidth = 15.0f;
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(2.0f, nodeLayout.size().width, "width of node");
        assertEquals(4.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(0.0f, node0Layout.size().width, "width of node0");
        assertEquals(0.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("grid_overflow_scrollbars_overridden_by_max_size__content_box")
    void gridOverflowScrollbarsOverriddenByMaxSizeContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.maxSize = new Size<>(Dimension.length(2.0f), Dimension.length(4.0f));
        nodeStyle.overflow = new Point<>(Overflow.SCROLL, Overflow.SCROLL);
        nodeStyle.scrollbarWidth = 15.0f;
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(2.0f, nodeLayout.size().width, "width of node");
        assertEquals(4.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(0.0f, node0Layout.size().width, "width of node0");
        assertEquals(0.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("grid_overflow_scrollbars_overridden_by_size__border_box")
    void gridOverflowScrollbarsOverriddenBySizeBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.size = new Size<>(Dimension.length(2.0f), Dimension.length(4.0f));
        nodeStyle.overflow = new Point<>(Overflow.SCROLL, Overflow.SCROLL);
        nodeStyle.scrollbarWidth = 15.0f;
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(2.0f, nodeLayout.size().width, "width of node");
        assertEquals(4.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(0.0f, node0Layout.size().width, "width of node0");
        assertEquals(0.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("grid_overflow_scrollbars_overridden_by_size__content_box")
    void gridOverflowScrollbarsOverriddenBySizeContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.size = new Size<>(Dimension.length(2.0f), Dimension.length(4.0f));
        nodeStyle.overflow = new Point<>(Overflow.SCROLL, Overflow.SCROLL);
        nodeStyle.scrollbarWidth = 15.0f;
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(2.0f, nodeLayout.size().width, "width of node");
        assertEquals(4.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(0.0f, node0Layout.size().width, "width of node0");
        assertEquals(0.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("grid_overflow_scrollbars_take_up_space_both_axis__border_box")
    void gridOverflowScrollbarsTakeUpSpaceBothAxisBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        nodeStyle.overflow = new Point<>(Overflow.SCROLL, Overflow.SCROLL);
        nodeStyle.scrollbarWidth = 15.0f;
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(50.0f, nodeLayout.size().width, "width of node");
        assertEquals(50.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(35.0f, node0Layout.size().width, "width of node0");
        assertEquals(35.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("grid_overflow_scrollbars_take_up_space_both_axis__content_box")
    void gridOverflowScrollbarsTakeUpSpaceBothAxisContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        nodeStyle.overflow = new Point<>(Overflow.SCROLL, Overflow.SCROLL);
        nodeStyle.scrollbarWidth = 15.0f;
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(50.0f, nodeLayout.size().width, "width of node");
        assertEquals(50.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(35.0f, node0Layout.size().width, "width of node0");
        assertEquals(35.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("grid_overflow_scrollbars_take_up_space_x_axis__border_box")
    void gridOverflowScrollbarsTakeUpSpaceXAxisBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        nodeStyle.overflow = new Point<>(Overflow.SCROLL, Overflow.VISIBLE);
        nodeStyle.scrollbarWidth = 15.0f;
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(50.0f, nodeLayout.size().width, "width of node");
        assertEquals(50.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(50.0f, node0Layout.size().width, "width of node0");
        assertEquals(35.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("grid_overflow_scrollbars_take_up_space_x_axis__content_box")
    void gridOverflowScrollbarsTakeUpSpaceXAxisContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        nodeStyle.overflow = new Point<>(Overflow.SCROLL, Overflow.VISIBLE);
        nodeStyle.scrollbarWidth = 15.0f;
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(50.0f, nodeLayout.size().width, "width of node");
        assertEquals(50.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(50.0f, node0Layout.size().width, "width of node0");
        assertEquals(35.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("grid_overflow_scrollbars_take_up_space_y_axis__border_box")
    void gridOverflowScrollbarsTakeUpSpaceYAxisBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        nodeStyle.overflow = new Point<>(Overflow.VISIBLE, Overflow.SCROLL);
        nodeStyle.scrollbarWidth = 15.0f;
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(50.0f, nodeLayout.size().width, "width of node");
        assertEquals(50.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(35.0f, node0Layout.size().width, "width of node0");
        assertEquals(50.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("grid_overflow_scrollbars_take_up_space_y_axis__content_box")
    void gridOverflowScrollbarsTakeUpSpaceYAxisContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.size = new Size<>(Dimension.length(50.0f), Dimension.length(50.0f));
        nodeStyle.overflow = new Point<>(Overflow.VISIBLE, Overflow.SCROLL);
        nodeStyle.scrollbarWidth = 15.0f;
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(50.0f, nodeLayout.size().width, "width of node");
        assertEquals(50.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(35.0f, node0Layout.size().width, "width of node0");
        assertEquals(50.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("grid_padding_border_overrides_container_max_size__border_box")
    void gridPaddingBorderOverridesContainerMaxSizeBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.maxSize = new Size<>(Dimension.length(12.0f), Dimension.length(12.0f));
        nodeStyle.padding = new Rect<>(LengthPercentage.length(8.0f), LengthPercentage.length(4.0f), LengthPercentage.length(2.0f), LengthPercentage.length(6.0f));
        nodeStyle.border = new Rect<>(LengthPercentage.length(7.0f), LengthPercentage.length(3.0f), LengthPercentage.length(1.0f), LengthPercentage.length(5.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(22.0f, nodeLayout.size().width, "width of node");
        assertEquals(14.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(0.0f, node0Layout.size().width, "width of node0");
        assertEquals(0.0f, node0Layout.size().height, "height of node0");
        assertEquals(15.0f, node0Layout.location().x, "x of node0");
        assertEquals(3.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("grid_padding_border_overrides_container_max_size__content_box")
    void gridPaddingBorderOverridesContainerMaxSizeContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.maxSize = new Size<>(Dimension.length(12.0f), Dimension.length(12.0f));
        nodeStyle.padding = new Rect<>(LengthPercentage.length(8.0f), LengthPercentage.length(4.0f), LengthPercentage.length(2.0f), LengthPercentage.length(6.0f));
        nodeStyle.border = new Rect<>(LengthPercentage.length(7.0f), LengthPercentage.length(3.0f), LengthPercentage.length(1.0f), LengthPercentage.length(5.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(22.0f, nodeLayout.size().width, "width of node");
        assertEquals(14.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(0.0f, node0Layout.size().width, "width of node0");
        assertEquals(0.0f, node0Layout.size().height, "height of node0");
        assertEquals(15.0f, node0Layout.location().x, "x of node0");
        assertEquals(3.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("grid_padding_border_overrides_container_size__border_box")
    void gridPaddingBorderOverridesContainerSizeBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.size = new Size<>(Dimension.length(12.0f), Dimension.length(12.0f));
        nodeStyle.padding = new Rect<>(LengthPercentage.length(8.0f), LengthPercentage.length(4.0f), LengthPercentage.length(2.0f), LengthPercentage.length(6.0f));
        nodeStyle.border = new Rect<>(LengthPercentage.length(7.0f), LengthPercentage.length(3.0f), LengthPercentage.length(1.0f), LengthPercentage.length(5.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(22.0f, nodeLayout.size().width, "width of node");
        assertEquals(14.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(0.0f, node0Layout.size().width, "width of node0");
        assertEquals(0.0f, node0Layout.size().height, "height of node0");
        assertEquals(15.0f, node0Layout.location().x, "x of node0");
        assertEquals(3.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("grid_padding_border_overrides_container_size__content_box")
    void gridPaddingBorderOverridesContainerSizeContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.size = new Size<>(Dimension.length(12.0f), Dimension.length(12.0f));
        nodeStyle.padding = new Rect<>(LengthPercentage.length(8.0f), LengthPercentage.length(4.0f), LengthPercentage.length(2.0f), LengthPercentage.length(6.0f));
        nodeStyle.border = new Rect<>(LengthPercentage.length(7.0f), LengthPercentage.length(3.0f), LengthPercentage.length(1.0f), LengthPercentage.length(5.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(34.0f, nodeLayout.size().width, "width of node");
        assertEquals(26.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(12.0f, node0Layout.size().width, "width of node0");
        assertEquals(12.0f, node0Layout.size().height, "height of node0");
        assertEquals(15.0f, node0Layout.location().x, "x of node0");
        assertEquals(3.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("grid_padding_border_overrides_max_size__border_box")
    void gridPaddingBorderOverridesMaxSizeBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.maxSize = new Size<>(Dimension.length(12.0f), Dimension.length(12.0f));
        node0Style.padding = new Rect<>(LengthPercentage.length(8.0f), LengthPercentage.length(4.0f), LengthPercentage.length(2.0f), LengthPercentage.length(6.0f));
        node0Style.border = new Rect<>(LengthPercentage.length(7.0f), LengthPercentage.length(3.0f), LengthPercentage.length(1.0f), LengthPercentage.length(5.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(22.0f, nodeLayout.size().width, "width of node");
        assertEquals(14.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(22.0f, node0Layout.size().width, "width of node0");
        assertEquals(14.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("grid_padding_border_overrides_max_size__content_box")
    void gridPaddingBorderOverridesMaxSizeContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.maxSize = new Size<>(Dimension.length(12.0f), Dimension.length(12.0f));
        node0Style.padding = new Rect<>(LengthPercentage.length(8.0f), LengthPercentage.length(4.0f), LengthPercentage.length(2.0f), LengthPercentage.length(6.0f));
        node0Style.border = new Rect<>(LengthPercentage.length(7.0f), LengthPercentage.length(3.0f), LengthPercentage.length(1.0f), LengthPercentage.length(5.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(22.0f, nodeLayout.size().width, "width of node");
        assertEquals(14.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(22.0f, node0Layout.size().width, "width of node0");
        assertEquals(14.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("grid_padding_border_overrides_min_size__border_box")
    void gridPaddingBorderOverridesMinSizeBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.minSize = new Size<>(Dimension.length(0.0f), Dimension.length(0.0f));
        node0Style.padding = new Rect<>(LengthPercentage.length(8.0f), LengthPercentage.length(4.0f), LengthPercentage.length(2.0f), LengthPercentage.length(6.0f));
        node0Style.border = new Rect<>(LengthPercentage.length(7.0f), LengthPercentage.length(3.0f), LengthPercentage.length(1.0f), LengthPercentage.length(5.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(22.0f, nodeLayout.size().width, "width of node");
        assertEquals(14.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(22.0f, node0Layout.size().width, "width of node0");
        assertEquals(14.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("grid_padding_border_overrides_min_size__content_box")
    void gridPaddingBorderOverridesMinSizeContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.minSize = new Size<>(Dimension.length(0.0f), Dimension.length(0.0f));
        node0Style.padding = new Rect<>(LengthPercentage.length(8.0f), LengthPercentage.length(4.0f), LengthPercentage.length(2.0f), LengthPercentage.length(6.0f));
        node0Style.border = new Rect<>(LengthPercentage.length(7.0f), LengthPercentage.length(3.0f), LengthPercentage.length(1.0f), LengthPercentage.length(5.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(22.0f, nodeLayout.size().width, "width of node");
        assertEquals(14.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(22.0f, node0Layout.size().width, "width of node0");
        assertEquals(14.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("grid_padding_border_overrides_size__border_box")
    void gridPaddingBorderOverridesSizeBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.length(12.0f), Dimension.length(12.0f));
        node0Style.padding = new Rect<>(LengthPercentage.length(8.0f), LengthPercentage.length(4.0f), LengthPercentage.length(2.0f), LengthPercentage.length(6.0f));
        node0Style.border = new Rect<>(LengthPercentage.length(7.0f), LengthPercentage.length(3.0f), LengthPercentage.length(1.0f), LengthPercentage.length(5.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(22.0f, nodeLayout.size().width, "width of node");
        assertEquals(14.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(22.0f, node0Layout.size().width, "width of node0");
        assertEquals(14.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("grid_padding_border_overrides_size__content_box")
    void gridPaddingBorderOverridesSizeContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.length(12.0f), Dimension.length(12.0f));
        node0Style.padding = new Rect<>(LengthPercentage.length(8.0f), LengthPercentage.length(4.0f), LengthPercentage.length(2.0f), LengthPercentage.length(6.0f));
        node0Style.border = new Rect<>(LengthPercentage.length(7.0f), LengthPercentage.length(3.0f), LengthPercentage.length(1.0f), LengthPercentage.length(5.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(34.0f, nodeLayout.size().width, "width of node");
        assertEquals(26.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(34.0f, node0Layout.size().width, "width of node0");
        assertEquals(26.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("grid_percent_item_inside_stretch_item__border_box")
    void gridPercentItemInsideStretchItemBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.display = Display.GRID;
        node00Style.size = new Size<>(Dimension.percent(0.5f), Dimension.AUTO);
        NodeId node00 = tree.newLeaf(node00Style);

        Style node0Style = new Style();
        node0Style.display = Display.GRID;
        NodeId node0 = tree.newWithChildren(node0Style, node00);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(100.0f, node0Layout.size().width, "width of node0");
        assertEquals(100.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(50.0f, node00Layout.size().width, "width of node00");
        assertEquals(100.0f, node00Layout.size().height, "height of node00");
        assertEquals(0.0f, node00Layout.location().x, "x of node00");
        assertEquals(0.0f, node00Layout.location().y, "y of node00");
    }

    @Test
    @DisplayName("grid_percent_item_inside_stretch_item__content_box")
    void gridPercentItemInsideStretchItemContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.boxSizing = BoxSizing.CONTENT_BOX;
        node00Style.display = Display.GRID;
        node00Style.size = new Size<>(Dimension.percent(0.5f), Dimension.AUTO);
        NodeId node00 = tree.newLeaf(node00Style);

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.display = Display.GRID;
        NodeId node0 = tree.newWithChildren(node0Style, node00);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(100.0f, node0Layout.size().width, "width of node0");
        assertEquals(100.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(50.0f, node00Layout.size().width, "width of node00");
        assertEquals(100.0f, node00Layout.size().height, "height of node00");
        assertEquals(0.0f, node00Layout.location().x, "x of node00");
        assertEquals(0.0f, node00Layout.location().y, "y of node00");
    }

    @Test
    @DisplayName("grid_percent_items_nested_inside_stretch_alignment__border_box")
    void gridPercentItemsNestedInsideStretchAlignmentBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.display = Display.GRID;
        node00Style.padding = new Rect<>(LengthPercentage.ZERO, LengthPercentage.ZERO, LengthPercentage.percent(0.2f), LengthPercentage.ZERO);
        NodeId node00 = tree.newLeaf(node00Style);

        Style node0Style = new Style();
        node0Style.display = Display.GRID;
        NodeId node0 = tree.newWithChildren(node0Style, node00);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.size = new Size<>(Dimension.length(200.0f), Dimension.AUTO);
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(200.0f, nodeLayout.size().width, "width of node");
        assertEquals(40.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(200.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(200.0f, node00Layout.size().width, "width of node00");
        assertEquals(40.0f, node00Layout.size().height, "height of node00");
        assertEquals(0.0f, node00Layout.location().x, "x of node00");
        assertEquals(0.0f, node00Layout.location().y, "y of node00");
    }

    @Test
    @DisplayName("grid_percent_items_nested_inside_stretch_alignment__content_box")
    void gridPercentItemsNestedInsideStretchAlignmentContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.boxSizing = BoxSizing.CONTENT_BOX;
        node00Style.display = Display.GRID;
        node00Style.padding = new Rect<>(LengthPercentage.ZERO, LengthPercentage.ZERO, LengthPercentage.percent(0.2f), LengthPercentage.ZERO);
        NodeId node00 = tree.newLeaf(node00Style);

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.display = Display.GRID;
        NodeId node0 = tree.newWithChildren(node0Style, node00);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.size = new Size<>(Dimension.length(200.0f), Dimension.AUTO);
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(200.0f, nodeLayout.size().width, "width of node");
        assertEquals(40.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(200.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(200.0f, node00Layout.size().width, "width of node00");
        assertEquals(40.0f, node00Layout.size().height, "height of node00");
        assertEquals(0.0f, node00Layout.location().x, "x of node00");
        assertEquals(0.0f, node00Layout.location().y, "y of node00");
    }

    @Test
    @DisplayName("grid_percent_items_nested_moderate__border_box")
    void gridPercentItemsNestedModerateBorderBox() {
        TaffyTree tree = new TaffyTree();
        tree.disableRounding();

        Style node00Style = new Style();
        node00Style.size = new Size<>(Dimension.percent(0.45f), Dimension.AUTO);
        node00Style.margin = new Rect<>(LengthPercentageAuto.percent(0.05f), LengthPercentageAuto.percent(0.05f), LengthPercentageAuto.percent(0.05f), LengthPercentageAuto.percent(0.05f));
        node00Style.padding = new Rect<>(LengthPercentage.length(3.0f), LengthPercentage.length(3.0f), LengthPercentage.length(3.0f), LengthPercentage.length(3.0f));
        NodeId node00 = tree.newLeaf(node00Style);

        Style node0Style = new Style();
        node0Style.display = Display.GRID;
        node0Style.size = new Size<>(Dimension.percent(0.5f), Dimension.AUTO);
        node0Style.margin = new Rect<>(LengthPercentageAuto.length(5.0f), LengthPercentageAuto.length(5.0f), LengthPercentageAuto.length(5.0f), LengthPercentageAuto.length(5.0f));
        node0Style.padding = new Rect<>(LengthPercentage.percent(0.03f), LengthPercentage.percent(0.03f), LengthPercentage.percent(0.03f), LengthPercentage.percent(0.03f));
        NodeId node0 = tree.newWithChildren(node0Style, node00);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.size = new Size<>(Dimension.length(200.0f), Dimension.AUTO);
        nodeStyle.padding = new Rect<>(LengthPercentage.length(3.0f), LengthPercentage.length(3.0f), LengthPercentage.length(3.0f), LengthPercentage.length(3.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(200.0f, nodeLayout.size().width, EPSILON, "width of node");
        assertEquals(42.15625f, nodeLayout.size().height, EPSILON, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, EPSILON, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, EPSILON, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(97.0f, node0Layout.size().width, EPSILON, "width of node0");
        assertEquals(26.15625f, node0Layout.size().height, EPSILON, "height of node0");
        assertEquals(8.0f, node0Layout.location().x, EPSILON, "x of node0");
        assertEquals(8.0f, node0Layout.location().y, EPSILON, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(38.40625f, node00Layout.size().width, EPSILON, "width of node00");
        assertEquals(6.0f, node00Layout.size().height, EPSILON, "height of node00");
        assertEquals(10.078125f, node00Layout.location().x, EPSILON, "x of node00");
        assertEquals(10.078125f, node00Layout.location().y, EPSILON, "y of node00");
    }

    @Test
    @DisplayName("grid_percent_items_nested_moderate__content_box")
    void gridPercentItemsNestedModerateContentBox() {
        TaffyTree tree = new TaffyTree();
        tree.disableRounding();

        Style node00Style = new Style();
        node00Style.boxSizing = BoxSizing.CONTENT_BOX;
        node00Style.size = new Size<>(Dimension.percent(0.45f), Dimension.AUTO);
        node00Style.margin = new Rect<>(LengthPercentageAuto.percent(0.05f), LengthPercentageAuto.percent(0.05f), LengthPercentageAuto.percent(0.05f), LengthPercentageAuto.percent(0.05f));
        node00Style.padding = new Rect<>(LengthPercentage.length(3.0f), LengthPercentage.length(3.0f), LengthPercentage.length(3.0f), LengthPercentage.length(3.0f));
        NodeId node00 = tree.newLeaf(node00Style);

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.display = Display.GRID;
        node0Style.size = new Size<>(Dimension.percent(0.5f), Dimension.AUTO);
        node0Style.margin = new Rect<>(LengthPercentageAuto.length(5.0f), LengthPercentageAuto.length(5.0f), LengthPercentageAuto.length(5.0f), LengthPercentageAuto.length(5.0f));
        node0Style.padding = new Rect<>(LengthPercentage.percent(0.03f), LengthPercentage.percent(0.03f), LengthPercentage.percent(0.03f), LengthPercentage.percent(0.03f));
        NodeId node0 = tree.newWithChildren(node0Style, node00);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.size = new Size<>(Dimension.length(200.0f), Dimension.AUTO);
        nodeStyle.padding = new Rect<>(LengthPercentage.length(3.0f), LengthPercentage.length(3.0f), LengthPercentage.length(3.0f), LengthPercentage.length(3.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(206.0f, nodeLayout.size().width, EPSILON, "width of node");
        assertEquals(44.0f, nodeLayout.size().height, EPSILON, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, EPSILON, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, EPSILON, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(112.0f, node0Layout.size().width, EPSILON, "width of node0");
        assertEquals(28.0f, node0Layout.size().height, EPSILON, "height of node0");
        assertEquals(8.0f, node0Layout.location().x, EPSILON, "x of node0");
        assertEquals(8.0f, node0Layout.location().y, EPSILON, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(51.0f, node00Layout.size().width, EPSILON, "width of node00");
        assertEquals(6.0f, node00Layout.size().height, EPSILON, "height of node00");
        assertEquals(11.0f, node00Layout.location().x, EPSILON, "x of node00");
        assertEquals(11.0f, node00Layout.location().y, EPSILON, "y of node00");
    }

    @Test
    @DisplayName("grid_percent_items_nested_with_margin__border_box")
    void gridPercentItemsNestedWithMarginBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.size = new Size<>(Dimension.percent(0.45f), Dimension.AUTO);
        node00Style.margin = new Rect<>(LengthPercentageAuto.percent(0.05f), LengthPercentageAuto.percent(0.05f), LengthPercentageAuto.percent(0.05f), LengthPercentageAuto.percent(0.05f));
        NodeId node00 = tree.newLeaf(node00Style);

        Style node0Style = new Style();
        node0Style.display = Display.GRID;
        node0Style.size = new Size<>(Dimension.percent(0.5f), Dimension.AUTO);
        NodeId node0 = tree.newWithChildren(node0Style, node00);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.size = new Size<>(Dimension.length(200.0f), Dimension.AUTO);
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(200.0f, nodeLayout.size().width, "width of node");
        assertEquals(10.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(100.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(45.0f, node00Layout.size().width, "width of node00");
        assertEquals(0.0f, node00Layout.size().height, "height of node00");
        assertEquals(5.0f, node00Layout.location().x, "x of node00");
        assertEquals(5.0f, node00Layout.location().y, "y of node00");
    }

    @Test
    @DisplayName("grid_percent_items_nested_with_margin__content_box")
    void gridPercentItemsNestedWithMarginContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node00Style = new Style();
        node00Style.boxSizing = BoxSizing.CONTENT_BOX;
        node00Style.size = new Size<>(Dimension.percent(0.45f), Dimension.AUTO);
        node00Style.margin = new Rect<>(LengthPercentageAuto.percent(0.05f), LengthPercentageAuto.percent(0.05f), LengthPercentageAuto.percent(0.05f), LengthPercentageAuto.percent(0.05f));
        NodeId node00 = tree.newLeaf(node00Style);

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.display = Display.GRID;
        node0Style.size = new Size<>(Dimension.percent(0.5f), Dimension.AUTO);
        NodeId node0 = tree.newWithChildren(node0Style, node00);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.size = new Size<>(Dimension.length(200.0f), Dimension.AUTO);
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(200.0f, nodeLayout.size().width, "width of node");
        assertEquals(10.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(100.0f, node0Layout.size().width, "width of node0");
        assertEquals(10.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(45.0f, node00Layout.size().width, "width of node00");
        assertEquals(0.0f, node00Layout.size().height, "height of node00");
        assertEquals(5.0f, node00Layout.location().x, "x of node00");
        assertEquals(5.0f, node00Layout.location().y, "y of node00");
    }

    @Test
    @DisplayName("grid_percent_items_nested_with_padding_margin__border_box")
    void gridPercentItemsNestedWithPaddingMarginBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node000Style = new Style();
        node000Style.size = new Size<>(Dimension.percent(0.45f), Dimension.AUTO);
        node000Style.margin = new Rect<>(LengthPercentageAuto.percent(0.05f), LengthPercentageAuto.percent(0.05f), LengthPercentageAuto.percent(0.05f), LengthPercentageAuto.percent(0.05f));
        node000Style.padding = new Rect<>(LengthPercentage.length(3.0f), LengthPercentage.length(3.0f), LengthPercentage.length(3.0f), LengthPercentage.length(3.0f));
        NodeId node000 = tree.newLeaf(node000Style);

        Style node00Style = new Style();
        node00Style.display = Display.GRID;
        node00Style.size = new Size<>(Dimension.percent(0.5f), Dimension.AUTO);
        node00Style.margin = new Rect<>(LengthPercentageAuto.length(5.0f), LengthPercentageAuto.length(5.0f), LengthPercentageAuto.length(5.0f), LengthPercentageAuto.length(5.0f));
        node00Style.padding = new Rect<>(LengthPercentage.percent(0.03f), LengthPercentage.percent(0.03f), LengthPercentage.percent(0.03f), LengthPercentage.percent(0.03f));
        NodeId node00 = tree.newWithChildren(node00Style, node000);

        Style node0Style = new Style();
        node0Style.display = Display.GRID;
        node0Style.minSize = new Size<>(Dimension.percent(0.6f), Dimension.AUTO);
        node0Style.margin = new Rect<>(LengthPercentageAuto.length(5.0f), LengthPercentageAuto.length(5.0f), LengthPercentageAuto.length(5.0f), LengthPercentageAuto.length(5.0f));
        node0Style.padding = new Rect<>(LengthPercentage.length(3.0f), LengthPercentage.length(3.0f), LengthPercentage.length(3.0f), LengthPercentage.length(3.0f));
        NodeId node0 = tree.newWithChildren(node0Style, node00);

        Style node1Style = new Style();
        NodeId node1 = tree.newLeaf(node1Style);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.size = new Size<>(Dimension.length(200.0f), Dimension.length(200.0f));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fr(1.0f));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fr(4.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(200.0f, nodeLayout.size().width, "width of node");
        assertEquals(200.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(190.0f, node0Layout.size().width, "width of node0");
        assertEquals(41.0f, node0Layout.size().height, "height of node0");
        assertEquals(5.0f, node0Layout.location().x, "x of node0");
        assertEquals(5.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(92.0f, node00Layout.size().width, "width of node00");
        assertEquals(25.0f, node00Layout.size().height, "height of node00");
        assertEquals(8.0f, node00Layout.location().x, "x of node00");
        assertEquals(8.0f, node00Layout.location().y, "y of node00");
        Layout node000Layout = tree.getLayout(node000);
        assertEquals(36.0f, node000Layout.size().width, "width of node000");
        assertEquals(6.0f, node000Layout.size().height, "height of node000");
        assertEquals(10.0f, node000Layout.location().x, "x of node000");
        assertEquals(10.0f, node000Layout.location().y, "y of node000");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(200.0f, node1Layout.size().width, "width of node1");
        assertEquals(149.0f, node1Layout.size().height, "height of node1");
        assertEquals(0.0f, node1Layout.location().x, "x of node1");
        assertEquals(51.0f, node1Layout.location().y, "y of node1");
    }

    @Test
    @DisplayName("grid_percent_items_nested_with_padding_margin__content_box")
    void gridPercentItemsNestedWithPaddingMarginContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node000Style = new Style();
        node000Style.boxSizing = BoxSizing.CONTENT_BOX;
        node000Style.size = new Size<>(Dimension.percent(0.45f), Dimension.AUTO);
        node000Style.margin = new Rect<>(LengthPercentageAuto.percent(0.05f), LengthPercentageAuto.percent(0.05f), LengthPercentageAuto.percent(0.05f), LengthPercentageAuto.percent(0.05f));
        node000Style.padding = new Rect<>(LengthPercentage.length(3.0f), LengthPercentage.length(3.0f), LengthPercentage.length(3.0f), LengthPercentage.length(3.0f));
        NodeId node000 = tree.newLeaf(node000Style);

        Style node00Style = new Style();
        node00Style.boxSizing = BoxSizing.CONTENT_BOX;
        node00Style.display = Display.GRID;
        node00Style.size = new Size<>(Dimension.percent(0.5f), Dimension.AUTO);
        node00Style.margin = new Rect<>(LengthPercentageAuto.length(5.0f), LengthPercentageAuto.length(5.0f), LengthPercentageAuto.length(5.0f), LengthPercentageAuto.length(5.0f));
        node00Style.padding = new Rect<>(LengthPercentage.percent(0.03f), LengthPercentage.percent(0.03f), LengthPercentage.percent(0.03f), LengthPercentage.percent(0.03f));
        NodeId node00 = tree.newWithChildren(node00Style, node000);

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.display = Display.GRID;
        node0Style.minSize = new Size<>(Dimension.percent(0.6f), Dimension.AUTO);
        node0Style.margin = new Rect<>(LengthPercentageAuto.length(5.0f), LengthPercentageAuto.length(5.0f), LengthPercentageAuto.length(5.0f), LengthPercentageAuto.length(5.0f));
        node0Style.padding = new Rect<>(LengthPercentage.length(3.0f), LengthPercentage.length(3.0f), LengthPercentage.length(3.0f), LengthPercentage.length(3.0f));
        NodeId node0 = tree.newWithChildren(node0Style, node00);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node1 = tree.newLeaf(node1Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.size = new Size<>(Dimension.length(200.0f), Dimension.length(200.0f));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fr(1.0f));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fr(4.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(200.0f, nodeLayout.size().width, "width of node");
        assertEquals(200.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(190.0f, node0Layout.size().width, "width of node0");
        assertEquals(42.0f, node0Layout.size().height, "height of node0");
        assertEquals(5.0f, node0Layout.location().x, "x of node0");
        assertEquals(5.0f, node0Layout.location().y, "y of node0");
        Layout node00Layout = tree.getLayout(node00);
        assertEquals(103.0f, node00Layout.size().width, "width of node00");
        assertEquals(26.0f, node00Layout.size().height, "height of node00");
        assertEquals(8.0f, node00Layout.location().x, "x of node00");
        assertEquals(8.0f, node00Layout.location().y, "y of node00");
        Layout node000Layout = tree.getLayout(node000);
        assertEquals(48.0f, node000Layout.size().width, "width of node000");
        assertEquals(6.0f, node000Layout.size().height, "height of node000");
        assertEquals(10.0f, node000Layout.location().x, "x of node000");
        assertEquals(10.0f, node000Layout.location().y, "y of node000");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(200.0f, node1Layout.size().width, "width of node1");
        assertEquals(148.0f, node1Layout.size().height, "height of node1");
        assertEquals(0.0f, node1Layout.location().x, "x of node1");
        assertEquals(52.0f, node1Layout.location().y, "y of node1");
    }

    @Test
    @DisplayName("grid_percent_items_width_and_margin__border_box")
    void gridPercentItemsWidthAndMarginBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.percent(0.45f), Dimension.AUTO);
        node0Style.margin = new Rect<>(LengthPercentageAuto.percent(0.05f), LengthPercentageAuto.percent(0.05f), LengthPercentageAuto.percent(0.05f), LengthPercentageAuto.percent(0.05f));
        node0Style.padding = new Rect<>(LengthPercentage.length(3.0f), LengthPercentage.length(3.0f), LengthPercentage.length(3.0f), LengthPercentage.length(3.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.size = new Size<>(Dimension.length(200.0f), Dimension.AUTO);
        nodeStyle.padding = new Rect<>(LengthPercentage.length(3.0f), LengthPercentage.length(3.0f), LengthPercentage.length(3.0f), LengthPercentage.length(3.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(200.0f, nodeLayout.size().width, "width of node");
        assertEquals(31.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(87.0f, node0Layout.size().width, "width of node0");
        assertEquals(6.0f, node0Layout.size().height, "height of node0");
        assertEquals(13.0f, node0Layout.location().x, "x of node0");
        assertEquals(13.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("grid_percent_items_width_and_margin__content_box")
    void gridPercentItemsWidthAndMarginContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.percent(0.45f), Dimension.AUTO);
        node0Style.margin = new Rect<>(LengthPercentageAuto.percent(0.05f), LengthPercentageAuto.percent(0.05f), LengthPercentageAuto.percent(0.05f), LengthPercentageAuto.percent(0.05f));
        node0Style.padding = new Rect<>(LengthPercentage.length(3.0f), LengthPercentage.length(3.0f), LengthPercentage.length(3.0f), LengthPercentage.length(3.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.size = new Size<>(Dimension.length(200.0f), Dimension.AUTO);
        nodeStyle.padding = new Rect<>(LengthPercentage.length(3.0f), LengthPercentage.length(3.0f), LengthPercentage.length(3.0f), LengthPercentage.length(3.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(206.0f, nodeLayout.size().width, "width of node");
        assertEquals(32.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(96.0f, node0Layout.size().width, "width of node0");
        assertEquals(6.0f, node0Layout.size().height, "height of node0");
        assertEquals(13.0f, node0Layout.location().x, "x of node0");
        assertEquals(13.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("grid_percent_items_width_and_padding__border_box")
    void gridPercentItemsWidthAndPaddingBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.percent(0.5f), Dimension.AUTO);
        node0Style.padding = new Rect<>(LengthPercentage.percent(0.03f), LengthPercentage.percent(0.03f), LengthPercentage.percent(0.03f), LengthPercentage.percent(0.03f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.size = new Size<>(Dimension.length(200.0f), Dimension.AUTO);
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(200.0f, nodeLayout.size().width, "width of node");
        assertEquals(12.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(100.0f, node0Layout.size().width, "width of node0");
        assertEquals(12.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("grid_percent_items_width_and_padding__content_box")
    void gridPercentItemsWidthAndPaddingContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.percent(0.5f), Dimension.AUTO);
        node0Style.padding = new Rect<>(LengthPercentage.percent(0.03f), LengthPercentage.percent(0.03f), LengthPercentage.percent(0.03f), LengthPercentage.percent(0.03f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.size = new Size<>(Dimension.length(200.0f), Dimension.AUTO);
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(200.0f, nodeLayout.size().width, "width of node");
        assertEquals(12.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(112.0f, node0Layout.size().width, "width of node0");
        assertEquals(12.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("grid_percent_tracks_definite_overflow__border_box")
    void gridPercentTracksDefiniteOverflowBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        NodeId node4 = tree.newLeaf(node4Style);

        Style node5Style = new Style();
        NodeId node5 = tree.newLeaf(node5Style);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.size = new Size<>(Dimension.length(120.0f), Dimension.length(60.0f));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.percent(0.4f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.percent(0.4f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.percent(0.4f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.percent(0.5f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.percent(0.8f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(120.0f, nodeLayout.size().width, "width of node");
        assertEquals(60.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(48.0f, node0Layout.size().width, "width of node0");
        assertEquals(30.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(48.0f, node1Layout.size().width, "width of node1");
        assertEquals(30.0f, node1Layout.size().height, "height of node1");
        assertEquals(48.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(48.0f, node2Layout.size().width, "width of node2");
        assertEquals(30.0f, node2Layout.size().height, "height of node2");
        assertEquals(96.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(48.0f, node3Layout.size().width, "width of node3");
        assertEquals(48.0f, node3Layout.size().height, "height of node3");
        assertEquals(0.0f, node3Layout.location().x, "x of node3");
        assertEquals(30.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(48.0f, node4Layout.size().width, "width of node4");
        assertEquals(48.0f, node4Layout.size().height, "height of node4");
        assertEquals(48.0f, node4Layout.location().x, "x of node4");
        assertEquals(30.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(48.0f, node5Layout.size().width, "width of node5");
        assertEquals(48.0f, node5Layout.size().height, "height of node5");
        assertEquals(96.0f, node5Layout.location().x, "x of node5");
        assertEquals(30.0f, node5Layout.location().y, "y of node5");
    }

    @Test
    @DisplayName("grid_percent_tracks_definite_overflow__content_box")
    void gridPercentTracksDefiniteOverflowContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        node3Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        node4Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node4 = tree.newLeaf(node4Style);

        Style node5Style = new Style();
        node5Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node5 = tree.newLeaf(node5Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.size = new Size<>(Dimension.length(120.0f), Dimension.length(60.0f));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.percent(0.4f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.percent(0.4f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.percent(0.4f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.percent(0.5f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.percent(0.8f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(120.0f, nodeLayout.size().width, "width of node");
        assertEquals(60.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(48.0f, node0Layout.size().width, "width of node0");
        assertEquals(30.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(48.0f, node1Layout.size().width, "width of node1");
        assertEquals(30.0f, node1Layout.size().height, "height of node1");
        assertEquals(48.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(48.0f, node2Layout.size().width, "width of node2");
        assertEquals(30.0f, node2Layout.size().height, "height of node2");
        assertEquals(96.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(48.0f, node3Layout.size().width, "width of node3");
        assertEquals(48.0f, node3Layout.size().height, "height of node3");
        assertEquals(0.0f, node3Layout.location().x, "x of node3");
        assertEquals(30.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(48.0f, node4Layout.size().width, "width of node4");
        assertEquals(48.0f, node4Layout.size().height, "height of node4");
        assertEquals(48.0f, node4Layout.location().x, "x of node4");
        assertEquals(30.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(48.0f, node5Layout.size().width, "width of node5");
        assertEquals(48.0f, node5Layout.size().height, "height of node5");
        assertEquals(96.0f, node5Layout.location().x, "x of node5");
        assertEquals(30.0f, node5Layout.location().y, "y of node5");
    }

    @Test
    @DisplayName("grid_percent_tracks_definite_underflow__border_box")
    void gridPercentTracksDefiniteUnderflowBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        NodeId node4 = tree.newLeaf(node4Style);

        Style node5Style = new Style();
        NodeId node5 = tree.newLeaf(node5Style);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.size = new Size<>(Dimension.length(120.0f), Dimension.length(60.0f));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.percent(0.1f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.percent(0.2f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.percent(0.3f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.percent(0.3f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.percent(0.6f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(120.0f, nodeLayout.size().width, "width of node");
        assertEquals(60.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(12.0f, node0Layout.size().width, "width of node0");
        assertEquals(18.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(24.0f, node1Layout.size().width, "width of node1");
        assertEquals(18.0f, node1Layout.size().height, "height of node1");
        assertEquals(12.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(36.0f, node2Layout.size().width, "width of node2");
        assertEquals(18.0f, node2Layout.size().height, "height of node2");
        assertEquals(36.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(12.0f, node3Layout.size().width, "width of node3");
        assertEquals(36.0f, node3Layout.size().height, "height of node3");
        assertEquals(0.0f, node3Layout.location().x, "x of node3");
        assertEquals(18.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(24.0f, node4Layout.size().width, "width of node4");
        assertEquals(36.0f, node4Layout.size().height, "height of node4");
        assertEquals(12.0f, node4Layout.location().x, "x of node4");
        assertEquals(18.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(36.0f, node5Layout.size().width, "width of node5");
        assertEquals(36.0f, node5Layout.size().height, "height of node5");
        assertEquals(36.0f, node5Layout.location().x, "x of node5");
        assertEquals(18.0f, node5Layout.location().y, "y of node5");
    }

    @Test
    @DisplayName("grid_percent_tracks_definite_underflow__content_box")
    void gridPercentTracksDefiniteUnderflowContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        node3Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        node4Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node4 = tree.newLeaf(node4Style);

        Style node5Style = new Style();
        node5Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node5 = tree.newLeaf(node5Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.size = new Size<>(Dimension.length(120.0f), Dimension.length(60.0f));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.percent(0.1f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.percent(0.2f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.percent(0.3f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.percent(0.3f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.percent(0.6f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(120.0f, nodeLayout.size().width, "width of node");
        assertEquals(60.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(12.0f, node0Layout.size().width, "width of node0");
        assertEquals(18.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(24.0f, node1Layout.size().width, "width of node1");
        assertEquals(18.0f, node1Layout.size().height, "height of node1");
        assertEquals(12.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(36.0f, node2Layout.size().width, "width of node2");
        assertEquals(18.0f, node2Layout.size().height, "height of node2");
        assertEquals(36.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(12.0f, node3Layout.size().width, "width of node3");
        assertEquals(36.0f, node3Layout.size().height, "height of node3");
        assertEquals(0.0f, node3Layout.location().x, "x of node3");
        assertEquals(18.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(24.0f, node4Layout.size().width, "width of node4");
        assertEquals(36.0f, node4Layout.size().height, "height of node4");
        assertEquals(12.0f, node4Layout.location().x, "x of node4");
        assertEquals(18.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(36.0f, node5Layout.size().width, "width of node5");
        assertEquals(36.0f, node5Layout.size().height, "height of node5");
        assertEquals(36.0f, node5Layout.location().x, "x of node5");
        assertEquals(18.0f, node5Layout.location().y, "y of node5");
    }

    @Test
    @DisplayName("grid_percent_tracks_indefinite_only__border_box")
    void gridPercentTracksIndefiniteOnlyBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        NodeId node4 = tree.newLeaf(node4Style);

        Style node5Style = new Style();
        NodeId node5 = tree.newLeaf(node5Style);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.percent(0.1f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.percent(0.2f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.percent(0.3f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.percent(0.3f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.percent(0.6f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(0.0f, nodeLayout.size().width, "width of node");
        assertEquals(0.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(0.0f, node0Layout.size().width, "width of node0");
        assertEquals(0.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(0.0f, node1Layout.size().width, "width of node1");
        assertEquals(0.0f, node1Layout.size().height, "height of node1");
        assertEquals(0.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(0.0f, node2Layout.size().width, "width of node2");
        assertEquals(0.0f, node2Layout.size().height, "height of node2");
        assertEquals(0.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(0.0f, node3Layout.size().width, "width of node3");
        assertEquals(0.0f, node3Layout.size().height, "height of node3");
        assertEquals(0.0f, node3Layout.location().x, "x of node3");
        assertEquals(0.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(0.0f, node4Layout.size().width, "width of node4");
        assertEquals(0.0f, node4Layout.size().height, "height of node4");
        assertEquals(0.0f, node4Layout.location().x, "x of node4");
        assertEquals(0.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(0.0f, node5Layout.size().width, "width of node5");
        assertEquals(0.0f, node5Layout.size().height, "height of node5");
        assertEquals(0.0f, node5Layout.location().x, "x of node5");
        assertEquals(0.0f, node5Layout.location().y, "y of node5");
    }

    @Test
    @DisplayName("grid_percent_tracks_indefinite_only__content_box")
    void gridPercentTracksIndefiniteOnlyContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        node3Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        node4Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node4 = tree.newLeaf(node4Style);

        Style node5Style = new Style();
        node5Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node5 = tree.newLeaf(node5Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.percent(0.1f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.percent(0.2f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.percent(0.3f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.percent(0.3f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.percent(0.6f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(0.0f, nodeLayout.size().width, "width of node");
        assertEquals(0.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(0.0f, node0Layout.size().width, "width of node0");
        assertEquals(0.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(0.0f, node1Layout.size().width, "width of node1");
        assertEquals(0.0f, node1Layout.size().height, "height of node1");
        assertEquals(0.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(0.0f, node2Layout.size().width, "width of node2");
        assertEquals(0.0f, node2Layout.size().height, "height of node2");
        assertEquals(0.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(0.0f, node3Layout.size().width, "width of node3");
        assertEquals(0.0f, node3Layout.size().height, "height of node3");
        assertEquals(0.0f, node3Layout.location().x, "x of node3");
        assertEquals(0.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(0.0f, node4Layout.size().width, "width of node4");
        assertEquals(0.0f, node4Layout.size().height, "height of node4");
        assertEquals(0.0f, node4Layout.location().x, "x of node4");
        assertEquals(0.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(0.0f, node5Layout.size().width, "width of node5");
        assertEquals(0.0f, node5Layout.size().height, "height of node5");
        assertEquals(0.0f, node5Layout.location().x, "x of node5");
        assertEquals(0.0f, node5Layout.location().y, "y of node5");
    }

    @Test
    @DisplayName("grid_percent_tracks_indefinite_with_content_overflow__border_box")
    void gridPercentTracksIndefiniteWithContentOverflowBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        node0Style.gridRow = new Line<>(GridPlacement.line(1), GridPlacement.auto());
        node0Style.gridColumn = new Line<>(GridPlacement.line(1), GridPlacement.auto());
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.gridRow = new Line<>(GridPlacement.line(1), GridPlacement.auto());
        node1Style.gridColumn = new Line<>(GridPlacement.line(1), GridPlacement.auto());
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        NodeId node4 = tree.newLeaf(node4Style);

        Style node5Style = new Style();
        NodeId node5 = tree.newLeaf(node5Style);

        Style node6Style = new Style();
        NodeId node6 = tree.newLeaf(node6Style);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.percent(0.4f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.percent(0.4f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.percent(0.4f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.percent(0.5f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.percent(0.8f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5, node6);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(100.0f, node0Layout.size().width, "width of node0");
        assertEquals(100.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(40.0f, node1Layout.size().width, "width of node1");
        assertEquals(50.0f, node1Layout.size().height, "height of node1");
        assertEquals(0.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(40.0f, node2Layout.size().width, "width of node2");
        assertEquals(50.0f, node2Layout.size().height, "height of node2");
        assertEquals(40.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(40.0f, node3Layout.size().width, "width of node3");
        assertEquals(50.0f, node3Layout.size().height, "height of node3");
        assertEquals(80.0f, node3Layout.location().x, "x of node3");
        assertEquals(0.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(40.0f, node4Layout.size().width, "width of node4");
        assertEquals(80.0f, node4Layout.size().height, "height of node4");
        assertEquals(0.0f, node4Layout.location().x, "x of node4");
        assertEquals(50.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(40.0f, node5Layout.size().width, "width of node5");
        assertEquals(80.0f, node5Layout.size().height, "height of node5");
        assertEquals(40.0f, node5Layout.location().x, "x of node5");
        assertEquals(50.0f, node5Layout.location().y, "y of node5");
        Layout node6Layout = tree.getLayout(node6);
        assertEquals(40.0f, node6Layout.size().width, "width of node6");
        assertEquals(80.0f, node6Layout.size().height, "height of node6");
        assertEquals(80.0f, node6Layout.location().x, "x of node6");
        assertEquals(50.0f, node6Layout.location().y, "y of node6");
    }

    @Test
    @DisplayName("grid_percent_tracks_indefinite_with_content_overflow__content_box")
    void gridPercentTracksIndefiniteWithContentOverflowContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        node0Style.gridRow = new Line<>(GridPlacement.line(1), GridPlacement.auto());
        node0Style.gridColumn = new Line<>(GridPlacement.line(1), GridPlacement.auto());
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.gridRow = new Line<>(GridPlacement.line(1), GridPlacement.auto());
        node1Style.gridColumn = new Line<>(GridPlacement.line(1), GridPlacement.auto());
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        node3Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        node4Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node4 = tree.newLeaf(node4Style);

        Style node5Style = new Style();
        node5Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node5 = tree.newLeaf(node5Style);

        Style node6Style = new Style();
        node6Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node6 = tree.newLeaf(node6Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.percent(0.4f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.percent(0.4f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.percent(0.4f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.percent(0.5f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.percent(0.8f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5, node6);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(100.0f, node0Layout.size().width, "width of node0");
        assertEquals(100.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(40.0f, node1Layout.size().width, "width of node1");
        assertEquals(50.0f, node1Layout.size().height, "height of node1");
        assertEquals(0.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(40.0f, node2Layout.size().width, "width of node2");
        assertEquals(50.0f, node2Layout.size().height, "height of node2");
        assertEquals(40.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(40.0f, node3Layout.size().width, "width of node3");
        assertEquals(50.0f, node3Layout.size().height, "height of node3");
        assertEquals(80.0f, node3Layout.location().x, "x of node3");
        assertEquals(0.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(40.0f, node4Layout.size().width, "width of node4");
        assertEquals(80.0f, node4Layout.size().height, "height of node4");
        assertEquals(0.0f, node4Layout.location().x, "x of node4");
        assertEquals(50.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(40.0f, node5Layout.size().width, "width of node5");
        assertEquals(80.0f, node5Layout.size().height, "height of node5");
        assertEquals(40.0f, node5Layout.location().x, "x of node5");
        assertEquals(50.0f, node5Layout.location().y, "y of node5");
        Layout node6Layout = tree.getLayout(node6);
        assertEquals(40.0f, node6Layout.size().width, "width of node6");
        assertEquals(80.0f, node6Layout.size().height, "height of node6");
        assertEquals(80.0f, node6Layout.location().x, "x of node6");
        assertEquals(50.0f, node6Layout.location().y, "y of node6");
    }

    @Test
    @DisplayName("grid_percent_tracks_indefinite_with_content_underflow__border_box")
    void gridPercentTracksIndefiniteWithContentUnderflowBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        node0Style.gridRow = new Line<>(GridPlacement.line(1), GridPlacement.auto());
        node0Style.gridColumn = new Line<>(GridPlacement.line(1), GridPlacement.auto());
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.gridRow = new Line<>(GridPlacement.line(1), GridPlacement.auto());
        node1Style.gridColumn = new Line<>(GridPlacement.line(1), GridPlacement.auto());
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        NodeId node4 = tree.newLeaf(node4Style);

        Style node5Style = new Style();
        NodeId node5 = tree.newLeaf(node5Style);

        Style node6Style = new Style();
        NodeId node6 = tree.newLeaf(node6Style);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.percent(0.1f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.percent(0.2f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.percent(0.3f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.percent(0.3f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.percent(0.6f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5, node6);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(100.0f, node0Layout.size().width, "width of node0");
        assertEquals(100.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(10.0f, node1Layout.size().width, "width of node1");
        assertEquals(30.0f, node1Layout.size().height, "height of node1");
        assertEquals(0.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(20.0f, node2Layout.size().width, "width of node2");
        assertEquals(30.0f, node2Layout.size().height, "height of node2");
        assertEquals(10.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(30.0f, node3Layout.size().width, "width of node3");
        assertEquals(30.0f, node3Layout.size().height, "height of node3");
        assertEquals(30.0f, node3Layout.location().x, "x of node3");
        assertEquals(0.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(10.0f, node4Layout.size().width, "width of node4");
        assertEquals(60.0f, node4Layout.size().height, "height of node4");
        assertEquals(0.0f, node4Layout.location().x, "x of node4");
        assertEquals(30.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(20.0f, node5Layout.size().width, "width of node5");
        assertEquals(60.0f, node5Layout.size().height, "height of node5");
        assertEquals(10.0f, node5Layout.location().x, "x of node5");
        assertEquals(30.0f, node5Layout.location().y, "y of node5");
        Layout node6Layout = tree.getLayout(node6);
        assertEquals(30.0f, node6Layout.size().width, "width of node6");
        assertEquals(60.0f, node6Layout.size().height, "height of node6");
        assertEquals(30.0f, node6Layout.location().x, "x of node6");
        assertEquals(30.0f, node6Layout.location().y, "y of node6");
    }

    @Test
    @DisplayName("grid_percent_tracks_indefinite_with_content_underflow__content_box")
    void gridPercentTracksIndefiniteWithContentUnderflowContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        node0Style.gridRow = new Line<>(GridPlacement.line(1), GridPlacement.auto());
        node0Style.gridColumn = new Line<>(GridPlacement.line(1), GridPlacement.auto());
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.gridRow = new Line<>(GridPlacement.line(1), GridPlacement.auto());
        node1Style.gridColumn = new Line<>(GridPlacement.line(1), GridPlacement.auto());
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        node3Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        node4Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node4 = tree.newLeaf(node4Style);

        Style node5Style = new Style();
        node5Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node5 = tree.newLeaf(node5Style);

        Style node6Style = new Style();
        node6Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node6 = tree.newLeaf(node6Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.percent(0.1f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.percent(0.2f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.percent(0.3f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.percent(0.3f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.percent(0.6f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5, node6);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(100.0f, node0Layout.size().width, "width of node0");
        assertEquals(100.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(10.0f, node1Layout.size().width, "width of node1");
        assertEquals(30.0f, node1Layout.size().height, "height of node1");
        assertEquals(0.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(20.0f, node2Layout.size().width, "width of node2");
        assertEquals(30.0f, node2Layout.size().height, "height of node2");
        assertEquals(10.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(30.0f, node3Layout.size().width, "width of node3");
        assertEquals(30.0f, node3Layout.size().height, "height of node3");
        assertEquals(30.0f, node3Layout.location().x, "x of node3");
        assertEquals(0.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(10.0f, node4Layout.size().width, "width of node4");
        assertEquals(60.0f, node4Layout.size().height, "height of node4");
        assertEquals(0.0f, node4Layout.location().x, "x of node4");
        assertEquals(30.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(20.0f, node5Layout.size().width, "width of node5");
        assertEquals(60.0f, node5Layout.size().height, "height of node5");
        assertEquals(10.0f, node5Layout.location().x, "x of node5");
        assertEquals(30.0f, node5Layout.location().y, "y of node5");
        Layout node6Layout = tree.getLayout(node6);
        assertEquals(30.0f, node6Layout.size().width, "width of node6");
        assertEquals(60.0f, node6Layout.size().height, "height of node6");
        assertEquals(30.0f, node6Layout.location().x, "x of node6");
        assertEquals(30.0f, node6Layout.location().y, "y of node6");
    }

    @Test
    @DisplayName("grid_placement_auto_negative__border_box")
    void gridPlacementAutoNegativeBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.gridRow = new Line<>(GridPlacement.line(1), GridPlacement.auto());
        node0Style.gridColumn = new Line<>(GridPlacement.line(-5), GridPlacement.auto());
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.gridRow = new Line<>(GridPlacement.line(2), GridPlacement.auto());
        NodeId node2 = tree.newLeaf(node2Style);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.size = new Size<>(Dimension.length(120.0f), Dimension.length(120.0f));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(120.0f, nodeLayout.size().width, "width of node");
        assertEquals(120.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(20.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(20.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(20.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(20.0f, node2Layout.size().width, "width of node2");
        assertEquals(40.0f, node2Layout.size().height, "height of node2");
        assertEquals(0.0f, node2Layout.location().x, "x of node2");
        assertEquals(40.0f, node2Layout.location().y, "y of node2");
    }

    @Test
    @DisplayName("grid_placement_auto_negative__content_box")
    void gridPlacementAutoNegativeContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.gridRow = new Line<>(GridPlacement.line(1), GridPlacement.auto());
        node0Style.gridColumn = new Line<>(GridPlacement.line(-5), GridPlacement.auto());
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        node2Style.gridRow = new Line<>(GridPlacement.line(2), GridPlacement.auto());
        NodeId node2 = tree.newLeaf(node2Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.size = new Size<>(Dimension.length(120.0f), Dimension.length(120.0f));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(120.0f, nodeLayout.size().width, "width of node");
        assertEquals(120.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(20.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(20.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(20.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(20.0f, node2Layout.size().width, "width of node2");
        assertEquals(40.0f, node2Layout.size().height, "height of node2");
        assertEquals(0.0f, node2Layout.location().x, "x of node2");
        assertEquals(40.0f, node2Layout.location().y, "y of node2");
    }

    @Test
    @DisplayName("grid_placement_definite_in_secondary_axis_with_fully_definite_negative__border_box")
    void gridPlacementDefiniteInSecondaryAxisWithFullyDefiniteNegativeBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.gridRow = new Line<>(GridPlacement.line(2), GridPlacement.auto());
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.gridRow = new Line<>(GridPlacement.line(2), GridPlacement.auto());
        node1Style.gridColumn = new Line<>(GridPlacement.line(-4), GridPlacement.auto());
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.gridRow = new Line<>(GridPlacement.line(1), GridPlacement.auto());
        NodeId node2 = tree.newLeaf(node2Style);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.size = new Size<>(Dimension.length(120.0f), Dimension.length(120.0f));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(120.0f, nodeLayout.size().width, "width of node");
        assertEquals(120.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(40.0f, node0Layout.location().x, "x of node0");
        assertEquals(40.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(40.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(0.0f, node1Layout.location().x, "x of node1");
        assertEquals(40.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(40.0f, node2Layout.size().width, "width of node2");
        assertEquals(40.0f, node2Layout.size().height, "height of node2");
        assertEquals(0.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
    }

    @Test
    @DisplayName("grid_placement_definite_in_secondary_axis_with_fully_definite_negative__content_box")
    void gridPlacementDefiniteInSecondaryAxisWithFullyDefiniteNegativeContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.gridRow = new Line<>(GridPlacement.line(2), GridPlacement.auto());
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.gridRow = new Line<>(GridPlacement.line(2), GridPlacement.auto());
        node1Style.gridColumn = new Line<>(GridPlacement.line(-4), GridPlacement.auto());
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        node2Style.gridRow = new Line<>(GridPlacement.line(1), GridPlacement.auto());
        NodeId node2 = tree.newLeaf(node2Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.size = new Size<>(Dimension.length(120.0f), Dimension.length(120.0f));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(120.0f, nodeLayout.size().width, "width of node");
        assertEquals(120.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(40.0f, node0Layout.location().x, "x of node0");
        assertEquals(40.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(40.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(0.0f, node1Layout.location().x, "x of node1");
        assertEquals(40.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(40.0f, node2Layout.size().width, "width of node2");
        assertEquals(40.0f, node2Layout.size().height, "height of node2");
        assertEquals(0.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
    }

    @Test
    @DisplayName("grid_placement_definite_primary__border_box")
    void gridPlacementDefinitePrimaryBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.gridColumn = new Line<>(GridPlacement.line(1), GridPlacement.auto());
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.gridColumn = new Line<>(GridPlacement.line(2), GridPlacement.auto());
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.gridColumn = new Line<>(GridPlacement.line(1), GridPlacement.auto());
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        node3Style.gridColumn = new Line<>(GridPlacement.line(2), GridPlacement.auto());
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        node4Style.gridColumn = new Line<>(GridPlacement.line(1), GridPlacement.auto());
        NodeId node4 = tree.newLeaf(node4Style);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.size = new Size<>(Dimension.length(200.0f), Dimension.length(200.0f));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.percent(0.33f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.percent(0.74f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(200.0f, nodeLayout.size().width, "width of node");
        assertEquals(200.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(66.0f, node0Layout.size().width, "width of node0");
        assertEquals(67.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(148.0f, node1Layout.size().width, "width of node1");
        assertEquals(67.0f, node1Layout.size().height, "height of node1");
        assertEquals(66.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(66.0f, node2Layout.size().width, "width of node2");
        assertEquals(66.0f, node2Layout.size().height, "height of node2");
        assertEquals(0.0f, node2Layout.location().x, "x of node2");
        assertEquals(67.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(148.0f, node3Layout.size().width, "width of node3");
        assertEquals(66.0f, node3Layout.size().height, "height of node3");
        assertEquals(66.0f, node3Layout.location().x, "x of node3");
        assertEquals(67.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(66.0f, node4Layout.size().width, "width of node4");
        assertEquals(67.0f, node4Layout.size().height, "height of node4");
        assertEquals(0.0f, node4Layout.location().x, "x of node4");
        assertEquals(133.0f, node4Layout.location().y, "y of node4");
    }

    @Test
    @DisplayName("grid_placement_definite_primary__content_box")
    void gridPlacementDefinitePrimaryContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.gridColumn = new Line<>(GridPlacement.line(1), GridPlacement.auto());
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.gridColumn = new Line<>(GridPlacement.line(2), GridPlacement.auto());
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        node2Style.gridColumn = new Line<>(GridPlacement.line(1), GridPlacement.auto());
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        node3Style.boxSizing = BoxSizing.CONTENT_BOX;
        node3Style.gridColumn = new Line<>(GridPlacement.line(2), GridPlacement.auto());
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        node4Style.boxSizing = BoxSizing.CONTENT_BOX;
        node4Style.gridColumn = new Line<>(GridPlacement.line(1), GridPlacement.auto());
        NodeId node4 = tree.newLeaf(node4Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.size = new Size<>(Dimension.length(200.0f), Dimension.length(200.0f));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.percent(0.33f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.percent(0.74f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(200.0f, nodeLayout.size().width, "width of node");
        assertEquals(200.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(66.0f, node0Layout.size().width, "width of node0");
        assertEquals(67.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(148.0f, node1Layout.size().width, "width of node1");
        assertEquals(67.0f, node1Layout.size().height, "height of node1");
        assertEquals(66.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(66.0f, node2Layout.size().width, "width of node2");
        assertEquals(66.0f, node2Layout.size().height, "height of node2");
        assertEquals(0.0f, node2Layout.location().x, "x of node2");
        assertEquals(67.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(148.0f, node3Layout.size().width, "width of node3");
        assertEquals(66.0f, node3Layout.size().height, "height of node3");
        assertEquals(66.0f, node3Layout.location().x, "x of node3");
        assertEquals(67.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(66.0f, node4Layout.size().width, "width of node4");
        assertEquals(67.0f, node4Layout.size().height, "height of node4");
        assertEquals(0.0f, node4Layout.location().x, "x of node4");
        assertEquals(133.0f, node4Layout.location().y, "y of node4");
    }

    @Test
    @DisplayName("grid_relative_all_sides__border_box")
    void gridRelativeAllSidesBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.length(40.0f), Dimension.AUTO);
        node0Style.inset = new Rect<>(LengthPercentageAuto.length(10.0f), LengthPercentageAuto.length(10.0f), LengthPercentageAuto.length(10.0f), LengthPercentageAuto.length(10.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(100.0f, node0Layout.size().height, "height of node0");
        assertEquals(10.0f, node0Layout.location().x, "x of node0");
        assertEquals(10.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("grid_relative_all_sides__content_box")
    void gridRelativeAllSidesContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.length(40.0f), Dimension.AUTO);
        node0Style.inset = new Rect<>(LengthPercentageAuto.length(10.0f), LengthPercentageAuto.length(10.0f), LengthPercentageAuto.length(10.0f), LengthPercentageAuto.length(10.0f));
        NodeId node0 = tree.newLeaf(node0Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.size = new Size<>(Dimension.length(100.0f), Dimension.length(100.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(100.0f, nodeLayout.size().width, "width of node");
        assertEquals(100.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(100.0f, node0Layout.size().height, "height of node0");
        assertEquals(10.0f, node0Layout.location().x, "x of node0");
        assertEquals(10.0f, node0Layout.location().y, "y of node0");
    }

    @Test
    @DisplayName("grid_relayout_vertical_text__border_box")
    void gridRelayoutVerticalTextBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        MeasureFunc node0Measure = ahemTextMeasure("HH\u200BHH\u200BHH\u200BHH\u200BHH\u200BHH\u200BHH", true);
        NodeId node0 = tree.newLeafWithMeasure(node0Style, node0Measure);

        Style node1Style = new Style();
        MeasureFunc node1Measure = ahemTextMeasure("HH\u200BHH\u200BHH", false);
        NodeId node1 = tree.newLeafWithMeasure(node1Style, node1Measure);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.minContent());
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(40.0f, nodeLayout.size().width, "width of node");
        assertEquals(60.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(40.0f, node1Layout.size().width, "width of node1");
        assertEquals(20.0f, node1Layout.size().height, "height of node1");
        assertEquals(0.0f, node1Layout.location().x, "x of node1");
        assertEquals(40.0f, node1Layout.location().y, "y of node1");
    }

    @Test
    @DisplayName("grid_relayout_vertical_text__content_box")
    void gridRelayoutVerticalTextContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        MeasureFunc node0Measure = ahemTextMeasure("HH\u200BHH\u200BHH\u200BHH\u200BHH\u200BHH\u200BHH", true);
        NodeId node0 = tree.newLeafWithMeasure(node0Style, node0Measure);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        MeasureFunc node1Measure = ahemTextMeasure("HH\u200BHH\u200BHH", false);
        NodeId node1 = tree.newLeafWithMeasure(node1Style, node1Measure);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.minContent());
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(40.0f, nodeLayout.size().width, "width of node");
        assertEquals(60.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(40.0f, node1Layout.size().width, "width of node1");
        assertEquals(20.0f, node1Layout.size().height, "height of node1");
        assertEquals(0.0f, node1Layout.location().x, "x of node1");
        assertEquals(40.0f, node1Layout.location().y, "y of node1");
    }

    @Test
    @DisplayName("grid_repeat_integer__border_box")
    void gridRepeatIntegerBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        NodeId node4 = tree.newLeaf(node4Style);

        Style node5Style = new Style();
        NodeId node5 = tree.newLeaf(node5Style);

        Style node6Style = new Style();
        NodeId node6 = tree.newLeaf(node6Style);

        Style node7Style = new Style();
        NodeId node7 = tree.newLeaf(node7Style);

        Style node8Style = new Style();
        NodeId node8 = tree.newLeaf(node8Style);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.size = new Size<>(Dimension.length(120.0f), Dimension.length(120.0f));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5, node6, node7, node8);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(120.0f, nodeLayout.size().width, "width of node");
        assertEquals(120.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(40.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(40.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(40.0f, node2Layout.size().width, "width of node2");
        assertEquals(40.0f, node2Layout.size().height, "height of node2");
        assertEquals(80.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(40.0f, node3Layout.size().width, "width of node3");
        assertEquals(40.0f, node3Layout.size().height, "height of node3");
        assertEquals(0.0f, node3Layout.location().x, "x of node3");
        assertEquals(40.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(40.0f, node4Layout.size().width, "width of node4");
        assertEquals(40.0f, node4Layout.size().height, "height of node4");
        assertEquals(40.0f, node4Layout.location().x, "x of node4");
        assertEquals(40.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(40.0f, node5Layout.size().width, "width of node5");
        assertEquals(40.0f, node5Layout.size().height, "height of node5");
        assertEquals(80.0f, node5Layout.location().x, "x of node5");
        assertEquals(40.0f, node5Layout.location().y, "y of node5");
        Layout node6Layout = tree.getLayout(node6);
        assertEquals(40.0f, node6Layout.size().width, "width of node6");
        assertEquals(40.0f, node6Layout.size().height, "height of node6");
        assertEquals(0.0f, node6Layout.location().x, "x of node6");
        assertEquals(80.0f, node6Layout.location().y, "y of node6");
        Layout node7Layout = tree.getLayout(node7);
        assertEquals(40.0f, node7Layout.size().width, "width of node7");
        assertEquals(40.0f, node7Layout.size().height, "height of node7");
        assertEquals(40.0f, node7Layout.location().x, "x of node7");
        assertEquals(80.0f, node7Layout.location().y, "y of node7");
        Layout node8Layout = tree.getLayout(node8);
        assertEquals(40.0f, node8Layout.size().width, "width of node8");
        assertEquals(40.0f, node8Layout.size().height, "height of node8");
        assertEquals(80.0f, node8Layout.location().x, "x of node8");
        assertEquals(80.0f, node8Layout.location().y, "y of node8");
    }

    @Test
    @DisplayName("grid_repeat_integer__content_box")
    void gridRepeatIntegerContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        node3Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        node4Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node4 = tree.newLeaf(node4Style);

        Style node5Style = new Style();
        node5Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node5 = tree.newLeaf(node5Style);

        Style node6Style = new Style();
        node6Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node6 = tree.newLeaf(node6Style);

        Style node7Style = new Style();
        node7Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node7 = tree.newLeaf(node7Style);

        Style node8Style = new Style();
        node8Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node8 = tree.newLeaf(node8Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.size = new Size<>(Dimension.length(120.0f), Dimension.length(120.0f));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5, node6, node7, node8);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(120.0f, nodeLayout.size().width, "width of node");
        assertEquals(120.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(40.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(40.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(40.0f, node2Layout.size().width, "width of node2");
        assertEquals(40.0f, node2Layout.size().height, "height of node2");
        assertEquals(80.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(40.0f, node3Layout.size().width, "width of node3");
        assertEquals(40.0f, node3Layout.size().height, "height of node3");
        assertEquals(0.0f, node3Layout.location().x, "x of node3");
        assertEquals(40.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(40.0f, node4Layout.size().width, "width of node4");
        assertEquals(40.0f, node4Layout.size().height, "height of node4");
        assertEquals(40.0f, node4Layout.location().x, "x of node4");
        assertEquals(40.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(40.0f, node5Layout.size().width, "width of node5");
        assertEquals(40.0f, node5Layout.size().height, "height of node5");
        assertEquals(80.0f, node5Layout.location().x, "x of node5");
        assertEquals(40.0f, node5Layout.location().y, "y of node5");
        Layout node6Layout = tree.getLayout(node6);
        assertEquals(40.0f, node6Layout.size().width, "width of node6");
        assertEquals(40.0f, node6Layout.size().height, "height of node6");
        assertEquals(0.0f, node6Layout.location().x, "x of node6");
        assertEquals(80.0f, node6Layout.location().y, "y of node6");
        Layout node7Layout = tree.getLayout(node7);
        assertEquals(40.0f, node7Layout.size().width, "width of node7");
        assertEquals(40.0f, node7Layout.size().height, "height of node7");
        assertEquals(40.0f, node7Layout.location().x, "x of node7");
        assertEquals(80.0f, node7Layout.location().y, "y of node7");
        Layout node8Layout = tree.getLayout(node8);
        assertEquals(40.0f, node8Layout.size().width, "width of node8");
        assertEquals(40.0f, node8Layout.size().height, "height of node8");
        assertEquals(80.0f, node8Layout.location().x, "x of node8");
        assertEquals(80.0f, node8Layout.location().y, "y of node8");
    }

    @Test
    @DisplayName("grid_repeat_mixed__border_box")
    void gridRepeatMixedBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        NodeId node4 = tree.newLeaf(node4Style);

        Style node5Style = new Style();
        NodeId node5 = tree.newLeaf(node5Style);

        Style node6Style = new Style();
        NodeId node6 = tree.newLeaf(node6Style);

        Style node7Style = new Style();
        NodeId node7 = tree.newLeaf(node7Style);

        Style node8Style = new Style();
        NodeId node8 = tree.newLeaf(node8Style);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.size = new Size<>(Dimension.length(120.0f), Dimension.length(120.0f));
        nodeStyle.gridTemplateColumnsWithRepeat = new java.util.ArrayList<>();
        nodeStyle.gridTemplateColumnsWithRepeat.add(GridTemplateComponent.single(TrackSizingFunction.fixed(LengthPercentage.length(40.0f))));
        nodeStyle.gridTemplateColumnsWithRepeat.add(GridTemplateComponent.single(TrackSizingFunction.fixed(LengthPercentage.length(40.0f))));
        nodeStyle.gridTemplateColumnsWithRepeat.add(GridTemplateComponent.autoFill(TrackSizingFunction.fixed(LengthPercentage.length(40.0f))));
        nodeStyle.gridTemplateRowsWithRepeat = new java.util.ArrayList<>();
        nodeStyle.gridTemplateRowsWithRepeat.add(GridTemplateComponent.single(TrackSizingFunction.fixed(LengthPercentage.length(40.0f))));
        nodeStyle.gridTemplateRowsWithRepeat.add(GridTemplateComponent.single(TrackSizingFunction.fixed(LengthPercentage.length(40.0f))));
        nodeStyle.gridTemplateRowsWithRepeat.add(GridTemplateComponent.autoFill(TrackSizingFunction.fixed(LengthPercentage.length(40.0f))));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5, node6, node7, node8);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(120.0f, nodeLayout.size().width, "width of node");
        assertEquals(120.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(40.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(40.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(40.0f, node2Layout.size().width, "width of node2");
        assertEquals(40.0f, node2Layout.size().height, "height of node2");
        assertEquals(80.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(40.0f, node3Layout.size().width, "width of node3");
        assertEquals(40.0f, node3Layout.size().height, "height of node3");
        assertEquals(0.0f, node3Layout.location().x, "x of node3");
        assertEquals(40.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(40.0f, node4Layout.size().width, "width of node4");
        assertEquals(40.0f, node4Layout.size().height, "height of node4");
        assertEquals(40.0f, node4Layout.location().x, "x of node4");
        assertEquals(40.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(40.0f, node5Layout.size().width, "width of node5");
        assertEquals(40.0f, node5Layout.size().height, "height of node5");
        assertEquals(80.0f, node5Layout.location().x, "x of node5");
        assertEquals(40.0f, node5Layout.location().y, "y of node5");
        Layout node6Layout = tree.getLayout(node6);
        assertEquals(40.0f, node6Layout.size().width, "width of node6");
        assertEquals(40.0f, node6Layout.size().height, "height of node6");
        assertEquals(0.0f, node6Layout.location().x, "x of node6");
        assertEquals(80.0f, node6Layout.location().y, "y of node6");
        Layout node7Layout = tree.getLayout(node7);
        assertEquals(40.0f, node7Layout.size().width, "width of node7");
        assertEquals(40.0f, node7Layout.size().height, "height of node7");
        assertEquals(40.0f, node7Layout.location().x, "x of node7");
        assertEquals(80.0f, node7Layout.location().y, "y of node7");
        Layout node8Layout = tree.getLayout(node8);
        assertEquals(40.0f, node8Layout.size().width, "width of node8");
        assertEquals(40.0f, node8Layout.size().height, "height of node8");
        assertEquals(80.0f, node8Layout.location().x, "x of node8");
        assertEquals(80.0f, node8Layout.location().y, "y of node8");
    }

    @Test
    @DisplayName("grid_repeat_mixed__content_box")
    void gridRepeatMixedContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        node3Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        node4Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node4 = tree.newLeaf(node4Style);

        Style node5Style = new Style();
        node5Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node5 = tree.newLeaf(node5Style);

        Style node6Style = new Style();
        node6Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node6 = tree.newLeaf(node6Style);

        Style node7Style = new Style();
        node7Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node7 = tree.newLeaf(node7Style);

        Style node8Style = new Style();
        node8Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node8 = tree.newLeaf(node8Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.size = new Size<>(Dimension.length(120.0f), Dimension.length(120.0f));
        nodeStyle.gridTemplateColumnsWithRepeat = new java.util.ArrayList<>();
        nodeStyle.gridTemplateColumnsWithRepeat.add(GridTemplateComponent.single(TrackSizingFunction.fixed(LengthPercentage.length(40.0f))));
        nodeStyle.gridTemplateColumnsWithRepeat.add(GridTemplateComponent.single(TrackSizingFunction.fixed(LengthPercentage.length(40.0f))));
        nodeStyle.gridTemplateColumnsWithRepeat.add(GridTemplateComponent.autoFill(TrackSizingFunction.fixed(LengthPercentage.length(40.0f))));
        nodeStyle.gridTemplateRowsWithRepeat = new java.util.ArrayList<>();
        nodeStyle.gridTemplateRowsWithRepeat.add(GridTemplateComponent.single(TrackSizingFunction.fixed(LengthPercentage.length(40.0f))));
        nodeStyle.gridTemplateRowsWithRepeat.add(GridTemplateComponent.single(TrackSizingFunction.fixed(LengthPercentage.length(40.0f))));
        nodeStyle.gridTemplateRowsWithRepeat.add(GridTemplateComponent.autoFill(TrackSizingFunction.fixed(LengthPercentage.length(40.0f))));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5, node6, node7, node8);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(120.0f, nodeLayout.size().width, "width of node");
        assertEquals(120.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(40.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(40.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(40.0f, node2Layout.size().width, "width of node2");
        assertEquals(40.0f, node2Layout.size().height, "height of node2");
        assertEquals(80.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(40.0f, node3Layout.size().width, "width of node3");
        assertEquals(40.0f, node3Layout.size().height, "height of node3");
        assertEquals(0.0f, node3Layout.location().x, "x of node3");
        assertEquals(40.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(40.0f, node4Layout.size().width, "width of node4");
        assertEquals(40.0f, node4Layout.size().height, "height of node4");
        assertEquals(40.0f, node4Layout.location().x, "x of node4");
        assertEquals(40.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(40.0f, node5Layout.size().width, "width of node5");
        assertEquals(40.0f, node5Layout.size().height, "height of node5");
        assertEquals(80.0f, node5Layout.location().x, "x of node5");
        assertEquals(40.0f, node5Layout.location().y, "y of node5");
        Layout node6Layout = tree.getLayout(node6);
        assertEquals(40.0f, node6Layout.size().width, "width of node6");
        assertEquals(40.0f, node6Layout.size().height, "height of node6");
        assertEquals(0.0f, node6Layout.location().x, "x of node6");
        assertEquals(80.0f, node6Layout.location().y, "y of node6");
        Layout node7Layout = tree.getLayout(node7);
        assertEquals(40.0f, node7Layout.size().width, "width of node7");
        assertEquals(40.0f, node7Layout.size().height, "height of node7");
        assertEquals(40.0f, node7Layout.location().x, "x of node7");
        assertEquals(80.0f, node7Layout.location().y, "y of node7");
        Layout node8Layout = tree.getLayout(node8);
        assertEquals(40.0f, node8Layout.size().width, "width of node8");
        assertEquals(40.0f, node8Layout.size().height, "height of node8");
        assertEquals(80.0f, node8Layout.location().x, "x of node8");
        assertEquals(80.0f, node8Layout.location().y, "y of node8");
    }

    @Test
    @DisplayName("grid_size_child_fixed_tracks__border_box")
    void gridSizeChildFixedTracksBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.alignSelf = AlignItems.START;
        node0Style.justifySelf = AlignItems.START;
        MeasureFunc node0Measure = ahemTextMeasure("HH\u200BHH\u200BHH\u200BHH", false);
        NodeId node0 = tree.newLeafWithMeasure(node0Style, node0Measure);

        Style node1Style = new Style();
        node1Style.alignSelf = AlignItems.START;
        node1Style.justifySelf = AlignItems.START;
        MeasureFunc node1Measure = ahemTextMeasure("HHH\u200BHHH", false);
        NodeId node1 = tree.newLeafWithMeasure(node1Style, node1Measure);

        Style node2Style = new Style();
        node2Style.alignSelf = AlignItems.START;
        node2Style.justifySelf = AlignItems.START;
        MeasureFunc node2Measure = ahemTextMeasure("HH\u200BHHHH", false);
        NodeId node2 = tree.newLeafWithMeasure(node2Style, node2Measure);

        Style node3Style = new Style();
        node3Style.alignSelf = AlignItems.START;
        node3Style.justifySelf = AlignItems.START;
        node3Style.size = new Size<>(Dimension.length(20.0f), Dimension.AUTO);
        MeasureFunc node3Measure = ahemTextMeasure("HH\u200BHH\u200BHH\u200BHH", false);
        NodeId node3 = tree.newLeafWithMeasure(node3Style, node3Measure);

        Style node4Style = new Style();
        node4Style.alignSelf = AlignItems.START;
        node4Style.justifySelf = AlignItems.START;
        node4Style.maxSize = new Size<>(Dimension.length(30.0f), Dimension.AUTO);
        MeasureFunc node4Measure = ahemTextMeasure("HH\u200BHH\u200BHH\u200BHH", false);
        NodeId node4 = tree.newLeafWithMeasure(node4Style, node4Measure);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.size = new Size<>(Dimension.length(120.0f), Dimension.length(120.0f));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(120.0f, nodeLayout.size().width, "width of node");
        assertEquals(120.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(20.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(40.0f, node1Layout.size().width, "width of node1");
        assertEquals(20.0f, node1Layout.size().height, "height of node1");
        assertEquals(40.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(40.0f, node2Layout.size().width, "width of node2");
        assertEquals(20.0f, node2Layout.size().height, "height of node2");
        assertEquals(80.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(20.0f, node3Layout.size().width, "width of node3");
        assertEquals(40.0f, node3Layout.size().height, "height of node3");
        assertEquals(0.0f, node3Layout.location().x, "x of node3");
        assertEquals(40.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(30.0f, node4Layout.size().width, "width of node4");
        assertEquals(40.0f, node4Layout.size().height, "height of node4");
        assertEquals(40.0f, node4Layout.location().x, "x of node4");
        assertEquals(40.0f, node4Layout.location().y, "y of node4");
    }

    @Test
    @DisplayName("grid_size_child_fixed_tracks__content_box")
    void gridSizeChildFixedTracksContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.alignSelf = AlignItems.START;
        node0Style.justifySelf = AlignItems.START;
        MeasureFunc node0Measure = ahemTextMeasure("HH\u200BHH\u200BHH\u200BHH", false);
        NodeId node0 = tree.newLeafWithMeasure(node0Style, node0Measure);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.alignSelf = AlignItems.START;
        node1Style.justifySelf = AlignItems.START;
        MeasureFunc node1Measure = ahemTextMeasure("HHH\u200BHHH", false);
        NodeId node1 = tree.newLeafWithMeasure(node1Style, node1Measure);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        node2Style.alignSelf = AlignItems.START;
        node2Style.justifySelf = AlignItems.START;
        MeasureFunc node2Measure = ahemTextMeasure("HH\u200BHHHH", false);
        NodeId node2 = tree.newLeafWithMeasure(node2Style, node2Measure);

        Style node3Style = new Style();
        node3Style.boxSizing = BoxSizing.CONTENT_BOX;
        node3Style.alignSelf = AlignItems.START;
        node3Style.justifySelf = AlignItems.START;
        node3Style.size = new Size<>(Dimension.length(20.0f), Dimension.AUTO);
        MeasureFunc node3Measure = ahemTextMeasure("HH\u200BHH\u200BHH\u200BHH", false);
        NodeId node3 = tree.newLeafWithMeasure(node3Style, node3Measure);

        Style node4Style = new Style();
        node4Style.boxSizing = BoxSizing.CONTENT_BOX;
        node4Style.alignSelf = AlignItems.START;
        node4Style.justifySelf = AlignItems.START;
        node4Style.maxSize = new Size<>(Dimension.length(30.0f), Dimension.AUTO);
        MeasureFunc node4Measure = ahemTextMeasure("HH\u200BHH\u200BHH\u200BHH", false);
        NodeId node4 = tree.newLeafWithMeasure(node4Style, node4Measure);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.size = new Size<>(Dimension.length(120.0f), Dimension.length(120.0f));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(120.0f, nodeLayout.size().width, "width of node");
        assertEquals(120.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(20.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(40.0f, node1Layout.size().width, "width of node1");
        assertEquals(20.0f, node1Layout.size().height, "height of node1");
        assertEquals(40.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(40.0f, node2Layout.size().width, "width of node2");
        assertEquals(20.0f, node2Layout.size().height, "height of node2");
        assertEquals(80.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(20.0f, node3Layout.size().width, "width of node3");
        assertEquals(40.0f, node3Layout.size().height, "height of node3");
        assertEquals(0.0f, node3Layout.location().x, "x of node3");
        assertEquals(40.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(30.0f, node4Layout.size().width, "width of node4");
        assertEquals(40.0f, node4Layout.size().height, "height of node4");
        assertEquals(40.0f, node4Layout.location().x, "x of node4");
        assertEquals(40.0f, node4Layout.location().y, "y of node4");
    }

    @Test
    @DisplayName("grid_span_13_most_non_flex_with_minmax_indefinite__border_box")
    void gridSpan13MostNonFlexWithMinmaxIndefiniteBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.gridColumn = new Line<>(GridPlacement.line(1), GridPlacement.span(13));
        MeasureFunc node0Measure = ahemTextMeasure("HHHHHHHHHHHHHHHH\u200BHHHHHHHHHHHHHHHH", false);
        NodeId node0 = tree.newLeafWithMeasure(node0Style, node0Measure);

        Style node1Style = new Style();
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        NodeId node4 = tree.newLeaf(node4Style);

        Style node5Style = new Style();
        NodeId node5 = tree.newLeaf(node5Style);

        Style node6Style = new Style();
        NodeId node6 = tree.newLeaf(node6Style);

        Style node7Style = new Style();
        NodeId node7 = tree.newLeaf(node7Style);

        Style node8Style = new Style();
        NodeId node8 = tree.newLeaf(node8Style);

        Style node9Style = new Style();
        NodeId node9 = tree.newLeaf(node9Style);

        Style node10Style = new Style();
        NodeId node10 = tree.newLeaf(node10Style);

        Style node11Style = new Style();
        NodeId node11 = tree.newLeaf(node11Style);

        Style node12Style = new Style();
        NodeId node12 = tree.newLeaf(node12Style);

        Style node13Style = new Style();
        NodeId node13 = tree.newLeaf(node13Style);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.minContent());
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.maxContent());
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fitContent(LengthPercentage.length(20.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.auto());
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(10.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.percent(0.2f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.minmax(TrackSizingFunction.fixed(LengthPercentage.length(2.0f)), TrackSizingFunction.auto()));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.minmax(TrackSizingFunction.fixed(LengthPercentage.length(2.0f)), TrackSizingFunction.fixed(LengthPercentage.length(4.0f))));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.minmax(TrackSizingFunction.fixed(LengthPercentage.length(2.0f)), TrackSizingFunction.minContent()));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.minmax(TrackSizingFunction.fixed(LengthPercentage.length(2.0f)), TrackSizingFunction.maxContent()));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.minmax(TrackSizingFunction.minContent(), TrackSizingFunction.maxContent()));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.minmax(TrackSizingFunction.minContent(), TrackSizingFunction.auto()));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.minmax(TrackSizingFunction.maxContent(), TrackSizingFunction.auto()));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5, node6, node7, node8, node9, node10, node11, node12, node13);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(322.0f, nodeLayout.size().width, "width of node");
        assertEquals(80.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(322.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(11.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(0.0f, node1Layout.location().x, "x of node1");
        assertEquals(40.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(91.0f, node2Layout.size().width, "width of node2");
        assertEquals(40.0f, node2Layout.size().height, "height of node2");
        assertEquals(11.0f, node2Layout.location().x, "x of node2");
        assertEquals(40.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(11.0f, node3Layout.size().width, "width of node3");
        assertEquals(40.0f, node3Layout.size().height, "height of node3");
        assertEquals(102.0f, node3Layout.location().x, "x of node3");
        assertEquals(40.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(11.0f, node4Layout.size().width, "width of node4");
        assertEquals(40.0f, node4Layout.size().height, "height of node4");
        assertEquals(113.0f, node4Layout.location().x, "x of node4");
        assertEquals(40.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(10.0f, node5Layout.size().width, "width of node5");
        assertEquals(40.0f, node5Layout.size().height, "height of node5");
        assertEquals(124.0f, node5Layout.location().x, "x of node5");
        assertEquals(40.0f, node5Layout.location().y, "y of node5");
        Layout node6Layout = tree.getLayout(node6);
        assertEquals(65.0f, node6Layout.size().width, "width of node6");
        assertEquals(40.0f, node6Layout.size().height, "height of node6");
        assertEquals(134.0f, node6Layout.location().x, "x of node6");
        assertEquals(40.0f, node6Layout.location().y, "y of node6");
        Layout node7Layout = tree.getLayout(node7);
        assertEquals(2.0f, node7Layout.size().width, "width of node7");
        assertEquals(40.0f, node7Layout.size().height, "height of node7");
        assertEquals(199.0f, node7Layout.location().x, "x of node7");
        assertEquals(40.0f, node7Layout.location().y, "y of node7");
        Layout node8Layout = tree.getLayout(node8);
        assertEquals(4.0f, node8Layout.size().width, "width of node8");
        assertEquals(40.0f, node8Layout.size().height, "height of node8");
        assertEquals(201.0f, node8Layout.location().x, "x of node8");
        assertEquals(40.0f, node8Layout.location().y, "y of node8");
        Layout node9Layout = tree.getLayout(node9);
        assertEquals(2.0f, node9Layout.size().width, "width of node9");
        assertEquals(40.0f, node9Layout.size().height, "height of node9");
        assertEquals(205.0f, node9Layout.location().x, "x of node9");
        assertEquals(40.0f, node9Layout.location().y, "y of node9");
        Layout node10Layout = tree.getLayout(node10);
        assertEquals(2.0f, node10Layout.size().width, "width of node10");
        assertEquals(40.0f, node10Layout.size().height, "height of node10");
        assertEquals(207.0f, node10Layout.location().x, "x of node10");
        assertEquals(40.0f, node10Layout.location().y, "y of node10");
        Layout node11Layout = tree.getLayout(node11);
        assertEquals(11.0f, node11Layout.size().width, "width of node11");
        assertEquals(40.0f, node11Layout.size().height, "height of node11");
        assertEquals(209.0f, node11Layout.location().x, "x of node11");
        assertEquals(40.0f, node11Layout.location().y, "y of node11");
        Layout node12Layout = tree.getLayout(node12);
        assertEquals(11.0f, node12Layout.size().width, "width of node12");
        assertEquals(40.0f, node12Layout.size().height, "height of node12");
        assertEquals(220.0f, node12Layout.location().x, "x of node12");
        assertEquals(40.0f, node12Layout.location().y, "y of node12");
        Layout node13Layout = tree.getLayout(node13);
        assertEquals(91.0f, node13Layout.size().width, "width of node13");
        assertEquals(40.0f, node13Layout.size().height, "height of node13");
        assertEquals(231.0f, node13Layout.location().x, "x of node13");
        assertEquals(40.0f, node13Layout.location().y, "y of node13");
    }

    @Test
    @DisplayName("grid_span_13_most_non_flex_with_minmax_indefinite__content_box")
    void gridSpan13MostNonFlexWithMinmaxIndefiniteContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.gridColumn = new Line<>(GridPlacement.line(1), GridPlacement.span(13));
        MeasureFunc node0Measure = ahemTextMeasure("HHHHHHHHHHHHHHHH\u200BHHHHHHHHHHHHHHHH", false);
        NodeId node0 = tree.newLeafWithMeasure(node0Style, node0Measure);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        node3Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        node4Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node4 = tree.newLeaf(node4Style);

        Style node5Style = new Style();
        node5Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node5 = tree.newLeaf(node5Style);

        Style node6Style = new Style();
        node6Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node6 = tree.newLeaf(node6Style);

        Style node7Style = new Style();
        node7Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node7 = tree.newLeaf(node7Style);

        Style node8Style = new Style();
        node8Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node8 = tree.newLeaf(node8Style);

        Style node9Style = new Style();
        node9Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node9 = tree.newLeaf(node9Style);

        Style node10Style = new Style();
        node10Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node10 = tree.newLeaf(node10Style);

        Style node11Style = new Style();
        node11Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node11 = tree.newLeaf(node11Style);

        Style node12Style = new Style();
        node12Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node12 = tree.newLeaf(node12Style);

        Style node13Style = new Style();
        node13Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node13 = tree.newLeaf(node13Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.minContent());
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.maxContent());
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fitContent(LengthPercentage.length(20.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.auto());
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(10.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.percent(0.2f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.minmax(TrackSizingFunction.fixed(LengthPercentage.length(2.0f)), TrackSizingFunction.auto()));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.minmax(TrackSizingFunction.fixed(LengthPercentage.length(2.0f)), TrackSizingFunction.fixed(LengthPercentage.length(4.0f))));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.minmax(TrackSizingFunction.fixed(LengthPercentage.length(2.0f)), TrackSizingFunction.minContent()));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.minmax(TrackSizingFunction.fixed(LengthPercentage.length(2.0f)), TrackSizingFunction.maxContent()));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.minmax(TrackSizingFunction.minContent(), TrackSizingFunction.maxContent()));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.minmax(TrackSizingFunction.minContent(), TrackSizingFunction.auto()));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.minmax(TrackSizingFunction.maxContent(), TrackSizingFunction.auto()));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5, node6, node7, node8, node9, node10, node11, node12, node13);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(322.0f, nodeLayout.size().width, "width of node");
        assertEquals(80.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(322.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(11.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(0.0f, node1Layout.location().x, "x of node1");
        assertEquals(40.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(91.0f, node2Layout.size().width, "width of node2");
        assertEquals(40.0f, node2Layout.size().height, "height of node2");
        assertEquals(11.0f, node2Layout.location().x, "x of node2");
        assertEquals(40.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(11.0f, node3Layout.size().width, "width of node3");
        assertEquals(40.0f, node3Layout.size().height, "height of node3");
        assertEquals(102.0f, node3Layout.location().x, "x of node3");
        assertEquals(40.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(11.0f, node4Layout.size().width, "width of node4");
        assertEquals(40.0f, node4Layout.size().height, "height of node4");
        assertEquals(113.0f, node4Layout.location().x, "x of node4");
        assertEquals(40.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(10.0f, node5Layout.size().width, "width of node5");
        assertEquals(40.0f, node5Layout.size().height, "height of node5");
        assertEquals(124.0f, node5Layout.location().x, "x of node5");
        assertEquals(40.0f, node5Layout.location().y, "y of node5");
        Layout node6Layout = tree.getLayout(node6);
        assertEquals(65.0f, node6Layout.size().width, "width of node6");
        assertEquals(40.0f, node6Layout.size().height, "height of node6");
        assertEquals(134.0f, node6Layout.location().x, "x of node6");
        assertEquals(40.0f, node6Layout.location().y, "y of node6");
        Layout node7Layout = tree.getLayout(node7);
        assertEquals(2.0f, node7Layout.size().width, "width of node7");
        assertEquals(40.0f, node7Layout.size().height, "height of node7");
        assertEquals(199.0f, node7Layout.location().x, "x of node7");
        assertEquals(40.0f, node7Layout.location().y, "y of node7");
        Layout node8Layout = tree.getLayout(node8);
        assertEquals(4.0f, node8Layout.size().width, "width of node8");
        assertEquals(40.0f, node8Layout.size().height, "height of node8");
        assertEquals(201.0f, node8Layout.location().x, "x of node8");
        assertEquals(40.0f, node8Layout.location().y, "y of node8");
        Layout node9Layout = tree.getLayout(node9);
        assertEquals(2.0f, node9Layout.size().width, "width of node9");
        assertEquals(40.0f, node9Layout.size().height, "height of node9");
        assertEquals(205.0f, node9Layout.location().x, "x of node9");
        assertEquals(40.0f, node9Layout.location().y, "y of node9");
        Layout node10Layout = tree.getLayout(node10);
        assertEquals(2.0f, node10Layout.size().width, "width of node10");
        assertEquals(40.0f, node10Layout.size().height, "height of node10");
        assertEquals(207.0f, node10Layout.location().x, "x of node10");
        assertEquals(40.0f, node10Layout.location().y, "y of node10");
        Layout node11Layout = tree.getLayout(node11);
        assertEquals(11.0f, node11Layout.size().width, "width of node11");
        assertEquals(40.0f, node11Layout.size().height, "height of node11");
        assertEquals(209.0f, node11Layout.location().x, "x of node11");
        assertEquals(40.0f, node11Layout.location().y, "y of node11");
        Layout node12Layout = tree.getLayout(node12);
        assertEquals(11.0f, node12Layout.size().width, "width of node12");
        assertEquals(40.0f, node12Layout.size().height, "height of node12");
        assertEquals(220.0f, node12Layout.location().x, "x of node12");
        assertEquals(40.0f, node12Layout.location().y, "y of node12");
        Layout node13Layout = tree.getLayout(node13);
        assertEquals(91.0f, node13Layout.size().width, "width of node13");
        assertEquals(40.0f, node13Layout.size().height, "height of node13");
        assertEquals(231.0f, node13Layout.location().x, "x of node13");
        assertEquals(40.0f, node13Layout.location().y, "y of node13");
    }

    @Test
    @DisplayName("grid_span_13_most_non_flex_with_minmax_indefinite_hidden__border_box")
    void gridSpan13MostNonFlexWithMinmaxIndefiniteHiddenBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.gridColumn = new Line<>(GridPlacement.line(1), GridPlacement.span(13));
        node0Style.overflow = new Point<>(Overflow.HIDDEN, Overflow.HIDDEN);
        MeasureFunc node0Measure = ahemTextMeasure("HHHHHHHHHHHHHHHH\u200BHHHHHHHHHHHHHHHH", false);
        NodeId node0 = tree.newLeafWithMeasure(node0Style, node0Measure);

        Style node1Style = new Style();
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        NodeId node4 = tree.newLeaf(node4Style);

        Style node5Style = new Style();
        NodeId node5 = tree.newLeaf(node5Style);

        Style node6Style = new Style();
        NodeId node6 = tree.newLeaf(node6Style);

        Style node7Style = new Style();
        NodeId node7 = tree.newLeaf(node7Style);

        Style node8Style = new Style();
        NodeId node8 = tree.newLeaf(node8Style);

        Style node9Style = new Style();
        NodeId node9 = tree.newLeaf(node9Style);

        Style node10Style = new Style();
        NodeId node10 = tree.newLeaf(node10Style);

        Style node11Style = new Style();
        NodeId node11 = tree.newLeaf(node11Style);

        Style node12Style = new Style();
        NodeId node12 = tree.newLeaf(node12Style);

        Style node13Style = new Style();
        NodeId node13 = tree.newLeaf(node13Style);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.minContent());
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.maxContent());
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fitContent(LengthPercentage.length(20.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.auto());
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(10.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.percent(0.2f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.minmax(TrackSizingFunction.fixed(LengthPercentage.length(2.0f)), TrackSizingFunction.auto()));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.minmax(TrackSizingFunction.fixed(LengthPercentage.length(2.0f)), TrackSizingFunction.fixed(LengthPercentage.length(4.0f))));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.minmax(TrackSizingFunction.fixed(LengthPercentage.length(2.0f)), TrackSizingFunction.minContent()));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.minmax(TrackSizingFunction.fixed(LengthPercentage.length(2.0f)), TrackSizingFunction.maxContent()));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.minmax(TrackSizingFunction.minContent(), TrackSizingFunction.maxContent()));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.minmax(TrackSizingFunction.minContent(), TrackSizingFunction.auto()));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.minmax(TrackSizingFunction.maxContent(), TrackSizingFunction.auto()));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5, node6, node7, node8, node9, node10, node11, node12, node13);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(322.0f, nodeLayout.size().width, "width of node");
        assertEquals(80.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(322.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(16.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(0.0f, node1Layout.location().x, "x of node1");
        assertEquals(40.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(95.0f, node2Layout.size().width, "width of node2");
        assertEquals(40.0f, node2Layout.size().height, "height of node2");
        assertEquals(16.0f, node2Layout.location().x, "x of node2");
        assertEquals(40.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(0.0f, node3Layout.size().width, "width of node3");
        assertEquals(40.0f, node3Layout.size().height, "height of node3");
        assertEquals(111.0f, node3Layout.location().x, "x of node3");
        assertEquals(40.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(0.0f, node4Layout.size().width, "width of node4");
        assertEquals(40.0f, node4Layout.size().height, "height of node4");
        assertEquals(111.0f, node4Layout.location().x, "x of node4");
        assertEquals(40.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(10.0f, node5Layout.size().width, "width of node5");
        assertEquals(40.0f, node5Layout.size().height, "height of node5");
        assertEquals(111.0f, node5Layout.location().x, "x of node5");
        assertEquals(40.0f, node5Layout.location().y, "y of node5");
        Layout node6Layout = tree.getLayout(node6);
        assertEquals(64.0f, node6Layout.size().width, "width of node6");
        assertEquals(40.0f, node6Layout.size().height, "height of node6");
        assertEquals(121.0f, node6Layout.location().x, "x of node6");
        assertEquals(40.0f, node6Layout.location().y, "y of node6");
        Layout node7Layout = tree.getLayout(node7);
        assertEquals(2.0f, node7Layout.size().width, "width of node7");
        assertEquals(40.0f, node7Layout.size().height, "height of node7");
        assertEquals(185.0f, node7Layout.location().x, "x of node7");
        assertEquals(40.0f, node7Layout.location().y, "y of node7");
        Layout node8Layout = tree.getLayout(node8);
        assertEquals(4.0f, node8Layout.size().width, "width of node8");
        assertEquals(40.0f, node8Layout.size().height, "height of node8");
        assertEquals(187.0f, node8Layout.location().x, "x of node8");
        assertEquals(40.0f, node8Layout.location().y, "y of node8");
        Layout node9Layout = tree.getLayout(node9);
        assertEquals(2.0f, node9Layout.size().width, "width of node9");
        assertEquals(40.0f, node9Layout.size().height, "height of node9");
        assertEquals(191.0f, node9Layout.location().x, "x of node9");
        assertEquals(40.0f, node9Layout.location().y, "y of node9");
        Layout node10Layout = tree.getLayout(node10);
        assertEquals(2.0f, node10Layout.size().width, "width of node10");
        assertEquals(40.0f, node10Layout.size().height, "height of node10");
        assertEquals(193.0f, node10Layout.location().x, "x of node10");
        assertEquals(40.0f, node10Layout.location().y, "y of node10");
        Layout node11Layout = tree.getLayout(node11);
        assertEquals(16.0f, node11Layout.size().width, "width of node11");
        assertEquals(40.0f, node11Layout.size().height, "height of node11");
        assertEquals(195.0f, node11Layout.location().x, "x of node11");
        assertEquals(40.0f, node11Layout.location().y, "y of node11");
        Layout node12Layout = tree.getLayout(node12);
        assertEquals(15.0f, node12Layout.size().width, "width of node12");
        assertEquals(40.0f, node12Layout.size().height, "height of node12");
        assertEquals(211.0f, node12Layout.location().x, "x of node12");
        assertEquals(40.0f, node12Layout.location().y, "y of node12");
        Layout node13Layout = tree.getLayout(node13);
        assertEquals(96.0f, node13Layout.size().width, "width of node13");
        assertEquals(40.0f, node13Layout.size().height, "height of node13");
        assertEquals(226.0f, node13Layout.location().x, "x of node13");
        assertEquals(40.0f, node13Layout.location().y, "y of node13");
    }

    @Test
    @DisplayName("grid_span_13_most_non_flex_with_minmax_indefinite_hidden__content_box")
    void gridSpan13MostNonFlexWithMinmaxIndefiniteHiddenContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.gridColumn = new Line<>(GridPlacement.line(1), GridPlacement.span(13));
        node0Style.overflow = new Point<>(Overflow.HIDDEN, Overflow.HIDDEN);
        MeasureFunc node0Measure = ahemTextMeasure("HHHHHHHHHHHHHHHH\u200BHHHHHHHHHHHHHHHH", false);
        NodeId node0 = tree.newLeafWithMeasure(node0Style, node0Measure);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        node3Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        node4Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node4 = tree.newLeaf(node4Style);

        Style node5Style = new Style();
        node5Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node5 = tree.newLeaf(node5Style);

        Style node6Style = new Style();
        node6Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node6 = tree.newLeaf(node6Style);

        Style node7Style = new Style();
        node7Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node7 = tree.newLeaf(node7Style);

        Style node8Style = new Style();
        node8Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node8 = tree.newLeaf(node8Style);

        Style node9Style = new Style();
        node9Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node9 = tree.newLeaf(node9Style);

        Style node10Style = new Style();
        node10Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node10 = tree.newLeaf(node10Style);

        Style node11Style = new Style();
        node11Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node11 = tree.newLeaf(node11Style);

        Style node12Style = new Style();
        node12Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node12 = tree.newLeaf(node12Style);

        Style node13Style = new Style();
        node13Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node13 = tree.newLeaf(node13Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.minContent());
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.maxContent());
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fitContent(LengthPercentage.length(20.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.auto());
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(10.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.percent(0.2f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.minmax(TrackSizingFunction.fixed(LengthPercentage.length(2.0f)), TrackSizingFunction.auto()));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.minmax(TrackSizingFunction.fixed(LengthPercentage.length(2.0f)), TrackSizingFunction.fixed(LengthPercentage.length(4.0f))));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.minmax(TrackSizingFunction.fixed(LengthPercentage.length(2.0f)), TrackSizingFunction.minContent()));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.minmax(TrackSizingFunction.fixed(LengthPercentage.length(2.0f)), TrackSizingFunction.maxContent()));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.minmax(TrackSizingFunction.minContent(), TrackSizingFunction.maxContent()));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.minmax(TrackSizingFunction.minContent(), TrackSizingFunction.auto()));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.minmax(TrackSizingFunction.maxContent(), TrackSizingFunction.auto()));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5, node6, node7, node8, node9, node10, node11, node12, node13);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(322.0f, nodeLayout.size().width, "width of node");
        assertEquals(80.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(322.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(16.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(0.0f, node1Layout.location().x, "x of node1");
        assertEquals(40.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(95.0f, node2Layout.size().width, "width of node2");
        assertEquals(40.0f, node2Layout.size().height, "height of node2");
        assertEquals(16.0f, node2Layout.location().x, "x of node2");
        assertEquals(40.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(0.0f, node3Layout.size().width, "width of node3");
        assertEquals(40.0f, node3Layout.size().height, "height of node3");
        assertEquals(111.0f, node3Layout.location().x, "x of node3");
        assertEquals(40.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(0.0f, node4Layout.size().width, "width of node4");
        assertEquals(40.0f, node4Layout.size().height, "height of node4");
        assertEquals(111.0f, node4Layout.location().x, "x of node4");
        assertEquals(40.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(10.0f, node5Layout.size().width, "width of node5");
        assertEquals(40.0f, node5Layout.size().height, "height of node5");
        assertEquals(111.0f, node5Layout.location().x, "x of node5");
        assertEquals(40.0f, node5Layout.location().y, "y of node5");
        Layout node6Layout = tree.getLayout(node6);
        assertEquals(64.0f, node6Layout.size().width, "width of node6");
        assertEquals(40.0f, node6Layout.size().height, "height of node6");
        assertEquals(121.0f, node6Layout.location().x, "x of node6");
        assertEquals(40.0f, node6Layout.location().y, "y of node6");
        Layout node7Layout = tree.getLayout(node7);
        assertEquals(2.0f, node7Layout.size().width, "width of node7");
        assertEquals(40.0f, node7Layout.size().height, "height of node7");
        assertEquals(185.0f, node7Layout.location().x, "x of node7");
        assertEquals(40.0f, node7Layout.location().y, "y of node7");
        Layout node8Layout = tree.getLayout(node8);
        assertEquals(4.0f, node8Layout.size().width, "width of node8");
        assertEquals(40.0f, node8Layout.size().height, "height of node8");
        assertEquals(187.0f, node8Layout.location().x, "x of node8");
        assertEquals(40.0f, node8Layout.location().y, "y of node8");
        Layout node9Layout = tree.getLayout(node9);
        assertEquals(2.0f, node9Layout.size().width, "width of node9");
        assertEquals(40.0f, node9Layout.size().height, "height of node9");
        assertEquals(191.0f, node9Layout.location().x, "x of node9");
        assertEquals(40.0f, node9Layout.location().y, "y of node9");
        Layout node10Layout = tree.getLayout(node10);
        assertEquals(2.0f, node10Layout.size().width, "width of node10");
        assertEquals(40.0f, node10Layout.size().height, "height of node10");
        assertEquals(193.0f, node10Layout.location().x, "x of node10");
        assertEquals(40.0f, node10Layout.location().y, "y of node10");
        Layout node11Layout = tree.getLayout(node11);
        assertEquals(16.0f, node11Layout.size().width, "width of node11");
        assertEquals(40.0f, node11Layout.size().height, "height of node11");
        assertEquals(195.0f, node11Layout.location().x, "x of node11");
        assertEquals(40.0f, node11Layout.location().y, "y of node11");
        Layout node12Layout = tree.getLayout(node12);
        assertEquals(15.0f, node12Layout.size().width, "width of node12");
        assertEquals(40.0f, node12Layout.size().height, "height of node12");
        assertEquals(211.0f, node12Layout.location().x, "x of node12");
        assertEquals(40.0f, node12Layout.location().y, "y of node12");
        Layout node13Layout = tree.getLayout(node13);
        assertEquals(96.0f, node13Layout.size().width, "width of node13");
        assertEquals(40.0f, node13Layout.size().height, "height of node13");
        assertEquals(226.0f, node13Layout.location().x, "x of node13");
        assertEquals(40.0f, node13Layout.location().y, "y of node13");
    }

    @Test
    @DisplayName("grid_span_2_max_content_auto_indefinite__border_box")
    void gridSpan2MaxContentAutoIndefiniteBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.gridRow = new Line<>(GridPlacement.line(1), GridPlacement.auto());
        node0Style.gridColumn = new Line<>(GridPlacement.line(1), GridPlacement.auto());
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.gridRow = new Line<>(GridPlacement.line(1), GridPlacement.auto());
        node1Style.gridColumn = new Line<>(GridPlacement.line(2), GridPlacement.auto());
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.gridRow = new Line<>(GridPlacement.line(1), GridPlacement.auto());
        node2Style.gridColumn = new Line<>(GridPlacement.line(1), GridPlacement.span(2));
        MeasureFunc node2Measure = ahemTextMeasure("HHHH\u200BHHHH", false);
        NodeId node2 = tree.newLeafWithMeasure(node2Style, node2Measure);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.maxContent());
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.auto());
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(80.0f, nodeLayout.size().width, "width of node");
        assertEquals(40.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(60.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(20.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(60.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(80.0f, node2Layout.size().width, "width of node2");
        assertEquals(40.0f, node2Layout.size().height, "height of node2");
        assertEquals(0.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
    }

    @Test
    @DisplayName("grid_span_2_max_content_auto_indefinite__content_box")
    void gridSpan2MaxContentAutoIndefiniteContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.gridRow = new Line<>(GridPlacement.line(1), GridPlacement.auto());
        node0Style.gridColumn = new Line<>(GridPlacement.line(1), GridPlacement.auto());
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.gridRow = new Line<>(GridPlacement.line(1), GridPlacement.auto());
        node1Style.gridColumn = new Line<>(GridPlacement.line(2), GridPlacement.auto());
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        node2Style.gridRow = new Line<>(GridPlacement.line(1), GridPlacement.auto());
        node2Style.gridColumn = new Line<>(GridPlacement.line(1), GridPlacement.span(2));
        MeasureFunc node2Measure = ahemTextMeasure("HHHH\u200BHHHH", false);
        NodeId node2 = tree.newLeafWithMeasure(node2Style, node2Measure);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.maxContent());
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.auto());
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(80.0f, nodeLayout.size().width, "width of node");
        assertEquals(40.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(60.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(20.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(60.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(80.0f, node2Layout.size().width, "width of node2");
        assertEquals(40.0f, node2Layout.size().height, "height of node2");
        assertEquals(0.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
    }

    @Test
    @DisplayName("grid_span_2_max_content_auto_indefinite_hidden__border_box")
    void gridSpan2MaxContentAutoIndefiniteHiddenBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.gridRow = new Line<>(GridPlacement.line(1), GridPlacement.auto());
        node0Style.gridColumn = new Line<>(GridPlacement.line(1), GridPlacement.auto());
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.gridRow = new Line<>(GridPlacement.line(1), GridPlacement.auto());
        node1Style.gridColumn = new Line<>(GridPlacement.line(2), GridPlacement.auto());
        NodeId node1 = tree.newLeaf(node1Style);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.maxContent());
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.auto());
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(0.0f, nodeLayout.size().width, "width of node");
        assertEquals(40.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(0.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(0.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(0.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
    }

    @Test
    @DisplayName("grid_span_2_max_content_auto_indefinite_hidden__content_box")
    void gridSpan2MaxContentAutoIndefiniteHiddenContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.gridRow = new Line<>(GridPlacement.line(1), GridPlacement.auto());
        node0Style.gridColumn = new Line<>(GridPlacement.line(1), GridPlacement.auto());
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.gridRow = new Line<>(GridPlacement.line(1), GridPlacement.auto());
        node1Style.gridColumn = new Line<>(GridPlacement.line(2), GridPlacement.auto());
        NodeId node1 = tree.newLeaf(node1Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.maxContent());
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.auto());
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(0.0f, nodeLayout.size().width, "width of node");
        assertEquals(40.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(0.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(0.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(0.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
    }

    @Test
    @DisplayName("grid_span_2_max_content_fit_content_10px_indefinite__border_box")
    void gridSpan2MaxContentFitContent10pxIndefiniteBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.gridRow = new Line<>(GridPlacement.line(1), GridPlacement.auto());
        node0Style.gridColumn = new Line<>(GridPlacement.line(1), GridPlacement.auto());
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.gridRow = new Line<>(GridPlacement.line(1), GridPlacement.auto());
        node1Style.gridColumn = new Line<>(GridPlacement.line(2), GridPlacement.auto());
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.gridRow = new Line<>(GridPlacement.line(1), GridPlacement.auto());
        node2Style.gridColumn = new Line<>(GridPlacement.line(1), GridPlacement.span(2));
        MeasureFunc node2Measure = ahemTextMeasure("HHHH\u200BHHHH", false);
        NodeId node2 = tree.newLeafWithMeasure(node2Style, node2Measure);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.maxContent());
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fitContent(LengthPercentage.length(10.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(80.0f, nodeLayout.size().width, "width of node");
        assertEquals(40.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(60.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(20.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(60.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(80.0f, node2Layout.size().width, "width of node2");
        assertEquals(40.0f, node2Layout.size().height, "height of node2");
        assertEquals(0.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
    }

    @Test
    @DisplayName("grid_span_2_max_content_fit_content_10px_indefinite__content_box")
    void gridSpan2MaxContentFitContent10pxIndefiniteContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.gridRow = new Line<>(GridPlacement.line(1), GridPlacement.auto());
        node0Style.gridColumn = new Line<>(GridPlacement.line(1), GridPlacement.auto());
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.gridRow = new Line<>(GridPlacement.line(1), GridPlacement.auto());
        node1Style.gridColumn = new Line<>(GridPlacement.line(2), GridPlacement.auto());
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        node2Style.gridRow = new Line<>(GridPlacement.line(1), GridPlacement.auto());
        node2Style.gridColumn = new Line<>(GridPlacement.line(1), GridPlacement.span(2));
        MeasureFunc node2Measure = ahemTextMeasure("HHHH\u200BHHHH", false);
        NodeId node2 = tree.newLeafWithMeasure(node2Style, node2Measure);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.maxContent());
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fitContent(LengthPercentage.length(10.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(80.0f, nodeLayout.size().width, "width of node");
        assertEquals(40.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(60.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(20.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(60.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(80.0f, node2Layout.size().width, "width of node2");
        assertEquals(40.0f, node2Layout.size().height, "height of node2");
        assertEquals(0.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
    }

    @Test
    @DisplayName("grid_span_2_max_content_fit_content_10px_indefinite_hidden__border_box")
    void gridSpan2MaxContentFitContent10pxIndefiniteHiddenBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.gridRow = new Line<>(GridPlacement.line(1), GridPlacement.auto());
        node0Style.gridColumn = new Line<>(GridPlacement.line(1), GridPlacement.auto());
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.gridRow = new Line<>(GridPlacement.line(1), GridPlacement.auto());
        node1Style.gridColumn = new Line<>(GridPlacement.line(2), GridPlacement.auto());
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.gridRow = new Line<>(GridPlacement.line(1), GridPlacement.auto());
        node2Style.gridColumn = new Line<>(GridPlacement.line(1), GridPlacement.span(2));
        node2Style.overflow = new Point<>(Overflow.HIDDEN, Overflow.HIDDEN);
        MeasureFunc node2Measure = ahemTextMeasure("HHHH\u200BHHHH", false);
        NodeId node2 = tree.newLeafWithMeasure(node2Style, node2Measure);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.maxContent());
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fitContent(LengthPercentage.length(10.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(80.0f, nodeLayout.size().width, "width of node");
        assertEquals(40.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(80.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(0.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(80.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(80.0f, node2Layout.size().width, "width of node2");
        assertEquals(40.0f, node2Layout.size().height, "height of node2");
        assertEquals(0.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
    }

    @Test
    @DisplayName("grid_span_2_max_content_fit_content_10px_indefinite_hidden__content_box")
    void gridSpan2MaxContentFitContent10pxIndefiniteHiddenContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.gridRow = new Line<>(GridPlacement.line(1), GridPlacement.auto());
        node0Style.gridColumn = new Line<>(GridPlacement.line(1), GridPlacement.auto());
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.gridRow = new Line<>(GridPlacement.line(1), GridPlacement.auto());
        node1Style.gridColumn = new Line<>(GridPlacement.line(2), GridPlacement.auto());
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        node2Style.gridRow = new Line<>(GridPlacement.line(1), GridPlacement.auto());
        node2Style.gridColumn = new Line<>(GridPlacement.line(1), GridPlacement.span(2));
        node2Style.overflow = new Point<>(Overflow.HIDDEN, Overflow.HIDDEN);
        MeasureFunc node2Measure = ahemTextMeasure("HHHH\u200BHHHH", false);
        NodeId node2 = tree.newLeafWithMeasure(node2Style, node2Measure);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.maxContent());
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fitContent(LengthPercentage.length(10.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(80.0f, nodeLayout.size().width, "width of node");
        assertEquals(40.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(80.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(0.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(80.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(80.0f, node2Layout.size().width, "width of node2");
        assertEquals(40.0f, node2Layout.size().height, "height of node2");
        assertEquals(0.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
    }

    @Test
    @DisplayName("grid_span_2_max_content_fit_content_80px_indefinite__border_box")
    void gridSpan2MaxContentFitContent80pxIndefiniteBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.gridRow = new Line<>(GridPlacement.line(1), GridPlacement.auto());
        node0Style.gridColumn = new Line<>(GridPlacement.line(1), GridPlacement.auto());
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.gridRow = new Line<>(GridPlacement.line(1), GridPlacement.auto());
        node1Style.gridColumn = new Line<>(GridPlacement.line(2), GridPlacement.auto());
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.gridRow = new Line<>(GridPlacement.line(1), GridPlacement.auto());
        node2Style.gridColumn = new Line<>(GridPlacement.line(1), GridPlacement.span(2));
        MeasureFunc node2Measure = ahemTextMeasure("HHHH\u200BHHHH", false);
        NodeId node2 = tree.newLeafWithMeasure(node2Style, node2Measure);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.maxContent());
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fitContent(LengthPercentage.length(80.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(80.0f, nodeLayout.size().width, "width of node");
        assertEquals(40.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(60.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(20.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(60.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(80.0f, node2Layout.size().width, "width of node2");
        assertEquals(40.0f, node2Layout.size().height, "height of node2");
        assertEquals(0.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
    }

    @Test
    @DisplayName("grid_span_2_max_content_fit_content_80px_indefinite__content_box")
    void gridSpan2MaxContentFitContent80pxIndefiniteContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.gridRow = new Line<>(GridPlacement.line(1), GridPlacement.auto());
        node0Style.gridColumn = new Line<>(GridPlacement.line(1), GridPlacement.auto());
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.gridRow = new Line<>(GridPlacement.line(1), GridPlacement.auto());
        node1Style.gridColumn = new Line<>(GridPlacement.line(2), GridPlacement.auto());
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        node2Style.gridRow = new Line<>(GridPlacement.line(1), GridPlacement.auto());
        node2Style.gridColumn = new Line<>(GridPlacement.line(1), GridPlacement.span(2));
        MeasureFunc node2Measure = ahemTextMeasure("HHHH\u200BHHHH", false);
        NodeId node2 = tree.newLeafWithMeasure(node2Style, node2Measure);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.maxContent());
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fitContent(LengthPercentage.length(80.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(80.0f, nodeLayout.size().width, "width of node");
        assertEquals(40.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(60.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(20.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(60.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(80.0f, node2Layout.size().width, "width of node2");
        assertEquals(40.0f, node2Layout.size().height, "height of node2");
        assertEquals(0.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
    }

    @Test
    @DisplayName("grid_span_2_max_content_fit_content_80px_indefinite_hidden__border_box")
    void gridSpan2MaxContentFitContent80pxIndefiniteHiddenBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.gridRow = new Line<>(GridPlacement.line(1), GridPlacement.auto());
        node0Style.gridColumn = new Line<>(GridPlacement.line(1), GridPlacement.auto());
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.gridRow = new Line<>(GridPlacement.line(1), GridPlacement.auto());
        node1Style.gridColumn = new Line<>(GridPlacement.line(2), GridPlacement.auto());
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.gridRow = new Line<>(GridPlacement.line(1), GridPlacement.auto());
        node2Style.gridColumn = new Line<>(GridPlacement.line(1), GridPlacement.span(2));
        node2Style.overflow = new Point<>(Overflow.HIDDEN, Overflow.HIDDEN);
        MeasureFunc node2Measure = ahemTextMeasure("HHHH\u200BHHHH", false);
        NodeId node2 = tree.newLeafWithMeasure(node2Style, node2Measure);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.maxContent());
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fitContent(LengthPercentage.length(80.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(80.0f, nodeLayout.size().width, "width of node");
        assertEquals(40.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(80.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(0.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(80.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(80.0f, node2Layout.size().width, "width of node2");
        assertEquals(40.0f, node2Layout.size().height, "height of node2");
        assertEquals(0.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
    }

    @Test
    @DisplayName("grid_span_2_max_content_fit_content_80px_indefinite_hidden__content_box")
    void gridSpan2MaxContentFitContent80pxIndefiniteHiddenContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.gridRow = new Line<>(GridPlacement.line(1), GridPlacement.auto());
        node0Style.gridColumn = new Line<>(GridPlacement.line(1), GridPlacement.auto());
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.gridRow = new Line<>(GridPlacement.line(1), GridPlacement.auto());
        node1Style.gridColumn = new Line<>(GridPlacement.line(2), GridPlacement.auto());
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        node2Style.gridRow = new Line<>(GridPlacement.line(1), GridPlacement.auto());
        node2Style.gridColumn = new Line<>(GridPlacement.line(1), GridPlacement.span(2));
        node2Style.overflow = new Point<>(Overflow.HIDDEN, Overflow.HIDDEN);
        MeasureFunc node2Measure = ahemTextMeasure("HHHH\u200BHHHH", false);
        NodeId node2 = tree.newLeafWithMeasure(node2Style, node2Measure);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.maxContent());
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fitContent(LengthPercentage.length(80.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(80.0f, nodeLayout.size().width, "width of node");
        assertEquals(40.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(80.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(0.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(80.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(80.0f, node2Layout.size().width, "width of node2");
        assertEquals(40.0f, node2Layout.size().height, "height of node2");
        assertEquals(0.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
    }

    @Test
    @DisplayName("grid_span_2_max_content_max_content_indefinite__border_box")
    void gridSpan2MaxContentMaxContentIndefiniteBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.gridRow = new Line<>(GridPlacement.line(1), GridPlacement.auto());
        node0Style.gridColumn = new Line<>(GridPlacement.line(1), GridPlacement.auto());
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.gridRow = new Line<>(GridPlacement.line(1), GridPlacement.auto());
        node1Style.gridColumn = new Line<>(GridPlacement.line(2), GridPlacement.auto());
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.gridRow = new Line<>(GridPlacement.line(1), GridPlacement.auto());
        node2Style.gridColumn = new Line<>(GridPlacement.line(1), GridPlacement.span(2));
        MeasureFunc node2Measure = ahemTextMeasure("HHHH\u200BHHHH", false);
        NodeId node2 = tree.newLeafWithMeasure(node2Style, node2Measure);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.maxContent());
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.maxContent());
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(80.0f, nodeLayout.size().width, "width of node");
        assertEquals(40.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(40.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(40.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(80.0f, node2Layout.size().width, "width of node2");
        assertEquals(40.0f, node2Layout.size().height, "height of node2");
        assertEquals(0.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
    }

    @Test
    @DisplayName("grid_span_2_max_content_max_content_indefinite__content_box")
    void gridSpan2MaxContentMaxContentIndefiniteContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.gridRow = new Line<>(GridPlacement.line(1), GridPlacement.auto());
        node0Style.gridColumn = new Line<>(GridPlacement.line(1), GridPlacement.auto());
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.gridRow = new Line<>(GridPlacement.line(1), GridPlacement.auto());
        node1Style.gridColumn = new Line<>(GridPlacement.line(2), GridPlacement.auto());
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        node2Style.gridRow = new Line<>(GridPlacement.line(1), GridPlacement.auto());
        node2Style.gridColumn = new Line<>(GridPlacement.line(1), GridPlacement.span(2));
        MeasureFunc node2Measure = ahemTextMeasure("HHHH\u200BHHHH", false);
        NodeId node2 = tree.newLeafWithMeasure(node2Style, node2Measure);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.maxContent());
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.maxContent());
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(80.0f, nodeLayout.size().width, "width of node");
        assertEquals(40.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(40.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(40.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(80.0f, node2Layout.size().width, "width of node2");
        assertEquals(40.0f, node2Layout.size().height, "height of node2");
        assertEquals(0.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
    }

    @Test
    @DisplayName("grid_span_2_min_content_auto_indefinite__border_box")
    void gridSpan2MinContentAutoIndefiniteBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.gridColumn = new Line<>(GridPlacement.line(1), GridPlacement.span(2));
        MeasureFunc node2Measure = ahemTextMeasure("HHHH\u200BHHHH", false);
        NodeId node2 = tree.newLeafWithMeasure(node2Style, node2Measure);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.minContent());
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.auto());
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(80.0f, nodeLayout.size().width, "width of node");
        assertEquals(50.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(20.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(60.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(20.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(80.0f, node2Layout.size().width, "width of node2");
        assertEquals(10.0f, node2Layout.size().height, "height of node2");
        assertEquals(0.0f, node2Layout.location().x, "x of node2");
        assertEquals(40.0f, node2Layout.location().y, "y of node2");
    }

    @Test
    @DisplayName("grid_span_2_min_content_auto_indefinite__content_box")
    void gridSpan2MinContentAutoIndefiniteContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        node2Style.gridColumn = new Line<>(GridPlacement.line(1), GridPlacement.span(2));
        MeasureFunc node2Measure = ahemTextMeasure("HHHH\u200BHHHH", false);
        NodeId node2 = tree.newLeafWithMeasure(node2Style, node2Measure);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.minContent());
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.auto());
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(80.0f, nodeLayout.size().width, "width of node");
        assertEquals(50.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(20.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(60.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(20.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(80.0f, node2Layout.size().width, "width of node2");
        assertEquals(10.0f, node2Layout.size().height, "height of node2");
        assertEquals(0.0f, node2Layout.location().x, "x of node2");
        assertEquals(40.0f, node2Layout.location().y, "y of node2");
    }

    @Test
    @DisplayName("grid_span_2_min_content_auto_indefinite_hidden__border_box")
    void gridSpan2MinContentAutoIndefiniteHiddenBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.gridColumn = new Line<>(GridPlacement.line(1), GridPlacement.span(2));
        node2Style.overflow = new Point<>(Overflow.HIDDEN, Overflow.HIDDEN);
        MeasureFunc node2Measure = ahemTextMeasure("HHHH\u200BHHHH", false);
        NodeId node2 = tree.newLeafWithMeasure(node2Style, node2Measure);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.minContent());
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.auto());
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(80.0f, nodeLayout.size().width, "width of node");
        assertEquals(50.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(40.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(40.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(80.0f, node2Layout.size().width, "width of node2");
        assertEquals(10.0f, node2Layout.size().height, "height of node2");
        assertEquals(0.0f, node2Layout.location().x, "x of node2");
        assertEquals(40.0f, node2Layout.location().y, "y of node2");
    }

    @Test
    @DisplayName("grid_span_2_min_content_auto_indefinite_hidden__content_box")
    void gridSpan2MinContentAutoIndefiniteHiddenContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        node2Style.gridColumn = new Line<>(GridPlacement.line(1), GridPlacement.span(2));
        node2Style.overflow = new Point<>(Overflow.HIDDEN, Overflow.HIDDEN);
        MeasureFunc node2Measure = ahemTextMeasure("HHHH\u200BHHHH", false);
        NodeId node2 = tree.newLeafWithMeasure(node2Style, node2Measure);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.minContent());
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.auto());
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(80.0f, nodeLayout.size().width, "width of node");
        assertEquals(50.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(40.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(40.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(80.0f, node2Layout.size().width, "width of node2");
        assertEquals(10.0f, node2Layout.size().height, "height of node2");
        assertEquals(0.0f, node2Layout.location().x, "x of node2");
        assertEquals(40.0f, node2Layout.location().y, "y of node2");
    }

    @Test
    @DisplayName("grid_span_2_min_content_fit_content_10px_indefinite__border_box")
    void gridSpan2MinContentFitContent10pxIndefiniteBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.gridRow = new Line<>(GridPlacement.line(1), GridPlacement.auto());
        node0Style.gridColumn = new Line<>(GridPlacement.line(1), GridPlacement.auto());
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.gridRow = new Line<>(GridPlacement.line(1), GridPlacement.auto());
        node1Style.gridColumn = new Line<>(GridPlacement.line(2), GridPlacement.auto());
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.gridRow = new Line<>(GridPlacement.line(1), GridPlacement.auto());
        node2Style.gridColumn = new Line<>(GridPlacement.line(1), GridPlacement.span(2));
        MeasureFunc node2Measure = ahemTextMeasure("HHHH\u200BHHHH", false);
        NodeId node2 = tree.newLeafWithMeasure(node2Style, node2Measure);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.minContent());
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fitContent(LengthPercentage.length(10.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(40.0f, nodeLayout.size().width, "width of node");
        assertEquals(40.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(20.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(20.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(20.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(40.0f, node2Layout.size().width, "width of node2");
        assertEquals(40.0f, node2Layout.size().height, "height of node2");
        assertEquals(0.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
    }

    @Test
    @DisplayName("grid_span_2_min_content_fit_content_10px_indefinite__content_box")
    void gridSpan2MinContentFitContent10pxIndefiniteContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.gridRow = new Line<>(GridPlacement.line(1), GridPlacement.auto());
        node0Style.gridColumn = new Line<>(GridPlacement.line(1), GridPlacement.auto());
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.gridRow = new Line<>(GridPlacement.line(1), GridPlacement.auto());
        node1Style.gridColumn = new Line<>(GridPlacement.line(2), GridPlacement.auto());
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        node2Style.gridRow = new Line<>(GridPlacement.line(1), GridPlacement.auto());
        node2Style.gridColumn = new Line<>(GridPlacement.line(1), GridPlacement.span(2));
        MeasureFunc node2Measure = ahemTextMeasure("HHHH\u200BHHHH", false);
        NodeId node2 = tree.newLeafWithMeasure(node2Style, node2Measure);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.minContent());
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fitContent(LengthPercentage.length(10.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(40.0f, nodeLayout.size().width, "width of node");
        assertEquals(40.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(20.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(20.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(20.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(40.0f, node2Layout.size().width, "width of node2");
        assertEquals(40.0f, node2Layout.size().height, "height of node2");
        assertEquals(0.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
    }

    @Test
    @DisplayName("grid_span_2_min_content_fit_content_10px_indefinite_hidden__border_box")
    void gridSpan2MinContentFitContent10pxIndefiniteHiddenBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.gridRow = new Line<>(GridPlacement.line(1), GridPlacement.auto());
        node0Style.gridColumn = new Line<>(GridPlacement.line(1), GridPlacement.auto());
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.gridRow = new Line<>(GridPlacement.line(1), GridPlacement.auto());
        node1Style.gridColumn = new Line<>(GridPlacement.line(2), GridPlacement.auto());
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.gridRow = new Line<>(GridPlacement.line(1), GridPlacement.auto());
        node2Style.gridColumn = new Line<>(GridPlacement.line(1), GridPlacement.span(2));
        node2Style.overflow = new Point<>(Overflow.HIDDEN, Overflow.HIDDEN);
        MeasureFunc node2Measure = ahemTextMeasure("HHHH\u200BHHHH", false);
        NodeId node2 = tree.newLeafWithMeasure(node2Style, node2Measure);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.minContent());
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fitContent(LengthPercentage.length(10.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(50.0f, nodeLayout.size().width, "width of node");
        assertEquals(40.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(10.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(40.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(50.0f, node2Layout.size().width, "width of node2");
        assertEquals(40.0f, node2Layout.size().height, "height of node2");
        assertEquals(0.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
    }

    @Test
    @DisplayName("grid_span_2_min_content_fit_content_10px_indefinite_hidden__content_box")
    void gridSpan2MinContentFitContent10pxIndefiniteHiddenContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.gridRow = new Line<>(GridPlacement.line(1), GridPlacement.auto());
        node0Style.gridColumn = new Line<>(GridPlacement.line(1), GridPlacement.auto());
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.gridRow = new Line<>(GridPlacement.line(1), GridPlacement.auto());
        node1Style.gridColumn = new Line<>(GridPlacement.line(2), GridPlacement.auto());
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        node2Style.gridRow = new Line<>(GridPlacement.line(1), GridPlacement.auto());
        node2Style.gridColumn = new Line<>(GridPlacement.line(1), GridPlacement.span(2));
        node2Style.overflow = new Point<>(Overflow.HIDDEN, Overflow.HIDDEN);
        MeasureFunc node2Measure = ahemTextMeasure("HHHH\u200BHHHH", false);
        NodeId node2 = tree.newLeafWithMeasure(node2Style, node2Measure);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.minContent());
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fitContent(LengthPercentage.length(10.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(50.0f, nodeLayout.size().width, "width of node");
        assertEquals(40.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(10.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(40.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(50.0f, node2Layout.size().width, "width of node2");
        assertEquals(40.0f, node2Layout.size().height, "height of node2");
        assertEquals(0.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
    }

    @Test
    @DisplayName("grid_span_2_min_content_fit_content_30px_indefinite__border_box")
    void gridSpan2MinContentFitContent30pxIndefiniteBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.gridRow = new Line<>(GridPlacement.line(1), GridPlacement.auto());
        node0Style.gridColumn = new Line<>(GridPlacement.line(1), GridPlacement.auto());
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.gridRow = new Line<>(GridPlacement.line(1), GridPlacement.auto());
        node1Style.gridColumn = new Line<>(GridPlacement.line(2), GridPlacement.auto());
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.gridRow = new Line<>(GridPlacement.line(1), GridPlacement.auto());
        node2Style.gridColumn = new Line<>(GridPlacement.line(1), GridPlacement.span(2));
        MeasureFunc node2Measure = ahemTextMeasure("HHHH\u200BHHHH", false);
        NodeId node2 = tree.newLeafWithMeasure(node2Style, node2Measure);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.minContent());
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fitContent(LengthPercentage.length(30.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(50.0f, nodeLayout.size().width, "width of node");
        assertEquals(40.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(20.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(30.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(20.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(50.0f, node2Layout.size().width, "width of node2");
        assertEquals(40.0f, node2Layout.size().height, "height of node2");
        assertEquals(0.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
    }

    @Test
    @DisplayName("grid_span_2_min_content_fit_content_30px_indefinite__content_box")
    void gridSpan2MinContentFitContent30pxIndefiniteContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.gridRow = new Line<>(GridPlacement.line(1), GridPlacement.auto());
        node0Style.gridColumn = new Line<>(GridPlacement.line(1), GridPlacement.auto());
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.gridRow = new Line<>(GridPlacement.line(1), GridPlacement.auto());
        node1Style.gridColumn = new Line<>(GridPlacement.line(2), GridPlacement.auto());
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        node2Style.gridRow = new Line<>(GridPlacement.line(1), GridPlacement.auto());
        node2Style.gridColumn = new Line<>(GridPlacement.line(1), GridPlacement.span(2));
        MeasureFunc node2Measure = ahemTextMeasure("HHHH\u200BHHHH", false);
        NodeId node2 = tree.newLeafWithMeasure(node2Style, node2Measure);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.minContent());
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fitContent(LengthPercentage.length(30.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(50.0f, nodeLayout.size().width, "width of node");
        assertEquals(40.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(20.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(30.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(20.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(50.0f, node2Layout.size().width, "width of node2");
        assertEquals(40.0f, node2Layout.size().height, "height of node2");
        assertEquals(0.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
    }

    @Test
    @DisplayName("grid_span_2_min_content_fit_content_30px_indefinite_hidden__border_box")
    void gridSpan2MinContentFitContent30pxIndefiniteHiddenBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.gridRow = new Line<>(GridPlacement.line(1), GridPlacement.auto());
        node0Style.gridColumn = new Line<>(GridPlacement.line(1), GridPlacement.auto());
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.gridRow = new Line<>(GridPlacement.line(1), GridPlacement.auto());
        node1Style.gridColumn = new Line<>(GridPlacement.line(2), GridPlacement.auto());
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.gridRow = new Line<>(GridPlacement.line(1), GridPlacement.auto());
        node2Style.gridColumn = new Line<>(GridPlacement.line(1), GridPlacement.span(2));
        node2Style.overflow = new Point<>(Overflow.HIDDEN, Overflow.HIDDEN);
        MeasureFunc node2Measure = ahemTextMeasure("HHHH\u200BHHHH", false);
        NodeId node2 = tree.newLeafWithMeasure(node2Style, node2Measure);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.minContent());
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fitContent(LengthPercentage.length(30.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(70.0f, nodeLayout.size().width, "width of node");
        assertEquals(40.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(30.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(40.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(70.0f, node2Layout.size().width, "width of node2");
        assertEquals(40.0f, node2Layout.size().height, "height of node2");
        assertEquals(0.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
    }

    @Test
    @DisplayName("grid_span_2_min_content_fit_content_30px_indefinite_hidden__content_box")
    void gridSpan2MinContentFitContent30pxIndefiniteHiddenContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.gridRow = new Line<>(GridPlacement.line(1), GridPlacement.auto());
        node0Style.gridColumn = new Line<>(GridPlacement.line(1), GridPlacement.auto());
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.gridRow = new Line<>(GridPlacement.line(1), GridPlacement.auto());
        node1Style.gridColumn = new Line<>(GridPlacement.line(2), GridPlacement.auto());
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        node2Style.gridRow = new Line<>(GridPlacement.line(1), GridPlacement.auto());
        node2Style.gridColumn = new Line<>(GridPlacement.line(1), GridPlacement.span(2));
        node2Style.overflow = new Point<>(Overflow.HIDDEN, Overflow.HIDDEN);
        MeasureFunc node2Measure = ahemTextMeasure("HHHH\u200BHHHH", false);
        NodeId node2 = tree.newLeafWithMeasure(node2Style, node2Measure);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.minContent());
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fitContent(LengthPercentage.length(30.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(70.0f, nodeLayout.size().width, "width of node");
        assertEquals(40.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(30.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(40.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(70.0f, node2Layout.size().width, "width of node2");
        assertEquals(40.0f, node2Layout.size().height, "height of node2");
        assertEquals(0.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
    }

    @Test
    @DisplayName("grid_span_2_min_content_fit_content_80px_indefinite__border_box")
    void gridSpan2MinContentFitContent80pxIndefiniteBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.gridRow = new Line<>(GridPlacement.line(1), GridPlacement.auto());
        node0Style.gridColumn = new Line<>(GridPlacement.line(1), GridPlacement.auto());
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.gridRow = new Line<>(GridPlacement.line(1), GridPlacement.auto());
        node1Style.gridColumn = new Line<>(GridPlacement.line(2), GridPlacement.auto());
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.gridRow = new Line<>(GridPlacement.line(1), GridPlacement.auto());
        node2Style.gridColumn = new Line<>(GridPlacement.line(1), GridPlacement.span(2));
        MeasureFunc node2Measure = ahemTextMeasure("HHHH\u200BHHHH", false);
        NodeId node2 = tree.newLeafWithMeasure(node2Style, node2Measure);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.minContent());
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fitContent(LengthPercentage.length(80.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(80.0f, nodeLayout.size().width, "width of node");
        assertEquals(40.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(20.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(60.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(20.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(80.0f, node2Layout.size().width, "width of node2");
        assertEquals(40.0f, node2Layout.size().height, "height of node2");
        assertEquals(0.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
    }

    @Test
    @DisplayName("grid_span_2_min_content_fit_content_80px_indefinite__content_box")
    void gridSpan2MinContentFitContent80pxIndefiniteContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.gridRow = new Line<>(GridPlacement.line(1), GridPlacement.auto());
        node0Style.gridColumn = new Line<>(GridPlacement.line(1), GridPlacement.auto());
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.gridRow = new Line<>(GridPlacement.line(1), GridPlacement.auto());
        node1Style.gridColumn = new Line<>(GridPlacement.line(2), GridPlacement.auto());
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        node2Style.gridRow = new Line<>(GridPlacement.line(1), GridPlacement.auto());
        node2Style.gridColumn = new Line<>(GridPlacement.line(1), GridPlacement.span(2));
        MeasureFunc node2Measure = ahemTextMeasure("HHHH\u200BHHHH", false);
        NodeId node2 = tree.newLeafWithMeasure(node2Style, node2Measure);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.minContent());
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fitContent(LengthPercentage.length(80.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(80.0f, nodeLayout.size().width, "width of node");
        assertEquals(40.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(20.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(60.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(20.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(80.0f, node2Layout.size().width, "width of node2");
        assertEquals(40.0f, node2Layout.size().height, "height of node2");
        assertEquals(0.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
    }

    @Test
    @DisplayName("grid_span_2_min_content_fit_content_80px_indefinite_hidden__border_box")
    void gridSpan2MinContentFitContent80pxIndefiniteHiddenBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.gridRow = new Line<>(GridPlacement.line(1), GridPlacement.auto());
        node0Style.gridColumn = new Line<>(GridPlacement.line(1), GridPlacement.auto());
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.gridRow = new Line<>(GridPlacement.line(1), GridPlacement.auto());
        node1Style.gridColumn = new Line<>(GridPlacement.line(2), GridPlacement.auto());
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.gridRow = new Line<>(GridPlacement.line(1), GridPlacement.auto());
        node2Style.gridColumn = new Line<>(GridPlacement.line(1), GridPlacement.span(2));
        node2Style.overflow = new Point<>(Overflow.HIDDEN, Overflow.HIDDEN);
        MeasureFunc node2Measure = ahemTextMeasure("HHHH\u200BHHHH", false);
        NodeId node2 = tree.newLeafWithMeasure(node2Style, node2Measure);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.minContent());
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fitContent(LengthPercentage.length(80.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(80.0f, nodeLayout.size().width, "width of node");
        assertEquals(40.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(40.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(40.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(80.0f, node2Layout.size().width, "width of node2");
        assertEquals(40.0f, node2Layout.size().height, "height of node2");
        assertEquals(0.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
    }

    @Test
    @DisplayName("grid_span_2_min_content_fit_content_80px_indefinite_hidden__content_box")
    void gridSpan2MinContentFitContent80pxIndefiniteHiddenContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.gridRow = new Line<>(GridPlacement.line(1), GridPlacement.auto());
        node0Style.gridColumn = new Line<>(GridPlacement.line(1), GridPlacement.auto());
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.gridRow = new Line<>(GridPlacement.line(1), GridPlacement.auto());
        node1Style.gridColumn = new Line<>(GridPlacement.line(2), GridPlacement.auto());
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        node2Style.gridRow = new Line<>(GridPlacement.line(1), GridPlacement.auto());
        node2Style.gridColumn = new Line<>(GridPlacement.line(1), GridPlacement.span(2));
        node2Style.overflow = new Point<>(Overflow.HIDDEN, Overflow.HIDDEN);
        MeasureFunc node2Measure = ahemTextMeasure("HHHH\u200BHHHH", false);
        NodeId node2 = tree.newLeafWithMeasure(node2Style, node2Measure);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.minContent());
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fitContent(LengthPercentage.length(80.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(80.0f, nodeLayout.size().width, "width of node");
        assertEquals(40.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(40.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(40.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(40.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(80.0f, node2Layout.size().width, "width of node2");
        assertEquals(40.0f, node2Layout.size().height, "height of node2");
        assertEquals(0.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
    }

    @Test
    @DisplayName("grid_span_2_min_content_max_content_indefinite__border_box")
    void gridSpan2MinContentMaxContentIndefiniteBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.gridRow = new Line<>(GridPlacement.line(1), GridPlacement.auto());
        node0Style.gridColumn = new Line<>(GridPlacement.line(1), GridPlacement.auto());
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.gridRow = new Line<>(GridPlacement.line(1), GridPlacement.auto());
        node1Style.gridColumn = new Line<>(GridPlacement.line(2), GridPlacement.auto());
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.gridRow = new Line<>(GridPlacement.line(1), GridPlacement.auto());
        node2Style.gridColumn = new Line<>(GridPlacement.line(1), GridPlacement.span(2));
        MeasureFunc node2Measure = ahemTextMeasure("HHHH\u200BHHHH", false);
        NodeId node2 = tree.newLeafWithMeasure(node2Style, node2Measure);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.minContent());
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.maxContent());
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(80.0f, nodeLayout.size().width, "width of node");
        assertEquals(40.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(20.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(60.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(20.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(80.0f, node2Layout.size().width, "width of node2");
        assertEquals(40.0f, node2Layout.size().height, "height of node2");
        assertEquals(0.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
    }

    @Test
    @DisplayName("grid_span_2_min_content_max_content_indefinite__content_box")
    void gridSpan2MinContentMaxContentIndefiniteContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.gridRow = new Line<>(GridPlacement.line(1), GridPlacement.auto());
        node0Style.gridColumn = new Line<>(GridPlacement.line(1), GridPlacement.auto());
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.gridRow = new Line<>(GridPlacement.line(1), GridPlacement.auto());
        node1Style.gridColumn = new Line<>(GridPlacement.line(2), GridPlacement.auto());
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        node2Style.gridRow = new Line<>(GridPlacement.line(1), GridPlacement.auto());
        node2Style.gridColumn = new Line<>(GridPlacement.line(1), GridPlacement.span(2));
        MeasureFunc node2Measure = ahemTextMeasure("HHHH\u200BHHHH", false);
        NodeId node2 = tree.newLeafWithMeasure(node2Style, node2Measure);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.minContent());
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.maxContent());
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(80.0f, nodeLayout.size().width, "width of node");
        assertEquals(40.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(20.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(60.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(20.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(80.0f, node2Layout.size().width, "width of node2");
        assertEquals(40.0f, node2Layout.size().height, "height of node2");
        assertEquals(0.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
    }

    @Test
    @DisplayName("grid_span_2_min_content_min_content_indefinite__border_box")
    void gridSpan2MinContentMinContentIndefiniteBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.gridRow = new Line<>(GridPlacement.line(1), GridPlacement.auto());
        node0Style.gridColumn = new Line<>(GridPlacement.line(1), GridPlacement.auto());
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.gridRow = new Line<>(GridPlacement.line(1), GridPlacement.auto());
        node1Style.gridColumn = new Line<>(GridPlacement.line(2), GridPlacement.auto());
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.gridRow = new Line<>(GridPlacement.line(1), GridPlacement.auto());
        node2Style.gridColumn = new Line<>(GridPlacement.line(1), GridPlacement.span(2));
        MeasureFunc node2Measure = ahemTextMeasure("HHHH\u200BHHHH", false);
        NodeId node2 = tree.newLeafWithMeasure(node2Style, node2Measure);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.minContent());
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.minContent());
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(40.0f, nodeLayout.size().width, "width of node");
        assertEquals(40.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(20.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(20.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(20.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(40.0f, node2Layout.size().width, "width of node2");
        assertEquals(40.0f, node2Layout.size().height, "height of node2");
        assertEquals(0.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
    }

    @Test
    @DisplayName("grid_span_2_min_content_min_content_indefinite__content_box")
    void gridSpan2MinContentMinContentIndefiniteContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.gridRow = new Line<>(GridPlacement.line(1), GridPlacement.auto());
        node0Style.gridColumn = new Line<>(GridPlacement.line(1), GridPlacement.auto());
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.gridRow = new Line<>(GridPlacement.line(1), GridPlacement.auto());
        node1Style.gridColumn = new Line<>(GridPlacement.line(2), GridPlacement.auto());
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        node2Style.gridRow = new Line<>(GridPlacement.line(1), GridPlacement.auto());
        node2Style.gridColumn = new Line<>(GridPlacement.line(1), GridPlacement.span(2));
        MeasureFunc node2Measure = ahemTextMeasure("HHHH\u200BHHHH", false);
        NodeId node2 = tree.newLeafWithMeasure(node2Style, node2Measure);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.minContent());
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.minContent());
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(40.0f, nodeLayout.size().width, "width of node");
        assertEquals(40.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(20.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(20.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(20.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(40.0f, node2Layout.size().width, "width of node2");
        assertEquals(40.0f, node2Layout.size().height, "height of node2");
        assertEquals(0.0f, node2Layout.location().x, "x of node2");
        assertEquals(0.0f, node2Layout.location().y, "y of node2");
    }

    @Test
    @DisplayName("grid_span_6_all_non_flex_indefinite__border_box")
    void gridSpan6AllNonFlexIndefiniteBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.gridColumn = new Line<>(GridPlacement.line(1), GridPlacement.span(6));
        MeasureFunc node0Measure = ahemTextMeasure("HHHHHHHH\u200BHHHHHHHH", false);
        NodeId node0 = tree.newLeafWithMeasure(node0Style, node0Measure);

        Style node1Style = new Style();
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        NodeId node4 = tree.newLeaf(node4Style);

        Style node5Style = new Style();
        NodeId node5 = tree.newLeaf(node5Style);

        Style node6Style = new Style();
        NodeId node6 = tree.newLeaf(node6Style);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.minContent());
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.maxContent());
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fitContent(LengthPercentage.length(20.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.auto());
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(10.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.percent(0.2f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5, node6);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(160.0f, nodeLayout.size().width, "width of node");
        assertEquals(80.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(160.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(10.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(0.0f, node1Layout.location().x, "x of node1");
        assertEquals(40.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(89.0f, node2Layout.size().width, "width of node2");
        assertEquals(40.0f, node2Layout.size().height, "height of node2");
        assertEquals(10.0f, node2Layout.location().x, "x of node2");
        assertEquals(40.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(10.0f, node3Layout.size().width, "width of node3");
        assertEquals(40.0f, node3Layout.size().height, "height of node3");
        assertEquals(99.0f, node3Layout.location().x, "x of node3");
        assertEquals(40.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(9.0f, node4Layout.size().width, "width of node4");
        assertEquals(40.0f, node4Layout.size().height, "height of node4");
        assertEquals(109.0f, node4Layout.location().x, "x of node4");
        assertEquals(40.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(10.0f, node5Layout.size().width, "width of node5");
        assertEquals(40.0f, node5Layout.size().height, "height of node5");
        assertEquals(118.0f, node5Layout.location().x, "x of node5");
        assertEquals(40.0f, node5Layout.location().y, "y of node5");
        Layout node6Layout = tree.getLayout(node6);
        assertEquals(32.0f, node6Layout.size().width, "width of node6");
        assertEquals(40.0f, node6Layout.size().height, "height of node6");
        assertEquals(128.0f, node6Layout.location().x, "x of node6");
        assertEquals(40.0f, node6Layout.location().y, "y of node6");
    }

    @Test
    @DisplayName("grid_span_6_all_non_flex_indefinite__content_box")
    void gridSpan6AllNonFlexIndefiniteContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.gridColumn = new Line<>(GridPlacement.line(1), GridPlacement.span(6));
        MeasureFunc node0Measure = ahemTextMeasure("HHHHHHHH\u200BHHHHHHHH", false);
        NodeId node0 = tree.newLeafWithMeasure(node0Style, node0Measure);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        node3Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        node4Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node4 = tree.newLeaf(node4Style);

        Style node5Style = new Style();
        node5Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node5 = tree.newLeaf(node5Style);

        Style node6Style = new Style();
        node6Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node6 = tree.newLeaf(node6Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.minContent());
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.maxContent());
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fitContent(LengthPercentage.length(20.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.auto());
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(10.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.percent(0.2f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5, node6);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(160.0f, nodeLayout.size().width, "width of node");
        assertEquals(80.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(160.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(10.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(0.0f, node1Layout.location().x, "x of node1");
        assertEquals(40.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(89.0f, node2Layout.size().width, "width of node2");
        assertEquals(40.0f, node2Layout.size().height, "height of node2");
        assertEquals(10.0f, node2Layout.location().x, "x of node2");
        assertEquals(40.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(10.0f, node3Layout.size().width, "width of node3");
        assertEquals(40.0f, node3Layout.size().height, "height of node3");
        assertEquals(99.0f, node3Layout.location().x, "x of node3");
        assertEquals(40.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(9.0f, node4Layout.size().width, "width of node4");
        assertEquals(40.0f, node4Layout.size().height, "height of node4");
        assertEquals(109.0f, node4Layout.location().x, "x of node4");
        assertEquals(40.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(10.0f, node5Layout.size().width, "width of node5");
        assertEquals(40.0f, node5Layout.size().height, "height of node5");
        assertEquals(118.0f, node5Layout.location().x, "x of node5");
        assertEquals(40.0f, node5Layout.location().y, "y of node5");
        Layout node6Layout = tree.getLayout(node6);
        assertEquals(32.0f, node6Layout.size().width, "width of node6");
        assertEquals(40.0f, node6Layout.size().height, "height of node6");
        assertEquals(128.0f, node6Layout.location().x, "x of node6");
        assertEquals(40.0f, node6Layout.location().y, "y of node6");
    }

    @Test
    @DisplayName("grid_span_6_all_non_flex_indefinite_hidden__border_box")
    void gridSpan6AllNonFlexIndefiniteHiddenBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.gridColumn = new Line<>(GridPlacement.line(1), GridPlacement.span(6));
        node0Style.overflow = new Point<>(Overflow.HIDDEN, Overflow.HIDDEN);
        MeasureFunc node0Measure = ahemTextMeasure("HHHHHHHH\u200BHHHHHHHH", false);
        NodeId node0 = tree.newLeafWithMeasure(node0Style, node0Measure);

        Style node1Style = new Style();
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        NodeId node4 = tree.newLeaf(node4Style);

        Style node5Style = new Style();
        NodeId node5 = tree.newLeaf(node5Style);

        Style node6Style = new Style();
        NodeId node6 = tree.newLeaf(node6Style);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.minContent());
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.maxContent());
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fitContent(LengthPercentage.length(20.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.auto());
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(10.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.percent(0.2f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5, node6);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(160.0f, nodeLayout.size().width, "width of node");
        assertEquals(80.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(160.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(19.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(0.0f, node1Layout.location().x, "x of node1");
        assertEquals(40.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(99.0f, node2Layout.size().width, "width of node2");
        assertEquals(40.0f, node2Layout.size().height, "height of node2");
        assertEquals(19.0f, node2Layout.location().x, "x of node2");
        assertEquals(40.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(0.0f, node3Layout.size().width, "width of node3");
        assertEquals(40.0f, node3Layout.size().height, "height of node3");
        assertEquals(118.0f, node3Layout.location().x, "x of node3");
        assertEquals(40.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(0.0f, node4Layout.size().width, "width of node4");
        assertEquals(40.0f, node4Layout.size().height, "height of node4");
        assertEquals(118.0f, node4Layout.location().x, "x of node4");
        assertEquals(40.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(10.0f, node5Layout.size().width, "width of node5");
        assertEquals(40.0f, node5Layout.size().height, "height of node5");
        assertEquals(118.0f, node5Layout.location().x, "x of node5");
        assertEquals(40.0f, node5Layout.location().y, "y of node5");
        Layout node6Layout = tree.getLayout(node6);
        assertEquals(32.0f, node6Layout.size().width, "width of node6");
        assertEquals(40.0f, node6Layout.size().height, "height of node6");
        assertEquals(128.0f, node6Layout.location().x, "x of node6");
        assertEquals(40.0f, node6Layout.location().y, "y of node6");
    }

    @Test
    @DisplayName("grid_span_6_all_non_flex_indefinite_hidden__content_box")
    void gridSpan6AllNonFlexIndefiniteHiddenContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.gridColumn = new Line<>(GridPlacement.line(1), GridPlacement.span(6));
        node0Style.overflow = new Point<>(Overflow.HIDDEN, Overflow.HIDDEN);
        MeasureFunc node0Measure = ahemTextMeasure("HHHHHHHH\u200BHHHHHHHH", false);
        NodeId node0 = tree.newLeafWithMeasure(node0Style, node0Measure);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        node3Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        node4Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node4 = tree.newLeaf(node4Style);

        Style node5Style = new Style();
        node5Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node5 = tree.newLeaf(node5Style);

        Style node6Style = new Style();
        node6Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node6 = tree.newLeaf(node6Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.minContent());
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.maxContent());
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fitContent(LengthPercentage.length(20.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.auto());
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(10.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.percent(0.2f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5, node6);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(160.0f, nodeLayout.size().width, "width of node");
        assertEquals(80.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(160.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(19.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(0.0f, node1Layout.location().x, "x of node1");
        assertEquals(40.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(99.0f, node2Layout.size().width, "width of node2");
        assertEquals(40.0f, node2Layout.size().height, "height of node2");
        assertEquals(19.0f, node2Layout.location().x, "x of node2");
        assertEquals(40.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(0.0f, node3Layout.size().width, "width of node3");
        assertEquals(40.0f, node3Layout.size().height, "height of node3");
        assertEquals(118.0f, node3Layout.location().x, "x of node3");
        assertEquals(40.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(0.0f, node4Layout.size().width, "width of node4");
        assertEquals(40.0f, node4Layout.size().height, "height of node4");
        assertEquals(118.0f, node4Layout.location().x, "x of node4");
        assertEquals(40.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(10.0f, node5Layout.size().width, "width of node5");
        assertEquals(40.0f, node5Layout.size().height, "height of node5");
        assertEquals(118.0f, node5Layout.location().x, "x of node5");
        assertEquals(40.0f, node5Layout.location().y, "y of node5");
        Layout node6Layout = tree.getLayout(node6);
        assertEquals(32.0f, node6Layout.size().width, "width of node6");
        assertEquals(40.0f, node6Layout.size().height, "height of node6");
        assertEquals(128.0f, node6Layout.location().x, "x of node6");
        assertEquals(40.0f, node6Layout.location().y, "y of node6");
    }

    @Test
    @DisplayName("grid_span_8_all_track_types_indefinite__border_box")
    void gridSpan8AllTrackTypesIndefiniteBorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.gridColumn = new Line<>(GridPlacement.line(1), GridPlacement.span(8));
        MeasureFunc node0Measure = ahemTextMeasure("HHHHHHHH\u200BHHHHHHHH", false);
        NodeId node0 = tree.newLeafWithMeasure(node0Style, node0Measure);

        Style node1Style = new Style();
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        NodeId node4 = tree.newLeaf(node4Style);

        Style node5Style = new Style();
        NodeId node5 = tree.newLeaf(node5Style);

        Style node6Style = new Style();
        NodeId node6 = tree.newLeaf(node6Style);

        Style node7Style = new Style();
        NodeId node7 = tree.newLeaf(node7Style);

        Style node8Style = new Style();
        NodeId node8 = tree.newLeaf(node8Style);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.minContent());
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.maxContent());
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fitContent(LengthPercentage.length(20.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.auto());
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(10.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.percent(0.2f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fr(1.0f));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fr(2.0f));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5, node6, node7, node8);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(160.0f, nodeLayout.size().width, "width of node");
        assertEquals(80.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(160.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(0.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(0.0f, node1Layout.location().x, "x of node1");
        assertEquals(40.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(0.0f, node2Layout.size().width, "width of node2");
        assertEquals(40.0f, node2Layout.size().height, "height of node2");
        assertEquals(0.0f, node2Layout.location().x, "x of node2");
        assertEquals(40.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(0.0f, node3Layout.size().width, "width of node3");
        assertEquals(40.0f, node3Layout.size().height, "height of node3");
        assertEquals(0.0f, node3Layout.location().x, "x of node3");
        assertEquals(40.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(0.0f, node4Layout.size().width, "width of node4");
        assertEquals(40.0f, node4Layout.size().height, "height of node4");
        assertEquals(0.0f, node4Layout.location().x, "x of node4");
        assertEquals(40.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(10.0f, node5Layout.size().width, "width of node5");
        assertEquals(40.0f, node5Layout.size().height, "height of node5");
        assertEquals(0.0f, node5Layout.location().x, "x of node5");
        assertEquals(40.0f, node5Layout.location().y, "y of node5");
        Layout node6Layout = tree.getLayout(node6);
        assertEquals(32.0f, node6Layout.size().width, "width of node6");
        assertEquals(40.0f, node6Layout.size().height, "height of node6");
        assertEquals(10.0f, node6Layout.location().x, "x of node6");
        assertEquals(40.0f, node6Layout.location().y, "y of node6");
        Layout node7Layout = tree.getLayout(node7);
        assertEquals(39.0f, node7Layout.size().width, "width of node7");
        assertEquals(40.0f, node7Layout.size().height, "height of node7");
        assertEquals(42.0f, node7Layout.location().x, "x of node7");
        assertEquals(40.0f, node7Layout.location().y, "y of node7");
        Layout node8Layout = tree.getLayout(node8);
        assertEquals(79.0f, node8Layout.size().width, "width of node8");
        assertEquals(40.0f, node8Layout.size().height, "height of node8");
        assertEquals(81.0f, node8Layout.location().x, "x of node8");
        assertEquals(40.0f, node8Layout.location().y, "y of node8");
    }

    @Test
    @DisplayName("grid_span_8_all_track_types_indefinite__content_box")
    void gridSpan8AllTrackTypesIndefiniteContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.gridColumn = new Line<>(GridPlacement.line(1), GridPlacement.span(8));
        MeasureFunc node0Measure = ahemTextMeasure("HHHHHHHH\u200BHHHHHHHH", false);
        NodeId node0 = tree.newLeafWithMeasure(node0Style, node0Measure);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node2 = tree.newLeaf(node2Style);

        Style node3Style = new Style();
        node3Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node3 = tree.newLeaf(node3Style);

        Style node4Style = new Style();
        node4Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node4 = tree.newLeaf(node4Style);

        Style node5Style = new Style();
        node5Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node5 = tree.newLeaf(node5Style);

        Style node6Style = new Style();
        node6Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node6 = tree.newLeaf(node6Style);

        Style node7Style = new Style();
        node7Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node7 = tree.newLeaf(node7Style);

        Style node8Style = new Style();
        node8Style.boxSizing = BoxSizing.CONTENT_BOX;
        NodeId node8 = tree.newLeaf(node8Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.minContent());
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.maxContent());
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fitContent(LengthPercentage.length(20.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.auto());
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.length(10.0f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fixed(LengthPercentage.percent(0.2f)));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fr(1.0f));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fr(2.0f));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fixed(LengthPercentage.length(40.0f)));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2, node3, node4, node5, node6, node7, node8);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(160.0f, nodeLayout.size().width, "width of node");
        assertEquals(80.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(160.0f, node0Layout.size().width, "width of node0");
        assertEquals(40.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(0.0f, node1Layout.size().width, "width of node1");
        assertEquals(40.0f, node1Layout.size().height, "height of node1");
        assertEquals(0.0f, node1Layout.location().x, "x of node1");
        assertEquals(40.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(0.0f, node2Layout.size().width, "width of node2");
        assertEquals(40.0f, node2Layout.size().height, "height of node2");
        assertEquals(0.0f, node2Layout.location().x, "x of node2");
        assertEquals(40.0f, node2Layout.location().y, "y of node2");
        Layout node3Layout = tree.getLayout(node3);
        assertEquals(0.0f, node3Layout.size().width, "width of node3");
        assertEquals(40.0f, node3Layout.size().height, "height of node3");
        assertEquals(0.0f, node3Layout.location().x, "x of node3");
        assertEquals(40.0f, node3Layout.location().y, "y of node3");
        Layout node4Layout = tree.getLayout(node4);
        assertEquals(0.0f, node4Layout.size().width, "width of node4");
        assertEquals(40.0f, node4Layout.size().height, "height of node4");
        assertEquals(0.0f, node4Layout.location().x, "x of node4");
        assertEquals(40.0f, node4Layout.location().y, "y of node4");
        Layout node5Layout = tree.getLayout(node5);
        assertEquals(10.0f, node5Layout.size().width, "width of node5");
        assertEquals(40.0f, node5Layout.size().height, "height of node5");
        assertEquals(0.0f, node5Layout.location().x, "x of node5");
        assertEquals(40.0f, node5Layout.location().y, "y of node5");
        Layout node6Layout = tree.getLayout(node6);
        assertEquals(32.0f, node6Layout.size().width, "width of node6");
        assertEquals(40.0f, node6Layout.size().height, "height of node6");
        assertEquals(10.0f, node6Layout.location().x, "x of node6");
        assertEquals(40.0f, node6Layout.location().y, "y of node6");
        Layout node7Layout = tree.getLayout(node7);
        assertEquals(39.0f, node7Layout.size().width, "width of node7");
        assertEquals(40.0f, node7Layout.size().height, "height of node7");
        assertEquals(42.0f, node7Layout.location().x, "x of node7");
        assertEquals(40.0f, node7Layout.location().y, "y of node7");
        Layout node8Layout = tree.getLayout(node8);
        assertEquals(79.0f, node8Layout.size().width, "width of node8");
        assertEquals(40.0f, node8Layout.size().height, "height of node8");
        assertEquals(81.0f, node8Layout.location().x, "x of node8");
        assertEquals(40.0f, node8Layout.location().y, "y of node8");
    }

    @Test
    @DisplayName("grid_taffy_issue_624__border_box")
    void gridTaffyIssue624BorderBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.size = new Size<>(Dimension.length(100.0f), Dimension.length(50.0f));
        node0Style.gridRow = new Line<>(GridPlacement.line(1), GridPlacement.span(2));
        node0Style.gridColumn = new Line<>(GridPlacement.line(1), GridPlacement.auto());
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.size = new Size<>(Dimension.length(40.0f), Dimension.length(30.0f));
        node1Style.gridRow = new Line<>(GridPlacement.line(1), GridPlacement.span(2));
        node1Style.gridColumn = new Line<>(GridPlacement.line(2), GridPlacement.span(2));
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.size = new Size<>(Dimension.length(120.0f), Dimension.length(20.0f));
        node2Style.gridRow = new Line<>(GridPlacement.line(3), GridPlacement.span(1));
        node2Style.gridColumn = new Line<>(GridPlacement.line(1), GridPlacement.span(2));
        NodeId node2 = tree.newLeaf(node2Style);

        Style nodeStyle = new Style();
        nodeStyle.display = Display.GRID;
        nodeStyle.justifyContent = AlignContent.START;
        nodeStyle.justifyItems = AlignItems.START;
        nodeStyle.size = new Size<>(Dimension.length(320.0f), Dimension.length(640.0f));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.auto());
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.auto());
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fr(1.0f));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.auto());
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.auto());
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.auto());
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fr(1.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(320.0f, nodeLayout.size().width, "width of node");
        assertEquals(640.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(100.0f, node0Layout.size().width, "width of node0");
        assertEquals(50.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(40.0f, node1Layout.size().width, "width of node1");
        assertEquals(30.0f, node1Layout.size().height, "height of node1");
        assertEquals(100.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(120.0f, node2Layout.size().width, "width of node2");
        assertEquals(20.0f, node2Layout.size().height, "height of node2");
        assertEquals(0.0f, node2Layout.location().x, "x of node2");
        assertEquals(50.0f, node2Layout.location().y, "y of node2");
    }

    @Test
    @DisplayName("grid_taffy_issue_624__content_box")
    void gridTaffyIssue624ContentBox() {
        TaffyTree tree = new TaffyTree();

        Style node0Style = new Style();
        node0Style.boxSizing = BoxSizing.CONTENT_BOX;
        node0Style.size = new Size<>(Dimension.length(100.0f), Dimension.length(50.0f));
        node0Style.gridRow = new Line<>(GridPlacement.line(1), GridPlacement.span(2));
        node0Style.gridColumn = new Line<>(GridPlacement.line(1), GridPlacement.auto());
        NodeId node0 = tree.newLeaf(node0Style);

        Style node1Style = new Style();
        node1Style.boxSizing = BoxSizing.CONTENT_BOX;
        node1Style.size = new Size<>(Dimension.length(40.0f), Dimension.length(30.0f));
        node1Style.gridRow = new Line<>(GridPlacement.line(1), GridPlacement.span(2));
        node1Style.gridColumn = new Line<>(GridPlacement.line(2), GridPlacement.span(2));
        NodeId node1 = tree.newLeaf(node1Style);

        Style node2Style = new Style();
        node2Style.boxSizing = BoxSizing.CONTENT_BOX;
        node2Style.size = new Size<>(Dimension.length(120.0f), Dimension.length(20.0f));
        node2Style.gridRow = new Line<>(GridPlacement.line(3), GridPlacement.span(1));
        node2Style.gridColumn = new Line<>(GridPlacement.line(1), GridPlacement.span(2));
        NodeId node2 = tree.newLeaf(node2Style);

        Style nodeStyle = new Style();
        nodeStyle.boxSizing = BoxSizing.CONTENT_BOX;
        nodeStyle.display = Display.GRID;
        nodeStyle.justifyContent = AlignContent.START;
        nodeStyle.justifyItems = AlignItems.START;
        nodeStyle.size = new Size<>(Dimension.length(320.0f), Dimension.length(640.0f));
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.auto());
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.auto());
        nodeStyle.gridTemplateColumns.add(TrackSizingFunction.fr(1.0f));
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.auto());
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.auto());
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.auto());
        nodeStyle.gridTemplateRows.add(TrackSizingFunction.fr(1.0f));
        NodeId node = tree.newWithChildren(nodeStyle, node0, node1, node2);


        tree.computeLayout(node, Size.maxContent());

        Layout nodeLayout = tree.getLayout(node);
        assertEquals(320.0f, nodeLayout.size().width, "width of node");
        assertEquals(640.0f, nodeLayout.size().height, "height of node");
        assertEquals(0.0f, nodeLayout.location().x, "x of node");
        assertEquals(0.0f, nodeLayout.location().y, "y of node");
        Layout node0Layout = tree.getLayout(node0);
        assertEquals(100.0f, node0Layout.size().width, "width of node0");
        assertEquals(50.0f, node0Layout.size().height, "height of node0");
        assertEquals(0.0f, node0Layout.location().x, "x of node0");
        assertEquals(0.0f, node0Layout.location().y, "y of node0");
        Layout node1Layout = tree.getLayout(node1);
        assertEquals(40.0f, node1Layout.size().width, "width of node1");
        assertEquals(30.0f, node1Layout.size().height, "height of node1");
        assertEquals(100.0f, node1Layout.location().x, "x of node1");
        assertEquals(0.0f, node1Layout.location().y, "y of node1");
        Layout node2Layout = tree.getLayout(node2);
        assertEquals(120.0f, node2Layout.size().width, "width of node2");
        assertEquals(20.0f, node2Layout.size().height, "height of node2");
        assertEquals(0.0f, node2Layout.location().x, "x of node2");
        assertEquals(50.0f, node2Layout.location().y, "y of node2");
    }

}
